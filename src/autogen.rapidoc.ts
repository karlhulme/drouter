import { decodeBase64 } from "../deps.ts";

export function rapidoc() {
  return decodeBase64(
    `LyohIFJhcGlEb2MgOS4zLjQgfCBBdXRob3IgLSBNcmlubW95IE1hanVtZGFyIHwgTGljZW5zZSBpbmZvcm1hdGlvbiBjYW4gYmUgZm91bmQgaW4gcmFwaWRvYy1taW4uanMuTElDRU5TRS50eHQgICovCigoKT0+e3ZhciBlLHQscj17NjU2OihlLHQscik9PnsidXNlIHN0cmljdCI7Y29uc3Qgbj13aW5kb3csbz1uLlNoYWRvd1Jvb3QmJih2b2lkIDA9PT1uLlNoYWR5Q1NTfHxuLlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykmJiJhZG9wdGVkU3R5bGVTaGVldHMiaW4gRG9jdW1lbnQucHJvdG90eXBlJiYicmVwbGFjZSJpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSxhPVN5bWJvbCgpLGk9bmV3IFdlYWtNYXA7Y2xhc3Mgc3tjb25zdHJ1Y3RvcihlLHQscil7aWYodGhpcy5fJGNzc1Jlc3VsdCQ9ITAsciE9PWEpdGhyb3cgRXJyb3IoIkNTU1Jlc3VsdCBpcyBub3QgY29uc3RydWN0YWJsZS4gVXNlIGB1bnNhZmVDU1NgIG9yIGBjc3NgIGluc3RlYWQuIik7dGhpcy5jc3NUZXh0PWUsdGhpcy50PXR9Z2V0IHN0eWxlU2hlZXQoKXtsZXQgZT10aGlzLm87Y29uc3QgdD10aGlzLnQ7aWYobyYmdm9pZCAwPT09ZSl7Y29uc3Qgcj12b2lkIDAhPT10JiYxPT09dC5sZW5ndGg7ciYmKGU9aS5nZXQodCkpLHZvaWQgMD09PWUmJigodGhpcy5vPWU9bmV3IENTU1N0eWxlU2hlZXQpLnJlcGxhY2VTeW5jKHRoaXMuY3NzVGV4dCksciYmaS5zZXQodCxlKSl9cmV0dXJuIGV9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5jc3NUZXh0fX1jb25zdCBsPWU9Pm5ldyBzKCJzdHJpbmciPT10eXBlb2YgZT9lOmUrIiIsdm9pZCAwLGEpLGM9KGUsLi4udCk9Pntjb25zdCByPTE9PT1lLmxlbmd0aD9lWzBdOnQucmVkdWNlKCgodCxyLG4pPT50KyhlPT57aWYoITA9PT1lLl8kY3NzUmVzdWx0JClyZXR1cm4gZS5jc3NUZXh0O2lmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gZTt0aHJvdyBFcnJvcigiVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6ICIrZSsiLiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dCB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuIil9KShyKStlW24rMV0pLGVbMF0pO3JldHVybiBuZXcgcyhyLGUsYSl9LHA9bz9lPT5lOmU9PmUgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0PyhlPT57bGV0IHQ9IiI7Zm9yKGNvbnN0IHIgb2YgZS5jc3NSdWxlcyl0Kz1yLmNzc1RleHQ7cmV0dXJuIGwodCl9KShlKTplO3ZhciBkO2NvbnN0IHU9d2luZG93LGg9dS50cnVzdGVkVHlwZXMsZj1oP2guZW1wdHlTY3JpcHQ6IiIsbT11LnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydCx5PXt0b0F0dHJpYnV0ZShlLHQpe3N3aXRjaCh0KXtjYXNlIEJvb2xlYW46ZT1lP2Y6bnVsbDticmVhaztjYXNlIE9iamVjdDpjYXNlIEFycmF5OmU9bnVsbD09ZT9lOkpTT04uc3RyaW5naWZ5KGUpfXJldHVybiBlfSxmcm9tQXR0cmlidXRlKGUsdCl7bGV0IHI9ZTtzd2l0Y2godCl7Y2FzZSBCb29sZWFuOnI9bnVsbCE9PWU7YnJlYWs7Y2FzZSBOdW1iZXI6cj1udWxsPT09ZT9udWxsOk51bWJlcihlKTticmVhaztjYXNlIE9iamVjdDpjYXNlIEFycmF5OnRyeXtyPUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7cj1udWxsfX1yZXR1cm4gcn19LGc9KGUsdCk9PnQhPT1lJiYodD09dHx8ZT09ZSksdj17YXR0cmlidXRlOiEwLHR5cGU6U3RyaW5nLGNvbnZlcnRlcjp5LHJlZmxlY3Q6ITEsaGFzQ2hhbmdlZDpnfTtjbGFzcyBiIGV4dGVuZHMgSFRNTEVsZW1lbnR7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuXyRFaT1uZXcgTWFwLHRoaXMuaXNVcGRhdGVQZW5kaW5nPSExLHRoaXMuaGFzVXBkYXRlZD0hMSx0aGlzLl8kRWw9bnVsbCx0aGlzLnUoKX1zdGF0aWMgYWRkSW5pdGlhbGl6ZXIoZSl7dmFyIHQ7dGhpcy5maW5hbGl6ZSgpLChudWxsIT09KHQ9dGhpcy5oKSYmdm9pZCAwIT09dD90OnRoaXMuaD1bXSkucHVzaChlKX1zdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpe3RoaXMuZmluYWxpemUoKTtjb25zdCBlPVtdO3JldHVybiB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLmZvckVhY2goKCh0LHIpPT57Y29uc3Qgbj10aGlzLl8kRXAocix0KTt2b2lkIDAhPT1uJiYodGhpcy5fJEV2LnNldChuLHIpLGUucHVzaChuKSl9KSksZX1zdGF0aWMgY3JlYXRlUHJvcGVydHkoZSx0PXYpe2lmKHQuc3RhdGUmJih0LmF0dHJpYnV0ZT0hMSksdGhpcy5maW5hbGl6ZSgpLHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KGUsdCksIXQubm9BY2Nlc3NvciYmIXRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KGUpKXtjb25zdCByPSJzeW1ib2wiPT10eXBlb2YgZT9TeW1ib2woKToiX18iK2Usbj10aGlzLmdldFByb3BlcnR5RGVzY3JpcHRvcihlLHIsdCk7dm9pZCAwIT09biYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLGUsbil9fXN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IoZSx0LHIpe3JldHVybntnZXQoKXtyZXR1cm4gdGhpc1t0XX0sc2V0KG4pe2NvbnN0IG89dGhpc1tlXTt0aGlzW3RdPW4sdGhpcy5yZXF1ZXN0VXBkYXRlKGUsbyxyKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9fXN0YXRpYyBnZXRQcm9wZXJ0eU9wdGlvbnMoZSl7cmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KGUpfHx2fXN0YXRpYyBmaW5hbGl6ZSgpe2lmKHRoaXMuaGFzT3duUHJvcGVydHkoImZpbmFsaXplZCIpKXJldHVybiExO3RoaXMuZmluYWxpemVkPSEwO2NvbnN0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO2lmKGUuZmluYWxpemUoKSx2b2lkIDAhPT1lLmgmJih0aGlzLmg9Wy4uLmUuaF0pLHRoaXMuZWxlbWVudFByb3BlcnRpZXM9bmV3IE1hcChlLmVsZW1lbnRQcm9wZXJ0aWVzKSx0aGlzLl8kRXY9bmV3IE1hcCx0aGlzLmhhc093blByb3BlcnR5KCJwcm9wZXJ0aWVzIikpe2NvbnN0IGU9dGhpcy5wcm9wZXJ0aWVzLHQ9Wy4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSldO2Zvcihjb25zdCByIG9mIHQpdGhpcy5jcmVhdGVQcm9wZXJ0eShyLGVbcl0pfXJldHVybiB0aGlzLmVsZW1lbnRTdHlsZXM9dGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyksITB9c3RhdGljIGZpbmFsaXplU3R5bGVzKGUpe2NvbnN0IHQ9W107aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3Qgcj1uZXcgU2V0KGUuZmxhdCgxLzApLnJldmVyc2UoKSk7Zm9yKGNvbnN0IGUgb2Ygcil0LnVuc2hpZnQocChlKSl9ZWxzZSB2b2lkIDAhPT1lJiZ0LnB1c2gocChlKSk7cmV0dXJuIHR9c3RhdGljIF8kRXAoZSx0KXtjb25zdCByPXQuYXR0cmlidXRlO3JldHVybiExPT09cj92b2lkIDA6InN0cmluZyI9PXR5cGVvZiByP3I6InN0cmluZyI9PXR5cGVvZiBlP2UudG9Mb3dlckNhc2UoKTp2b2lkIDB9dSgpe3ZhciBlO3RoaXMuXyRFXz1uZXcgUHJvbWlzZSgoZT0+dGhpcy5lbmFibGVVcGRhdGluZz1lKSksdGhpcy5fJEFMPW5ldyBNYXAsdGhpcy5fJEVnKCksdGhpcy5yZXF1ZXN0VXBkYXRlKCksbnVsbD09PShlPXRoaXMuY29uc3RydWN0b3IuaCl8fHZvaWQgMD09PWV8fGUuZm9yRWFjaCgoZT0+ZSh0aGlzKSkpfWFkZENvbnRyb2xsZXIoZSl7dmFyIHQscjsobnVsbCE9PSh0PXRoaXMuXyRFUykmJnZvaWQgMCE9PXQ/dDp0aGlzLl8kRVM9W10pLnB1c2goZSksdm9pZCAwIT09dGhpcy5yZW5kZXJSb290JiZ0aGlzLmlzQ29ubmVjdGVkJiYobnVsbD09PShyPWUuaG9zdENvbm5lY3RlZCl8fHZvaWQgMD09PXJ8fHIuY2FsbChlKSl9cmVtb3ZlQ29udHJvbGxlcihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5fJEVTKXx8dm9pZCAwPT09dHx8dC5zcGxpY2UodGhpcy5fJEVTLmluZGV4T2YoZSk+Pj4wLDEpfV8kRWcoKXt0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRQcm9wZXJ0aWVzLmZvckVhY2goKChlLHQpPT57dGhpcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHRoaXMuXyRFaS5zZXQodCx0aGlzW3RdKSxkZWxldGUgdGhpc1t0XSl9KSl9Y3JlYXRlUmVuZGVyUm9vdCgpe3ZhciBlO2NvbnN0IHQ9bnVsbCE9PShlPXRoaXMuc2hhZG93Um9vdCkmJnZvaWQgMCE9PWU/ZTp0aGlzLmF0dGFjaFNoYWRvdyh0aGlzLmNvbnN0cnVjdG9yLnNoYWRvd1Jvb3RPcHRpb25zKTtyZXR1cm4oKGUsdCk9PntvP2UuYWRvcHRlZFN0eWxlU2hlZXRzPXQubWFwKChlPT5lIGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldD9lOmUuc3R5bGVTaGVldCkpOnQuZm9yRWFjaCgodD0+e2NvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxvPW4ubGl0Tm9uY2U7dm9pZCAwIT09byYmci5zZXRBdHRyaWJ1dGUoIm5vbmNlIixvKSxyLnRleHRDb250ZW50PXQuY3NzVGV4dCxlLmFwcGVuZENoaWxkKHIpfSkpfSkodCx0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRTdHlsZXMpLHR9Y29ubmVjdGVkQ2FsbGJhY2soKXt2YXIgZTt2b2lkIDA9PT10aGlzLnJlbmRlclJvb3QmJih0aGlzLnJlbmRlclJvb3Q9dGhpcy5jcmVhdGVSZW5kZXJSb290KCkpLHRoaXMuZW5hYmxlVXBkYXRpbmcoITApLG51bGw9PT0oZT10aGlzLl8kRVMpfHx2b2lkIDA9PT1lfHxlLmZvckVhY2goKGU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PWUuaG9zdENvbm5lY3RlZCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbChlKX0pKX1lbmFibGVVcGRhdGluZyhlKXt9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXt2YXIgZTtudWxsPT09KGU9dGhpcy5fJEVTKXx8dm9pZCAwPT09ZXx8ZS5mb3JFYWNoKChlPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD1lLmhvc3REaXNjb25uZWN0ZWQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwoZSl9KSl9YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGUsdCxyKXt0aGlzLl8kQUsoZSxyKX1fJEVPKGUsdCxyPXYpe3ZhciBuO2NvbnN0IG89dGhpcy5jb25zdHJ1Y3Rvci5fJEVwKGUscik7aWYodm9pZCAwIT09byYmITA9PT1yLnJlZmxlY3Qpe2NvbnN0IGE9KHZvaWQgMCE9PShudWxsPT09KG49ci5jb252ZXJ0ZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRvQXR0cmlidXRlKT9yLmNvbnZlcnRlcjp5KS50b0F0dHJpYnV0ZSh0LHIudHlwZSk7dGhpcy5fJEVsPWUsbnVsbD09YT90aGlzLnJlbW92ZUF0dHJpYnV0ZShvKTp0aGlzLnNldEF0dHJpYnV0ZShvLGEpLHRoaXMuXyRFbD1udWxsfX1fJEFLKGUsdCl7dmFyIHI7Y29uc3Qgbj10aGlzLmNvbnN0cnVjdG9yLG89bi5fJEV2LmdldChlKTtpZih2b2lkIDAhPT1vJiZ0aGlzLl8kRWwhPT1vKXtjb25zdCBlPW4uZ2V0UHJvcGVydHlPcHRpb25zKG8pLGE9ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29udmVydGVyP3tmcm9tQXR0cmlidXRlOmUuY29udmVydGVyfTp2b2lkIDAhPT0obnVsbD09PShyPWUuY29udmVydGVyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5mcm9tQXR0cmlidXRlKT9lLmNvbnZlcnRlcjp5O3RoaXMuXyRFbD1vLHRoaXNbb109YS5mcm9tQXR0cmlidXRlKHQsZS50eXBlKSx0aGlzLl8kRWw9bnVsbH19cmVxdWVzdFVwZGF0ZShlLHQscil7bGV0IG49ITA7dm9pZCAwIT09ZSYmKCgocj1yfHx0aGlzLmNvbnN0cnVjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhlKSkuaGFzQ2hhbmdlZHx8ZykodGhpc1tlXSx0KT8odGhpcy5fJEFMLmhhcyhlKXx8dGhpcy5fJEFMLnNldChlLHQpLCEwPT09ci5yZWZsZWN0JiZ0aGlzLl8kRWwhPT1lJiYodm9pZCAwPT09dGhpcy5fJEVDJiYodGhpcy5fJEVDPW5ldyBNYXApLHRoaXMuXyRFQy5zZXQoZSxyKSkpOm49ITEpLCF0aGlzLmlzVXBkYXRlUGVuZGluZyYmbiYmKHRoaXMuXyRFXz10aGlzLl8kRWooKSl9YXN5bmMgXyRFaigpe3RoaXMuaXNVcGRhdGVQZW5kaW5nPSEwO3RyeXthd2FpdCB0aGlzLl8kRV99Y2F0Y2goZSl7UHJvbWlzZS5yZWplY3QoZSl9Y29uc3QgZT10aGlzLnNjaGVkdWxlVXBkYXRlKCk7cmV0dXJuIG51bGwhPWUmJmF3YWl0IGUsIXRoaXMuaXNVcGRhdGVQZW5kaW5nfXNjaGVkdWxlVXBkYXRlKCl7cmV0dXJuIHRoaXMucGVyZm9ybVVwZGF0ZSgpfXBlcmZvcm1VcGRhdGUoKXt2YXIgZTtpZighdGhpcy5pc1VwZGF0ZVBlbmRpbmcpcmV0dXJuO3RoaXMuaGFzVXBkYXRlZCx0aGlzLl8kRWkmJih0aGlzLl8kRWkuZm9yRWFjaCgoKGUsdCk9PnRoaXNbdF09ZSkpLHRoaXMuXyRFaT12b2lkIDApO2xldCB0PSExO2NvbnN0IHI9dGhpcy5fJEFMO3RyeXt0PXRoaXMuc2hvdWxkVXBkYXRlKHIpLHQ/KHRoaXMud2lsbFVwZGF0ZShyKSxudWxsPT09KGU9dGhpcy5fJEVTKXx8dm9pZCAwPT09ZXx8ZS5mb3JFYWNoKChlPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD1lLmhvc3RVcGRhdGUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwoZSl9KSksdGhpcy51cGRhdGUocikpOnRoaXMuXyRFaygpfWNhdGNoKGUpe3Rocm93IHQ9ITEsdGhpcy5fJEVrKCksZX10JiZ0aGlzLl8kQUUocil9d2lsbFVwZGF0ZShlKXt9XyRBRShlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5fJEVTKXx8dm9pZCAwPT09dHx8dC5mb3JFYWNoKChlPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD1lLmhvc3RVcGRhdGVkKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKGUpfSkpLHRoaXMuaGFzVXBkYXRlZHx8KHRoaXMuaGFzVXBkYXRlZD0hMCx0aGlzLmZpcnN0VXBkYXRlZChlKSksdGhpcy51cGRhdGVkKGUpfV8kRWsoKXt0aGlzLl8kQUw9bmV3IE1hcCx0aGlzLmlzVXBkYXRlUGVuZGluZz0hMX1nZXQgdXBkYXRlQ29tcGxldGUoKXtyZXR1cm4gdGhpcy5nZXRVcGRhdGVDb21wbGV0ZSgpfWdldFVwZGF0ZUNvbXBsZXRlKCl7cmV0dXJuIHRoaXMuXyRFX31zaG91bGRVcGRhdGUoZSl7cmV0dXJuITB9dXBkYXRlKGUpe3ZvaWQgMCE9PXRoaXMuXyRFQyYmKHRoaXMuXyRFQy5mb3JFYWNoKCgoZSx0KT0+dGhpcy5fJEVPKHQsdGhpc1t0XSxlKSkpLHRoaXMuXyRFQz12b2lkIDApLHRoaXMuXyRFaygpfXVwZGF0ZWQoZSl7fWZpcnN0VXBkYXRlZChlKXt9fXZhciB4O2IuZmluYWxpemVkPSEwLGIuZWxlbWVudFByb3BlcnRpZXM9bmV3IE1hcCxiLmVsZW1lbnRTdHlsZXM9W10sYi5zaGFkb3dSb290T3B0aW9ucz17bW9kZToib3BlbiJ9LG51bGw9PW18fG0oe1JlYWN0aXZlRWxlbWVudDpifSksKG51bGwhPT0oZD11LnJlYWN0aXZlRWxlbWVudFZlcnNpb25zKSYmdm9pZCAwIT09ZD9kOnUucmVhY3RpdmVFbGVtZW50VmVyc2lvbnM9W10pLnB1c2goIjEuNi4xIik7Y29uc3Qgdz13aW5kb3csJD13LnRydXN0ZWRUeXBlcyxrPSQ/JC5jcmVhdGVQb2xpY3koImxpdC1odG1sIix7Y3JlYXRlSFRNTDplPT5lfSk6dm9pZCAwLFM9YGxpdCQkeyhNYXRoLnJhbmRvbSgpKyIiKS5zbGljZSg5KX0kYCxBPSI/IitTLEU9YDwke0F9PmAsTz1kb2N1bWVudCxUPShlPSIiKT0+Ty5jcmVhdGVDb21tZW50KGUpLEM9ZT0+bnVsbD09PWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUsaj1BcnJheS5pc0FycmF5LEk9ZT0+aihlKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG51bGw9PWU/dm9pZCAwOmVbU3ltYm9sLml0ZXJhdG9yXSksXz0vPCg/OighLS18XC9bXmEtekEtWl0pfChcLz9bYS16QS1aXVtePlxzXSopfChcLz8kKSkvZyxQPS8tLT4vZyxSPS8+L2csTD1SZWdFeHAoIj58WyBcdFxuXGZccl0oPzooW15cXHNcIic+PS9dKykoWyBcdFxuXGZccl0qPVsgXHRcblxmXHJdKig/OlteIFx0XG5cZlxyXCInYDw+PV18KFwifCcpfCkpfCQpIiwiZyIpLEY9LycvZyxEPS8iL2csQj0vXig/OnNjcmlwdHxzdHlsZXx0ZXh0YXJlYXx0aXRsZSkkL2ksTj1lPT4odCwuLi5yKT0+KHtfJGxpdFR5cGUkOmUsc3RyaW5nczp0LHZhbHVlczpyfSkscT1OKDEpLFU9KE4oMiksU3ltYm9sLmZvcigibGl0LW5vQ2hhbmdlIikpLHo9U3ltYm9sLmZvcigibGl0LW5vdGhpbmciKSxNPW5ldyBXZWFrTWFwLEg9Ty5jcmVhdGVUcmVlV2Fsa2VyKE8sMTI5LG51bGwsITEpLFc9KGUsdCk9Pntjb25zdCByPWUubGVuZ3RoLTEsbj1bXTtsZXQgbyxhPTI9PT10PyI8c3ZnPiI6IiIsaT1fO2ZvcihsZXQgdD0wO3Q8cjt0Kyspe2NvbnN0IHI9ZVt0XTtsZXQgcyxsLGM9LTEscD0wO2Zvcig7cDxyLmxlbmd0aCYmKGkubGFzdEluZGV4PXAsbD1pLmV4ZWMociksbnVsbCE9PWwpOylwPWkubGFzdEluZGV4LGk9PT1fPyIhLS0iPT09bFsxXT9pPVA6dm9pZCAwIT09bFsxXT9pPVI6dm9pZCAwIT09bFsyXT8oQi50ZXN0KGxbMl0pJiYobz1SZWdFeHAoIjwvIitsWzJdLCJnIikpLGk9TCk6dm9pZCAwIT09bFszXSYmKGk9TCk6aT09PUw/Ij4iPT09bFswXT8oaT1udWxsIT1vP286XyxjPS0xKTp2b2lkIDA9PT1sWzFdP2M9LTI6KGM9aS5sYXN0SW5kZXgtbFsyXS5sZW5ndGgscz1sWzFdLGk9dm9pZCAwPT09bFszXT9MOiciJz09PWxbM10/RDpGKTppPT09RHx8aT09PUY/aT1MOmk9PT1QfHxpPT09Uj9pPV86KGk9TCxvPXZvaWQgMCk7Y29uc3QgZD1pPT09TCYmZVt0KzFdLnN0YXJ0c1dpdGgoIi8+Iik/IiAiOiIiO2ErPWk9PT1fP3IrRTpjPj0wPyhuLnB1c2gocyksci5zbGljZSgwLGMpKyIkbGl0JCIrci5zbGljZShjKStTK2QpOnIrUysoLTI9PT1jPyhuLnB1c2godm9pZCAwKSx0KTpkKX1jb25zdCBzPWErKGVbcl18fCI8Pz4iKSsoMj09PXQ/Ijwvc3ZnPiI6IiIpO2lmKCFBcnJheS5pc0FycmF5KGUpfHwhZS5oYXNPd25Qcm9wZXJ0eSgicmF3IikpdGhyb3cgRXJyb3IoImludmFsaWQgdGVtcGxhdGUgc3RyaW5ncyBhcnJheSIpO3JldHVyblt2b2lkIDAhPT1rP2suY3JlYXRlSFRNTChzKTpzLG5dfTtjbGFzcyBWe2NvbnN0cnVjdG9yKHtzdHJpbmdzOmUsXyRsaXRUeXBlJDp0fSxyKXtsZXQgbjt0aGlzLnBhcnRzPVtdO2xldCBvPTAsYT0wO2NvbnN0IGk9ZS5sZW5ndGgtMSxzPXRoaXMucGFydHMsW2wsY109VyhlLHQpO2lmKHRoaXMuZWw9Vi5jcmVhdGVFbGVtZW50KGwsciksSC5jdXJyZW50Tm9kZT10aGlzLmVsLmNvbnRlbnQsMj09PXQpe2NvbnN0IGU9dGhpcy5lbC5jb250ZW50LHQ9ZS5maXJzdENoaWxkO3QucmVtb3ZlKCksZS5hcHBlbmQoLi4udC5jaGlsZE5vZGVzKX1mb3IoO251bGwhPT0obj1ILm5leHROb2RlKCkpJiZzLmxlbmd0aDxpOyl7aWYoMT09PW4ubm9kZVR5cGUpe2lmKG4uaGFzQXR0cmlidXRlcygpKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIG4uZ2V0QXR0cmlidXRlTmFtZXMoKSlpZih0LmVuZHNXaXRoKCIkbGl0JCIpfHx0LnN0YXJ0c1dpdGgoUykpe2NvbnN0IHI9Y1thKytdO2lmKGUucHVzaCh0KSx2b2lkIDAhPT1yKXtjb25zdCBlPW4uZ2V0QXR0cmlidXRlKHIudG9Mb3dlckNhc2UoKSsiJGxpdCQiKS5zcGxpdChTKSx0PS8oWy4/QF0pPyguKikvLmV4ZWMocik7cy5wdXNoKHt0eXBlOjEsaW5kZXg6byxuYW1lOnRbMl0sc3RyaW5nczplLGN0b3I6Ii4iPT09dFsxXT9aOiI/Ij09PXRbMV0/WDoiQCI9PT10WzFdP2VlOll9KX1lbHNlIHMucHVzaCh7dHlwZTo2LGluZGV4Om99KX1mb3IoY29uc3QgdCBvZiBlKW4ucmVtb3ZlQXR0cmlidXRlKHQpfWlmKEIudGVzdChuLnRhZ05hbWUpKXtjb25zdCBlPW4udGV4dENvbnRlbnQuc3BsaXQoUyksdD1lLmxlbmd0aC0xO2lmKHQ+MCl7bi50ZXh0Q29udGVudD0kPyQuZW1wdHlTY3JpcHQ6IiI7Zm9yKGxldCByPTA7cjx0O3IrKyluLmFwcGVuZChlW3JdLFQoKSksSC5uZXh0Tm9kZSgpLHMucHVzaCh7dHlwZToyLGluZGV4Oisrb30pO24uYXBwZW5kKGVbdF0sVCgpKX19fWVsc2UgaWYoOD09PW4ubm9kZVR5cGUpaWYobi5kYXRhPT09QSlzLnB1c2goe3R5cGU6MixpbmRleDpvfSk7ZWxzZXtsZXQgZT0tMTtmb3IoOy0xIT09KGU9bi5kYXRhLmluZGV4T2YoUyxlKzEpKTspcy5wdXNoKHt0eXBlOjcsaW5kZXg6b30pLGUrPVMubGVuZ3RoLTF9bysrfX1zdGF0aWMgY3JlYXRlRWxlbWVudChlLHQpe2NvbnN0IHI9Ty5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpO3JldHVybiByLmlubmVySFRNTD1lLHJ9fWZ1bmN0aW9uIEcoZSx0LHI9ZSxuKXt2YXIgbyxhLGkscztpZih0PT09VSlyZXR1cm4gdDtsZXQgbD12b2lkIDAhPT1uP251bGw9PT0obz1yLl8kQ28pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvW25dOnIuXyRDbDtjb25zdCBjPUModCk/dm9pZCAwOnQuXyRsaXREaXJlY3RpdmUkO3JldHVybihudWxsPT1sP3ZvaWQgMDpsLmNvbnN0cnVjdG9yKSE9PWMmJihudWxsPT09KGE9bnVsbD09bD92b2lkIDA6bC5fJEFPKXx8dm9pZCAwPT09YXx8YS5jYWxsKGwsITEpLHZvaWQgMD09PWM/bD12b2lkIDA6KGw9bmV3IGMoZSksbC5fJEFUKGUscixuKSksdm9pZCAwIT09bj8obnVsbCE9PShpPShzPXIpLl8kQ28pJiZ2b2lkIDAhPT1pP2k6cy5fJENvPVtdKVtuXT1sOnIuXyRDbD1sKSx2b2lkIDAhPT1sJiYodD1HKGUsbC5fJEFTKGUsdC52YWx1ZXMpLGwsbikpLHR9Y2xhc3MgS3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMudT1bXSx0aGlzLl8kQU49dm9pZCAwLHRoaXMuXyRBRD1lLHRoaXMuXyRBTT10fWdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHRoaXMuXyRBTS5wYXJlbnROb2RlfWdldCBfJEFVKCl7cmV0dXJuIHRoaXMuXyRBTS5fJEFVfXYoZSl7dmFyIHQ7Y29uc3R7ZWw6e2NvbnRlbnQ6cn0scGFydHM6bn09dGhpcy5fJEFELG89KG51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLmNyZWF0aW9uU2NvcGUpJiZ2b2lkIDAhPT10P3Q6TykuaW1wb3J0Tm9kZShyLCEwKTtILmN1cnJlbnROb2RlPW87bGV0IGE9SC5uZXh0Tm9kZSgpLGk9MCxzPTAsbD1uWzBdO2Zvcig7dm9pZCAwIT09bDspe2lmKGk9PT1sLmluZGV4KXtsZXQgdDsyPT09bC50eXBlP3Q9bmV3IEooYSxhLm5leHRTaWJsaW5nLHRoaXMsZSk6MT09PWwudHlwZT90PW5ldyBsLmN0b3IoYSxsLm5hbWUsbC5zdHJpbmdzLHRoaXMsZSk6Nj09PWwudHlwZSYmKHQ9bmV3IHRlKGEsdGhpcyxlKSksdGhpcy51LnB1c2godCksbD1uWysrc119aSE9PShudWxsPT1sP3ZvaWQgMDpsLmluZGV4KSYmKGE9SC5uZXh0Tm9kZSgpLGkrKyl9cmV0dXJuIG99cChlKXtsZXQgdD0wO2Zvcihjb25zdCByIG9mIHRoaXMudSl2b2lkIDAhPT1yJiYodm9pZCAwIT09ci5zdHJpbmdzPyhyLl8kQUkoZSxyLHQpLHQrPXIuc3RyaW5ncy5sZW5ndGgtMik6ci5fJEFJKGVbdF0pKSx0Kyt9fWNsYXNzIEp7Y29uc3RydWN0b3IoZSx0LHIsbil7dmFyIG87dGhpcy50eXBlPTIsdGhpcy5fJEFIPXosdGhpcy5fJEFOPXZvaWQgMCx0aGlzLl8kQUE9ZSx0aGlzLl8kQUI9dCx0aGlzLl8kQU09cix0aGlzLm9wdGlvbnM9bix0aGlzLl8kQ209bnVsbD09PShvPW51bGw9PW4/dm9pZCAwOm4uaXNDb25uZWN0ZWQpfHx2b2lkIDA9PT1vfHxvfWdldCBfJEFVKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PT0oZT10aGlzLl8kQU0pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLl8kQVUpJiZ2b2lkIDAhPT10P3Q6dGhpcy5fJENtfWdldCBwYXJlbnROb2RlKCl7bGV0IGU9dGhpcy5fJEFBLnBhcmVudE5vZGU7Y29uc3QgdD10aGlzLl8kQU07cmV0dXJuIHZvaWQgMCE9PXQmJjExPT09ZS5ub2RlVHlwZSYmKGU9dC5wYXJlbnROb2RlKSxlfWdldCBzdGFydE5vZGUoKXtyZXR1cm4gdGhpcy5fJEFBfWdldCBlbmROb2RlKCl7cmV0dXJuIHRoaXMuXyRBQn1fJEFJKGUsdD10aGlzKXtlPUcodGhpcyxlLHQpLEMoZSk/ZT09PXp8fG51bGw9PWV8fCIiPT09ZT8odGhpcy5fJEFIIT09eiYmdGhpcy5fJEFSKCksdGhpcy5fJEFIPXopOmUhPT10aGlzLl8kQUgmJmUhPT1VJiZ0aGlzLmcoZSk6dm9pZCAwIT09ZS5fJGxpdFR5cGUkP3RoaXMuJChlKTp2b2lkIDAhPT1lLm5vZGVUeXBlP3RoaXMuVChlKTpJKGUpP3RoaXMuayhlKTp0aGlzLmcoZSl9TyhlLHQ9dGhpcy5fJEFCKXtyZXR1cm4gdGhpcy5fJEFBLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdCl9VChlKXt0aGlzLl8kQUghPT1lJiYodGhpcy5fJEFSKCksdGhpcy5fJEFIPXRoaXMuTyhlKSl9ZyhlKXt0aGlzLl8kQUghPT16JiZDKHRoaXMuXyRBSCk/dGhpcy5fJEFBLm5leHRTaWJsaW5nLmRhdGE9ZTp0aGlzLlQoTy5jcmVhdGVUZXh0Tm9kZShlKSksdGhpcy5fJEFIPWV9JChlKXt2YXIgdDtjb25zdHt2YWx1ZXM6cixfJGxpdFR5cGUkOm59PWUsbz0ibnVtYmVyIj09dHlwZW9mIG4/dGhpcy5fJEFDKGUpOih2b2lkIDA9PT1uLmVsJiYobi5lbD1WLmNyZWF0ZUVsZW1lbnQobi5oLHRoaXMub3B0aW9ucykpLG4pO2lmKChudWxsPT09KHQ9dGhpcy5fJEFIKXx8dm9pZCAwPT09dD92b2lkIDA6dC5fJEFEKT09PW8pdGhpcy5fJEFILnAocik7ZWxzZXtjb25zdCBlPW5ldyBLKG8sdGhpcyksdD1lLnYodGhpcy5vcHRpb25zKTtlLnAociksdGhpcy5UKHQpLHRoaXMuXyRBSD1lfX1fJEFDKGUpe2xldCB0PU0uZ2V0KGUuc3RyaW5ncyk7cmV0dXJuIHZvaWQgMD09PXQmJk0uc2V0KGUuc3RyaW5ncyx0PW5ldyBWKGUpKSx0fWsoZSl7aih0aGlzLl8kQUgpfHwodGhpcy5fJEFIPVtdLHRoaXMuXyRBUigpKTtjb25zdCB0PXRoaXMuXyRBSDtsZXQgcixuPTA7Zm9yKGNvbnN0IG8gb2YgZSluPT09dC5sZW5ndGg/dC5wdXNoKHI9bmV3IEoodGhpcy5PKFQoKSksdGhpcy5PKFQoKSksdGhpcyx0aGlzLm9wdGlvbnMpKTpyPXRbbl0sci5fJEFJKG8pLG4rKztuPHQubGVuZ3RoJiYodGhpcy5fJEFSKHImJnIuXyRBQi5uZXh0U2libGluZyxuKSx0Lmxlbmd0aD1uKX1fJEFSKGU9dGhpcy5fJEFBLm5leHRTaWJsaW5nLHQpe3ZhciByO2ZvcihudWxsPT09KHI9dGhpcy5fJEFQKXx8dm9pZCAwPT09cnx8ci5jYWxsKHRoaXMsITEsITAsdCk7ZSYmZSE9PXRoaXMuXyRBQjspe2NvbnN0IHQ9ZS5uZXh0U2libGluZztlLnJlbW92ZSgpLGU9dH19c2V0Q29ubmVjdGVkKGUpe3ZhciB0O3ZvaWQgMD09PXRoaXMuXyRBTSYmKHRoaXMuXyRDbT1lLG51bGw9PT0odD10aGlzLl8kQVApfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKSl9fWNsYXNzIFl7Y29uc3RydWN0b3IoZSx0LHIsbixvKXt0aGlzLnR5cGU9MSx0aGlzLl8kQUg9eix0aGlzLl8kQU49dm9pZCAwLHRoaXMuZWxlbWVudD1lLHRoaXMubmFtZT10LHRoaXMuXyRBTT1uLHRoaXMub3B0aW9ucz1vLHIubGVuZ3RoPjJ8fCIiIT09clswXXx8IiIhPT1yWzFdPyh0aGlzLl8kQUg9QXJyYXkoci5sZW5ndGgtMSkuZmlsbChuZXcgU3RyaW5nKSx0aGlzLnN0cmluZ3M9cik6dGhpcy5fJEFIPXp9Z2V0IHRhZ05hbWUoKXtyZXR1cm4gdGhpcy5lbGVtZW50LnRhZ05hbWV9Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNLl8kQVV9XyRBSShlLHQ9dGhpcyxyLG4pe2NvbnN0IG89dGhpcy5zdHJpbmdzO2xldCBhPSExO2lmKHZvaWQgMD09PW8pZT1HKHRoaXMsZSx0LDApLGE9IUMoZSl8fGUhPT10aGlzLl8kQUgmJmUhPT1VLGEmJih0aGlzLl8kQUg9ZSk7ZWxzZXtjb25zdCBuPWU7bGV0IGkscztmb3IoZT1vWzBdLGk9MDtpPG8ubGVuZ3RoLTE7aSsrKXM9Ryh0aGlzLG5bcitpXSx0LGkpLHM9PT1VJiYocz10aGlzLl8kQUhbaV0pLGF8fChhPSFDKHMpfHxzIT09dGhpcy5fJEFIW2ldKSxzPT09ej9lPXo6ZSE9PXomJihlKz0obnVsbCE9cz9zOiIiKStvW2krMV0pLHRoaXMuXyRBSFtpXT1zfWEmJiFuJiZ0aGlzLmooZSl9aihlKXtlPT09ej90aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHRoaXMubmFtZSk6dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsbnVsbCE9ZT9lOiIiKX19Y2xhc3MgWiBleHRlbmRzIFl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT0zfWooZSl7dGhpcy5lbGVtZW50W3RoaXMubmFtZV09ZT09PXo/dm9pZCAwOmV9fWNvbnN0IFE9JD8kLmVtcHR5U2NyaXB0OiIiO2NsYXNzIFggZXh0ZW5kcyBZe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9NH1qKGUpe2UmJmUhPT16P3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLFEpOnRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKX19Y2xhc3MgZWUgZXh0ZW5kcyBZe2NvbnN0cnVjdG9yKGUsdCxyLG4sbyl7c3VwZXIoZSx0LHIsbixvKSx0aGlzLnR5cGU9NX1fJEFJKGUsdD10aGlzKXt2YXIgcjtpZigoZT1udWxsIT09KHI9Ryh0aGlzLGUsdCwwKSkmJnZvaWQgMCE9PXI/cjp6KT09PVUpcmV0dXJuO2NvbnN0IG49dGhpcy5fJEFILG89ZT09PXomJm4hPT16fHxlLmNhcHR1cmUhPT1uLmNhcHR1cmV8fGUub25jZSE9PW4ub25jZXx8ZS5wYXNzaXZlIT09bi5wYXNzaXZlLGE9ZSE9PXomJihuPT09enx8byk7byYmdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLHRoaXMsbiksYSYmdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLHRoaXMsZSksdGhpcy5fJEFIPWV9aGFuZGxlRXZlbnQoZSl7dmFyIHQscjsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fJEFIP3RoaXMuXyRBSC5jYWxsKG51bGwhPT0ocj1udWxsPT09KHQ9dGhpcy5vcHRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC5ob3N0KSYmdm9pZCAwIT09cj9yOnRoaXMuZWxlbWVudCxlKTp0aGlzLl8kQUguaGFuZGxlRXZlbnQoZSl9fWNsYXNzIHRle2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLmVsZW1lbnQ9ZSx0aGlzLnR5cGU9Nix0aGlzLl8kQU49dm9pZCAwLHRoaXMuXyRBTT10LHRoaXMub3B0aW9ucz1yfWdldCBfJEFVKCl7cmV0dXJuIHRoaXMuXyRBTS5fJEFVfV8kQUkoZSl7Ryh0aGlzLGUpfX1jb25zdCByZT17UDoiJGxpdCQiLEE6UyxNOkEsQzoxLEw6VyxSOkssRDpJLFY6RyxJOkosSDpZLE46WCxVOmVlLEI6WixGOnRlfSxuZT13LmxpdEh0bWxQb2x5ZmlsbFN1cHBvcnQ7bnVsbD09bmV8fG5lKFYsSiksKG51bGwhPT0oeD13LmxpdEh0bWxWZXJzaW9ucykmJnZvaWQgMCE9PXg/eDp3LmxpdEh0bWxWZXJzaW9ucz1bXSkucHVzaCgiMi42LjEiKTt2YXIgb2UsYWU7Y2xhc3MgaWUgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnJlbmRlck9wdGlvbnM9e2hvc3Q6dGhpc30sdGhpcy5fJER0PXZvaWQgMH1jcmVhdGVSZW5kZXJSb290KCl7dmFyIGUsdDtjb25zdCByPXN1cGVyLmNyZWF0ZVJlbmRlclJvb3QoKTtyZXR1cm4gbnVsbCE9PShlPSh0PXRoaXMucmVuZGVyT3B0aW9ucykucmVuZGVyQmVmb3JlKSYmdm9pZCAwIT09ZXx8KHQucmVuZGVyQmVmb3JlPXIuZmlyc3RDaGlsZCkscn11cGRhdGUoZSl7Y29uc3QgdD10aGlzLnJlbmRlcigpO3RoaXMuaGFzVXBkYXRlZHx8KHRoaXMucmVuZGVyT3B0aW9ucy5pc0Nvbm5lY3RlZD10aGlzLmlzQ29ubmVjdGVkKSxzdXBlci51cGRhdGUoZSksdGhpcy5fJER0PSgoZSx0LHIpPT57dmFyIG4sbztjb25zdCBhPW51bGwhPT0obj1udWxsPT1yP3ZvaWQgMDpyLnJlbmRlckJlZm9yZSkmJnZvaWQgMCE9PW4/bjp0O2xldCBpPWEuXyRsaXRQYXJ0JDtpZih2b2lkIDA9PT1pKXtjb25zdCBlPW51bGwhPT0obz1udWxsPT1yP3ZvaWQgMDpyLnJlbmRlckJlZm9yZSkmJnZvaWQgMCE9PW8/bzpudWxsO2EuXyRsaXRQYXJ0JD1pPW5ldyBKKHQuaW5zZXJ0QmVmb3JlKFQoKSxlKSxlLHZvaWQgMCxudWxsIT1yP3I6e30pfXJldHVybiBpLl8kQUkoZSksaX0pKHQsdGhpcy5yZW5kZXJSb290LHRoaXMucmVuZGVyT3B0aW9ucyl9Y29ubmVjdGVkQ2FsbGJhY2soKXt2YXIgZTtzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpLG51bGw9PT0oZT10aGlzLl8kRHQpfHx2b2lkIDA9PT1lfHxlLnNldENvbm5lY3RlZCghMCl9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXt2YXIgZTtzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpLG51bGw9PT0oZT10aGlzLl8kRHQpfHx2b2lkIDA9PT1lfHxlLnNldENvbm5lY3RlZCghMSl9cmVuZGVyKCl7cmV0dXJuIFV9fWllLmZpbmFsaXplZD0hMCxpZS5fJGxpdEVsZW1lbnQkPSEwLG51bGw9PT0ob2U9Z2xvYmFsVGhpcy5saXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQpfHx2b2lkIDA9PT1vZXx8b2UuY2FsbChnbG9iYWxUaGlzLHtMaXRFbGVtZW50OmllfSk7Y29uc3Qgc2U9Z2xvYmFsVGhpcy5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0O251bGw9PXNlfHxzZSh7TGl0RWxlbWVudDppZX0pO2Z1bmN0aW9uIGxlKCl7cmV0dXJue2FzeW5jOiExLGJhc2VVcmw6bnVsbCxicmVha3M6ITEsZXh0ZW5zaW9uczpudWxsLGdmbTohMCxoZWFkZXJJZHM6ITAsaGVhZGVyUHJlZml4OiIiLGhpZ2hsaWdodDpudWxsLGxhbmdQcmVmaXg6Imxhbmd1YWdlLSIsbWFuZ2xlOiEwLHBlZGFudGljOiExLHJlbmRlcmVyOm51bGwsc2FuaXRpemU6ITEsc2FuaXRpemVyOm51bGwsc2lsZW50OiExLHNtYXJ0eXBhbnRzOiExLHRva2VuaXplcjpudWxsLHdhbGtUb2tlbnM6bnVsbCx4aHRtbDohMX19KG51bGwhPT0oYWU9Z2xvYmFsVGhpcy5saXRFbGVtZW50VmVyc2lvbnMpJiZ2b2lkIDAhPT1hZT9hZTpnbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucz1bXSkucHVzaCgiMy4yLjAiKTtsZXQgY2U9e2FzeW5jOiExLGJhc2VVcmw6bnVsbCxicmVha3M6ITEsZXh0ZW5zaW9uczpudWxsLGdmbTohMCxoZWFkZXJJZHM6ITAsaGVhZGVyUHJlZml4OiIiLGhpZ2hsaWdodDpudWxsLGxhbmdQcmVmaXg6Imxhbmd1YWdlLSIsbWFuZ2xlOiEwLHBlZGFudGljOiExLHJlbmRlcmVyOm51bGwsc2FuaXRpemU6ITEsc2FuaXRpemVyOm51bGwsc2lsZW50OiExLHNtYXJ0eXBhbnRzOiExLHRva2VuaXplcjpudWxsLHdhbGtUb2tlbnM6bnVsbCx4aHRtbDohMX07Y29uc3QgcGU9L1smPD4iJ10vLGRlPW5ldyBSZWdFeHAocGUuc291cmNlLCJnIiksdWU9L1s8PiInXXwmKD8hKCNcZHsxLDd9fCNbWHhdW2EtZkEtRjAtOV17MSw2fXxcdyspOykvLGhlPW5ldyBSZWdFeHAodWUuc291cmNlLCJnIiksZmU9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImIzM5OyJ9LG1lPWU9PmZlW2VdO2Z1bmN0aW9uIHllKGUsdCl7aWYodCl7aWYocGUudGVzdChlKSlyZXR1cm4gZS5yZXBsYWNlKGRlLG1lKX1lbHNlIGlmKHVlLnRlc3QoZSkpcmV0dXJuIGUucmVwbGFjZShoZSxtZSk7cmV0dXJuIGV9Y29uc3QgZ2U9LyYoIyg/OlxkKyl8KD86I3hbMC05QS1GYS1mXSspfCg/Olx3KykpOz8vZ2k7ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIGUucmVwbGFjZShnZSwoKGUsdCk9PiJjb2xvbiI9PT0odD10LnRvTG93ZXJDYXNlKCkpPyI6IjoiIyI9PT10LmNoYXJBdCgwKT8ieCI9PT10LmNoYXJBdCgxKT9TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHQuc3Vic3RyaW5nKDIpLDE2KSk6U3RyaW5nLmZyb21DaGFyQ29kZSgrdC5zdWJzdHJpbmcoMSkpOiIiKSl9Y29uc3QgYmU9LyhefFteXFtdKVxeL2c7ZnVuY3Rpb24geGUoZSx0KXtlPSJzdHJpbmciPT10eXBlb2YgZT9lOmUuc291cmNlLHQ9dHx8IiI7Y29uc3Qgcj17cmVwbGFjZToodCxuKT0+KG49KG49bi5zb3VyY2V8fG4pLnJlcGxhY2UoYmUsIiQxIiksZT1lLnJlcGxhY2UodCxuKSxyKSxnZXRSZWdleDooKT0+bmV3IFJlZ0V4cChlLHQpfTtyZXR1cm4gcn1jb25zdCB3ZT0vW15cdzpdL2csJGU9L14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtmdW5jdGlvbiBrZShlLHQscil7aWYoZSl7bGV0IGU7dHJ5e2U9ZGVjb2RlVVJJQ29tcG9uZW50KHZlKHIpKS5yZXBsYWNlKHdlLCIiKS50b0xvd2VyQ2FzZSgpfWNhdGNoKGUpe3JldHVybiBudWxsfWlmKDA9PT1lLmluZGV4T2YoImphdmFzY3JpcHQ6Iil8fDA9PT1lLmluZGV4T2YoInZic2NyaXB0OiIpfHwwPT09ZS5pbmRleE9mKCJkYXRhOiIpKXJldHVybiBudWxsfXQmJiEkZS50ZXN0KHIpJiYocj1mdW5jdGlvbihlLHQpe1NlWyIgIitlXXx8KEFlLnRlc3QoZSk/U2VbIiAiK2VdPWUrIi8iOlNlWyIgIitlXT1JZShlLCIvIiwhMCkpO2NvbnN0IHI9LTE9PT0oZT1TZVsiICIrZV0pLmluZGV4T2YoIjoiKTtyZXR1cm4iLy8iPT09dC5zdWJzdHJpbmcoMCwyKT9yP3Q6ZS5yZXBsYWNlKEVlLCIkMSIpK3Q6Ii8iPT09dC5jaGFyQXQoMCk/cj90OmUucmVwbGFjZShPZSwiJDEiKSt0OmUrdH0odCxyKSk7dHJ5e3I9ZW5jb2RlVVJJKHIpLnJlcGxhY2UoLyUyNS9nLCIlIil9Y2F0Y2goZSl7cmV0dXJuIG51bGx9cmV0dXJuIHJ9Y29uc3QgU2U9e30sQWU9L15bXjpdKzpcLypbXi9dKiQvLEVlPS9eKFteOl0rOilbXHNcU10qJC8sT2U9L14oW146XSs6XC8qW14vXSopW1xzXFNdKiQvO2NvbnN0IFRlPXtleGVjOmZ1bmN0aW9uKCl7fX07ZnVuY3Rpb24gQ2UoZSl7bGV0IHQscixuPTE7Zm9yKDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWZvcihyIGluIHQ9YXJndW1lbnRzW25dLHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlfWZ1bmN0aW9uIGplKGUsdCl7Y29uc3Qgcj1lLnJlcGxhY2UoL1x8L2csKChlLHQscik9PntsZXQgbj0hMSxvPXQ7Zm9yKDstLW8+PTAmJiJcXCI9PT1yW29dOyluPSFuO3JldHVybiBuPyJ8IjoiIHwifSkpLnNwbGl0KC8gXHwvKTtsZXQgbj0wO2lmKHJbMF0udHJpbSgpfHxyLnNoaWZ0KCksci5sZW5ndGg+MCYmIXJbci5sZW5ndGgtMV0udHJpbSgpJiZyLnBvcCgpLHIubGVuZ3RoPnQpci5zcGxpY2UodCk7ZWxzZSBmb3IoO3IubGVuZ3RoPHQ7KXIucHVzaCgiIik7Zm9yKDtuPHIubGVuZ3RoO24rKylyW25dPXJbbl0udHJpbSgpLnJlcGxhY2UoL1xcXHwvZywifCIpO3JldHVybiByfWZ1bmN0aW9uIEllKGUsdCxyKXtjb25zdCBuPWUubGVuZ3RoO2lmKDA9PT1uKXJldHVybiIiO2xldCBvPTA7Zm9yKDtvPG47KXtjb25zdCBhPWUuY2hhckF0KG4tby0xKTtpZihhIT09dHx8cil7aWYoYT09PXR8fCFyKWJyZWFrO28rK31lbHNlIG8rK31yZXR1cm4gZS5zbGljZSgwLG4tbyl9ZnVuY3Rpb24gX2UoZSl7ZSYmZS5zYW5pdGl6ZSYmIWUuc2lsZW50JiZjb25zb2xlLndhcm4oIm1hcmtlZCgpOiBzYW5pdGl6ZSBhbmQgc2FuaXRpemVyIHBhcmFtZXRlcnMgYXJlIGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAwLjcuMCwgc2hvdWxkIG5vdCBiZSB1c2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUmVhZCBtb3JlIGhlcmU6IGh0dHBzOi8vbWFya2VkLmpzLm9yZy8jL1VTSU5HX0FEVkFOQ0VELm1kI29wdGlvbnMiKX1mdW5jdGlvbiBQZShlLHQpe2lmKHQ8MSlyZXR1cm4iIjtsZXQgcj0iIjtmb3IoO3Q+MTspMSZ0JiYocis9ZSksdD4+PTEsZSs9ZTtyZXR1cm4gcitlfWZ1bmN0aW9uIFJlKGUsdCxyLG4pe2NvbnN0IG89dC5ocmVmLGE9dC50aXRsZT95ZSh0LnRpdGxlKTpudWxsLGk9ZVsxXS5yZXBsYWNlKC9cXChbXFtcXV0pL2csIiQxIik7aWYoIiEiIT09ZVswXS5jaGFyQXQoMCkpe24uc3RhdGUuaW5MaW5rPSEwO2NvbnN0IGU9e3R5cGU6ImxpbmsiLHJhdzpyLGhyZWY6byx0aXRsZTphLHRleHQ6aSx0b2tlbnM6bi5pbmxpbmVUb2tlbnMoaSl9O3JldHVybiBuLnN0YXRlLmluTGluaz0hMSxlfXJldHVybnt0eXBlOiJpbWFnZSIscmF3OnIsaHJlZjpvLHRpdGxlOmEsdGV4dDp5ZShpKX19Y2xhc3MgTGV7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWV8fGNlfXNwYWNlKGUpe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5uZXdsaW5lLmV4ZWMoZSk7aWYodCYmdFswXS5sZW5ndGg+MClyZXR1cm57dHlwZToic3BhY2UiLHJhdzp0WzBdfX1jb2RlKGUpe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5jb2RlLmV4ZWMoZSk7aWYodCl7Y29uc3QgZT10WzBdLnJlcGxhY2UoL14gezEsNH0vZ20sIiIpO3JldHVybnt0eXBlOiJjb2RlIixyYXc6dFswXSxjb2RlQmxvY2tTdHlsZToiaW5kZW50ZWQiLHRleHQ6dGhpcy5vcHRpb25zLnBlZGFudGljP2U6SWUoZSwiXG4iKX19fWZlbmNlcyhlKXtjb25zdCB0PXRoaXMucnVsZXMuYmxvY2suZmVuY2VzLmV4ZWMoZSk7aWYodCl7Y29uc3QgZT10WzBdLHI9ZnVuY3Rpb24oZSx0KXtjb25zdCByPWUubWF0Y2goL14oXHMrKSg/OmBgYCkvKTtpZihudWxsPT09cilyZXR1cm4gdDtjb25zdCBuPXJbMV07cmV0dXJuIHQuc3BsaXQoIlxuIikubWFwKChlPT57Y29uc3QgdD1lLm1hdGNoKC9eXHMrLyk7aWYobnVsbD09PXQpcmV0dXJuIGU7Y29uc3Rbcl09dDtyZXR1cm4gci5sZW5ndGg+PW4ubGVuZ3RoP2Uuc2xpY2Uobi5sZW5ndGgpOmV9KSkuam9pbigiXG4iKX0oZSx0WzNdfHwiIik7cmV0dXJue3R5cGU6ImNvZGUiLHJhdzplLGxhbmc6dFsyXT90WzJdLnRyaW0oKS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCIkMSIpOnRbMl0sdGV4dDpyfX19aGVhZGluZyhlKXtjb25zdCB0PXRoaXMucnVsZXMuYmxvY2suaGVhZGluZy5leGVjKGUpO2lmKHQpe2xldCBlPXRbMl0udHJpbSgpO2lmKC8jJC8udGVzdChlKSl7Y29uc3QgdD1JZShlLCIjIik7dGhpcy5vcHRpb25zLnBlZGFudGljP2U9dC50cmltKCk6dCYmIS8gJC8udGVzdCh0KXx8KGU9dC50cmltKCkpfXJldHVybnt0eXBlOiJoZWFkaW5nIixyYXc6dFswXSxkZXB0aDp0WzFdLmxlbmd0aCx0ZXh0OmUsdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKGUpfX19aHIoZSl7Y29uc3QgdD10aGlzLnJ1bGVzLmJsb2NrLmhyLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZToiaHIiLHJhdzp0WzBdfX1ibG9ja3F1b3RlKGUpe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5ibG9ja3F1b3RlLmV4ZWMoZSk7aWYodCl7Y29uc3QgZT10WzBdLnJlcGxhY2UoL14gKj5bIFx0XT8vZ20sIiIpLHI9dGhpcy5sZXhlci5zdGF0ZS50b3A7dGhpcy5sZXhlci5zdGF0ZS50b3A9ITA7Y29uc3Qgbj10aGlzLmxleGVyLmJsb2NrVG9rZW5zKGUpO3JldHVybiB0aGlzLmxleGVyLnN0YXRlLnRvcD1yLHt0eXBlOiJibG9ja3F1b3RlIixyYXc6dFswXSx0b2tlbnM6bix0ZXh0OmV9fX1saXN0KGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2subGlzdC5leGVjKGUpO2lmKHQpe2xldCByLG4sbyxhLGkscyxsLGMscCxkLHUsaCxmPXRbMV0udHJpbSgpO2NvbnN0IG09Zi5sZW5ndGg+MSx5PXt0eXBlOiJsaXN0IixyYXc6IiIsb3JkZXJlZDptLHN0YXJ0Om0/K2Yuc2xpY2UoMCwtMSk6IiIsbG9vc2U6ITEsaXRlbXM6W119O2Y9bT9gXFxkezEsOX1cXCR7Zi5zbGljZSgtMSl9YDpgXFwke2Z9YCx0aGlzLm9wdGlvbnMucGVkYW50aWMmJihmPW0/ZjoiWyorLV0iKTtjb25zdCBnPW5ldyBSZWdFeHAoYF4oIHswLDN9JHtmfSkoKD86W1x0IF1bXlxcbl0qKT8oPzpcXG58JCkpYCk7Zm9yKDtlJiYoaD0hMSx0PWcuZXhlYyhlKSkmJiF0aGlzLnJ1bGVzLmJsb2NrLmhyLnRlc3QoZSk7KXtpZihyPXRbMF0sZT1lLnN1YnN0cmluZyhyLmxlbmd0aCksYz10WzJdLnNwbGl0KCJcbiIsMSlbMF0ucmVwbGFjZSgvXlx0Ky8sKGU9PiIgIi5yZXBlYXQoMyplLmxlbmd0aCkpKSxwPWUuc3BsaXQoIlxuIiwxKVswXSx0aGlzLm9wdGlvbnMucGVkYW50aWM/KGE9Mix1PWMudHJpbUxlZnQoKSk6KGE9dFsyXS5zZWFyY2goL1teIF0vKSxhPWE+ND8xOmEsdT1jLnNsaWNlKGEpLGErPXRbMV0ubGVuZ3RoKSxzPSExLCFjJiYvXiAqJC8udGVzdChwKSYmKHIrPXArIlxuIixlPWUuc3Vic3RyaW5nKHAubGVuZ3RoKzEpLGg9ITApLCFoKXtjb25zdCB0PW5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLGEtMSl9fSg/OlsqKy1dfFxcZHsxLDl9Wy4pXSkoKD86WyBcdF1bXlxcbl0qKT8oPzpcXG58JCkpYCksbj1uZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMyxhLTEpfX0oKD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFwqICopezMsfSkoPzpcXG4rfCQpYCksbz1uZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMyxhLTEpfX0oPzpcYFxgXGB8fn5+KWApLGk9bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsYS0xKX19I2ApO2Zvcig7ZSYmKGQ9ZS5zcGxpdCgiXG4iLDEpWzBdLHA9ZCx0aGlzLm9wdGlvbnMucGVkYW50aWMmJihwPXAucmVwbGFjZSgvXiB7MSw0fSg/PSggezR9KSpbXiBdKS9nLCIgICIpKSwhby50ZXN0KHApKSYmIWkudGVzdChwKSYmIXQudGVzdChwKSYmIW4udGVzdChlKTspe2lmKHAuc2VhcmNoKC9bXiBdLyk+PWF8fCFwLnRyaW0oKSl1Kz0iXG4iK3Auc2xpY2UoYSk7ZWxzZXtpZihzKWJyZWFrO2lmKGMuc2VhcmNoKC9bXiBdLyk+PTQpYnJlYWs7aWYoby50ZXN0KGMpKWJyZWFrO2lmKGkudGVzdChjKSlicmVhaztpZihuLnRlc3QoYykpYnJlYWs7dSs9IlxuIitwfXN8fHAudHJpbSgpfHwocz0hMCkscis9ZCsiXG4iLGU9ZS5zdWJzdHJpbmcoZC5sZW5ndGgrMSksYz1wLnNsaWNlKGEpfX15Lmxvb3NlfHwobD95Lmxvb3NlPSEwOi9cbiAqXG4gKiQvLnRlc3QocikmJihsPSEwKSksdGhpcy5vcHRpb25zLmdmbSYmKG49L15cW1sgeFhdXF0gLy5leGVjKHUpLG4mJihvPSJbIF0gIiE9PW5bMF0sdT11LnJlcGxhY2UoL15cW1sgeFhdXF0gKy8sIiIpKSkseS5pdGVtcy5wdXNoKHt0eXBlOiJsaXN0X2l0ZW0iLHJhdzpyLHRhc2s6ISFuLGNoZWNrZWQ6byxsb29zZTohMSx0ZXh0OnV9KSx5LnJhdys9cn15Lml0ZW1zW3kuaXRlbXMubGVuZ3RoLTFdLnJhdz1yLnRyaW1SaWdodCgpLHkuaXRlbXNbeS5pdGVtcy5sZW5ndGgtMV0udGV4dD11LnRyaW1SaWdodCgpLHkucmF3PXkucmF3LnRyaW1SaWdodCgpO2NvbnN0IHY9eS5pdGVtcy5sZW5ndGg7Zm9yKGk9MDtpPHY7aSsrKWlmKHRoaXMubGV4ZXIuc3RhdGUudG9wPSExLHkuaXRlbXNbaV0udG9rZW5zPXRoaXMubGV4ZXIuYmxvY2tUb2tlbnMoeS5pdGVtc1tpXS50ZXh0LFtdKSwheS5sb29zZSl7Y29uc3QgZT15Lml0ZW1zW2ldLnRva2Vucy5maWx0ZXIoKGU9PiJzcGFjZSI9PT1lLnR5cGUpKSx0PWUubGVuZ3RoPjAmJmUuc29tZSgoZT0+L1xuLipcbi8udGVzdChlLnJhdykpKTt5Lmxvb3NlPXR9aWYoeS5sb29zZSlmb3IoaT0wO2k8djtpKyspeS5pdGVtc1tpXS5sb29zZT0hMDtyZXR1cm4geX19aHRtbChlKXtjb25zdCB0PXRoaXMucnVsZXMuYmxvY2suaHRtbC5leGVjKGUpO2lmKHQpe2NvbnN0IGU9e3R5cGU6Imh0bWwiLHJhdzp0WzBdLHByZTohdGhpcy5vcHRpb25zLnNhbml0aXplciYmKCJwcmUiPT09dFsxXXx8InNjcmlwdCI9PT10WzFdfHwic3R5bGUiPT09dFsxXSksdGV4dDp0WzBdfTtpZih0aGlzLm9wdGlvbnMuc2FuaXRpemUpe2NvbnN0IHI9dGhpcy5vcHRpb25zLnNhbml0aXplcj90aGlzLm9wdGlvbnMuc2FuaXRpemVyKHRbMF0pOnllKHRbMF0pO2UudHlwZT0icGFyYWdyYXBoIixlLnRleHQ9cixlLnRva2Vucz10aGlzLmxleGVyLmlubGluZShyKX1yZXR1cm4gZX19ZGVmKGUpe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay5kZWYuZXhlYyhlKTtpZih0KXtjb25zdCBlPXRbMV0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9ccysvZywiICIpLHI9dFsyXT90WzJdLnJlcGxhY2UoL148KC4qKT4kLywiJDEiKS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCIkMSIpOiIiLG49dFszXT90WzNdLnN1YnN0cmluZygxLHRbM10ubGVuZ3RoLTEpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsIiQxIik6dFszXTtyZXR1cm57dHlwZToiZGVmIix0YWc6ZSxyYXc6dFswXSxocmVmOnIsdGl0bGU6bn19fXRhYmxlKGUpe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay50YWJsZS5leGVjKGUpO2lmKHQpe2NvbnN0IGU9e3R5cGU6InRhYmxlIixoZWFkZXI6amUodFsxXSkubWFwKChlPT4oe3RleHQ6ZX0pKSksYWxpZ246dFsyXS5yZXBsYWNlKC9eICp8XHwgKiQvZywiIikuc3BsaXQoLyAqXHwgKi8pLHJvd3M6dFszXSYmdFszXS50cmltKCk/dFszXS5yZXBsYWNlKC9cblsgXHRdKiQvLCIiKS5zcGxpdCgiXG4iKTpbXX07aWYoZS5oZWFkZXIubGVuZ3RoPT09ZS5hbGlnbi5sZW5ndGgpe2UucmF3PXRbMF07bGV0IHIsbixvLGEsaT1lLmFsaWduLmxlbmd0aDtmb3Iocj0wO3I8aTtyKyspL14gKi0rOiAqJC8udGVzdChlLmFsaWduW3JdKT9lLmFsaWduW3JdPSJyaWdodCI6L14gKjotKzogKiQvLnRlc3QoZS5hbGlnbltyXSk/ZS5hbGlnbltyXT0iY2VudGVyIjovXiAqOi0rICokLy50ZXN0KGUuYWxpZ25bcl0pP2UuYWxpZ25bcl09ImxlZnQiOmUuYWxpZ25bcl09bnVsbDtmb3IoaT1lLnJvd3MubGVuZ3RoLHI9MDtyPGk7cisrKWUucm93c1tyXT1qZShlLnJvd3Nbcl0sZS5oZWFkZXIubGVuZ3RoKS5tYXAoKGU9Pih7dGV4dDplfSkpKTtmb3IoaT1lLmhlYWRlci5sZW5ndGgsbj0wO248aTtuKyspZS5oZWFkZXJbbl0udG9rZW5zPXRoaXMubGV4ZXIuaW5saW5lKGUuaGVhZGVyW25dLnRleHQpO2ZvcihpPWUucm93cy5sZW5ndGgsbj0wO248aTtuKyspZm9yKGE9ZS5yb3dzW25dLG89MDtvPGEubGVuZ3RoO28rKylhW29dLnRva2Vucz10aGlzLmxleGVyLmlubGluZShhW29dLnRleHQpO3JldHVybiBlfX19bGhlYWRpbmcoZSl7Y29uc3QgdD10aGlzLnJ1bGVzLmJsb2NrLmxoZWFkaW5nLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZToiaGVhZGluZyIscmF3OnRbMF0sZGVwdGg6Ij0iPT09dFsyXS5jaGFyQXQoMCk/MToyLHRleHQ6dFsxXSx0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUodFsxXSl9fXBhcmFncmFwaChlKXtjb25zdCB0PXRoaXMucnVsZXMuYmxvY2sucGFyYWdyYXBoLmV4ZWMoZSk7aWYodCl7Y29uc3QgZT0iXG4iPT09dFsxXS5jaGFyQXQodFsxXS5sZW5ndGgtMSk/dFsxXS5zbGljZSgwLC0xKTp0WzFdO3JldHVybnt0eXBlOiJwYXJhZ3JhcGgiLHJhdzp0WzBdLHRleHQ6ZSx0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUoZSl9fX10ZXh0KGUpe2NvbnN0IHQ9dGhpcy5ydWxlcy5ibG9jay50ZXh0LmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZToidGV4dCIscmF3OnRbMF0sdGV4dDp0WzBdLHRva2Vuczp0aGlzLmxleGVyLmlubGluZSh0WzBdKX19ZXNjYXBlKGUpe2NvbnN0IHQ9dGhpcy5ydWxlcy5pbmxpbmUuZXNjYXBlLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZToiZXNjYXBlIixyYXc6dFswXSx0ZXh0OnllKHRbMV0pfX10YWcoZSl7Y29uc3QgdD10aGlzLnJ1bGVzLmlubGluZS50YWcuZXhlYyhlKTtpZih0KXJldHVybiF0aGlzLmxleGVyLnN0YXRlLmluTGluayYmL148YSAvaS50ZXN0KHRbMF0pP3RoaXMubGV4ZXIuc3RhdGUuaW5MaW5rPSEwOnRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rJiYvXjxcL2E+L2kudGVzdCh0WzBdKSYmKHRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rPSExKSwhdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrJiYvXjwocHJlfGNvZGV8a2JkfHNjcmlwdCkoXHN8PikvaS50ZXN0KHRbMF0pP3RoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaz0hMDp0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2smJi9ePFwvKHByZXxjb2RlfGtiZHxzY3JpcHQpKFxzfD4pL2kudGVzdCh0WzBdKSYmKHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaz0hMSkse3R5cGU6dGhpcy5vcHRpb25zLnNhbml0aXplPyJ0ZXh0IjoiaHRtbCIscmF3OnRbMF0saW5MaW5rOnRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rLGluUmF3QmxvY2s6dGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrLHRleHQ6dGhpcy5vcHRpb25zLnNhbml0aXplP3RoaXMub3B0aW9ucy5zYW5pdGl6ZXI/dGhpcy5vcHRpb25zLnNhbml0aXplcih0WzBdKTp5ZSh0WzBdKTp0WzBdfX1saW5rKGUpe2NvbnN0IHQ9dGhpcy5ydWxlcy5pbmxpbmUubGluay5leGVjKGUpO2lmKHQpe2NvbnN0IGU9dFsyXS50cmltKCk7aWYoIXRoaXMub3B0aW9ucy5wZWRhbnRpYyYmL148Ly50ZXN0KGUpKXtpZighLz4kLy50ZXN0KGUpKXJldHVybjtjb25zdCB0PUllKGUuc2xpY2UoMCwtMSksIlxcIik7aWYoKGUubGVuZ3RoLXQubGVuZ3RoKSUyPT0wKXJldHVybn1lbHNle2NvbnN0IGU9ZnVuY3Rpb24oZSx0KXtpZigtMT09PWUuaW5kZXhPZih0WzFdKSlyZXR1cm4tMTtjb25zdCByPWUubGVuZ3RoO2xldCBuPTAsbz0wO2Zvcig7bzxyO28rKylpZigiXFwiPT09ZVtvXSlvKys7ZWxzZSBpZihlW29dPT09dFswXSluKys7ZWxzZSBpZihlW29dPT09dFsxXSYmKG4tLSxuPDApKXJldHVybiBvO3JldHVybi0xfSh0WzJdLCIoKSIpO2lmKGU+LTEpe2NvbnN0IHI9KDA9PT10WzBdLmluZGV4T2YoIiEiKT81OjQpK3RbMV0ubGVuZ3RoK2U7dFsyXT10WzJdLnN1YnN0cmluZygwLGUpLHRbMF09dFswXS5zdWJzdHJpbmcoMCxyKS50cmltKCksdFszXT0iIn19bGV0IHI9dFsyXSxuPSIiO2lmKHRoaXMub3B0aW9ucy5wZWRhbnRpYyl7Y29uc3QgZT0vXihbXiciXSpbXlxzXSlccysoWyciXSkoLiopXDIvLmV4ZWMocik7ZSYmKHI9ZVsxXSxuPWVbM10pfWVsc2Ugbj10WzNdP3RbM10uc2xpY2UoMSwtMSk6IiI7cmV0dXJuIHI9ci50cmltKCksL148Ly50ZXN0KHIpJiYocj10aGlzLm9wdGlvbnMucGVkYW50aWMmJiEvPiQvLnRlc3QoZSk/ci5zbGljZSgxKTpyLnNsaWNlKDEsLTEpKSxSZSh0LHtocmVmOnI/ci5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCIkMSIpOnIsdGl0bGU6bj9uLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsIiQxIik6bn0sdFswXSx0aGlzLmxleGVyKX19cmVmbGluayhlLHQpe2xldCByO2lmKChyPXRoaXMucnVsZXMuaW5saW5lLnJlZmxpbmsuZXhlYyhlKSl8fChyPXRoaXMucnVsZXMuaW5saW5lLm5vbGluay5leGVjKGUpKSl7bGV0IGU9KHJbMl18fHJbMV0pLnJlcGxhY2UoL1xzKy9nLCIgIik7aWYoZT10W2UudG9Mb3dlckNhc2UoKV0sIWUpe2NvbnN0IGU9clswXS5jaGFyQXQoMCk7cmV0dXJue3R5cGU6InRleHQiLHJhdzplLHRleHQ6ZX19cmV0dXJuIFJlKHIsZSxyWzBdLHRoaXMubGV4ZXIpfX1lbVN0cm9uZyhlLHQscj0iIil7bGV0IG49dGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmcubERlbGltLmV4ZWMoZSk7aWYoIW4pcmV0dXJuO2lmKG5bM10mJnIubWF0Y2goL1tccHtMfVxwe059XS91KSlyZXR1cm47Y29uc3Qgbz1uWzFdfHxuWzJdfHwiIjtpZighb3x8byYmKCIiPT09cnx8dGhpcy5ydWxlcy5pbmxpbmUucHVuY3R1YXRpb24uZXhlYyhyKSkpe2NvbnN0IHI9blswXS5sZW5ndGgtMTtsZXQgbyxhLGk9cixzPTA7Y29uc3QgbD0iKiI9PT1uWzBdWzBdP3RoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nLnJEZWxpbUFzdDp0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZy5yRGVsaW1VbmQ7Zm9yKGwubGFzdEluZGV4PTAsdD10LnNsaWNlKC0xKmUubGVuZ3RoK3IpO251bGwhPShuPWwuZXhlYyh0KSk7KXtpZihvPW5bMV18fG5bMl18fG5bM118fG5bNF18fG5bNV18fG5bNl0sIW8pY29udGludWU7aWYoYT1vLmxlbmd0aCxuWzNdfHxuWzRdKXtpKz1hO2NvbnRpbnVlfWlmKChuWzVdfHxuWzZdKSYmciUzJiYhKChyK2EpJTMpKXtzKz1hO2NvbnRpbnVlfWlmKGktPWEsaT4wKWNvbnRpbnVlO2E9TWF0aC5taW4oYSxhK2krcyk7Y29uc3QgdD1lLnNsaWNlKDAscituLmluZGV4KyhuWzBdLmxlbmd0aC1vLmxlbmd0aCkrYSk7aWYoTWF0aC5taW4ocixhKSUyKXtjb25zdCBlPXQuc2xpY2UoMSwtMSk7cmV0dXJue3R5cGU6ImVtIixyYXc6dCx0ZXh0OmUsdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKGUpfX1jb25zdCBsPXQuc2xpY2UoMiwtMik7cmV0dXJue3R5cGU6InN0cm9uZyIscmF3OnQsdGV4dDpsLHRva2Vuczp0aGlzLmxleGVyLmlubGluZVRva2VucyhsKX19fX1jb2Rlc3BhbihlKXtjb25zdCB0PXRoaXMucnVsZXMuaW5saW5lLmNvZGUuZXhlYyhlKTtpZih0KXtsZXQgZT10WzJdLnJlcGxhY2UoL1xuL2csIiAiKTtjb25zdCByPS9bXiBdLy50ZXN0KGUpLG49L14gLy50ZXN0KGUpJiYvICQvLnRlc3QoZSk7cmV0dXJuIHImJm4mJihlPWUuc3Vic3RyaW5nKDEsZS5sZW5ndGgtMSkpLGU9eWUoZSwhMCkse3R5cGU6ImNvZGVzcGFuIixyYXc6dFswXSx0ZXh0OmV9fX1icihlKXtjb25zdCB0PXRoaXMucnVsZXMuaW5saW5lLmJyLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZToiYnIiLHJhdzp0WzBdfX1kZWwoZSl7Y29uc3QgdD10aGlzLnJ1bGVzLmlubGluZS5kZWwuZXhlYyhlKTtpZih0KXJldHVybnt0eXBlOiJkZWwiLHJhdzp0WzBdLHRleHQ6dFsyXSx0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmVUb2tlbnModFsyXSl9fWF1dG9saW5rKGUsdCl7Y29uc3Qgcj10aGlzLnJ1bGVzLmlubGluZS5hdXRvbGluay5leGVjKGUpO2lmKHIpe2xldCBlLG47cmV0dXJuIkAiPT09clsyXT8oZT15ZSh0aGlzLm9wdGlvbnMubWFuZ2xlP3QoclsxXSk6clsxXSksbj0ibWFpbHRvOiIrZSk6KGU9eWUoclsxXSksbj1lKSx7dHlwZToibGluayIscmF3OnJbMF0sdGV4dDplLGhyZWY6bix0b2tlbnM6W3t0eXBlOiJ0ZXh0IixyYXc6ZSx0ZXh0OmV9XX19fXVybChlLHQpe2xldCByO2lmKHI9dGhpcy5ydWxlcy5pbmxpbmUudXJsLmV4ZWMoZSkpe2xldCBlLG47aWYoIkAiPT09clsyXSllPXllKHRoaXMub3B0aW9ucy5tYW5nbGU/dChyWzBdKTpyWzBdKSxuPSJtYWlsdG86IitlO2Vsc2V7bGV0IHQ7ZG97dD1yWzBdLHJbMF09dGhpcy5ydWxlcy5pbmxpbmUuX2JhY2twZWRhbC5leGVjKHJbMF0pWzBdfXdoaWxlKHQhPT1yWzBdKTtlPXllKHJbMF0pLG49Ind3dy4iPT09clsxXT8iaHR0cDovLyIrclswXTpyWzBdfXJldHVybnt0eXBlOiJsaW5rIixyYXc6clswXSx0ZXh0OmUsaHJlZjpuLHRva2Vuczpbe3R5cGU6InRleHQiLHJhdzplLHRleHQ6ZX1dfX19aW5saW5lVGV4dChlLHQpe2NvbnN0IHI9dGhpcy5ydWxlcy5pbmxpbmUudGV4dC5leGVjKGUpO2lmKHIpe2xldCBlO3JldHVybiBlPXRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaz90aGlzLm9wdGlvbnMuc2FuaXRpemU/dGhpcy5vcHRpb25zLnNhbml0aXplcj90aGlzLm9wdGlvbnMuc2FuaXRpemVyKHJbMF0pOnllKHJbMF0pOnJbMF06eWUodGhpcy5vcHRpb25zLnNtYXJ0eXBhbnRzP3QoclswXSk6clswXSkse3R5cGU6InRleHQiLHJhdzpyWzBdLHRleHQ6ZX19fX1jb25zdCBGZT17bmV3bGluZTovXig/OiAqKD86XG58JCkpKy8sY29kZTovXiggezR9W15cbl0rKD86XG4oPzogKig/OlxufCQpKSopPykrLyxmZW5jZXM6L14gezAsM30oYHszLH0oPz1bXmBcbl0qXG4pfH57Myx9KShbXlxuXSopXG4oPzp8KFtcc1xTXSo/KVxuKSg/OiB7MCwzfVwxW35gXSogKig/PVxufCQpfCQpLyxocjovXiB7MCwzfSgoPzotW1x0IF0qKXszLH18KD86X1sgXHRdKil7Myx9fCg/OlwqWyBcdF0qKXszLH0pKD86XG4rfCQpLyxoZWFkaW5nOi9eIHswLDN9KCN7MSw2fSkoPz1cc3wkKSguKikoPzpcbit8JCkvLGJsb2NrcXVvdGU6L14oIHswLDN9PiA/KHBhcmFncmFwaHxbXlxuXSopKD86XG58JCkpKy8sbGlzdDovXiggezAsM31idWxsKShbIFx0XVteXG5dKz8pPyg/OlxufCQpLyxodG1sOiJeIHswLDN9KD86PChzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKVtcXHM+XVtcXHNcXFNdKj8oPzo8L1xcMT5bXlxcbl0qXFxuK3wkKXxjb21tZW50W15cXG5dKihcXG4rfCQpfDxcXD9bXFxzXFxTXSo/KD86XFw/Plxcbip8JCl8PCFbQS1aXVtcXHNcXFNdKj8oPzo+XFxuKnwkKXw8IVxcW0NEQVRBXFxbW1xcc1xcU10qPyg/OlxcXVxcXT5cXG4qfCQpfDwvPyh0YWcpKD86ICt8XFxufC8/PilbXFxzXFxTXSo/KD86KD86XFxuICopK1xcbnwkKXw8KD8hc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSkoW2Etel1bXFx3LV0qKSg/OmF0dHJpYnV0ZSkqPyAqLz8+KD89WyBcXHRdKig/OlxcbnwkKSlbXFxzXFxTXSo/KD86KD86XFxuICopK1xcbnwkKXw8Lyg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW2Etel1bXFx3LV0qXFxzKj4oPz1bIFxcdF0qKD86XFxufCQpKVtcXHNcXFNdKj8oPzooPzpcXG4gKikrXFxufCQpKSIsZGVmOi9eIHswLDN9XFsobGFiZWwpXF06ICooPzpcbiAqKT8oW148XHNdW15cc10qfDwuKj8+KSg/Oig/OiArKD86XG4gKik/fCAqXG4gKikodGl0bGUpKT8gKig/OlxuK3wkKS8sdGFibGU6VGUsbGhlYWRpbmc6L14oKD86Lnxcbig/IVxuKSkrPylcbiB7MCwzfSg9K3wtKykgKig/OlxuK3wkKS8sX3BhcmFncmFwaDovXihbXlxuXSsoPzpcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sfHRhYmxlfCArXG4pW15cbl0rKSopLyx0ZXh0Oi9eW15cbl0rLyxfbGFiZWw6Lyg/IVxzKlxdKSg/OlxcLnxbXlxbXF1cXF0pKy8sX3RpdGxlOi8oPzoiKD86XFwiP3xbXiJcXF0pKiJ8J1teJ1xuXSooPzpcblteJ1xuXSspKlxuPyd8XChbXigpXSpcKSkvfTtGZS5kZWY9eGUoRmUuZGVmKS5yZXBsYWNlKCJsYWJlbCIsRmUuX2xhYmVsKS5yZXBsYWNlKCJ0aXRsZSIsRmUuX3RpdGxlKS5nZXRSZWdleCgpLEZlLmJ1bGxldD0vKD86WyorLV18XGR7MSw5fVsuKV0pLyxGZS5saXN0SXRlbVN0YXJ0PXhlKC9eKCAqKShidWxsKSAqLykucmVwbGFjZSgiYnVsbCIsRmUuYnVsbGV0KS5nZXRSZWdleCgpLEZlLmxpc3Q9eGUoRmUubGlzdCkucmVwbGFjZSgvYnVsbC9nLEZlLmJ1bGxldCkucmVwbGFjZSgiaHIiLCJcXG4rKD89XFwxPyg/Oig/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcKiAqKXszLH0pKD86XFxuK3wkKSkiKS5yZXBsYWNlKCJkZWYiLCJcXG4rKD89IitGZS5kZWYuc291cmNlKyIpIikuZ2V0UmVnZXgoKSxGZS5fdGFnPSJhZGRyZXNzfGFydGljbGV8YXNpZGV8YmFzZXxiYXNlZm9udHxibG9ja3F1b3RlfGJvZHl8Y2FwdGlvbnxjZW50ZXJ8Y29sfGNvbGdyb3VwfGRkfGRldGFpbHN8ZGlhbG9nfGRpcnxkaXZ8ZGx8ZHR8ZmllbGRzZXR8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGZvcm18ZnJhbWV8ZnJhbWVzZXR8aFsxLTZdfGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxtZXRhfG5hdnxub2ZyYW1lc3xvbHxvcHRncm91cHxvcHRpb258cHxwYXJhbXxzZWN0aW9ufHNvdXJjZXxzdW1tYXJ5fHRhYmxlfHRib2R5fHRkfHRmb290fHRofHRoZWFkfHRpdGxlfHRyfHRyYWNrfHVsIixGZS5fY29tbWVudD0vPCEtLSg/IS0/PilbXHNcU10qPyg/Oi0tPnwkKS8sRmUuaHRtbD14ZShGZS5odG1sLCJpIikucmVwbGFjZSgiY29tbWVudCIsRmUuX2NvbW1lbnQpLnJlcGxhY2UoInRhZyIsRmUuX3RhZykucmVwbGFjZSgiYXR0cmlidXRlIiwvICtbYS16QS1aOl9dW1x3LjotXSooPzogKj0gKiJbXiJcbl0qInwgKj0gKidbXidcbl0qJ3wgKj0gKlteXHMiJz08PmBdKyk/LykuZ2V0UmVnZXgoKSxGZS5wYXJhZ3JhcGg9eGUoRmUuX3BhcmFncmFwaCkucmVwbGFjZSgiaHIiLEZlLmhyKS5yZXBsYWNlKCJoZWFkaW5nIiwiIHswLDN9I3sxLDZ9ICIpLnJlcGxhY2UoInxsaGVhZGluZyIsIiIpLnJlcGxhY2UoInx0YWJsZSIsIiIpLnJlcGxhY2UoImJsb2NrcXVvdGUiLCIgezAsM30+IikucmVwbGFjZSgiZmVuY2VzIiwiIHswLDN9KD86YHszLH0oPz1bXmBcXG5dKlxcbil8fnszLH0pW15cXG5dKlxcbiIpLnJlcGxhY2UoImxpc3QiLCIgezAsM30oPzpbKistXXwxWy4pXSkgIikucmVwbGFjZSgiaHRtbCIsIjwvPyg/OnRhZykoPzogK3xcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pIikucmVwbGFjZSgidGFnIixGZS5fdGFnKS5nZXRSZWdleCgpLEZlLmJsb2NrcXVvdGU9eGUoRmUuYmxvY2txdW90ZSkucmVwbGFjZSgicGFyYWdyYXBoIixGZS5wYXJhZ3JhcGgpLmdldFJlZ2V4KCksRmUubm9ybWFsPUNlKHt9LEZlKSxGZS5nZm09Q2Uoe30sRmUubm9ybWFsLHt0YWJsZToiXiAqKFteXFxuIF0uKlxcfC4qKVxcbiB7MCwzfSg/OlxcfCAqKT8oOj8tKzo/ICooPzpcXHwgKjo/LSs6PyAqKSopKD86XFx8ICopPyg/OlxcbigoPzooPyEgKlxcbnxocnxoZWFkaW5nfGJsb2NrcXVvdGV8Y29kZXxmZW5jZXN8bGlzdHxodG1sKS4qKD86XFxufCQpKSopXFxuKnwkKSJ9KSxGZS5nZm0udGFibGU9eGUoRmUuZ2ZtLnRhYmxlKS5yZXBsYWNlKCJociIsRmUuaHIpLnJlcGxhY2UoImhlYWRpbmciLCIgezAsM30jezEsNn0gIikucmVwbGFjZSgiYmxvY2txdW90ZSIsIiB7MCwzfT4iKS5yZXBsYWNlKCJjb2RlIiwiIHs0fVteXFxuXSIpLnJlcGxhY2UoImZlbmNlcyIsIiB7MCwzfSg/OmB7Myx9KD89W15gXFxuXSpcXG4pfH57Myx9KVteXFxuXSpcXG4iKS5yZXBsYWNlKCJsaXN0IiwiIHswLDN9KD86WyorLV18MVsuKV0pICIpLnJlcGxhY2UoImh0bWwiLCI8Lz8oPzp0YWcpKD86ICt8XFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKSIpLnJlcGxhY2UoInRhZyIsRmUuX3RhZykuZ2V0UmVnZXgoKSxGZS5nZm0ucGFyYWdyYXBoPXhlKEZlLl9wYXJhZ3JhcGgpLnJlcGxhY2UoImhyIixGZS5ocikucmVwbGFjZSgiaGVhZGluZyIsIiB7MCwzfSN7MSw2fSAiKS5yZXBsYWNlKCJ8bGhlYWRpbmciLCIiKS5yZXBsYWNlKCJ0YWJsZSIsRmUuZ2ZtLnRhYmxlKS5yZXBsYWNlKCJibG9ja3F1b3RlIiwiIHswLDN9PiIpLnJlcGxhY2UoImZlbmNlcyIsIiB7MCwzfSg/OmB7Myx9KD89W15gXFxuXSpcXG4pfH57Myx9KVteXFxuXSpcXG4iKS5yZXBsYWNlKCJsaXN0IiwiIHswLDN9KD86WyorLV18MVsuKV0pICIpLnJlcGxhY2UoImh0bWwiLCI8Lz8oPzp0YWcpKD86ICt8XFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKSIpLnJlcGxhY2UoInRhZyIsRmUuX3RhZykuZ2V0UmVnZXgoKSxGZS5wZWRhbnRpYz1DZSh7fSxGZS5ub3JtYWwse2h0bWw6eGUoIl4gKig/OmNvbW1lbnQgKig/OlxcbnxcXHMqJCl8PCh0YWcpW1xcc1xcU10rPzwvXFwxPiAqKD86XFxuezIsfXxcXHMqJCl8PHRhZyg/OlwiW15cIl0qXCJ8J1teJ10qJ3xcXHNbXidcIi8+XFxzXSopKj8vPz4gKig/OlxcbnsyLH18XFxzKiQpKSIpLnJlcGxhY2UoImNvbW1lbnQiLEZlLl9jb21tZW50KS5yZXBsYWNlKC90YWcvZywiKD8hKD86YXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGV8dmFyfHNhbXB8a2JkfHN1YnxzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpXFxiKVxcdysoPyE6fFteXFx3XFxzQF0qQClcXGIiKS5nZXRSZWdleCgpLGRlZjovXiAqXFsoW15cXV0rKVxdOiAqPD8oW15ccz5dKyk+Pyg/OiArKFsiKF1bXlxuXStbIildKSk/ICooPzpcbit8JCkvLGhlYWRpbmc6L14oI3sxLDZ9KSguKikoPzpcbit8JCkvLGZlbmNlczpUZSxsaGVhZGluZzovXiguKz8pXG4gezAsM30oPSt8LSspICooPzpcbit8JCkvLHBhcmFncmFwaDp4ZShGZS5ub3JtYWwuX3BhcmFncmFwaCkucmVwbGFjZSgiaHIiLEZlLmhyKS5yZXBsYWNlKCJoZWFkaW5nIiwiICojezEsNn0gKlteXG5dIikucmVwbGFjZSgibGhlYWRpbmciLEZlLmxoZWFkaW5nKS5yZXBsYWNlKCJibG9ja3F1b3RlIiwiIHswLDN9PiIpLnJlcGxhY2UoInxmZW5jZXMiLCIiKS5yZXBsYWNlKCJ8bGlzdCIsIiIpLnJlcGxhY2UoInxodG1sIiwiIikuZ2V0UmVnZXgoKX0pO2NvbnN0IERlPXtlc2NhcGU6L15cXChbISIjJCUmJygpKissXC0uLzo7PD0+P0BcW1xdXFxeX2B7fH1+XSkvLGF1dG9saW5rOi9ePChzY2hlbWU6W15cc1x4MDAtXHgxZjw+XSp8ZW1haWwpPi8sdXJsOlRlLHRhZzoiXmNvbW1lbnR8XjwvW2EtekEtWl1bXFx3Oi1dKlxccyo+fF48W2EtekEtWl1bXFx3LV0qKD86YXR0cmlidXRlKSo/XFxzKi8/PnxePFxcP1tcXHNcXFNdKj9cXD8+fF48IVthLXpBLVpdK1xcc1tcXHNcXFNdKj8+fF48IVxcW0NEQVRBXFxbW1xcc1xcU10qP1xcXVxcXT4iLGxpbms6L14hP1xbKGxhYmVsKVxdXChccyooaHJlZikoPzpccysodGl0bGUpKT9ccypcKS8scmVmbGluazovXiE/XFsobGFiZWwpXF1cWyhyZWYpXF0vLG5vbGluazovXiE/XFsocmVmKVxdKD86XFtcXSk/LyxyZWZsaW5rU2VhcmNoOiJyZWZsaW5rfG5vbGluayg/IVxcKCkiLGVtU3Ryb25nOntsRGVsaW06L14oPzpcKisoPzooW3B1bmN0X10pfFteXHMqXSkpfF5fKyg/OihbcHVuY3QqXSl8KFteXHNfXSkpLyxyRGVsaW1Bc3Q6L14oPzpbXl8qXFxdfFxcLikqP1xfXF8oPzpbXl8qXFxdfFxcLikqP1wqKD86W15fKlxcXXxcXC4pKj8oPz1cX1xfKXwoPzpbXipcXF18XFwuKSsoPz1bXipdKXxbcHVuY3RfXShcKispKD89W1xzXXwkKXwoPzpbXnB1bmN0Kl9cc1xcXXxcXC4pKFwqKykoPz1bcHVuY3RfXHNdfCQpfFtwdW5jdF9cc10oXCorKSg/PVtecHVuY3QqX1xzXSl8W1xzXShcKispKD89W3B1bmN0X10pfFtwdW5jdF9dKFwqKykoPz1bcHVuY3RfXSl8KD86W15wdW5jdCpfXHNcXF18XFwuKShcKispKD89W15wdW5jdCpfXHNdKS8sckRlbGltVW5kOi9eKD86W15fKlxcXXxcXC4pKj9cKlwqKD86W15fKlxcXXxcXC4pKj9cXyg/OlteXypcXF18XFwuKSo/KD89XCpcKil8KD86W15fXFxdfFxcLikrKD89W15fXSl8W3B1bmN0Kl0oXF8rKSg/PVtcc118JCl8KD86W15wdW5jdCpfXHNcXF18XFwuKShcXyspKD89W3B1bmN0KlxzXXwkKXxbcHVuY3QqXHNdKFxfKykoPz1bXnB1bmN0Kl9cc10pfFtcc10oXF8rKSg/PVtwdW5jdCpdKXxbcHVuY3QqXShcXyspKD89W3B1bmN0Kl0pL30sY29kZTovXihgKykoW15gXXxbXmBdW1xzXFNdKj9bXmBdKVwxKD8hYCkvLGJyOi9eKCB7Mix9fFxcKVxuKD8hXHMqJCkvLGRlbDpUZSx0ZXh0Oi9eKGArfFteYF0pKD86KD89IHsyLH1cbil8W1xzXFNdKj8oPzooPz1bXFw8IVxbYCpfXXxcYl98JCl8W14gXSg/PSB7Mix9XG4pKSkvLHB1bmN0dWF0aW9uOi9eKFtcc3B1bmN0dWF0aW9uXSkvfTtmdW5jdGlvbiBCZShlKXtyZXR1cm4gZS5yZXBsYWNlKC8tLS0vZywi4oCUIikucmVwbGFjZSgvLS0vZywi4oCTIikucmVwbGFjZSgvKF58Wy1cdTIwMTQvKFxbeyJcc10pJy9nLCIkMeKAmCIpLnJlcGxhY2UoLycvZywi4oCZIikucmVwbGFjZSgvKF58Wy1cdTIwMTQvKFxbe1x1MjAxOFxzXSkiL2csIiQx4oCcIikucmVwbGFjZSgvIi9nLCLigJ0iKS5yZXBsYWNlKC9cLnszfS9nLCLigKYiKX1mdW5jdGlvbiBOZShlKXtsZXQgdCxyLG49IiI7Y29uc3Qgbz1lLmxlbmd0aDtmb3IodD0wO3Q8bzt0Kyspcj1lLmNoYXJDb2RlQXQodCksTWF0aC5yYW5kb20oKT4uNSYmKHI9IngiK3IudG9TdHJpbmcoMTYpKSxuKz0iJiMiK3IrIjsiO3JldHVybiBufURlLl9wdW5jdHVhdGlvbj0iIVwiIyQlJicoKStcXC0uLC86Ozw9Pj9AXFxbXFxdYF57fH1+IixEZS5wdW5jdHVhdGlvbj14ZShEZS5wdW5jdHVhdGlvbikucmVwbGFjZSgvcHVuY3R1YXRpb24vZyxEZS5fcHVuY3R1YXRpb24pLmdldFJlZ2V4KCksRGUuYmxvY2tTa2lwPS9cW1teXF1dKj9cXVwoW15cKV0qP1wpfGBbXmBdKj9gfDxbXj5dKj8+L2csRGUuZXNjYXBlZEVtU3Q9Lyg/Ol58W15cXF0pKD86XFxcXCkqXFxbKl9dL2csRGUuX2NvbW1lbnQ9eGUoRmUuX2NvbW1lbnQpLnJlcGxhY2UoIig/Oi0tXHgzZXwkKSIsIi0tXHgzZSIpLmdldFJlZ2V4KCksRGUuZW1TdHJvbmcubERlbGltPXhlKERlLmVtU3Ryb25nLmxEZWxpbSkucmVwbGFjZSgvcHVuY3QvZyxEZS5fcHVuY3R1YXRpb24pLmdldFJlZ2V4KCksRGUuZW1TdHJvbmcuckRlbGltQXN0PXhlKERlLmVtU3Ryb25nLnJEZWxpbUFzdCwiZyIpLnJlcGxhY2UoL3B1bmN0L2csRGUuX3B1bmN0dWF0aW9uKS5nZXRSZWdleCgpLERlLmVtU3Ryb25nLnJEZWxpbVVuZD14ZShEZS5lbVN0cm9uZy5yRGVsaW1VbmQsImciKS5yZXBsYWNlKC9wdW5jdC9nLERlLl9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKSxEZS5fZXNjYXBlcz0vXFwoWyEiIyQlJicoKSorLFwtLi86Ozw9Pj9AXFtcXVxcXl9ge3x9fl0pL2csRGUuX3NjaGVtZT0vW2EtekEtWl1bYS16QS1aMC05Ky4tXXsxLDMxfS8sRGUuX2VtYWlsPS9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSsoPyFbLV9dKS8sRGUuYXV0b2xpbms9eGUoRGUuYXV0b2xpbmspLnJlcGxhY2UoInNjaGVtZSIsRGUuX3NjaGVtZSkucmVwbGFjZSgiZW1haWwiLERlLl9lbWFpbCkuZ2V0UmVnZXgoKSxEZS5fYXR0cmlidXRlPS9ccytbYS16QS1aOl9dW1x3LjotXSooPzpccyo9XHMqIlteIl0qInxccyo9XHMqJ1teJ10qJ3xccyo9XHMqW15ccyInPTw+YF0rKT8vLERlLnRhZz14ZShEZS50YWcpLnJlcGxhY2UoImNvbW1lbnQiLERlLl9jb21tZW50KS5yZXBsYWNlKCJhdHRyaWJ1dGUiLERlLl9hdHRyaWJ1dGUpLmdldFJlZ2V4KCksRGUuX2xhYmVsPS8oPzpcWyg/OlxcLnxbXlxbXF1cXF0pKlxdfFxcLnxgW15gXSpgfFteXFtcXVxcYF0pKj8vLERlLl9ocmVmPS88KD86XFwufFteXG48PlxcXSkrPnxbXlxzXHgwMC1ceDFmXSovLERlLl90aXRsZT0vIig/OlxcIj98W14iXFxdKSoifCcoPzpcXCc/fFteJ1xcXSkqJ3xcKCg/OlxcXCk/fFteKVxcXSkqXCkvLERlLmxpbms9eGUoRGUubGluaykucmVwbGFjZSgibGFiZWwiLERlLl9sYWJlbCkucmVwbGFjZSgiaHJlZiIsRGUuX2hyZWYpLnJlcGxhY2UoInRpdGxlIixEZS5fdGl0bGUpLmdldFJlZ2V4KCksRGUucmVmbGluaz14ZShEZS5yZWZsaW5rKS5yZXBsYWNlKCJsYWJlbCIsRGUuX2xhYmVsKS5yZXBsYWNlKCJyZWYiLEZlLl9sYWJlbCkuZ2V0UmVnZXgoKSxEZS5ub2xpbms9eGUoRGUubm9saW5rKS5yZXBsYWNlKCJyZWYiLEZlLl9sYWJlbCkuZ2V0UmVnZXgoKSxEZS5yZWZsaW5rU2VhcmNoPXhlKERlLnJlZmxpbmtTZWFyY2gsImciKS5yZXBsYWNlKCJyZWZsaW5rIixEZS5yZWZsaW5rKS5yZXBsYWNlKCJub2xpbmsiLERlLm5vbGluaykuZ2V0UmVnZXgoKSxEZS5ub3JtYWw9Q2Uoe30sRGUpLERlLnBlZGFudGljPUNlKHt9LERlLm5vcm1hbCx7c3Ryb25nOntzdGFydDovXl9ffFwqXCovLG1pZGRsZTovXl9fKD89XFMpKFtcc1xTXSo/XFMpX18oPyFfKXxeXCpcKig/PVxTKShbXHNcU10qP1xTKVwqXCooPyFcKikvLGVuZEFzdDovXCpcKig/IVwqKS9nLGVuZFVuZDovX18oPyFfKS9nfSxlbTp7c3RhcnQ6L15ffFwqLyxtaWRkbGU6L14oKVwqKD89XFMpKFtcc1xTXSo/XFMpXCooPyFcKil8Xl8oPz1cUykoW1xzXFNdKj9cUylfKD8hXykvLGVuZEFzdDovXCooPyFcKikvZyxlbmRVbmQ6L18oPyFfKS9nfSxsaW5rOnhlKC9eIT9cWyhsYWJlbClcXVwoKC4qPylcKS8pLnJlcGxhY2UoImxhYmVsIixEZS5fbGFiZWwpLmdldFJlZ2V4KCkscmVmbGluazp4ZSgvXiE/XFsobGFiZWwpXF1ccypcWyhbXlxdXSopXF0vKS5yZXBsYWNlKCJsYWJlbCIsRGUuX2xhYmVsKS5nZXRSZWdleCgpfSksRGUuZ2ZtPUNlKHt9LERlLm5vcm1hbCx7ZXNjYXBlOnhlKERlLmVzY2FwZSkucmVwbGFjZSgiXSkiLCJ+fF0pIikuZ2V0UmVnZXgoKSxfZXh0ZW5kZWRfZW1haWw6L1tBLVphLXowLTkuXystXSsoQClbYS16QS1aMC05LV9dKyg/OlwuW2EtekEtWjAtOS1fXSpbYS16QS1aMC05XSkrKD8hWy1fXSkvLHVybDovXigoPzpmdHB8aHR0cHM/KTpcL1wvfHd3d1wuKSg/OlthLXpBLVowLTlcLV0rXC4/KStbXlxzPF0qfF5lbWFpbC8sX2JhY2twZWRhbDovKD86W14/IS4sOjsqXycifigpJl0rfFwoW14pXSpcKXwmKD8hW2EtekEtWjAtOV0rOyQpfFs/IS4sOjsqXycifildKyg/ISQpKSsvLGRlbDovXih+fj8pKD89W15cc35dKShbXHNcU10qP1teXHN+XSlcMSg/PVtefl18JCkvLHRleHQ6L14oW2B+XSt8W15gfl0pKD86KD89IHsyLH1cbil8KD89W2EtekEtWjAtOS4hIyQlJicqK1wvPT9fYHtcfH1+LV0rQCl8W1xzXFNdKj8oPzooPz1bXFw8IVxbYCp+X118XGJffGh0dHBzPzpcL1wvfGZ0cDpcL1wvfHd3d1wufCQpfFteIF0oPz0gezIsfVxuKXxbXmEtekEtWjAtOS4hIyQlJicqK1wvPT9fYHtcfH1+LV0oPz1bYS16QS1aMC05LiEjJCUmJyorXC89P19ge1x8fX4tXStAKSkpL30pLERlLmdmbS51cmw9eGUoRGUuZ2ZtLnVybCwiaSIpLnJlcGxhY2UoImVtYWlsIixEZS5nZm0uX2V4dGVuZGVkX2VtYWlsKS5nZXRSZWdleCgpLERlLmJyZWFrcz1DZSh7fSxEZS5nZm0se2JyOnhlKERlLmJyKS5yZXBsYWNlKCJ7Mix9IiwiKiIpLmdldFJlZ2V4KCksdGV4dDp4ZShEZS5nZm0udGV4dCkucmVwbGFjZSgiXFxiXyIsIlxcYl98IHsyLH1cXG4iKS5yZXBsYWNlKC9cezIsXH0vZywiKiIpLmdldFJlZ2V4KCl9KTtjbGFzcyBxZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnRva2Vucz1bXSx0aGlzLnRva2Vucy5saW5rcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMub3B0aW9ucz1lfHxjZSx0aGlzLm9wdGlvbnMudG9rZW5pemVyPXRoaXMub3B0aW9ucy50b2tlbml6ZXJ8fG5ldyBMZSx0aGlzLnRva2VuaXplcj10aGlzLm9wdGlvbnMudG9rZW5pemVyLHRoaXMudG9rZW5pemVyLm9wdGlvbnM9dGhpcy5vcHRpb25zLHRoaXMudG9rZW5pemVyLmxleGVyPXRoaXMsdGhpcy5pbmxpbmVRdWV1ZT1bXSx0aGlzLnN0YXRlPXtpbkxpbms6ITEsaW5SYXdCbG9jazohMSx0b3A6ITB9O2NvbnN0IHQ9e2Jsb2NrOkZlLm5vcm1hbCxpbmxpbmU6RGUubm9ybWFsfTt0aGlzLm9wdGlvbnMucGVkYW50aWM/KHQuYmxvY2s9RmUucGVkYW50aWMsdC5pbmxpbmU9RGUucGVkYW50aWMpOnRoaXMub3B0aW9ucy5nZm0mJih0LmJsb2NrPUZlLmdmbSx0aGlzLm9wdGlvbnMuYnJlYWtzP3QuaW5saW5lPURlLmJyZWFrczp0LmlubGluZT1EZS5nZm0pLHRoaXMudG9rZW5pemVyLnJ1bGVzPXR9c3RhdGljIGdldCBydWxlcygpe3JldHVybntibG9jazpGZSxpbmxpbmU6RGV9fXN0YXRpYyBsZXgoZSx0KXtyZXR1cm4gbmV3IHFlKHQpLmxleChlKX1zdGF0aWMgbGV4SW5saW5lKGUsdCl7cmV0dXJuIG5ldyBxZSh0KS5pbmxpbmVUb2tlbnMoZSl9bGV4KGUpe2xldCB0O2ZvcihlPWUucmVwbGFjZSgvXHJcbnxcci9nLCJcbiIpLHRoaXMuYmxvY2tUb2tlbnMoZSx0aGlzLnRva2Vucyk7dD10aGlzLmlubGluZVF1ZXVlLnNoaWZ0KCk7KXRoaXMuaW5saW5lVG9rZW5zKHQuc3JjLHQudG9rZW5zKTtyZXR1cm4gdGhpcy50b2tlbnN9YmxvY2tUb2tlbnMoZSx0PVtdKXtsZXQgcixuLG8sYTtmb3IoZT10aGlzLm9wdGlvbnMucGVkYW50aWM/ZS5yZXBsYWNlKC9cdC9nLCIgICAgIikucmVwbGFjZSgvXiArJC9nbSwiIik6ZS5yZXBsYWNlKC9eKCAqKShcdCspL2dtLCgoZSx0LHIpPT50KyIgICAgIi5yZXBlYXQoci5sZW5ndGgpKSk7ZTspaWYoISh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucyYmdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuYmxvY2smJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLmJsb2NrLnNvbWUoKG49PiEhKHI9bi5jYWxsKHtsZXhlcjp0aGlzfSxlLHQpKSYmKGU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gociksITApKSkpKWlmKHI9dGhpcy50b2tlbml6ZXIuc3BhY2UoZSkpZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLDE9PT1yLnJhdy5sZW5ndGgmJnQubGVuZ3RoPjA/dFt0Lmxlbmd0aC0xXS5yYXcrPSJcbiI6dC5wdXNoKHIpO2Vsc2UgaWYocj10aGlzLnRva2VuaXplci5jb2RlKGUpKWU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSxuPXRbdC5sZW5ndGgtMV0sIW58fCJwYXJhZ3JhcGgiIT09bi50eXBlJiYidGV4dCIhPT1uLnR5cGU/dC5wdXNoKHIpOihuLnJhdys9IlxuIityLnJhdyxuLnRleHQrPSJcbiIrci50ZXh0LHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGgtMV0uc3JjPW4udGV4dCk7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLmZlbmNlcyhlKSllPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2Vsc2UgaWYocj10aGlzLnRva2VuaXplci5oZWFkaW5nKGUpKWU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLmhyKGUpKWU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLmJsb2NrcXVvdGUoZSkpZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtlbHNlIGlmKHI9dGhpcy50b2tlbml6ZXIubGlzdChlKSllPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2Vsc2UgaWYocj10aGlzLnRva2VuaXplci5odG1sKGUpKWU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLmRlZihlKSllPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksbj10W3QubGVuZ3RoLTFdLCFufHwicGFyYWdyYXBoIiE9PW4udHlwZSYmInRleHQiIT09bi50eXBlP3RoaXMudG9rZW5zLmxpbmtzW3IudGFnXXx8KHRoaXMudG9rZW5zLmxpbmtzW3IudGFnXT17aHJlZjpyLmhyZWYsdGl0bGU6ci50aXRsZX0pOihuLnJhdys9IlxuIityLnJhdyxuLnRleHQrPSJcbiIrci5yYXcsdGhpcy5pbmxpbmVRdWV1ZVt0aGlzLmlubGluZVF1ZXVlLmxlbmd0aC0xXS5zcmM9bi50ZXh0KTtlbHNlIGlmKHI9dGhpcy50b2tlbml6ZXIudGFibGUoZSkpZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtlbHNlIGlmKHI9dGhpcy50b2tlbml6ZXIubGhlYWRpbmcoZSkpZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtlbHNle2lmKG89ZSx0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucyYmdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuc3RhcnRCbG9jayl7bGV0IHQ9MS8wO2NvbnN0IHI9ZS5zbGljZSgxKTtsZXQgbjt0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydEJsb2NrLmZvckVhY2goKGZ1bmN0aW9uKGUpe249ZS5jYWxsKHtsZXhlcjp0aGlzfSxyKSwibnVtYmVyIj09dHlwZW9mIG4mJm4+PTAmJih0PU1hdGgubWluKHQsbikpfSkpLHQ8MS8wJiZ0Pj0wJiYobz1lLnN1YnN0cmluZygwLHQrMSkpfWlmKHRoaXMuc3RhdGUudG9wJiYocj10aGlzLnRva2VuaXplci5wYXJhZ3JhcGgobykpKW49dFt0Lmxlbmd0aC0xXSxhJiYicGFyYWdyYXBoIj09PW4udHlwZT8obi5yYXcrPSJcbiIrci5yYXcsbi50ZXh0Kz0iXG4iK3IudGV4dCx0aGlzLmlubGluZVF1ZXVlLnBvcCgpLHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGgtMV0uc3JjPW4udGV4dCk6dC5wdXNoKHIpLGE9by5sZW5ndGghPT1lLmxlbmd0aCxlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCk7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLnRleHQoZSkpZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLG49dFt0Lmxlbmd0aC0xXSxuJiYidGV4dCI9PT1uLnR5cGU/KG4ucmF3Kz0iXG4iK3IucmF3LG4udGV4dCs9IlxuIityLnRleHQsdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKSx0aGlzLmlubGluZVF1ZXVlW3RoaXMuaW5saW5lUXVldWUubGVuZ3RoLTFdLnNyYz1uLnRleHQpOnQucHVzaChyKTtlbHNlIGlmKGUpe2NvbnN0IHQ9IkluZmluaXRlIGxvb3Agb24gYnl0ZTogIitlLmNoYXJDb2RlQXQoMCk7aWYodGhpcy5vcHRpb25zLnNpbGVudCl7Y29uc29sZS5lcnJvcih0KTticmVha310aHJvdyBuZXcgRXJyb3IodCl9fXJldHVybiB0aGlzLnN0YXRlLnRvcD0hMCx0fWlubGluZShlLHQ9W10pe3JldHVybiB0aGlzLmlubGluZVF1ZXVlLnB1c2goe3NyYzplLHRva2Vuczp0fSksdH1pbmxpbmVUb2tlbnMoZSx0PVtdKXtsZXQgcixuLG8sYSxpLHMsbD1lO2lmKHRoaXMudG9rZW5zLmxpbmtzKXtjb25zdCBlPU9iamVjdC5rZXlzKHRoaXMudG9rZW5zLmxpbmtzKTtpZihlLmxlbmd0aD4wKWZvcig7bnVsbCE9KGE9dGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLnJlZmxpbmtTZWFyY2guZXhlYyhsKSk7KWUuaW5jbHVkZXMoYVswXS5zbGljZShhWzBdLmxhc3RJbmRleE9mKCJbIikrMSwtMSkpJiYobD1sLnNsaWNlKDAsYS5pbmRleCkrIlsiK1BlKCJhIixhWzBdLmxlbmd0aC0yKSsiXSIrbC5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUucmVmbGlua1NlYXJjaC5sYXN0SW5kZXgpKX1mb3IoO251bGwhPShhPXRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5ibG9ja1NraXAuZXhlYyhsKSk7KWw9bC5zbGljZSgwLGEuaW5kZXgpKyJbIitQZSgiYSIsYVswXS5sZW5ndGgtMikrIl0iK2wuc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5sYXN0SW5kZXgpO2Zvcig7bnVsbCE9KGE9dGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmVzY2FwZWRFbVN0LmV4ZWMobCkpOylsPWwuc2xpY2UoMCxhLmluZGV4K2FbMF0ubGVuZ3RoLTIpKyIrKyIrbC5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuZXNjYXBlZEVtU3QubGFzdEluZGV4KSx0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuZXNjYXBlZEVtU3QubGFzdEluZGV4LS07Zm9yKDtlOylpZihpfHwocz0iIiksaT0hMSwhKHRoaXMub3B0aW9ucy5leHRlbnNpb25zJiZ0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5pbmxpbmUmJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLmlubGluZS5zb21lKChuPT4hIShyPW4uY2FsbCh7bGV4ZXI6dGhpc30sZSx0KSkmJihlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpLCEwKSkpKSlpZihyPXRoaXMudG9rZW5pemVyLmVzY2FwZShlKSllPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2Vsc2UgaWYocj10aGlzLnRva2VuaXplci50YWcoZSkpZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLG49dFt0Lmxlbmd0aC0xXSxuJiYidGV4dCI9PT1yLnR5cGUmJiJ0ZXh0Ij09PW4udHlwZT8obi5yYXcrPXIucmF3LG4udGV4dCs9ci50ZXh0KTp0LnB1c2gocik7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLmxpbmsoZSkpZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtlbHNlIGlmKHI9dGhpcy50b2tlbml6ZXIucmVmbGluayhlLHRoaXMudG9rZW5zLmxpbmtzKSllPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksbj10W3QubGVuZ3RoLTFdLG4mJiJ0ZXh0Ij09PXIudHlwZSYmInRleHQiPT09bi50eXBlPyhuLnJhdys9ci5yYXcsbi50ZXh0Kz1yLnRleHQpOnQucHVzaChyKTtlbHNlIGlmKHI9dGhpcy50b2tlbml6ZXIuZW1TdHJvbmcoZSxsLHMpKWU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLmNvZGVzcGFuKGUpKWU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLmJyKGUpKWU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7ZWxzZSBpZihyPXRoaXMudG9rZW5pemVyLmRlbChlKSllPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2Vsc2UgaWYocj10aGlzLnRva2VuaXplci5hdXRvbGluayhlLE5lKSllPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2Vsc2UgaWYodGhpcy5zdGF0ZS5pbkxpbmt8fCEocj10aGlzLnRva2VuaXplci51cmwoZSxOZSkpKXtpZihvPWUsdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMmJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0SW5saW5lKXtsZXQgdD0xLzA7Y29uc3Qgcj1lLnNsaWNlKDEpO2xldCBuO3RoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0SW5saW5lLmZvckVhY2goKGZ1bmN0aW9uKGUpe249ZS5jYWxsKHtsZXhlcjp0aGlzfSxyKSwibnVtYmVyIj09dHlwZW9mIG4mJm4+PTAmJih0PU1hdGgubWluKHQsbikpfSkpLHQ8MS8wJiZ0Pj0wJiYobz1lLnN1YnN0cmluZygwLHQrMSkpfWlmKHI9dGhpcy50b2tlbml6ZXIuaW5saW5lVGV4dChvLEJlKSllPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksIl8iIT09ci5yYXcuc2xpY2UoLTEpJiYocz1yLnJhdy5zbGljZSgtMSkpLGk9ITAsbj10W3QubGVuZ3RoLTFdLG4mJiJ0ZXh0Ij09PW4udHlwZT8obi5yYXcrPXIucmF3LG4udGV4dCs9ci50ZXh0KTp0LnB1c2gocik7ZWxzZSBpZihlKXtjb25zdCB0PSJJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICIrZS5jaGFyQ29kZUF0KDApO2lmKHRoaXMub3B0aW9ucy5zaWxlbnQpe2NvbnNvbGUuZXJyb3IodCk7YnJlYWt9dGhyb3cgbmV3IEVycm9yKHQpfX1lbHNlIGU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7cmV0dXJuIHR9fWNsYXNzIFVle2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1lfHxjZX1jb2RlKGUsdCxyKXtjb25zdCBuPSh0fHwiIikubWF0Y2goL1xTKi8pWzBdO2lmKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLmhpZ2hsaWdodChlLG4pO251bGwhPXQmJnQhPT1lJiYocj0hMCxlPXQpfXJldHVybiBlPWUucmVwbGFjZSgvXG4kLywiIikrIlxuIixuPyc8cHJlPjxjb2RlIGNsYXNzPSInK3RoaXMub3B0aW9ucy5sYW5nUHJlZml4K3llKG4pKyciPicrKHI/ZTp5ZShlLCEwKSkrIjwvY29kZT48L3ByZT5cbiI6IjxwcmU+PGNvZGU+Iisocj9lOnllKGUsITApKSsiPC9jb2RlPjwvcHJlPlxuIn1ibG9ja3F1b3RlKGUpe3JldHVybmA8YmxvY2txdW90ZT5cbiR7ZX08L2Jsb2NrcXVvdGU+XG5gfWh0bWwoZSl7cmV0dXJuIGV9aGVhZGluZyhlLHQscixuKXtpZih0aGlzLm9wdGlvbnMuaGVhZGVySWRzKXtyZXR1cm5gPGgke3R9IGlkPSIke3RoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXgrbi5zbHVnKHIpfSI+JHtlfTwvaCR7dH0+XG5gfXJldHVybmA8aCR7dH0+JHtlfTwvaCR7dH0+XG5gfWhyKCl7cmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbD8iPGhyLz5cbiI6Ijxocj5cbiJ9bGlzdChlLHQscil7Y29uc3Qgbj10PyJvbCI6InVsIjtyZXR1cm4iPCIrbisodCYmMSE9PXI/JyBzdGFydD0iJytyKyciJzoiIikrIj5cbiIrZSsiPC8iK24rIj5cbiJ9bGlzdGl0ZW0oZSl7cmV0dXJuYDxsaT4ke2V9PC9saT5cbmB9Y2hlY2tib3goZSl7cmV0dXJuIjxpbnB1dCAiKyhlPydjaGVja2VkPSIiICc6IiIpKydkaXNhYmxlZD0iIiB0eXBlPSJjaGVja2JveCInKyh0aGlzLm9wdGlvbnMueGh0bWw/IiAvIjoiIikrIj4gIn1wYXJhZ3JhcGgoZSl7cmV0dXJuYDxwPiR7ZX08L3A+XG5gfXRhYmxlKGUsdCl7cmV0dXJuIHQmJih0PWA8dGJvZHk+JHt0fTwvdGJvZHk+YCksIjx0YWJsZT5cbjx0aGVhZD5cbiIrZSsiPC90aGVhZD5cbiIrdCsiPC90YWJsZT5cbiJ9dGFibGVyb3coZSl7cmV0dXJuYDx0cj5cbiR7ZX08L3RyPlxuYH10YWJsZWNlbGwoZSx0KXtjb25zdCByPXQuaGVhZGVyPyJ0aCI6InRkIjtyZXR1cm4odC5hbGlnbj9gPCR7cn0gYWxpZ249IiR7dC5hbGlnbn0iPmA6YDwke3J9PmApK2UrYDwvJHtyfT5cbmB9c3Ryb25nKGUpe3JldHVybmA8c3Ryb25nPiR7ZX08L3N0cm9uZz5gfWVtKGUpe3JldHVybmA8ZW0+JHtlfTwvZW0+YH1jb2Rlc3BhbihlKXtyZXR1cm5gPGNvZGU+JHtlfTwvY29kZT5gfWJyKCl7cmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbD8iPGJyLz4iOiI8YnI+In1kZWwoZSl7cmV0dXJuYDxkZWw+JHtlfTwvZGVsPmB9bGluayhlLHQscil7aWYobnVsbD09PShlPWtlKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSx0aGlzLm9wdGlvbnMuYmFzZVVybCxlKSkpcmV0dXJuIHI7bGV0IG49JzxhIGhyZWY9IicrZSsnIic7cmV0dXJuIHQmJihuKz0nIHRpdGxlPSInK3QrJyInKSxuKz0iPiIrcisiPC9hPiIsbn1pbWFnZShlLHQscil7aWYobnVsbD09PShlPWtlKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSx0aGlzLm9wdGlvbnMuYmFzZVVybCxlKSkpcmV0dXJuIHI7bGV0IG49YDxpbWcgc3JjPSIke2V9IiBhbHQ9IiR7cn0iYDtyZXR1cm4gdCYmKG4rPWAgdGl0bGU9IiR7dH0iYCksbis9dGhpcy5vcHRpb25zLnhodG1sPyIvPiI6Ij4iLG59dGV4dChlKXtyZXR1cm4gZX19Y2xhc3MgemV7c3Ryb25nKGUpe3JldHVybiBlfWVtKGUpe3JldHVybiBlfWNvZGVzcGFuKGUpe3JldHVybiBlfWRlbChlKXtyZXR1cm4gZX1odG1sKGUpe3JldHVybiBlfXRleHQoZSl7cmV0dXJuIGV9bGluayhlLHQscil7cmV0dXJuIiIrcn1pbWFnZShlLHQscil7cmV0dXJuIiIrcn1icigpe3JldHVybiIifX1jbGFzcyBNZXtjb25zdHJ1Y3Rvcigpe3RoaXMuc2Vlbj17fX1zZXJpYWxpemUoZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKS50cmltKCkucmVwbGFjZSgvPFshXC9hLXpdLio/Pi9naSwiIikucmVwbGFjZSgvW1x1MjAwMC1cdTIwNkZcdTJFMDAtXHUyRTdGXFwnISIjJCUmKCkqKywuLzo7PD0+P0BbXF1eYHt8fX5dL2csIiIpLnJlcGxhY2UoL1xzL2csIi0iKX1nZXROZXh0U2FmZVNsdWcoZSx0KXtsZXQgcj1lLG49MDtpZih0aGlzLnNlZW4uaGFzT3duUHJvcGVydHkocikpe249dGhpcy5zZWVuW2VdO2Rve24rKyxyPWUrIi0iK259d2hpbGUodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHIpKX1yZXR1cm4gdHx8KHRoaXMuc2VlbltlXT1uLHRoaXMuc2VlbltyXT0wKSxyfXNsdWcoZSx0PXt9KXtjb25zdCByPXRoaXMuc2VyaWFsaXplKGUpO3JldHVybiB0aGlzLmdldE5leHRTYWZlU2x1ZyhyLHQuZHJ5cnVuKX19Y2xhc3MgSGV7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWV8fGNlLHRoaXMub3B0aW9ucy5yZW5kZXJlcj10aGlzLm9wdGlvbnMucmVuZGVyZXJ8fG5ldyBVZSx0aGlzLnJlbmRlcmVyPXRoaXMub3B0aW9ucy5yZW5kZXJlcix0aGlzLnJlbmRlcmVyLm9wdGlvbnM9dGhpcy5vcHRpb25zLHRoaXMudGV4dFJlbmRlcmVyPW5ldyB6ZSx0aGlzLnNsdWdnZXI9bmV3IE1lfXN0YXRpYyBwYXJzZShlLHQpe3JldHVybiBuZXcgSGUodCkucGFyc2UoZSl9c3RhdGljIHBhcnNlSW5saW5lKGUsdCl7cmV0dXJuIG5ldyBIZSh0KS5wYXJzZUlubGluZShlKX1wYXJzZShlLHQ9ITApe2xldCByLG4sbyxhLGkscyxsLGMscCxkLHUsaCxmLG0seSxnLHYsYix4LHc9IiI7Y29uc3QgJD1lLmxlbmd0aDtmb3Iocj0wO3I8JDtyKyspaWYoZD1lW3JdLHRoaXMub3B0aW9ucy5leHRlbnNpb25zJiZ0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnMmJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1tkLnR5cGVdJiYoeD10aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZC50eXBlXS5jYWxsKHtwYXJzZXI6dGhpc30sZCksITEhPT14fHwhWyJzcGFjZSIsImhyIiwiaGVhZGluZyIsImNvZGUiLCJ0YWJsZSIsImJsb2NrcXVvdGUiLCJsaXN0IiwiaHRtbCIsInBhcmFncmFwaCIsInRleHQiXS5pbmNsdWRlcyhkLnR5cGUpKSl3Kz14fHwiIjtlbHNlIHN3aXRjaChkLnR5cGUpe2Nhc2Uic3BhY2UiOmNvbnRpbnVlO2Nhc2UiaHIiOncrPXRoaXMucmVuZGVyZXIuaHIoKTtjb250aW51ZTtjYXNlImhlYWRpbmciOncrPXRoaXMucmVuZGVyZXIuaGVhZGluZyh0aGlzLnBhcnNlSW5saW5lKGQudG9rZW5zKSxkLmRlcHRoLHZlKHRoaXMucGFyc2VJbmxpbmUoZC50b2tlbnMsdGhpcy50ZXh0UmVuZGVyZXIpKSx0aGlzLnNsdWdnZXIpO2NvbnRpbnVlO2Nhc2UiY29kZSI6dys9dGhpcy5yZW5kZXJlci5jb2RlKGQudGV4dCxkLmxhbmcsZC5lc2NhcGVkKTtjb250aW51ZTtjYXNlInRhYmxlIjpmb3IoYz0iIixsPSIiLGE9ZC5oZWFkZXIubGVuZ3RoLG49MDtuPGE7bisrKWwrPXRoaXMucmVuZGVyZXIudGFibGVjZWxsKHRoaXMucGFyc2VJbmxpbmUoZC5oZWFkZXJbbl0udG9rZW5zKSx7aGVhZGVyOiEwLGFsaWduOmQuYWxpZ25bbl19KTtmb3IoYys9dGhpcy5yZW5kZXJlci50YWJsZXJvdyhsKSxwPSIiLGE9ZC5yb3dzLmxlbmd0aCxuPTA7bjxhO24rKyl7Zm9yKHM9ZC5yb3dzW25dLGw9IiIsaT1zLmxlbmd0aCxvPTA7bzxpO28rKylsKz10aGlzLnJlbmRlcmVyLnRhYmxlY2VsbCh0aGlzLnBhcnNlSW5saW5lKHNbb10udG9rZW5zKSx7aGVhZGVyOiExLGFsaWduOmQuYWxpZ25bb119KTtwKz10aGlzLnJlbmRlcmVyLnRhYmxlcm93KGwpfXcrPXRoaXMucmVuZGVyZXIudGFibGUoYyxwKTtjb250aW51ZTtjYXNlImJsb2NrcXVvdGUiOnA9dGhpcy5wYXJzZShkLnRva2Vucyksdys9dGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKHApO2NvbnRpbnVlO2Nhc2UibGlzdCI6Zm9yKHU9ZC5vcmRlcmVkLGg9ZC5zdGFydCxmPWQubG9vc2UsYT1kLml0ZW1zLmxlbmd0aCxwPSIiLG49MDtuPGE7bisrKXk9ZC5pdGVtc1tuXSxnPXkuY2hlY2tlZCx2PXkudGFzayxtPSIiLHkudGFzayYmKGI9dGhpcy5yZW5kZXJlci5jaGVja2JveChnKSxmP3kudG9rZW5zLmxlbmd0aD4wJiYicGFyYWdyYXBoIj09PXkudG9rZW5zWzBdLnR5cGU/KHkudG9rZW5zWzBdLnRleHQ9YisiICIreS50b2tlbnNbMF0udGV4dCx5LnRva2Vuc1swXS50b2tlbnMmJnkudG9rZW5zWzBdLnRva2Vucy5sZW5ndGg+MCYmInRleHQiPT09eS50b2tlbnNbMF0udG9rZW5zWzBdLnR5cGUmJih5LnRva2Vuc1swXS50b2tlbnNbMF0udGV4dD1iKyIgIit5LnRva2Vuc1swXS50b2tlbnNbMF0udGV4dCkpOnkudG9rZW5zLnVuc2hpZnQoe3R5cGU6InRleHQiLHRleHQ6Yn0pOm0rPWIpLG0rPXRoaXMucGFyc2UoeS50b2tlbnMsZikscCs9dGhpcy5yZW5kZXJlci5saXN0aXRlbShtLHYsZyk7dys9dGhpcy5yZW5kZXJlci5saXN0KHAsdSxoKTtjb250aW51ZTtjYXNlImh0bWwiOncrPXRoaXMucmVuZGVyZXIuaHRtbChkLnRleHQpO2NvbnRpbnVlO2Nhc2UicGFyYWdyYXBoIjp3Kz10aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLnBhcnNlSW5saW5lKGQudG9rZW5zKSk7Y29udGludWU7Y2FzZSJ0ZXh0Ijpmb3IocD1kLnRva2Vucz90aGlzLnBhcnNlSW5saW5lKGQudG9rZW5zKTpkLnRleHQ7cisxPCQmJiJ0ZXh0Ij09PWVbcisxXS50eXBlOylkPWVbKytyXSxwKz0iXG4iKyhkLnRva2Vucz90aGlzLnBhcnNlSW5saW5lKGQudG9rZW5zKTpkLnRleHQpO3crPXQ/dGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgocCk6cDtjb250aW51ZTtkZWZhdWx0Ontjb25zdCBlPSdUb2tlbiB3aXRoICInK2QudHlwZSsnIiB0eXBlIHdhcyBub3QgZm91bmQuJztpZih0aGlzLm9wdGlvbnMuc2lsZW50KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoZSk7dGhyb3cgbmV3IEVycm9yKGUpfX1yZXR1cm4gd31wYXJzZUlubGluZShlLHQpe3Q9dHx8dGhpcy5yZW5kZXJlcjtsZXQgcixuLG8sYT0iIjtjb25zdCBpPWUubGVuZ3RoO2ZvcihyPTA7cjxpO3IrKylpZihuPWVbcl0sdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMmJnRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVycyYmdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzW24udHlwZV0mJihvPXRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1tuLnR5cGVdLmNhbGwoe3BhcnNlcjp0aGlzfSxuKSwhMSE9PW98fCFbImVzY2FwZSIsImh0bWwiLCJsaW5rIiwiaW1hZ2UiLCJzdHJvbmciLCJlbSIsImNvZGVzcGFuIiwiYnIiLCJkZWwiLCJ0ZXh0Il0uaW5jbHVkZXMobi50eXBlKSkpYSs9b3x8IiI7ZWxzZSBzd2l0Y2gobi50eXBlKXtjYXNlImVzY2FwZSI6Y2FzZSJ0ZXh0IjphKz10LnRleHQobi50ZXh0KTticmVhaztjYXNlImh0bWwiOmErPXQuaHRtbChuLnRleHQpO2JyZWFrO2Nhc2UibGluayI6YSs9dC5saW5rKG4uaHJlZixuLnRpdGxlLHRoaXMucGFyc2VJbmxpbmUobi50b2tlbnMsdCkpO2JyZWFrO2Nhc2UiaW1hZ2UiOmErPXQuaW1hZ2Uobi5ocmVmLG4udGl0bGUsbi50ZXh0KTticmVhaztjYXNlInN0cm9uZyI6YSs9dC5zdHJvbmcodGhpcy5wYXJzZUlubGluZShuLnRva2Vucyx0KSk7YnJlYWs7Y2FzZSJlbSI6YSs9dC5lbSh0aGlzLnBhcnNlSW5saW5lKG4udG9rZW5zLHQpKTticmVhaztjYXNlImNvZGVzcGFuIjphKz10LmNvZGVzcGFuKG4udGV4dCk7YnJlYWs7Y2FzZSJiciI6YSs9dC5icigpO2JyZWFrO2Nhc2UiZGVsIjphKz10LmRlbCh0aGlzLnBhcnNlSW5saW5lKG4udG9rZW5zLHQpKTticmVhaztkZWZhdWx0Ontjb25zdCBlPSdUb2tlbiB3aXRoICInK24udHlwZSsnIiB0eXBlIHdhcyBub3QgZm91bmQuJztpZih0aGlzLm9wdGlvbnMuc2lsZW50KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoZSk7dGhyb3cgbmV3IEVycm9yKGUpfX1yZXR1cm4gYX19ZnVuY3Rpb24gV2UoZSx0LHIpe2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJtYXJrZWQoKTogaW5wdXQgcGFyYW1ldGVyIGlzIHVuZGVmaW5lZCBvciBudWxsIik7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigibWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyBvZiB0eXBlICIrT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKyIsIHN0cmluZyBleHBlY3RlZCIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10LHQ9bnVsbCksX2UodD1DZSh7fSxXZS5kZWZhdWx0cyx0fHx7fSkpLHIpe2NvbnN0IG49dC5oaWdobGlnaHQ7bGV0IG87dHJ5e289cWUubGV4KGUsdCl9Y2F0Y2goZSl7cmV0dXJuIHIoZSl9Y29uc3QgYT1mdW5jdGlvbihlKXtsZXQgYTtpZighZSl0cnl7dC53YWxrVG9rZW5zJiZXZS53YWxrVG9rZW5zKG8sdC53YWxrVG9rZW5zKSxhPUhlLnBhcnNlKG8sdCl9Y2F0Y2godCl7ZT10fXJldHVybiB0LmhpZ2hsaWdodD1uLGU/cihlKTpyKG51bGwsYSl9O2lmKCFufHxuLmxlbmd0aDwzKXJldHVybiBhKCk7aWYoZGVsZXRlIHQuaGlnaGxpZ2h0LCFvLmxlbmd0aClyZXR1cm4gYSgpO2xldCBpPTA7cmV0dXJuIFdlLndhbGtUb2tlbnMobywoZnVuY3Rpb24oZSl7ImNvZGUiPT09ZS50eXBlJiYoaSsrLHNldFRpbWVvdXQoKCgpPT57bihlLnRleHQsZS5sYW5nLChmdW5jdGlvbih0LHIpe2lmKHQpcmV0dXJuIGEodCk7bnVsbCE9ciYmciE9PWUudGV4dCYmKGUudGV4dD1yLGUuZXNjYXBlZD0hMCksaS0tLDA9PT1pJiZhKCl9KSl9KSwwKSl9KSksdm9pZCgwPT09aSYmYSgpKX1mdW5jdGlvbiBuKGUpe2lmKGUubWVzc2FnZSs9IlxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuIix0LnNpbGVudClyZXR1cm4iPHA+QW4gZXJyb3Igb2NjdXJyZWQ6PC9wPjxwcmU+Iit5ZShlLm1lc3NhZ2UrIiIsITApKyI8L3ByZT4iO3Rocm93IGV9dHJ5e2NvbnN0IHI9cWUubGV4KGUsdCk7aWYodC53YWxrVG9rZW5zKXtpZih0LmFzeW5jKXJldHVybiBQcm9taXNlLmFsbChXZS53YWxrVG9rZW5zKHIsdC53YWxrVG9rZW5zKSkudGhlbigoKCk9PkhlLnBhcnNlKHIsdCkpKS5jYXRjaChuKTtXZS53YWxrVG9rZW5zKHIsdC53YWxrVG9rZW5zKX1yZXR1cm4gSGUucGFyc2Uocix0KX1jYXRjaChlKXtuKGUpfX1XZS5vcHRpb25zPVdlLnNldE9wdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIENlKFdlLmRlZmF1bHRzLGUpLHQ9V2UuZGVmYXVsdHMsY2U9dCxXZX0sV2UuZ2V0RGVmYXVsdHM9bGUsV2UuZGVmYXVsdHM9Y2UsV2UudXNlPWZ1bmN0aW9uKC4uLmUpe2NvbnN0IHQ9V2UuZGVmYXVsdHMuZXh0ZW5zaW9uc3x8e3JlbmRlcmVyczp7fSxjaGlsZFRva2Vuczp7fX07ZS5mb3JFYWNoKChlPT57Y29uc3Qgcj1DZSh7fSxlKTtpZihyLmFzeW5jPVdlLmRlZmF1bHRzLmFzeW5jfHxyLmFzeW5jLGUuZXh0ZW5zaW9ucyYmKGUuZXh0ZW5zaW9ucy5mb3JFYWNoKChlPT57aWYoIWUubmFtZSl0aHJvdyBuZXcgRXJyb3IoImV4dGVuc2lvbiBuYW1lIHJlcXVpcmVkIik7aWYoZS5yZW5kZXJlcil7Y29uc3Qgcj10LnJlbmRlcmVyc1tlLm5hbWVdO3QucmVuZGVyZXJzW2UubmFtZV09cj9mdW5jdGlvbiguLi50KXtsZXQgbj1lLnJlbmRlcmVyLmFwcGx5KHRoaXMsdCk7cmV0dXJuITE9PT1uJiYobj1yLmFwcGx5KHRoaXMsdCkpLG59OmUucmVuZGVyZXJ9aWYoZS50b2tlbml6ZXIpe2lmKCFlLmxldmVsfHwiYmxvY2siIT09ZS5sZXZlbCYmImlubGluZSIhPT1lLmxldmVsKXRocm93IG5ldyBFcnJvcigiZXh0ZW5zaW9uIGxldmVsIG11c3QgYmUgJ2Jsb2NrJyBvciAnaW5saW5lJyIpO3RbZS5sZXZlbF0/dFtlLmxldmVsXS51bnNoaWZ0KGUudG9rZW5pemVyKTp0W2UubGV2ZWxdPVtlLnRva2VuaXplcl0sZS5zdGFydCYmKCJibG9jayI9PT1lLmxldmVsP3Quc3RhcnRCbG9jaz90LnN0YXJ0QmxvY2sucHVzaChlLnN0YXJ0KTp0LnN0YXJ0QmxvY2s9W2Uuc3RhcnRdOiJpbmxpbmUiPT09ZS5sZXZlbCYmKHQuc3RhcnRJbmxpbmU/dC5zdGFydElubGluZS5wdXNoKGUuc3RhcnQpOnQuc3RhcnRJbmxpbmU9W2Uuc3RhcnRdKSl9ZS5jaGlsZFRva2VucyYmKHQuY2hpbGRUb2tlbnNbZS5uYW1lXT1lLmNoaWxkVG9rZW5zKX0pKSxyLmV4dGVuc2lvbnM9dCksZS5yZW5kZXJlcil7Y29uc3QgdD1XZS5kZWZhdWx0cy5yZW5kZXJlcnx8bmV3IFVlO2Zvcihjb25zdCByIGluIGUucmVuZGVyZXIpe2NvbnN0IG49dFtyXTt0W3JdPSguLi5vKT0+e2xldCBhPWUucmVuZGVyZXJbcl0uYXBwbHkodCxvKTtyZXR1cm4hMT09PWEmJihhPW4uYXBwbHkodCxvKSksYX19ci5yZW5kZXJlcj10fWlmKGUudG9rZW5pemVyKXtjb25zdCB0PVdlLmRlZmF1bHRzLnRva2VuaXplcnx8bmV3IExlO2Zvcihjb25zdCByIGluIGUudG9rZW5pemVyKXtjb25zdCBuPXRbcl07dFtyXT0oLi4ubyk9PntsZXQgYT1lLnRva2VuaXplcltyXS5hcHBseSh0LG8pO3JldHVybiExPT09YSYmKGE9bi5hcHBseSh0LG8pKSxhfX1yLnRva2VuaXplcj10fWlmKGUud2Fsa1Rva2Vucyl7Y29uc3QgdD1XZS5kZWZhdWx0cy53YWxrVG9rZW5zO3Iud2Fsa1Rva2Vucz1mdW5jdGlvbihyKXtsZXQgbj1bXTtyZXR1cm4gbi5wdXNoKGUud2Fsa1Rva2Vucy5jYWxsKHRoaXMscikpLHQmJihuPW4uY29uY2F0KHQuY2FsbCh0aGlzLHIpKSksbn19V2Uuc2V0T3B0aW9ucyhyKX0pKX0sV2Uud2Fsa1Rva2Vucz1mdW5jdGlvbihlLHQpe2xldCByPVtdO2Zvcihjb25zdCBuIG9mIGUpc3dpdGNoKHI9ci5jb25jYXQodC5jYWxsKFdlLG4pKSxuLnR5cGUpe2Nhc2UidGFibGUiOmZvcihjb25zdCBlIG9mIG4uaGVhZGVyKXI9ci5jb25jYXQoV2Uud2Fsa1Rva2VucyhlLnRva2Vucyx0KSk7Zm9yKGNvbnN0IGUgb2Ygbi5yb3dzKWZvcihjb25zdCBuIG9mIGUpcj1yLmNvbmNhdChXZS53YWxrVG9rZW5zKG4udG9rZW5zLHQpKTticmVhaztjYXNlImxpc3QiOnI9ci5jb25jYXQoV2Uud2Fsa1Rva2VucyhuLml0ZW1zLHQpKTticmVhaztkZWZhdWx0OldlLmRlZmF1bHRzLmV4dGVuc2lvbnMmJldlLmRlZmF1bHRzLmV4dGVuc2lvbnMuY2hpbGRUb2tlbnMmJldlLmRlZmF1bHRzLmV4dGVuc2lvbnMuY2hpbGRUb2tlbnNbbi50eXBlXT9XZS5kZWZhdWx0cy5leHRlbnNpb25zLmNoaWxkVG9rZW5zW24udHlwZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cj1yLmNvbmNhdChXZS53YWxrVG9rZW5zKG5bZV0sdCkpfSkpOm4udG9rZW5zJiYocj1yLmNvbmNhdChXZS53YWxrVG9rZW5zKG4udG9rZW5zLHQpKSl9cmV0dXJuIHJ9LFdlLnBhcnNlSW5saW5lPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoIm1hcmtlZC5wYXJzZUlubGluZSgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwiKTtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJtYXJrZWQucGFyc2VJbmxpbmUoKTogaW5wdXQgcGFyYW1ldGVyIGlzIG9mIHR5cGUgIitPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkrIiwgc3RyaW5nIGV4cGVjdGVkIik7X2UodD1DZSh7fSxXZS5kZWZhdWx0cyx0fHx7fSkpO3RyeXtjb25zdCByPXFlLmxleElubGluZShlLHQpO3JldHVybiB0LndhbGtUb2tlbnMmJldlLndhbGtUb2tlbnMocix0LndhbGtUb2tlbnMpLEhlLnBhcnNlSW5saW5lKHIsdCl9Y2F0Y2goZSl7aWYoZS5tZXNzYWdlKz0iXG5QbGVhc2UgcmVwb3J0IHRoaXMgdG8gaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZC4iLHQuc2lsZW50KXJldHVybiI8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4iK3llKGUubWVzc2FnZSsiIiwhMCkrIjwvcHJlPiI7dGhyb3cgZX19LFdlLlBhcnNlcj1IZSxXZS5wYXJzZXI9SGUucGFyc2UsV2UuUmVuZGVyZXI9VWUsV2UuVGV4dFJlbmRlcmVyPXplLFdlLkxleGVyPXFlLFdlLmxleGVyPXFlLmxleCxXZS5Ub2tlbml6ZXI9TGUsV2UuU2x1Z2dlcj1NZSxXZS5wYXJzZT1XZTtXZS5vcHRpb25zLFdlLnNldE9wdGlvbnMsV2UudXNlLFdlLndhbGtUb2tlbnMsV2UucGFyc2VJbmxpbmUsSGUucGFyc2UscWUubGV4O3ZhciBWZT1yKDY2MCksR2U9ci5uKFZlKTtyKDI1MSkscigzNTgpLHIoNDYpLHIoNTAzKSxyKDI3Nykscig4NzQpLHIoMzY2KSxyKDU3KSxyKDE2KTtjb25zdCBLZT1jYAogIC5ob3Zlci1iZzpob3ZlcnsKICAgIGJhY2tncm91bmQ6IHZhcigtLWJnMyk7CiAgfQogIDo6c2VsZWN0aW9uIHsKICAgIGJhY2tncm91bmQ6IHZhcigtLXNlbGVjdGlvbi1iZyk7CiAgICBjb2xvcjogdmFyKC0tc2VsZWN0aW9uLWZnKTsKICB9CiAgLnJlZ3VsYXItZm9udHsgCiAgICBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOyAKICB9CiAgLm1vbm8tZm9udCB7IAogICAgZm9udC1mYW1pbHk6dmFyKC0tZm9udC1tb25vKTsgCiAgfQogIC50aXRsZSB7IAogICAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyAxOHB4KTsKICAgIGZvbnQtd2VpZ2h0OiBub3JtYWwgCiAgfQogIC5zdWItdGl0bGV7IGZvbnQtc2l6ZTogMjBweDt9CiAgLnJlcS1yZXMtdGl0bGUgewogICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtcmVndWxhcik7CiAgICBmb250LXNpemU6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDRweCk7CiAgICBmb250LXdlaWdodDpib2xkOwogICAgbWFyZ2luLWJvdHRvbTo4cHg7CiAgICB0ZXh0LWFsaWduOmxlZnQ7CiAgfQogIC50aW55LXRpdGxlIHsgCiAgICBmb250LXNpemU6Y2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgMXB4KTsgCiAgICBmb250LXdlaWdodDpib2xkOyAKICB9CiAgLnJlZ3VsYXItZm9udC1zaXplIHsgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtcmVndWxhcik7IH0KICAuc21hbGwtZm9udC1zaXplIHsgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpOyB9CiAgLnVwcGVyIHsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgfQogIC5wcmltYXJ5LXRleHR7IGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsgfQogIC5ib2xkLXRleHQgeyBmb250LXdlaWdodDpib2xkOyB9CiAgLmdyYXktdGV4dCB7IGNvbG9yOiB2YXIoLS1saWdodC1mZyk7IH0KICAucmVkLXRleHQge2NvbG9yOiB2YXIoLS1yZWQpfQogIC5ibHVlLXRleHQge2NvbG9yOiB2YXIoLS1ibHVlKX0KICAubXVsdGlsaW5lIHsKICAgIG92ZXJmbG93OiBzY3JvbGw7CiAgICBtYXgtaGVpZ2h0OiB2YXIoLS1yZXNwLWFyZWEtaGVpZ2h0LCA0MDBweCk7CiAgICBjb2xvcjogdmFyKC0tZmczKTsgIAogIH0KICAubWV0aG9kLWZnLnB1dCB7IGNvbG9yOiB2YXIoLS1vcmFuZ2UpOyB9CiAgLm1ldGhvZC1mZy5wb3N0IHsgY29sb3I6IHZhcigtLWdyZWVuKTsgfQogIC5tZXRob2QtZmcuZ2V0IHsgY29sb3I6IHZhcigtLWJsdWUpOyB9CiAgLm1ldGhvZC1mZy5kZWxldGUgeyBjb2xvcjogdmFyKC0tcmVkKTsgfQogIC5tZXRob2QtZmcub3B0aW9ucywgCiAgLm1ldGhvZC1mZy5oZWFkLCAKICAubWV0aG9kLWZnLnBhdGNoIHsgCiAgICBjb2xvcjogdmFyKC0teWVsbG93KTsgCiAgfQoKICBoMXsgZm9udC1mYW1pbHk6dmFyKC0tZm9udC1yZWd1bGFyKTsgZm9udC1zaXplOjI4cHg7IHBhZGRpbmctdG9wOiAxMHB4OyBsZXR0ZXItc3BhY2luZzpub3JtYWw7IGZvbnQtd2VpZ2h0Om5vcm1hbDsgfQogIGgyeyBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOyBmb250LXNpemU6MjRweDsgcGFkZGluZy10b3A6IDEwcHg7IGxldHRlci1zcGFjaW5nOm5vcm1hbDsgZm9udC13ZWlnaHQ6bm9ybWFsOyB9CiAgaDN7IGZvbnQtZmFtaWx5OnZhcigtLWZvbnQtcmVndWxhcik7IGZvbnQtc2l6ZToxOHB4OyBwYWRkaW5nLXRvcDogMTBweDsgbGV0dGVyLXNwYWNpbmc6bm9ybWFsOyBmb250LXdlaWdodDpub3JtYWw7IH0KICBoNHsgZm9udC1mYW1pbHk6dmFyKC0tZm9udC1yZWd1bGFyKTsgZm9udC1zaXplOjE2cHg7IHBhZGRpbmctdG9wOiAxMHB4OyBsZXR0ZXItc3BhY2luZzpub3JtYWw7IGZvbnQtd2VpZ2h0Om5vcm1hbDsgfQogIGg1eyBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOyBmb250LXNpemU6MTRweDsgcGFkZGluZy10b3A6IDEwcHg7IGxldHRlci1zcGFjaW5nOm5vcm1hbDsgZm9udC13ZWlnaHQ6bm9ybWFsOyB9CiAgaDZ7IGZvbnQtZmFtaWx5OnZhcigtLWZvbnQtcmVndWxhcik7IGZvbnQtc2l6ZToxNHB4OyBwYWRkaW5nLXRvcDogMTBweDsgbGV0dGVyLXNwYWNpbmc6bm9ybWFsOyBmb250LXdlaWdodDpub3JtYWw7IH0KCiAgaDEsaDIsaDMsaDQsaDUsaDV7CiAgICBtYXJnaW4tYmxvY2stZW5kOiAwLjJlbTsKICB9CiAgcCB7IG1hcmdpbi1ibG9jay1zdGFydDogMC41ZW07IH0KICBhIHsgY29sb3I6IHZhcigtLWJsdWUpOyBjdXJzb3I6cG9pbnRlcjsgfQogIGEuaW5hY3RpdmUtbGluayB7IAogICAgY29sb3I6dmFyKC0tZmcpOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgY3Vyc29yOnRleHQ7CiAgfQogIAogIGNvZGUsCiAgcHJlIHsKICAgIG1hcmdpbjogMHB4OwogICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ubyk7CiAgICBmb250LXNpemU6IGNhbGModmFyKC0tZm9udC1zaXplLW1vbm8pIC0gMXB4KTsKICB9CgogIC5tLW1hcmtkb3duLAogIC5tLW1hcmtkb3duLXNtYWxsIHsKICAgIGRpc3BsYXk6YmxvY2s7CiAgfQoKICAubS1tYXJrZG93biBwLAogIC5tLW1hcmtkb3duIHNwYW4gewogICAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtcmVndWxhcik7CiAgICBsaW5lLWhlaWdodDpjYWxjKHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKSArIDhweCk7CiAgfQogIC5tLW1hcmtkb3duIGxpIHsKICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpOwogICAgbGluZS1oZWlnaHQ6Y2FsYyh2YXIoLS1mb250LXNpemUtcmVndWxhcikgKyAxMHB4KTsKICB9CiAgCiAgLm0tbWFya2Rvd24tc21hbGwgcCwKICAubS1tYXJrZG93bi1zbWFsbCBzcGFuLAogIC5tLW1hcmtkb3duLXNtYWxsIGxpIHsKICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICAgIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA2cHgpOwogIH0KICAubS1tYXJrZG93bi1zbWFsbCBsaSB7CiAgICBsaW5lLWhlaWdodDogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgOHB4KTsKICB9CgogIC5tLW1hcmtkb3duIHA6bm90KDpmaXJzdC1jaGlsZCkgewogICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAyNHB4OwogIH0KCiAgLm0tbWFya2Rvd24tc21hbGwgcDpub3QoOmZpcnN0LWNoaWxkKSB7CiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDEycHg7CiAgfQogIC5tLW1hcmtkb3duLXNtYWxsIHA6Zmlyc3QtY2hpbGQgewogICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwOwogIH0KCiAgLm0tbWFya2Rvd24gcCwKICAubS1tYXJrZG93bi1zbWFsbCBwIHsKICAgIG1hcmdpbi1ibG9jay1lbmQ6IDAKICB9CgogIC5tLW1hcmtkb3duIGNvZGUgc3BhbiB7CiAgICBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLW1vbm8pOwogIH0KCiAgLm0tbWFya2Rvd24tc21hbGwgY29kZSwKICAubS1tYXJrZG93biBjb2RlIHsKICAgIHBhZGRpbmc6IDFweCA2cHg7CiAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICBjb2xvcjogdmFyKC0taW5saW5lLWNvZGUtZmcpOwogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmczKTsKICAgIGZvbnQtc2l6ZTogY2FsYyh2YXIoLS1mb250LXNpemUtbW9ubykpOwogICAgbGluZS1oZWlnaHQ6IDEuMjsKICB9CgogIC5tLW1hcmtkb3duLXNtYWxsIGNvZGUgewogICAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1tb25vKSAtIDFweCk7CiAgfQoKICAubS1tYXJrZG93bi1zbWFsbCBwcmUsCiAgLm0tbWFya2Rvd24gcHJlIHsKICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICBsaW5lLWhlaWdodDogbm9ybWFsOwogICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29kZS1ib3JkZXItY29sb3IpOwogIH0KCiAgLm0tbWFya2Rvd24gcHJlIHsKICAgIHBhZGRpbmc6IDEycHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2RlLWJnKTsKICAgIGNvbG9yOnZhcigtLWNvZGUtZmcpOwogIH0KCiAgLm0tbWFya2Rvd24tc21hbGwgcHJlIHsKICAgIG1hcmdpbi10b3A6IDRweDsKICAgIHBhZGRpbmc6IDJweCA0cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZzMpOwogICAgY29sb3I6IHZhcigtLWZnMik7CiAgfQoKICAubS1tYXJrZG93bi1zbWFsbCBwcmUgY29kZSwKICAubS1tYXJrZG93biBwcmUgY29kZSB7CiAgICBib3JkZXI6bm9uZTsKICAgIHBhZGRpbmc6MDsKICB9CgogIC5tLW1hcmtkb3duIHByZSBjb2RlIHsKICAgIGNvbG9yOiB2YXIoLS1jb2RlLWZnKTsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvZGUtYmcpOwogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgfQoKICAubS1tYXJrZG93bi1zbWFsbCBwcmUgY29kZSB7CiAgICBjb2xvcjogdmFyKC0tZmcyKTsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnMyk7CiAgfQoKICAubS1tYXJrZG93biB1bCwKICAubS1tYXJrZG93biBvbCB7CiAgICBwYWRkaW5nLWlubGluZS1zdGFydDogMzBweDsKICB9CgogIC5tLW1hcmtkb3duLXNtYWxsIHVsLAogIC5tLW1hcmtkb3duLXNtYWxsIG9sIHsKICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAyMHB4OwogIH0KCiAgLm0tbWFya2Rvd24tc21hbGwgYSwKICAubS1tYXJrZG93biBhIHsKICAgIGNvbG9yOnZhcigtLWJsdWUpOwogIH0KCiAgLm0tbWFya2Rvd24tc21hbGwgaW1nLAogIC5tLW1hcmtkb3duIGltZyB7IAogICAgbWF4LXdpZHRoOiAxMDAlOyAKICB9CgogIC8qIE1hcmtkb3duIHRhYmxlICovCgogIC5tLW1hcmtkb3duLXNtYWxsIHRhYmxlLAogIC5tLW1hcmtkb3duIHRhYmxlIHsKICAgIGJvcmRlci1zcGFjaW5nOiAwOwogICAgbWFyZ2luOiAxMHB4IDA7CiAgICBib3JkZXItY29sbGFwc2U6IHNlcGFyYXRlOwogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpOwogICAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyAxcHgpOwogICAgbGluZS1oZWlnaHQ6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDRweCk7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgfQoKICAubS1tYXJrZG93bi1zbWFsbCB0YWJsZSB7CiAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7CiAgICBsaW5lLWhlaWdodDogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgMnB4KTsKICAgIG1hcmdpbjogOHB4IDA7CiAgfQoKICAubS1tYXJrZG93bi1zbWFsbCB0ZCwgCiAgLm0tbWFya2Rvd24tc21hbGwgdGgsCiAgLm0tbWFya2Rvd24gdGQsIAogIC5tLW1hcmtkb3duIHRoIHsKICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA0cHgpOwogIH0KCiAgLm0tbWFya2Rvd24tc21hbGwgdHI6Zmlyc3QtY2hpbGQgdGgsCiAgLm0tbWFya2Rvd24gdHI6Zmlyc3QtY2hpbGQgdGggewogICAgYm9yZGVyLXRvcDogMCBub25lOwogIH0KCiAgLm0tbWFya2Rvd24gdGgsIAogIC5tLW1hcmtkb3duIHRkIHsgCiAgICBwYWRkaW5nOiAxMHB4IDEycHg7IAogIH0KCiAgLm0tbWFya2Rvd24tc21hbGwgdGgsCiAgLm0tbWFya2Rvd24tc21hbGwgdGQgeyAKICAgIHBhZGRpbmc6IDhweCA4cHg7IAogIH0KCiAgLm0tbWFya2Rvd24gdGgsCiAgLm0tbWFya2Rvd24tc21hbGwgdGggewogICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnMik7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogIH0KCiAgLm0tbWFya2Rvd24tc21hbGwgdGFibGUgY29kZSB7CiAgICBmb250LXNpemU6IGNhbGModmFyKC0tZm9udC1zaXplLW1vbm8pIC0gMnB4KTsKICB9CgogIC5tLW1hcmtkb3duIHRhYmxlIGNvZGUgewogICAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1tb25vKSAtIDFweCk7CiAgfQoKICAubS1tYXJrZG93biBibG9ja3F1b3RlLAogIC5tLW1hcmtkb3duLXNtYWxsIGJsb2NrcXVvdGUgewogICAgbWFyZ2luLWlubGluZS1zdGFydDogMDsKICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwOwogICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOwogICAgcGFkZGluZzogNnB4IDAgNnB4IDZweDsKICB9CiAgLm0tbWFya2Rvd24gaHJ7CiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOwogIH0KYCxKZT1jYAovKiBCdXR0b24gKi8KLm0tYnRuIHsKICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsKICBmb250LXdlaWdodDogNjAwOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBwYWRkaW5nOiA2cHggMTZweDsKICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7CiAgb3V0bGluZTogMDsKICBsaW5lLWhlaWdodDogMTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICBiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50OwogIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4yczsKICB1c2VyLXNlbGVjdDogbm9uZTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwwLDAsMC4xMiksIDAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMjQpOwp9Ci5tLWJ0bi5wcmltYXJ5IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvci1pbnZlcnQpOwp9Ci5tLWJ0bi50aGluLWJvcmRlciB7IGJvcmRlci13aWR0aDogMXB4OyB9Ci5tLWJ0bi5sYXJnZSB7IHBhZGRpbmc6OHB4IDE0cHg7IH0KLm0tYnRuLnNtYWxsIHsgcGFkZGluZzo1cHggMTJweDsgfQoubS1idG4udGlueSB7IHBhZGRpbmc6NXB4IDZweDsgfQoubS1idG4uY2lyY2xlIHsgYm9yZGVyLXJhZGl1czogNTAlOyB9Ci5tLWJ0bjpob3ZlciB7IAogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOwogIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLWludmVydCk7Cn0KLm0tYnRuLm5hdiB7IGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLW5hdi1hY2NlbnQtY29sb3IpOyB9Ci5tLWJ0bi5uYXY6aG92ZXIgeyAKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uYXYtYWNjZW50LWNvbG9yKTsKfQoubS1idG46ZGlzYWJsZWR7IAogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnMyk7CiAgY29sb3I6IHZhcigtLWZnMyk7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mZzMpOwogIGN1cnNvcjogbm90LWFsbG93ZWQ7CiAgb3BhY2l0eTogMC40Owp9Ci50b29sYmFyLWJ0bnsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcGFkZGluZzogNHB4OwogIG1hcmdpbjowIDJweDsKICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7CiAgbWluLXdpZHRoOiA1MHB4OwogIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLWludmVydCk7CiAgYm9yZGVyLXJhZGl1czogMnB4OwogIGJvcmRlcjogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKfQoKaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIGJ1dHRvbiwgcHJlIHsKICBjb2xvcjp2YXIoLS1mZyk7CiAgb3V0bGluZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pbnB1dC1iZyk7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsKfQpidXR0b24gewogIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXJlZ3VsYXIpOwp9CgovKiBGb3JtIElucHV0cyAqLwpwcmUsCnNlbGVjdCwKdGV4dGFyZWEsCmlucHV0W3R5cGU9ImZpbGUiXSwKaW5wdXRbdHlwZT0idGV4dCJdLAppbnB1dFt0eXBlPSJwYXNzd29yZCJdIHsKICBmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vKTsKICBmb250LXdlaWdodDogNDAwOwogIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICB0cmFuc2l0aW9uOiBib3JkZXIgLjJzOwogIHBhZGRpbmc6IDZweCA1cHg7Cn0KCnNlbGVjdCB7CiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtcmVndWxhcik7CiAgcGFkZGluZzogNXB4IDMwcHggNXB4IDVweDsKICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0ZjgsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB3aWR0aCUzRCUyMjEyJTIyJTIwaGVpZ2h0JTNEJTIyMTIlMjIlM0UlM0NwYXRoJTIwZCUzRCUyMk0xMC4zJTIwMy4zTDYlMjA3LjYlMjAxLjclMjAzLjNBMSUyMDElMjAwJTIwMDAuMyUyMDQuN2w1JTIwNWExJTIwMSUyMDAlMjAwMDEuNCUyMDBsNS01YTElMjAxJTIwMCUyMDEwLTEuNC0xLjR6JTIyJTIwZmlsbCUzRCUyMiUyMzc3Nzc3NyUyMiUyRiUzRSUzQyUyRnN2ZyUzRSIpOyAKICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjYWxjKDEwMCUgLSA1cHgpIGNlbnRlcjsKICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyAgCiAgYmFja2dyb3VuZC1zaXplOiAxMHB4OwogIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCnNlbGVjdDpob3ZlciB7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKfQoKdGV4dGFyZWE6OnBsYWNlaG9sZGVyLAppbnB1dFt0eXBlPSJ0ZXh0Il06OnBsYWNlaG9sZGVyLAppbnB1dFt0eXBlPSJwYXNzd29yZCJdOjpwbGFjZWhvbGRlciB7CiAgY29sb3I6IHZhcigtLXBsYWNlaG9sZGVyLWNvbG9yKTsKICBvcGFjaXR5OjE7Cn0KCgppbnB1dFt0eXBlPSJmaWxlIl17CiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtcmVndWxhcik7CiAgcGFkZGluZzoycHg7CiAgY3Vyc29yOnBvaW50ZXI7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgbWluLWhlaWdodDogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgMThweCk7Cn0KCmlucHV0W3R5cGU9ImZpbGUiXTo6LXdlYmtpdC1maWxlLXVwbG9hZC1idXR0b24gewogIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXJlZ3VsYXIpOwogIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICBvdXRsaW5lOiBub25lOwogIGN1cnNvcjpwb2ludGVyOwogIHBhZGRpbmc6IDNweCA4cHg7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3ItaW52ZXJ0KTsKICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTs7CiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwp9CgpwcmUsCnRleHRhcmVhIHsKICBzY3JvbGxiYXItd2lkdGg6IHRoaW47CiAgc2Nyb2xsYmFyLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpIHZhcigtLWlucHV0LWJnKTsKfQoKcHJlOjotd2Via2l0LXNjcm9sbGJhciwKdGV4dGFyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICB3aWR0aDogOHB4OwogIGhlaWdodDogOHB4Owp9CgpwcmU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrLAp0ZXh0YXJlYTo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogIGJhY2tncm91bmQ6dmFyKC0taW5wdXQtYmcpOwp9CiAKcHJlOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiwKdGV4dGFyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYm9yZGVyLWNvbG9yKTsKfQoKLmxpbmsgewogIGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpOwogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogIGNvbG9yOnZhcigtLWJsdWUpOwogIGZvbnQtZmFtaWx5OnZhcigtLWZvbnQtbW9ubyk7CiAgbWFyZ2luLWJvdHRvbToycHg7Cn0KCi8qIFRvZ2dsZSBCb2R5ICovCmlucHV0W3R5cGU9ImNoZWNrYm94Il0gewogIGFwcGVhcmFuY2U6IG5vbmU7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0LWJnKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodC1iZyk7CiAgYm9yZGVyLXJhZGl1czogOXB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBoZWlnaHQ6IDE4cHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRyYW5zaXRpb246IGJvcmRlciAuMjVzIC4xNXMsIGJveC1zaGFkb3cgLjI1cyAuM3MsIHBhZGRpbmcgLjI1czsKICBtaW4td2lkdGg6IDM2cHg7CiAgd2lkdGg6IDM2cHg7CiAgdmVydGljYWwtYWxpZ246IHRvcDsKfQovKiBUb2dnbGUgVGh1bWIgKi8KaW5wdXRbdHlwZT0iY2hlY2tib3giXTphZnRlciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodC1iZyk7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIGNvbnRlbnQ6ICcnOwogIHRvcDogMHB4OwogIGxlZnQ6IDBweDsKICByaWdodDogMTZweDsKICBkaXNwbGF5OiBibG9jazsKICBoZWlnaHQ6IDE2cHg7CiAgdHJhbnNpdGlvbjogYm9yZGVyIC4yNXMgLjE1cywgbGVmdCAuMjVzIC4xcywgcmlnaHQgLjE1cyAuMTc1czsKfQoKLyogVG9nZ2xlIEJvZHkgLSBDaGVja2VkICovCmlucHV0W3R5cGU9ImNoZWNrYm94Il06Y2hlY2tlZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ3JlZW4pOwogIGJvcmRlci1jb2xvcjogdmFyKC0tZ3JlZW4pOwp9Ci8qIFRvZ2dsZSBUaHVtYiAtIENoZWNrZWQqLwppbnB1dFt0eXBlPSJjaGVja2JveCJdOmNoZWNrZWQ6YWZ0ZXIgewogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWdyZWVuKTsKICBsZWZ0OiAxNnB4OwogIHJpZ2h0OiAxcHg7CiAgdHJhbnNpdGlvbjogYm9yZGVyIC4yNXMsIGxlZnQgLjE1cyAuMjVzLCByaWdodCAuMjVzIC4xNzVzOwp9YCxZZT1jYAoucm93LCAuY29sewogIGRpc3BsYXk6ZmxleDsKfSAKLnJvdyB7CiAgYWxpZ24taXRlbXM6Y2VudGVyOwogIGZsZXgtZGlyZWN0aW9uOiByb3c7Cn0KLmNvbCB7CiAgYWxpZ24taXRlbXM6c3RyZXRjaDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwp9CmAsWmU9Y2AKLm0tdGFibGUgewogIGJvcmRlci1zcGFjaW5nOiAwOyAgCiAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpOwogIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpOwogIG1hcmdpbjogMDsKICBtYXgtd2lkdGg6IDEwMCU7CiAgZGlyZWN0aW9uOiBsdHI7Cn0KLm0tdGFibGUgdHI6Zmlyc3QtY2hpbGQgdGQsCi5tLXRhYmxlIHRyOmZpcnN0LWNoaWxkIHRoIHsKICAgIGJvcmRlci10b3A6IDAgbm9uZTsKfQoubS10YWJsZSB0ZCwgCi5tLXRhYmxlIHRoIHsKICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7CiAgbGluZS1oZWlnaHQ6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDRweCk7CiAgcGFkZGluZzogNHB4IDVweCA0cHg7CiAgdmVydGljYWwtYWxpZ246IHRvcDsKfQoKLm0tdGFibGUucGFkZGVkLTEyIHRkLCAKLm0tdGFibGUucGFkZGVkLTEyIHRoIHsKICBwYWRkaW5nOiAxMnB4Owp9CgoubS10YWJsZSB0ZDpub3QoW2FsaWduXSksIAoubS10YWJsZSB0aDpub3QoW2FsaWduXSkgewogIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5tLXRhYmxlIHRoIHsKICBjb2xvcjogdmFyKC0tZmcyKTsKICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7CiAgbGluZS1oZWlnaHQ6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDE4cHgpOwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZzIpOwogIHZlcnRpY2FsLWFsaWduOiBib3R0b207CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7Cn0KCi5tLXRhYmxlID4gdGJvZHkgPiB0ciA+IHRkLAoubS10YWJsZSA+IHRyID4gdGQgewogIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KLnRhYmxlLXRpdGxlIHsKICBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICBmb250LXdlaWdodDpib2xkOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgbWFyZ2luOiAxMnB4IDAgNHB4IDA7Cn0KYCxRZT1jYAoub25seS1sYXJnZS1zY3JlZW4geyBkaXNwbGF5Om5vbmU7IH0KLmVuZHBvaW50LWhlYWQgLnBhdGh7CiAgZGlzcGxheTogZmxleDsKICBmb250LWZhbWlseTp2YXIoLS1mb250LW1vbm8pOwogIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7CiAgd29yZC1icmVhazogYnJlYWstYWxsOwp9CgouZW5kcG9pbnQtaGVhZCAuZGVzY3IgewogIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICBjb2xvcjp2YXIoLS1saWdodC1mZyk7CiAgZm9udC13ZWlnaHQ6NDAwOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDsKICB3b3JkLWJyZWFrOiBicmVhay1hbGw7CiAgZGlzcGxheTpub25lOwp9CgoubS1lbmRwb2ludC5leHBhbmRlZHttYXJnaW4tYm90dG9tOjE2cHg7IH0KLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZHsKICBib3JkZXItd2lkdGg6MXB4IDFweCAxcHggNXB4OwogIGJvcmRlci1zdHlsZTpzb2xpZDsKICBib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7CiAgYm9yZGVyLXRvcC1jb2xvcjp2YXIoLS1saWdodC1ib3JkZXItY29sb3IpOwogIGRpc3BsYXk6ZmxleDsKICBwYWRkaW5nOjZweCAxNnB4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQucHV0OmhvdmVyLAoubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLnB1dC5leHBhbmRlZHsKICBib3JkZXItY29sb3I6dmFyKC0tb3JhbmdlKTsgCiAgYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1saWdodC1vcmFuZ2UpOyAKfQoubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLnBvc3Q6aG92ZXIsCi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQucG9zdC5leHBhbmRlZCB7CiAgYm9yZGVyLWNvbG9yOnZhcigtLWdyZWVuKTsgCiAgYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1saWdodC1ncmVlbik7IAp9Ci5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQuZ2V0OmhvdmVyLAoubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLmdldC5leHBhbmRlZCB7CiAgYm9yZGVyLWNvbG9yOnZhcigtLWJsdWUpOyAKICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWxpZ2h0LWJsdWUpOyAKfQoubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLmRlbGV0ZTpob3ZlciwKLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5kZWxldGUuZXhwYW5kZWQgewogIGJvcmRlci1jb2xvcjp2YXIoLS1yZWQpOyAKICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWxpZ2h0LXJlZCk7IAp9CgoubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLmhlYWQ6aG92ZXIsCi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQuaGVhZC5leHBhbmRlZCwKLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5wYXRjaDpob3ZlciwKLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5wYXRjaC5leHBhbmRlZCwKLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5vcHRpb25zOmhvdmVyLAoubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLm9wdGlvbnMuZXhwYW5kZWQgewogIGJvcmRlci1jb2xvcjp2YXIoLS15ZWxsb3cpOyAKICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWxpZ2h0LXllbGxvdyk7IAp9CgoubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLmRlcHJlY2F0ZWQ6aG92ZXIsCi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQuZGVwcmVjYXRlZC5leHBhbmRlZCB7CiAgYm9yZGVyLWNvbG9yOnZhcigtLWJvcmRlci1jb2xvcik7IAogIGZpbHRlcjpvcGFjaXR5KDAuNik7Cn0KCi5tLWVuZHBvaW50IC5lbmRwb2ludC1ib2R5IHsKICBmbGV4LXdyYXA6d3JhcDsKICBwYWRkaW5nOjE2cHggMHB4IDAgMHB4OwogIGJvcmRlci13aWR0aDowcHggMXB4IDFweCA1cHg7CiAgYm9yZGVyLXN0eWxlOnNvbGlkOwogIGJveC1zaGFkb3c6IDBweCA0cHggM3B4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjE1KTsKfQoubS1lbmRwb2ludCAuZW5kcG9pbnQtYm9keS5kZWxldGV7IGJvcmRlci1jb2xvcjp2YXIoLS1yZWQpOyB9Ci5tLWVuZHBvaW50IC5lbmRwb2ludC1ib2R5LnB1dHsgYm9yZGVyLWNvbG9yOnZhcigtLW9yYW5nZSk7IH0KLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkucG9zdHtib3JkZXItY29sb3I6dmFyKC0tZ3JlZW4pO30KLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkuZ2V0eyBib3JkZXItY29sb3I6dmFyKC0tYmx1ZSk7IH0KLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkuaGVhZCwKLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkucGF0Y2gsCi5tLWVuZHBvaW50IC5lbmRwb2ludC1ib2R5Lm9wdGlvbnMgeyAKICBib3JkZXItY29sb3I6dmFyKC0teWVsbG93KTsgCn0KCi5tLWVuZHBvaW50IC5lbmRwb2ludC1ib2R5LmRlcHJlY2F0ZWR7IAogIGJvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpOwogIGZpbHRlcjpvcGFjaXR5KDAuNik7Cn0KCi5lbmRwb2ludC1oZWFkIC5kZXByZWNhdGVkewogIGNvbG9yOiB2YXIoLS1saWdodC1mZyk7CiAgZmlsdGVyOm9wYWNpdHkoMC42KTsKfQoKLnN1bW1hcnl7CiAgcGFkZGluZzo4cHggOHB4Owp9Ci5zdW1tYXJ5IC50aXRsZXsKICBmb250LXNpemU6Y2FsYyh2YXIoLS1mb250LXNpemUtcmVndWxhcikgKyAycHgpOwogIG1hcmdpbi1ib3R0b206IDZweDsKICB3b3JkLWJyZWFrOiBicmVhay1hbGw7Cn0KCi5lbmRwb2ludC1oZWFkIC5tZXRob2R7CiAgcGFkZGluZzoycHggNXB4OwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7CiAgaGVpZ2h0OiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyAxNnB4KTsKICBsaW5lLWhlaWdodDogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgOHB4KTsKICB3aWR0aDogNjBweDsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgZGlzcGxheTppbmxpbmUtYmxvY2s7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIHRleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTsKICBtYXJnaW4tcmlnaHQ6NXB4Owp9Ci5lbmRwb2ludC1oZWFkIC5tZXRob2QuZGVsZXRleyBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1yZWQpO30KLmVuZHBvaW50LWhlYWQgLm1ldGhvZC5wdXR7IGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLW9yYW5nZSk7IH0KLmVuZHBvaW50LWhlYWQgLm1ldGhvZC5wb3N0eyBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1ncmVlbik7IH0KLmVuZHBvaW50LWhlYWQgLm1ldGhvZC5nZXR7IGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJsdWUpOyB9Ci5lbmRwb2ludC1oZWFkIC5tZXRob2QuZ2V0LmRlcHJlY2F0ZWR7IGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IH0KLmVuZHBvaW50LWhlYWQgLm1ldGhvZC5oZWFkLAouZW5kcG9pbnQtaGVhZCAubWV0aG9kLnBhdGNoLAouZW5kcG9pbnQtaGVhZCAubWV0aG9kLm9wdGlvbnMgeyAKICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS15ZWxsb3cpOyAKfQoKLnJlcS1yZXNwLWNvbnRhaW5lciB7CiAgZGlzcGxheTogZmxleDsKICBtYXJnaW4tdG9wOjE2cHg7CiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAgZmxleC13cmFwOiB3cmFwOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgYm9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTsKfQoKLnZpZXctbW9kZS1yZXF1ZXN0LAphcGktcmVzcG9uc2Uudmlldy1tb2RlIHsKICBmbGV4OjE7IAogIG1pbi1oZWlnaHQ6MTAwcHg7CiAgcGFkZGluZzoxNnB4IDhweDsKICBvdmVyZmxvdzpoaWRkZW47Cn0KLnZpZXctbW9kZS1yZXF1ZXN0IHsKICBib3JkZXItd2lkdGg6MCAwIDFweCAwOwogIGJvcmRlci1zdHlsZTpkYXNoZWQ7Cn0KCi5oZWFkIC52aWV3LW1vZGUtcmVxdWVzdCwKLnBhdGNoIC52aWV3LW1vZGUtcmVxdWVzdCwKLm9wdGlvbnMgLnZpZXctbW9kZS1yZXF1ZXN0IHsgCiAgYm9yZGVyLWNvbG9yOnZhcigtLXllbGxvdyk7IAp9Ci5wdXQgLnZpZXctbW9kZS1yZXF1ZXN0IHsgCiAgYm9yZGVyLWNvbG9yOnZhcigtLW9yYW5nZSk7IAp9Ci5wb3N0IC52aWV3LW1vZGUtcmVxdWVzdCB7IAogIGJvcmRlci1jb2xvcjp2YXIoLS1ncmVlbik7IAp9Ci5nZXQgLnZpZXctbW9kZS1yZXF1ZXN0IHsgCiAgYm9yZGVyLWNvbG9yOnZhcigtLWJsdWUpOyAKfQouZGVsZXRlIC52aWV3LW1vZGUtcmVxdWVzdCB7IAogIGJvcmRlci1jb2xvcjp2YXIoLS1yZWQpOyAKfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMDI0cHgpIHsKICAub25seS1sYXJnZS1zY3JlZW4geyBkaXNwbGF5OmJsb2NrOyB9CiAgLmVuZHBvaW50LWhlYWQgLnBhdGh7CiAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKTsKICB9CiAgLmVuZHBvaW50LWhlYWQgLmRlc2NyewogICAgZGlzcGxheTogZmxleDsKICB9CiAgLmVuZHBvaW50LWhlYWQgLm0tbWFya2Rvd24tc21hbGwsCiAgLmRlc2NyIC5tLW1hcmtkb3duLXNtYWxsewogICAgZGlzcGxheTpibG9jazsKICB9CiAgLnJlcS1yZXNwLWNvbnRhaW5lcnsKICAgIGZsZXgtZGlyZWN0aW9uOiB2YXIoLS1sYXlvdXQsIHJvdyk7CiAgICBmbGV4LXdyYXA6IG5vd3JhcDsKICB9CiAgYXBpLXJlc3BvbnNlLnZpZXctbW9kZSB7CiAgICBwYWRkaW5nOjE2cHg7CiAgfQogIC52aWV3LW1vZGUtcmVxdWVzdC5yb3ctbGF5b3V0IHsKICAgIGJvcmRlci13aWR0aDowIDFweCAwIDA7CiAgICBwYWRkaW5nOjE2cHg7CiAgfQogIC5zdW1tYXJ5ewogICAgcGFkZGluZzo4cHggMTZweDsKICB9Cn0KYCxYZT1jYApjb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0sCnByZVtjbGFzcyo9Imxhbmd1YWdlLSJdIHsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIHdoaXRlLXNwYWNlOiBwcmU7CiAgd29yZC1zcGFjaW5nOiBub3JtYWw7CiAgd29yZC1icmVhazogbm9ybWFsOwogIHdvcmQtd3JhcDogbm9ybWFsOwogIGxpbmUtaGVpZ2h0OiAxLjU7CiAgdGFiLXNpemU6IDI7CgogIC13ZWJraXQtaHlwaGVuczogbm9uZTsKICAtbW96LWh5cGhlbnM6IG5vbmU7CiAgLW1zLWh5cGhlbnM6IG5vbmU7CiAgaHlwaGVuczogbm9uZTsKfQoKLyogQ29kZSBibG9ja3MgKi8KcHJlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0gewogIHBhZGRpbmc6IDFlbTsKICBtYXJnaW46IC41ZW0gMDsKICBvdmVyZmxvdzogYXV0bzsKfQoKLyogSW5saW5lIGNvZGUgKi8KOm5vdChwcmUpID4gY29kZVtjbGFzcyo9Imxhbmd1YWdlLSJdIHsKICB3aGl0ZS1zcGFjZTogbm9ybWFsOwp9CgoudG9rZW4uY29tbWVudCwKLnRva2VuLmJsb2NrLWNvbW1lbnQsCi50b2tlbi5wcm9sb2csCi50b2tlbi5kb2N0eXBlLAoudG9rZW4uY2RhdGEgewogIGNvbG9yOiB2YXIoLS1saWdodC1mZykKfQoKLnRva2VuLnB1bmN0dWF0aW9uIHsKICBjb2xvcjogdmFyKC0tZmcpOwp9CgoudG9rZW4udGFnLAoudG9rZW4uYXR0ci1uYW1lLAoudG9rZW4ubmFtZXNwYWNlLAoudG9rZW4uZGVsZXRlZCB7CiAgY29sb3I6dmFyKC0tcGluayk7Cn0KCi50b2tlbi5mdW5jdGlvbi1uYW1lIHsKICBjb2xvcjogdmFyKC0tYmx1ZSk7Cn0KCi50b2tlbi5ib29sZWFuLAoudG9rZW4ubnVtYmVyLAoudG9rZW4uZnVuY3Rpb24gewogIGNvbG9yOiB2YXIoLS1yZWQpOwp9CgoudG9rZW4ucHJvcGVydHksCi50b2tlbi5jbGFzcy1uYW1lLAoudG9rZW4uY29uc3RhbnQsCi50b2tlbi5zeW1ib2wgewogIGNvbG9yOiB2YXIoLS1jb2RlLXByb3BlcnR5LWNvbG9yKTsKfQoKLnRva2VuLnNlbGVjdG9yLAoudG9rZW4uaW1wb3J0YW50LAoudG9rZW4uYXRydWxlLAoudG9rZW4ua2V5d29yZCwKLnRva2VuLmJ1aWx0aW4gewogIGNvbG9yOiB2YXIoLS1jb2RlLWtleXdvcmQtY29sb3IpOwp9CgoudG9rZW4uc3RyaW5nLAoudG9rZW4uY2hhciwKLnRva2VuLmF0dHItdmFsdWUsCi50b2tlbi5yZWdleCwKLnRva2VuLnZhcmlhYmxlIHsgCiAgY29sb3I6IHZhcigtLWdyZWVuKTsKfQoKLnRva2VuLm9wZXJhdG9yLAoudG9rZW4uZW50aXR5LAoudG9rZW4udXJsIHsKICBjb2xvcjogdmFyKC0tY29kZS1vcGVyYXRvci1jb2xvcik7Cn0KCi50b2tlbi5pbXBvcnRhbnQsCi50b2tlbi5ib2xkIHsKICBmb250LXdlaWdodDogYm9sZDsKfQoudG9rZW4uaXRhbGljIHsKICBmb250LXN0eWxlOiBpdGFsaWM7Cn0KCi50b2tlbi5lbnRpdHkgewogIGN1cnNvcjogaGVscDsKfQoKLnRva2VuLmluc2VydGVkIHsKICBjb2xvcjogZ3JlZW47Cn0KYCxldD1jYAoudGFiLXBhbmVsIHsKICBib3JkZXI6IG5vbmU7Cn0KLnRhYi1idXR0b25zIHsKICBoZWlnaHQ6MzBweDsKICBwYWRkaW5nOiA0cHggNHB4IDAgNHB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpIDsKICBhbGlnbi1pdGVtczogc3RyZXRjaDsKICBvdmVyZmxvdy15OiBoaWRkZW47CiAgb3ZlcmZsb3cteDogYXV0bzsKICBzY3JvbGxiYXItd2lkdGg6IHRoaW47Cn0KLnRhYi1idXR0b25zOjotd2Via2l0LXNjcm9sbGJhciB7CiAgaGVpZ2h0OiAxcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYm9yZGVyLWNvbG9yKTsKfQoudGFiLWJ0biB7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB0cmFuc3BhcmVudDsgCiAgY29sb3I6IHZhcigtLWxpZ2h0LWZnKTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIGN1cnNvcjpwb2ludGVyOwogIG91dGxpbmU6bm9uZTsKICBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOyAKICBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICBtYXJnaW4tcmlnaHQ6MTZweDsKICBwYWRkaW5nOjFweDsKfQoudGFiLWJ0bi5hY3RpdmUgewogIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTsgCiAgZm9udC13ZWlnaHQ6Ym9sZDsKICBjb2xvcjp2YXIoLS1wcmltYXJ5LWNvbG9yKTsKfQoKLnRhYi1idG46aG92ZXIgewogIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOwp9Ci50YWItY29udGVudCB7CiAgbWFyZ2luOi0xcHggMCAwIDA7CiAgcG9zaXRpb246cmVsYXRpdmU7CiAgbWluLWhlaWdodDogNTBweDsKfQpgLHR0PWNgCi5uYXYtYmFyLWluZm86Zm9jdXMtdmlzaWJsZSwKLm5hdi1iYXItdGFnOmZvY3VzLXZpc2libGUsCi5uYXYtYmFyLXBhdGg6Zm9jdXMtdmlzaWJsZSB7CiAgb3V0bGluZTogMXB4IHNvbGlkOwogIGJveC1zaGFkb3c6IG5vbmU7CiAgb3V0bGluZS1vZmZzZXQ6IC00cHg7Cn0KLm5hdi1iYXItZXhwYW5kLWFsbDpmb2N1cy12aXNpYmxlLAoubmF2LWJhci1jb2xsYXBzZS1hbGw6Zm9jdXMtdmlzaWJsZSwKLm5hdi1iYXItdGFnLWljb246Zm9jdXMtdmlzaWJsZSB7CiAgb3V0bGluZTogMXB4IHNvbGlkOwogIGJveC1zaGFkb3c6IG5vbmU7CiAgb3V0bGluZS1vZmZzZXQ6IDJweDsKfQoubmF2LWJhciB7CiAgd2lkdGg6MDsKICBoZWlnaHQ6MTAwJTsKICBvdmVyZmxvdzogaGlkZGVuOwogIGNvbG9yOnZhcigtLW5hdi10ZXh0LWNvbG9yKTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uYXYtYmctY29sb3IpOwogIGJhY2tncm91bmQtYmxlbmQtbW9kZTogbXVsdGlwbHk7CiAgbGluZS1oZWlnaHQ6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDRweCk7CiAgZGlzcGxheTpub25lOwogIHBvc2l0aW9uOnJlbGF0aXZlOwogIGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsKICBmbGV4LXdyYXA6bm93cmFwOwogIHdvcmQtYnJlYWs6YnJlYWstd29yZDsKfQo6OnNsb3R0ZWQoW3Nsb3Q9bmF2LWxvZ29dKXsKICBwYWRkaW5nOjE2cHggMTZweCAwIDE2cHg7Cn0KLm5hdi1zY3JvbGwgewogIG92ZXJmbG93LXg6IGhpZGRlbjsKICBvdmVyZmxvdy15OiBhdXRvOwogIG92ZXJmbG93LXk6IG92ZXJsYXk7CiAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluOwogIHNjcm9sbGJhci1jb2xvcjogdmFyKC0tbmF2LWhvdmVyLWJnLWNvbG9yKSB0cmFuc3BhcmVudDsKfQoKLm5hdi1iYXItdGFnIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGZsZXgtZGlyZWN0aW9uOiByb3c7Cn0KLm5hdi1iYXIucmVhZCAubmF2LWJhci10YWctaWNvbiB7CiAgZGlzcGxheTpub25lOwp9Ci5uYXYtYmFyLXBhdGhzLXVuZGVyLXRhZyB7CiAgb3ZlcmZsb3c6aGlkZGVuOwogIHRyYW5zaXRpb246IG1heC1oZWlnaHQgLjJzIGVhc2Utb3V0LCB2aXNpYmlsaXR5IC4zczsKfQouY29sbGFwc2VkIC5uYXYtYmFyLXBhdGhzLXVuZGVyLXRhZyB7CiAgdmlzaWJpbGl0eTogaGlkZGVuOwp9CgoubmF2LWJhci1leHBhbmQtYWxsIHsKICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7IAogIGN1cnNvcjpwb2ludGVyOyAKICBtYXJnaW4tcmlnaHQ6MTBweDsKfQoubmF2LWJhci1jb2xsYXBzZS1hbGwgewogIHRyYW5zZm9ybTogcm90YXRlKDI3MGRlZyk7IAogIGN1cnNvcjpwb2ludGVyOwp9Ci5uYXYtYmFyLWV4cGFuZC1hbGw6aG92ZXIsIC5uYXYtYmFyLWNvbGxhcHNlLWFsbDpob3ZlciB7CiAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOwp9CgoubmF2LWJhci10YWctaWNvbiB7CiAgY29sb3I6IHZhcigtLW5hdi10ZXh0LWNvbG9yKTsKICBmb250LXNpemU6IDIwcHg7IAp9Ci5uYXYtYmFyLXRhZy1pY29uOmhvdmVyIHsKICBjb2xvcjp2YXIoLS1uYXYtaG92ZXItdGV4dC1jb2xvcik7Cn0KLm5hdi1iYXIuZm9jdXNlZCAubmF2LWJhci10YWctYW5kLXBhdGhzLmNvbGxhcHNlZCAubmF2LWJhci10YWctaWNvbjo6YWZ0ZXIgewogIGNvbnRlbnQ6ICfijLUnOwogIHdpZHRoOjE2cHg7CiAgaGVpZ2h0OjE2cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpOwogIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzIGVhc2Utb3V0IDBzOwp9Ci5uYXYtYmFyLmZvY3VzZWQgLm5hdi1iYXItdGFnLWFuZC1wYXRocy5leHBhbmRlZCAubmF2LWJhci10YWctaWNvbjo6YWZ0ZXIgewogIGNvbnRlbnQ6ICfijLUnOwogIHdpZHRoOjE2cHg7CiAgaGVpZ2h0OjE2cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlLW91dCAwczsKfQoubmF2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXIgewogIHdpZHRoOiB2YXIoLS1zY3JvbGwtYmFyLXdpZHRoLCA4cHgpOwp9Ci5uYXYtc2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgYmFja2dyb3VuZDp0cmFuc3BhcmVudDsKfQoubmF2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5hdi1ob3Zlci1iZy1jb2xvcik7Cn0KCi5uYXYtYmFyLXRhZyB7CiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtcmVndWxhcik7CiAgY29sb3I6IHZhcigtLW5hdi1hY2NlbnQtY29sb3IpOwogIGJvcmRlci1sZWZ0OjRweCBzb2xpZCB0cmFuc3BhcmVudDsKICBmb250LXdlaWdodDpib2xkOwogIHBhZGRpbmc6IDE1cHggMTVweCAxNXB4IDEwcHg7CiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7Cn0KCi5uYXYtYmFyLWNvbXBvbmVudHMsCi5uYXYtYmFyLWgxLAoubmF2LWJhci1oMiwKLm5hdi1iYXItaW5mbywKLm5hdi1iYXItdGFnLAoubmF2LWJhci1wYXRoIHsKICBkaXNwbGF5OmZsZXg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHdpZHRoOiAxMDAlOwogIGJvcmRlcjogbm9uZTsKICBib3JkZXItcmFkaXVzOjRweDsgCiAgY29sb3I6IHZhcigtLW5hdi10ZXh0LWNvbG9yKTsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXItbGVmdDo0cHggc29saWQgdHJhbnNwYXJlbnQ7Cn0KCi5uYXYtYmFyLWgxLAoubmF2LWJhci1oMiwKLm5hdi1iYXItcGF0aCB7CiAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyAxcHgpOwogIHBhZGRpbmc6IHZhcigtLW5hdi1pdGVtLXBhZGRpbmcpOwp9Ci5uYXYtYmFyLXBhdGguc21hbGwtZm9udCB7CiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpOwp9CgoubmF2LWJhci1pbmZvIHsKICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKTsKICBwYWRkaW5nOiAxNnB4IDEwcHg7CiAgZm9udC13ZWlnaHQ6Ym9sZDsKfQoubmF2LWJhci1zZWN0aW9uIHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICBjb2xvcjogdmFyKC0tbmF2LXRleHQtY29sb3IpOwogIHBhZGRpbmc6IHZhcigtLW5hdi1pdGVtLXBhZGRpbmcpOwogIGZvbnQtd2VpZ2h0OmJvbGQ7Cn0KLm5hdi1iYXItc2VjdGlvbi5vcGVyYXRpb25zIHsKICBjdXJzb3I6cG9pbnRlcjsKfQoubmF2LWJhci1zZWN0aW9uLm9wZXJhdGlvbnM6aG92ZXIgewogIGNvbG9yOnZhcigtLW5hdi1ob3Zlci10ZXh0LWNvbG9yKTsKICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW5hdi1ob3Zlci1iZy1jb2xvcik7Cn0KCi5uYXYtYmFyLXNlY3Rpb246Zmlyc3QtY2hpbGQgewogIGRpc3BsYXk6IG5vbmU7Cn0KLm5hdi1iYXItaDIge21hcmdpbi1sZWZ0OjEycHg7fQoKLm5hdi1iYXItaDEubGVmdC1iYXIuYWN0aXZlLAoubmF2LWJhci1oMi5sZWZ0LWJhci5hY3RpdmUsCi5uYXYtYmFyLWluZm8ubGVmdC1iYXIuYWN0aXZlLAoubmF2LWJhci10YWcubGVmdC1iYXIuYWN0aXZlLAoubmF2LWJhci1wYXRoLmxlZnQtYmFyLmFjdGl2ZSwKLm5hdi1iYXItc2VjdGlvbi5sZWZ0LWJhci5vcGVyYXRpb25zLmFjdGl2ZSB7CiAgYm9yZGVyLWxlZnQ6NHB4IHNvbGlkIHZhcigtLW5hdi1hY2NlbnQtY29sb3IpOwogIGNvbG9yOnZhcigtLW5hdi1ob3Zlci10ZXh0LWNvbG9yKTsKfQoKLm5hdi1iYXItaDEuY29sb3JlZC1ibG9jay5hY3RpdmUsCi5uYXYtYmFyLWgyLmNvbG9yZWQtYmxvY2suYWN0aXZlLAoubmF2LWJhci1pbmZvLmNvbG9yZWQtYmxvY2suYWN0aXZlLAoubmF2LWJhci10YWcuY29sb3JlZC1ibG9jay5hY3RpdmUsCi5uYXYtYmFyLXBhdGguY29sb3JlZC1ibG9jay5hY3RpdmUsCi5uYXYtYmFyLXNlY3Rpb24uY29sb3JlZC1ibG9jay5vcGVyYXRpb25zLmFjdGl2ZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbmF2LWFjY2VudC1jb2xvcik7CiAgY29sb3I6IHZhcigtLW5hdi1hY2NlbnQtdGV4dC1jb2xvcik7CiAgYm9yZGVyLXJhZGl1czogMDsKfQoKLm5hdi1iYXItaDE6aG92ZXIsCi5uYXYtYmFyLWgyOmhvdmVyLAoubmF2LWJhci1pbmZvOmhvdmVyLAoubmF2LWJhci10YWc6aG92ZXIsCi5uYXYtYmFyLXBhdGg6aG92ZXIgewogIGNvbG9yOnZhcigtLW5hdi1ob3Zlci10ZXh0LWNvbG9yKTsKICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW5hdi1ob3Zlci1iZy1jb2xvcik7Cn0KYCxydD1jYAojYXBpLWluZm8gewogIGZvbnQtc2l6ZTogY2FsYyh2YXIoLS1mb250LXNpemUtcmVndWxhcikgLSAxcHgpOwogIG1hcmdpbi10b3A6IDhweDsKICBtYXJnaW4tbGVmdDogLTE1cHg7Cn0KCiNhcGktaW5mbyBzcGFuOmJlZm9yZSB7CiAgY29udGVudDogInwiOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBvcGFjaXR5OiAwLjU7CiAgd2lkdGg6IDE1cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CiNhcGktaW5mbyBzcGFuOmZpcnN0LWNoaWxkOmJlZm9yZSB7CiAgY29udGVudDogIiI7CiAgd2lkdGg6IDBweDsKfQpgLG50PWNgCgpgO2NvbnN0IG90PS9bXHMjOj8mPXt9XS9nLGF0PSJfcmFwaWRvY19hcGlfa2V5IjtmdW5jdGlvbiBpdChlKXtyZXR1cm4gbmV3IFByb21pc2UoKHQ9PnNldFRpbWVvdXQodCxlKSkpfWZ1bmN0aW9uIHN0KGUsdCl7Y29uc3Qgcj10LnRhcmdldCxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7bi52YWx1ZT1lLG4uc3R5bGUucG9zaXRpb249ImZpeGVkIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLG4uZm9jdXMoKSxuLnNlbGVjdCgpO3RyeXtkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpLHIuaW5uZXJUZXh0PSJDb3BpZWQiLHNldFRpbWVvdXQoKCgpPT57ci5pbm5lclRleHQ9IkNvcHkifSksNWUzKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJVbmFibGUgdG8gY29weSIsZSl9ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChuKX1mdW5jdGlvbiBsdChlLHQscj0iaW5jbHVkZXMiKXtpZigiaW5jbHVkZXMiPT09cil7cmV0dXJuYCR7dC5tZXRob2R9ICR7dC5wYXRofSAke3Quc3VtbWFyeXx8dC5kZXNjcmlwdGlvbnx8IiJ9ICR7dC5vcGVyYXRpb25JZHx8IiJ9YC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSl9cmV0dXJuIG5ldyBSZWdFeHAoZSwiaSIpLnRlc3QoYCR7dC5tZXRob2R9ICR7dC5wYXRofWApfWZ1bmN0aW9uIGN0KGUsdD1uZXcgU2V0KXtyZXR1cm4gZT8oT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgocj0+e3ZhciBuO2lmKHQuYWRkKHIpLGVbcl0ucHJvcGVydGllcyljdChlW3JdLnByb3BlcnRpZXMsdCk7ZWxzZSBpZihudWxsIT09KG49ZVtyXS5pdGVtcykmJnZvaWQgMCE9PW4mJm4ucHJvcGVydGllcyl7dmFyIG87Y3QobnVsbD09PShvPWVbcl0uaXRlbXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnByb3BlcnRpZXMsdCl9fSkpLHQpOnR9ZnVuY3Rpb24gcHQoZSx0KXtpZihlKXtjb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpLHIuc3R5bGU9ImRpc3BsYXk6IG5vbmUiLHIuaHJlZj1lLHIuZG93bmxvYWQ9dCxyLmNsaWNrKCksci5yZW1vdmUoKX19ZnVuY3Rpb24gZHQoZSl7aWYoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSx0LnN0eWxlPSJkaXNwbGF5OiBub25lIix0LmhyZWY9ZSx0LnRhcmdldD0iX2JsYW5rIix0LmNsaWNrKCksdC5yZW1vdmUoKX19ZnVuY3Rpb24gdXQoZSl7cmV0dXJuIGUmJmUudCYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsImRlZmF1bHQiKT9lLmRlZmF1bHQ6ZX12YXIgaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX0sZnQ9aHQoIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8aHQoIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fGh0KCJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZil8fGh0KCJvYmplY3QiPT10eXBlb2YgZnQmJmZ0KXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKSxtdD1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2goZSl7cmV0dXJuITB9fSx5dD0hbXQoKGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXt9LmJpbmQoKTtyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgZXx8ZS5oYXNPd25Qcm9wZXJ0eSgicHJvdG90eXBlIil9KSksZ3Q9eXQsdnQ9RnVuY3Rpb24ucHJvdG90eXBlLGJ0PXZ0LmFwcGx5LHh0PXZ0LmNhbGwsd3Q9Im9iamVjdCI9PXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmFwcGx5fHwoZ3Q/eHQuYmluZChidCk6ZnVuY3Rpb24oKXtyZXR1cm4geHQuYXBwbHkoYnQsYXJndW1lbnRzKX0pLCR0PXl0LGt0PUZ1bmN0aW9uLnByb3RvdHlwZSxTdD1rdC5iaW5kLEF0PWt0LmNhbGwsRXQ9JHQmJlN0LmJpbmQoQXQsQXQpLE90PSR0P2Z1bmN0aW9uKGUpe3JldHVybiBlJiZFdChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmZ1bmN0aW9uKCl7cmV0dXJuIEF0LmFwcGx5KGUsYXJndW1lbnRzKX19LFR0PWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfSxDdD17fSxqdD0hbXQoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSxJdD15dCxfdD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxQdD1JdD9fdC5iaW5kKF90KTpmdW5jdGlvbigpe3JldHVybiBfdC5hcHBseShfdCxhcmd1bWVudHMpfSxSdD17fSxMdD17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxGdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLER0PUZ0JiYhTHQuY2FsbCh7MToyfSwxKTtSdC5mPUR0P2Z1bmN0aW9uKGUpe3ZhciB0PUZ0KHRoaXMsZSk7cmV0dXJuISF0JiZ0LmVudW1lcmFibGV9Okx0O3ZhciBCdCxOdCxxdD1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX0sVXQ9T3QsenQ9VXQoe30udG9TdHJpbmcpLE10PVV0KCIiLnNsaWNlKSxIdD1mdW5jdGlvbihlKXtyZXR1cm4gTXQoenQoZSksOCwtMSl9LFd0PU90LFZ0PW10LEd0PUh0LEt0PWZ0Lk9iamVjdCxKdD1XdCgiIi5zcGxpdCksWXQ9VnQoKGZ1bmN0aW9uKCl7cmV0dXJuIUt0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PUd0KGUpP0p0KGUsIiIpOkt0KGUpfTpLdCxadD1mdC5UeXBlRXJyb3IsUXQ9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBadCgiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIitlKTtyZXR1cm4gZX0sWHQ9WXQsZXI9UXQsdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIFh0KGVyKGUpKX0scnI9VHQsbnI9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOnJyKGUpfSxvcj17fSxhcj1vcixpcj1mdCxzcj1UdCxscj1mdW5jdGlvbihlKXtyZXR1cm4gc3IoZSk/ZTp2b2lkIDB9LGNyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9scihhcltlXSl8fGxyKGlyW2VdKTphcltlXSYmYXJbZV1bdF18fGlyW2VdJiZpcltlXVt0XX0scHI9T3Qoe30uaXNQcm90b3R5cGVPZiksZHI9Y3IoIm5hdmlnYXRvciIsInVzZXJBZ2VudCIpfHwiIix1cj1mdCxocj1kcixmcj11ci5wcm9jZXNzLG1yPXVyLkRlbm8seXI9ZnImJmZyLnZlcnNpb25zfHxtciYmbXIudmVyc2lvbixncj15ciYmeXIudjg7Z3ImJihOdD0oQnQ9Z3Iuc3BsaXQoIi4iKSlbMF0+MCYmQnRbMF08ND8xOisoQnRbMF0rQnRbMV0pKSwhTnQmJmhyJiYoIShCdD1oci5tYXRjaCgvRWRnZVwvKFxkKykvKSl8fEJ0WzFdPj03NCkmJihCdD1oci5tYXRjaCgvQ2hyb21lXC8oXGQrKS8pKSYmKE50PStCdFsxXSk7dmFyIHZyPU50LGJyPXZyLHhyPW10LHdyPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIXhyKChmdW5jdGlvbigpe3ZhciBlPVN5bWJvbCgpO3JldHVybiFTdHJpbmcoZSl8fCEoT2JqZWN0KGUpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJmJyJiZicjw0MX0pKSwkcj13ciYmIVN5bWJvbC5zaGFtJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcixrcj1jcixTcj1UdCxBcj1wcixFcj0kcixPcj1mdC5PYmplY3QsVHI9RXI/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXt2YXIgdD1rcigiU3ltYm9sIik7cmV0dXJuIFNyKHQpJiZBcih0LnByb3RvdHlwZSxPcihlKSl9LENyPWZ0LlN0cmluZyxqcj1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIENyKGUpfWNhdGNoKGUpe3JldHVybiJPYmplY3QifX0sSXI9VHQsX3I9anIsUHI9ZnQuVHlwZUVycm9yLFJyPWZ1bmN0aW9uKGUpe2lmKElyKGUpKXJldHVybiBlO3Rocm93IFByKF9yKGUpKyIgaXMgbm90IGEgZnVuY3Rpb24iKX0sTHI9UnIsRnI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lW3RdO3JldHVybiBudWxsPT1yP3ZvaWQgMDpMcihyKX0sRHI9UHQsQnI9VHQsTnI9bnIscXI9ZnQuVHlwZUVycm9yLFVyPXtleHBvcnRzOnt9fSx6cj1mdCxNcj1PYmplY3QuZGVmaW5lUHJvcGVydHksSHI9ZnQuaXx8ZnVuY3Rpb24oZSx0KXt0cnl7TXIoenIsZSx7dmFsdWU6dCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KX1jYXRjaChyKXt6cltlXT10fXJldHVybiB0fSgiX19jb3JlLWpzX3NoYXJlZF9fIix7fSksV3I9SHI7KFVyLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gV3JbZV18fChXcltlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjoiMy4yMS4xIixtb2RlOiJwdXJlIixjb3B5cmlnaHQ6IsKpIDIwMTQtMjAyMiBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSIsbGljZW5zZToiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi92My4yMS4xL0xJQ0VOU0UiLHNvdXJjZToiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMifSk7dmFyIFZyPVF0LEdyPWZ0Lk9iamVjdCxLcj1mdW5jdGlvbihlKXtyZXR1cm4gR3IoVnIoZSkpfSxKcj1LcixZcj1PdCh7fS5oYXNPd25Qcm9wZXJ0eSksWnI9T2JqZWN0Lmhhc093bnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWXIoSnIoZSksdCl9LFFyPU90LFhyPTAsZW49TWF0aC5yYW5kb20oKSx0bj1RcigxLi50b1N0cmluZykscm49ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiKyh2b2lkIDA9PT1lPyIiOmUpKyIpXyIrdG4oKytYcitlbiwzNil9LG5uPWZ0LG9uPVVyLmV4cG9ydHMsYW49WnIsc249cm4sbG49d3IsY249JHIscG49b24oIndrcyIpLGRuPW5uLlN5bWJvbCx1bj1kbiYmZG4uZm9yLGhuPWNuP2RuOmRuJiZkbi53aXRob3V0U2V0dGVyfHxzbixmbj1mdW5jdGlvbihlKXtpZighYW4ocG4sZSl8fCFsbiYmInN0cmluZyIhPXR5cGVvZiBwbltlXSl7dmFyIHQ9IlN5bWJvbC4iK2U7bG4mJmFuKGRuLGUpP3BuW2VdPWRuW2VdOnBuW2VdPWNuJiZ1bj91bih0KTpobih0KX1yZXR1cm4gcG5bZV19LG1uPVB0LHluPW5yLGduPVRyLHZuPUZyLGJuPWZuLHhuPWZ0LlR5cGVFcnJvcix3bj1ibigidG9QcmltaXRpdmUiKSwkbj1mdW5jdGlvbihlLHQpe2lmKCF5bihlKXx8Z24oZSkpcmV0dXJuIGU7dmFyIHIsbj12bihlLHduKTtpZihuKXtpZih2b2lkIDA9PT10JiYodD0iZGVmYXVsdCIpLHI9bW4obixlLHQpLCF5bihyKXx8Z24ocikpcmV0dXJuIHI7dGhyb3cgeG4oIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfXJldHVybiB2b2lkIDA9PT10JiYodD0ibnVtYmVyIiksZnVuY3Rpb24oZSx0KXt2YXIgcixuO2lmKCJzdHJpbmciPT09dCYmQnIocj1lLnRvU3RyaW5nKSYmIU5yKG49RHIocixlKSkpcmV0dXJuIG47aWYoQnIocj1lLnZhbHVlT2YpJiYhTnIobj1EcihyLGUpKSlyZXR1cm4gbjtpZigic3RyaW5nIiE9PXQmJkJyKHI9ZS50b1N0cmluZykmJiFOcihuPURyKHIsZSkpKXJldHVybiBuO3Rocm93IHFyKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX0oZSx0KX0sa249VHIsU249ZnVuY3Rpb24oZSl7dmFyIHQ9JG4oZSwic3RyaW5nIik7cmV0dXJuIGtuKHQpP3Q6dCsiIn0sQW49bnIsRW49ZnQuZG9jdW1lbnQsT249QW4oRW4pJiZBbihFbi5jcmVhdGVFbGVtZW50KSxUbj1mdW5jdGlvbihlKXtyZXR1cm4gT24/RW4uY3JlYXRlRWxlbWVudChlKTp7fX0sQ249VG4sam49IWp0JiYhbXQoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDbigiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpLEluPWp0LF9uPVB0LFBuPVJ0LFJuPXF0LExuPXRyLEZuPVNuLERuPVpyLEJuPWpuLE5uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Q3QuZj1Jbj9ObjpmdW5jdGlvbihlLHQpe2lmKGU9TG4oZSksdD1Gbih0KSxCbil0cnl7cmV0dXJuIE5uKGUsdCl9Y2F0Y2goZSl7fWlmKERuKGUsdCkpcmV0dXJuIFJuKCFfbihQbi5mLGUsdCksZVt0XSl9O3ZhciBxbj1tdCxVbj1UdCx6bj0vI3xcLnByb3RvdHlwZVwuLyxNbj1mdW5jdGlvbihlLHQpe3ZhciByPVduW0huKGUpXTtyZXR1cm4gcj09R258fHIhPVZuJiYoVW4odCk/cW4odCk6ISF0KX0sSG49TW4ubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZSh6biwiLiIpLnRvTG93ZXJDYXNlKCl9LFduPU1uLmRhdGE9e30sVm49TW4uTkFUSVZFPSJOIixHbj1Nbi5QT0xZRklMTD0iUCIsS249TW4sSm49UnIsWW49eXQsWm49T3QoT3QuYmluZCksUW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSm4oZSksdm9pZCAwPT09dD9lOlluP1puKGUsdCk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fSxYbj17fSxlbz1qdCYmbXQoKGZ1bmN0aW9uKCl7cmV0dXJuIDQyIT1PYmplY3QuZGVmaW5lUHJvcGVydHkoKGZ1bmN0aW9uKCl7fSksInByb3RvdHlwZSIse3ZhbHVlOjQyLHdyaXRhYmxlOiExfSkucHJvdG90eXBlfSkpLHRvPWZ0LHJvPW5yLG5vPXRvLlN0cmluZyxvbz10by5UeXBlRXJyb3IsYW89ZnVuY3Rpb24oZSl7aWYocm8oZSkpcmV0dXJuIGU7dGhyb3cgb28obm8oZSkrIiBpcyBub3QgYW4gb2JqZWN0Iil9LGlvPWp0LHNvPWpuLGxvPWVvLGNvPWFvLHBvPVNuLHVvPWZ0LlR5cGVFcnJvcixobz1PYmplY3QuZGVmaW5lUHJvcGVydHksZm89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtYbi5mPWlvP2xvP2Z1bmN0aW9uKGUsdCxyKXtpZihjbyhlKSx0PXBvKHQpLGNvKHIpLCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYicHJvdG90eXBlIj09PXQmJiJ2YWx1ZSJpbiByJiYid3JpdGFibGUiaW4gciYmIXIud3JpdGFibGUpe3ZhciBuPWZvKGUsdCk7biYmbi53cml0YWJsZSYmKGVbdF09ci52YWx1ZSxyPXtjb25maWd1cmFibGU6ImNvbmZpZ3VyYWJsZSJpbiByP3IuY29uZmlndXJhYmxlOm4uY29uZmlndXJhYmxlLGVudW1lcmFibGU6ImVudW1lcmFibGUiaW4gcj9yLmVudW1lcmFibGU6bi5lbnVtZXJhYmxlLHdyaXRhYmxlOiExfSl9cmV0dXJuIGhvKGUsdCxyKX06aG86ZnVuY3Rpb24oZSx0LHIpe2lmKGNvKGUpLHQ9cG8odCksY28ociksc28pdHJ5e3JldHVybiBobyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IHVvKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfTt2YXIgbW89WG4seW89cXQsZ289anQ/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBtby5mKGUsdCx5bygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX0sdm89ZnQsYm89d3QseG89T3Qsd289VHQsJG89Q3QuZixrbz1LbixTbz1vcixBbz1RbixFbz1nbyxPbz1acixUbz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihyLG4sbyl7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUocik7Y2FzZSAyOnJldHVybiBuZXcgZShyLG4pfXJldHVybiBuZXcgZShyLG4sbyl9cmV0dXJuIGJvKGUsdGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdC5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdH0sQ289ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG8sYSxpLHMsbCxjLHA9ZS50YXJnZXQsZD1lLmdsb2JhbCx1PWUuc3RhdCxoPWUucHJvdG8sZj1kP3ZvOnU/dm9bcF06KHZvW3BdfHx7fSkucHJvdG90eXBlLG09ZD9TbzpTb1twXXx8RW8oU28scCx7fSlbcF0seT1tLnByb3RvdHlwZTtmb3IobyBpbiB0KXI9IWtvKGQ/bzpwKyh1PyIuIjoiIyIpK28sZS5mb3JjZWQpJiZmJiZPbyhmLG8pLGk9bVtvXSxyJiYocz1lLm5vVGFyZ2V0R2V0PyhjPSRvKGYsbykpJiZjLnZhbHVlOmZbb10pLGE9ciYmcz9zOnRbb10sciYmdHlwZW9mIGk9PXR5cGVvZiBhfHwobD1lLmJpbmQmJnI/QW8oYSx2byk6ZS53cmFwJiZyP1RvKGEpOmgmJndvKGEpP3hvKGEpOmEsKGUuc2hhbXx8YSYmYS5zaGFtfHxpJiZpLnNoYW0pJiZFbyhsLCJzaGFtIiwhMCksRW8obSxvLGwpLGgmJihPbyhTbyxuPXArIlByb3RvdHlwZSIpfHxFbyhTbyxuLHt9KSxFbyhTb1tuXSxvLGEpLGUucmVhbCYmeSYmIXlbb10mJkVvKHksbyxhKSkpfSxqbz1NYXRoLmNlaWwsSW89TWF0aC5mbG9vcixfbz1mdW5jdGlvbihlKXt2YXIgdD0rZTtyZXR1cm4gdCE9dHx8MD09PXQ/MDoodD4wP0lvOmpvKSh0KX0sUG89X28sUm89TWF0aC5tYXgsTG89TWF0aC5taW4sRm89ZnVuY3Rpb24oZSx0KXt2YXIgcj1QbyhlKTtyZXR1cm4gcjwwP1JvKHIrdCwwKTpMbyhyLHQpfSxEbz1fbyxCbz1NYXRoLm1pbixObz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP0JvKERvKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9LHFvPU5vLFVvPWZ1bmN0aW9uKGUpe3JldHVybiBxbyhlLmxlbmd0aCl9LHpvPXRyLE1vPUZvLEhvPVVvLFdvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7dmFyIG8sYT16byh0KSxpPUhvKGEpLHM9TW8obixpKTtpZihlJiZyIT1yKXtmb3IoO2k+czspaWYoKG89YVtzKytdKSE9bylyZXR1cm4hMH1lbHNlIGZvcig7aT5zO3MrKylpZigoZXx8cyBpbiBhKSYmYVtzXT09PXIpcmV0dXJuIGV8fHN8fDA7cmV0dXJuIWUmJi0xfX0sVm89e2luY2x1ZGVzOldvKCEwKSxpbmRleE9mOldvKCExKX0sR289e30sS289WnIsSm89dHIsWW89Vm8uaW5kZXhPZixabz1HbyxRbz1PdChbXS5wdXNoKSxYbz1mdW5jdGlvbihlLHQpe3ZhciByLG49Sm8oZSksbz0wLGE9W107Zm9yKHIgaW4gbikhS28oWm8scikmJktvKG4scikmJlFvKGEscik7Zm9yKDt0Lmxlbmd0aD5vOylLbyhuLHI9dFtvKytdKSYmKH5ZbyhhLHIpfHxRbyhhLHIpKTtyZXR1cm4gYX0sZWE9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXSx0YT1YbyxyYT1lYSxuYT1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHRhKGUscmEpfSxvYT1LcixhYT1uYTtDbyh7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOm10KChmdW5jdGlvbigpe2FhKDEpfSkpfSx7a2V5czpmdW5jdGlvbihlKXtyZXR1cm4gYWEob2EoZSkpfX0pO3ZhciBpYT1vci5PYmplY3Qua2V5cztjb25zdCBzYT11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1pYSk7dmFyIGxhPUh0LGNhPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PWxhKGUpfSxwYT17fTtwYVtmbigidG9TdHJpbmdUYWciKV09InoiO3ZhciBkYT0iW29iamVjdCB6XSI9PT1TdHJpbmcocGEpLHVhPWZ0LGhhPWRhLGZhPVR0LG1hPUh0LHlhPWZuKCJ0b1N0cmluZ1RhZyIpLGdhPXVhLk9iamVjdCx2YT0iQXJndW1lbnRzIj09bWEoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxiYT1oYT9tYTpmdW5jdGlvbihlKXt2YXIgdCxyLG47cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PWdhKGUpLHlhKSk/cjp2YT9tYSh0KToiT2JqZWN0Ij09KG49bWEodCkpJiZmYSh0LmNhbGxlZSk/IkFyZ3VtZW50cyI6bn0seGE9YmEsd2E9ZnQuU3RyaW5nLCRhPWZ1bmN0aW9uKGUpe2lmKCJTeW1ib2wiPT09eGEoZSkpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZyIpO3JldHVybiB3YShlKX0sa2E9e30sU2E9anQsQWE9ZW8sRWE9WG4sT2E9YW8sVGE9dHIsQ2E9bmE7a2EuZj1TYSYmIUFhP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7T2EoZSk7Zm9yKHZhciByLG49VGEodCksbz1DYSh0KSxhPW8ubGVuZ3RoLGk9MDthPmk7KUVhLmYoZSxyPW9baSsrXSxuW3JdKTtyZXR1cm4gZX07dmFyIGphLElhPWNyKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpLF9hPVVyLmV4cG9ydHMsUGE9cm4sUmE9X2EoImtleXMiKSxMYT1mdW5jdGlvbihlKXtyZXR1cm4gUmFbZV18fChSYVtlXT1QYShlKSl9LEZhPWFvLERhPWthLEJhPWVhLE5hPUdvLHFhPUlhLFVhPVRuLHphPUxhKCJJRV9QUk9UTyIpLE1hPWZ1bmN0aW9uKCl7fSxIYT1mdW5jdGlvbihlKXtyZXR1cm4iPHNjcmlwdD4iK2UrIjxcL3NjcmlwdD4ifSxXYT1mdW5jdGlvbihlKXtlLndyaXRlKEhhKCIiKSksZS5jbG9zZSgpO3ZhciB0PWUucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gZT1udWxsLHR9LFZhPWZ1bmN0aW9uKCl7dHJ5e2phPW5ldyBBY3RpdmVYT2JqZWN0KCJodG1sZmlsZSIpfWNhdGNoKGUpe312YXIgZSx0O1ZhPSJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZqYT9XYShqYSk6KCh0PVVhKCJpZnJhbWUiKSkuc3R5bGUuZGlzcGxheT0ibm9uZSIscWEuYXBwZW5kQ2hpbGQodCksdC5zcmM9U3RyaW5nKCJqYXZhc2NyaXB0OiIpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUoSGEoImRvY3VtZW50LkY9T2JqZWN0IikpLGUuY2xvc2UoKSxlLkYpOldhKGphKTtmb3IodmFyIHI9QmEubGVuZ3RoO3ItLTspZGVsZXRlIFZhLnByb3RvdHlwZVtCYVtyXV07cmV0dXJuIFZhKCl9O05hW3phXT0hMDt2YXIgR2E9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KE1hLnByb3RvdHlwZT1GYShlKSxyPW5ldyBNYSxNYS5wcm90b3R5cGU9bnVsbCxyW3phXT1lKTpyPVZhKCksdm9pZCAwPT09dD9yOkRhLmYocix0KX0sS2E9e30sSmE9WG8sWWE9ZWEuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTtLYS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gSmEoZSxZYSl9O3ZhciBaYT17fSxRYT1TbixYYT1YbixlaT1xdCx0aT1mdW5jdGlvbihlLHQscil7dmFyIG49UWEodCk7biBpbiBlP1hhLmYoZSxuLGVpKDAscikpOmVbbl09cn0scmk9Rm8sbmk9VW8sb2k9dGksYWk9ZnQuQXJyYXksaWk9TWF0aC5tYXgsc2k9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1uaShlKSxvPXJpKHQsbiksYT1yaSh2b2lkIDA9PT1yP246cixuKSxpPWFpKGlpKGEtbywwKSkscz0wO288YTtvKysscysrKW9pKGkscyxlW29dKTtyZXR1cm4gaS5sZW5ndGg9cyxpfSxsaT1IdCxjaT10cixwaT1LYS5mLGRpPXNpLHVpPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W107WmEuZj1mdW5jdGlvbihlKXtyZXR1cm4gdWkmJiJXaW5kb3ciPT1saShlKT9mdW5jdGlvbihlKXt0cnl7cmV0dXJuIHBpKGUpfWNhdGNoKGUpe3JldHVybiBkaSh1aSl9fShlKTpwaShjaShlKSl9O3ZhciBoaT17fTtoaS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIGZpPU90KFtdLnNsaWNlKSxtaT1nbyx5aT1mdW5jdGlvbihlLHQscixuKXtuJiZuLmVudW1lcmFibGU/ZVt0XT1yOm1pKGUsdCxyKX0sZ2k9e30sdmk9Zm47Z2kuZj12aTt2YXIgYmk9b3IseGk9WnIsd2k9Z2ksJGk9WG4uZixraT1mdW5jdGlvbihlKXt2YXIgdD1iaS5TeW1ib2x8fChiaS5TeW1ib2w9e30pO3hpKHQsZSl8fCRpKHQsZSx7dmFsdWU6d2kuZihlKX0pfSxTaT1iYSxBaT1kYT97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIrU2kodGhpcykrIl0ifSxFaT1kYSxPaT1Ybi5mLFRpPWdvLENpPVpyLGppPUFpLElpPWZuKCJ0b1N0cmluZ1RhZyIpLF9pPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGUpe3ZhciBvPXI/ZTplLnByb3RvdHlwZTtDaShvLElpKXx8T2kobyxJaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KSxuJiYhRWkmJlRpKG8sInRvU3RyaW5nIixqaSl9fSxQaT1UdCxSaT1IcixMaT1PdChGdW5jdGlvbi50b1N0cmluZyk7UGkoUmkuaW5zcGVjdFNvdXJjZSl8fChSaS5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBMaShlKX0pO3ZhciBGaSxEaSxCaSxOaT1SaS5pbnNwZWN0U291cmNlLHFpPVR0LFVpPU5pLHppPWZ0LldlYWtNYXAsTWk9cWkoemkpJiYvbmF0aXZlIGNvZGUvLnRlc3QoVWkoemkpKSxIaT1NaSxXaT1mdCxWaT1PdCxHaT1ucixLaT1nbyxKaT1acixZaT1IcixaaT1MYSxRaT1HbyxYaT1XaS5UeXBlRXJyb3IsZXM9V2kuV2Vha01hcDtpZihIaXx8WWkuc3RhdGUpe3ZhciB0cz1ZaS5zdGF0ZXx8KFlpLnN0YXRlPW5ldyBlcykscnM9VmkodHMuZ2V0KSxucz1WaSh0cy5oYXMpLG9zPVZpKHRzLnNldCk7Rmk9ZnVuY3Rpb24oZSx0KXtpZihucyh0cyxlKSl0aHJvdyBuZXcgWGkoIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkIik7cmV0dXJuIHQuZmFjYWRlPWUsb3ModHMsZSx0KSx0fSxEaT1mdW5jdGlvbihlKXtyZXR1cm4gcnModHMsZSl8fHt9fSxCaT1mdW5jdGlvbihlKXtyZXR1cm4gbnModHMsZSl9fWVsc2V7dmFyIGFzPVppKCJzdGF0ZSIpO1FpW2FzXT0hMCxGaT1mdW5jdGlvbihlLHQpe2lmKEppKGUsYXMpKXRocm93IG5ldyBYaSgiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQiKTtyZXR1cm4gdC5mYWNhZGU9ZSxLaShlLGFzLHQpLHR9LERpPWZ1bmN0aW9uKGUpe3JldHVybiBKaShlLGFzKT9lW2FzXTp7fX0sQmk9ZnVuY3Rpb24oZSl7cmV0dXJuIEppKGUsYXMpfX12YXIgaXM9e3NldDpGaSxnZXQ6RGksaGFzOkJpLGVuZm9yY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIEJpKGUpP0RpKGUpOkZpKGUse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByO2lmKCFHaSh0KXx8KHI9RGkodCkpLnR5cGUhPT1lKXRocm93IFhpKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrZSsiIHJlcXVpcmVkIik7cmV0dXJuIHJ9fX0sc3M9T3QsbHM9bXQsY3M9VHQscHM9YmEsZHM9TmksdXM9ZnVuY3Rpb24oKXt9LGhzPVtdLGZzPWNyKCJSZWZsZWN0IiwiY29uc3RydWN0IiksbXM9L15ccyooPzpjbGFzc3xmdW5jdGlvbilcYi8seXM9c3MobXMuZXhlYyksZ3M9IW1zLmV4ZWModXMpLHZzPWZ1bmN0aW9uKGUpe2lmKCFjcyhlKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGZzKHVzLGhzLGUpLCEwfWNhdGNoKGUpe3JldHVybiExfX0sYnM9ZnVuY3Rpb24oZSl7aWYoIWNzKGUpKXJldHVybiExO3N3aXRjaChwcyhlKSl7Y2FzZSJBc3luY0Z1bmN0aW9uIjpjYXNlIkdlbmVyYXRvckZ1bmN0aW9uIjpjYXNlIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb24iOnJldHVybiExfXRyeXtyZXR1cm4gZ3N8fCEheXMobXMsZHMoZSkpfWNhdGNoKGUpe3JldHVybiEwfX07YnMuc2hhbT0hMDt2YXIgeHM9IWZzfHxscygoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdnModnMuY2FsbCl8fCF2cyhPYmplY3QpfHwhdnMoKGZ1bmN0aW9uKCl7ZT0hMH0pKXx8ZX0pKT9iczp2cyx3cz1mdCwkcz1jYSxrcz14cyxTcz1ucixBcz1mbigic3BlY2llcyIpLEVzPXdzLkFycmF5LE9zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyhmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gJHMoZSkmJih0PWUuY29uc3RydWN0b3IsKGtzKHQpJiYodD09PUVzfHwkcyh0LnByb3RvdHlwZSkpfHxTcyh0KSYmbnVsbD09PSh0PXRbQXNdKSkmJih0PXZvaWQgMCkpLHZvaWQgMD09PXQ/RXM6dH0oZSkpKDA9PT10PzA6dCl9LFRzPVFuLENzPVl0LGpzPUtyLElzPVVvLF9zPU9zLFBzPU90KFtdLnB1c2gpLFJzPWZ1bmN0aW9uKGUpe3ZhciB0PTE9PWUscj0yPT1lLG49Mz09ZSxvPTQ9PWUsYT02PT1lLGk9Nz09ZSxzPTU9PWV8fGE7cmV0dXJuIGZ1bmN0aW9uKGwsYyxwLGQpe2Zvcih2YXIgdSxoLGY9anMobCksbT1DcyhmKSx5PVRzKGMscCksZz1JcyhtKSx2PTAsYj1kfHxfcyx4PXQ/YihsLGcpOnJ8fGk/YihsLDApOnZvaWQgMDtnPnY7disrKWlmKChzfHx2IGluIG0pJiYoaD15KHU9bVt2XSx2LGYpLGUpKWlmKHQpeFt2XT1oO2Vsc2UgaWYoaClzd2l0Y2goZSl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gdTtjYXNlIDY6cmV0dXJuIHY7Y2FzZSAyOlBzKHgsdSl9ZWxzZSBzd2l0Y2goZSl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzpQcyh4LHUpfXJldHVybiBhPy0xOm58fG8/bzp4fX0sTHM9e2ZvckVhY2g6UnMoMCksbWFwOlJzKDEpLGZpbHRlcjpScygyKSxzb21lOlJzKDMpLGV2ZXJ5OlJzKDQpLGZpbmQ6UnMoNSksZmluZEluZGV4OlJzKDYpLGZpbHRlclJlamVjdDpScyg3KX0sRnM9Q28sRHM9ZnQsQnM9Y3IsTnM9d3QscXM9UHQsVXM9T3QsenM9anQsTXM9d3IsSHM9bXQsV3M9WnIsVnM9Y2EsR3M9VHQsS3M9bnIsSnM9cHIsWXM9VHIsWnM9YW8sUXM9S3IsWHM9dHIsZWw9U24sdGw9JGEscmw9cXQsbmw9R2Esb2w9bmEsYWw9S2EsaWw9WmEsc2w9aGksbGw9Q3QsY2w9WG4scGw9a2EsZGw9UnQsdWw9ZmksaGw9eWksZmw9VXIuZXhwb3J0cyxtbD1Hbyx5bD1ybixnbD1mbix2bD1naSxibD1raSx4bD1faSx3bD1pcywkbD1Mcy5mb3JFYWNoLGtsPUxhKCJoaWRkZW4iKSxTbD1nbCgidG9QcmltaXRpdmUiKSxBbD13bC5zZXQsRWw9d2wuZ2V0dGVyRm9yKCJTeW1ib2wiKSxPbD1PYmplY3QucHJvdG90eXBlLFRsPURzLlN5bWJvbCxDbD1UbCYmVGwucHJvdG90eXBlLGpsPURzLlR5cGVFcnJvcixJbD1Ecy5RT2JqZWN0LF9sPUJzKCJKU09OIiwic3RyaW5naWZ5IiksUGw9bGwuZixSbD1jbC5mLExsPWlsLmYsRmw9ZGwuZixEbD1VcyhbXS5wdXNoKSxCbD1mbCgic3ltYm9scyIpLE5sPWZsKCJvcC1zeW1ib2xzIikscWw9ZmwoInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnkiKSxVbD1mbCgic3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeSIpLHpsPWZsKCJ3a3MiKSxNbD0hSWx8fCFJbC5wcm90b3R5cGV8fCFJbC5wcm90b3R5cGUuZmluZENoaWxkLEhsPXpzJiZIcygoZnVuY3Rpb24oKXtyZXR1cm4gNyE9bmwoUmwoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmwodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSkpP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1QbChPbCx0KTtuJiZkZWxldGUgT2xbdF0sUmwoZSx0LHIpLG4mJmUhPT1PbCYmUmwoT2wsdCxuKX06UmwsV2w9ZnVuY3Rpb24oZSx0KXt2YXIgcj1CbFtlXT1ubChDbCk7cmV0dXJuIEFsKHIse3R5cGU6IlN5bWJvbCIsdGFnOmUsZGVzY3JpcHRpb246dH0pLHpzfHwoci5kZXNjcmlwdGlvbj10KSxyfSxWbD1mdW5jdGlvbihlLHQscil7ZT09PU9sJiZWbChObCx0LHIpLFpzKGUpO3ZhciBuPWVsKHQpO3JldHVybiBacyhyKSxXcyhCbCxuKT8oci5lbnVtZXJhYmxlPyhXcyhlLGtsKSYmZVtrbF1bbl0mJihlW2tsXVtuXT0hMSkscj1ubChyLHtlbnVtZXJhYmxlOnJsKDAsITEpfSkpOihXcyhlLGtsKXx8UmwoZSxrbCxybCgxLHt9KSksZVtrbF1bbl09ITApLEhsKGUsbixyKSk6UmwoZSxuLHIpfSxHbD1mdW5jdGlvbihlLHQpe1pzKGUpO3ZhciByPVhzKHQpLG49b2wocikuY29uY2F0KFpsKHIpKTtyZXR1cm4gJGwobiwoZnVuY3Rpb24odCl7enMmJiFxcyhLbCxyLHQpfHxWbChlLHQsclt0XSl9KSksZX0sS2w9ZnVuY3Rpb24oZSl7dmFyIHQ9ZWwoZSkscj1xcyhGbCx0aGlzLHQpO3JldHVybiEodGhpcz09PU9sJiZXcyhCbCx0KSYmIVdzKE5sLHQpKSYmKCEocnx8IVdzKHRoaXMsdCl8fCFXcyhCbCx0KXx8V3ModGhpcyxrbCkmJnRoaXNba2xdW3RdKXx8cil9LEpsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9WHMoZSksbj1lbCh0KTtpZihyIT09T2x8fCFXcyhCbCxuKXx8V3MoTmwsbikpe3ZhciBvPVBsKHIsbik7cmV0dXJuIW98fCFXcyhCbCxuKXx8V3MocixrbCkmJnJba2xdW25dfHwoby5lbnVtZXJhYmxlPSEwKSxvfX0sWWw9ZnVuY3Rpb24oZSl7dmFyIHQ9TGwoWHMoZSkpLHI9W107cmV0dXJuICRsKHQsKGZ1bmN0aW9uKGUpe1dzKEJsLGUpfHxXcyhtbCxlKXx8RGwocixlKX0pKSxyfSxabD1mdW5jdGlvbihlKXt2YXIgdD1lPT09T2wscj1MbCh0P05sOlhzKGUpKSxuPVtdO3JldHVybiAkbChyLChmdW5jdGlvbihlKXshV3MoQmwsZSl8fHQmJiFXcyhPbCxlKXx8RGwobixCbFtlXSl9KSksbn07KE1zfHwoaGwoQ2w9KFRsPWZ1bmN0aW9uKCl7aWYoSnMoQ2wsdGhpcykpdGhyb3cgamwoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO3ZhciBlPWFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT90bChhcmd1bWVudHNbMF0pOnZvaWQgMCx0PXlsKGUpLHI9ZnVuY3Rpb24oZSl7dGhpcz09PU9sJiZxcyhyLE5sLGUpLFdzKHRoaXMsa2wpJiZXcyh0aGlzW2tsXSx0KSYmKHRoaXNba2xdW3RdPSExKSxIbCh0aGlzLHQscmwoMSxlKSl9O3JldHVybiB6cyYmTWwmJkhsKE9sLHQse2NvbmZpZ3VyYWJsZTohMCxzZXQ6cn0pLFdsKHQsZSl9KS5wcm90b3R5cGUsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gRWwodGhpcykudGFnfSkpLGhsKFRsLCJ3aXRob3V0U2V0dGVyIiwoZnVuY3Rpb24oZSl7cmV0dXJuIFdsKHlsKGUpLGUpfSkpLGRsLmY9S2wsY2wuZj1WbCxwbC5mPUdsLGxsLmY9SmwsYWwuZj1pbC5mPVlsLHNsLmY9WmwsdmwuZj1mdW5jdGlvbihlKXtyZXR1cm4gV2woZ2woZSksZSl9LHpzJiZSbChDbCwiZGVzY3JpcHRpb24iLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEVsKHRoaXMpLmRlc2NyaXB0aW9ufX0pKSxGcyh7Z2xvYmFsOiEwLHdyYXA6ITAsZm9yY2VkOiFNcyxzaGFtOiFNc30se1N5bWJvbDpUbH0pLCRsKG9sKHpsKSwoZnVuY3Rpb24oZSl7YmwoZSl9KSksRnMoe3RhcmdldDoiU3ltYm9sIixzdGF0OiEwLGZvcmNlZDohTXN9LHtmb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9dGwoZSk7aWYoV3MocWwsdCkpcmV0dXJuIHFsW3RdO3ZhciByPVRsKHQpO3JldHVybiBxbFt0XT1yLFVsW3JdPXQscn0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFZcyhlKSl0aHJvdyBqbChlKyIgaXMgbm90IGEgc3ltYm9sIik7aWYoV3MoVWwsZSkpcmV0dXJuIFVsW2VdfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtNbD0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7TWw9ITF9fSksRnMoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDohTXMsc2hhbTohenN9LHtjcmVhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9ubChlKTpHbChubChlKSx0KX0sZGVmaW5lUHJvcGVydHk6VmwsZGVmaW5lUHJvcGVydGllczpHbCxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6Smx9KSxGcyh7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOiFNc30se2dldE93blByb3BlcnR5TmFtZXM6WWwsZ2V0T3duUHJvcGVydHlTeW1ib2xzOlpsfSksRnMoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDpIcygoZnVuY3Rpb24oKXtzbC5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKGUpe3JldHVybiBzbC5mKFFzKGUpKX19KSxfbCkmJkZzKHt0YXJnZXQ6IkpTT04iLHN0YXQ6ITAsZm9yY2VkOiFNc3x8SHMoKGZ1bmN0aW9uKCl7dmFyIGU9VGwoKTtyZXR1cm4iW251bGxdIiE9X2woW2VdKXx8Int9IiE9X2woe2E6ZX0pfHwie30iIT1fbChPYmplY3QoZSkpfSkpfSx7c3RyaW5naWZ5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj11bChhcmd1bWVudHMpLG89dDtpZigoS3ModCl8fHZvaWQgMCE9PWUpJiYhWXMoZSkpcmV0dXJuIFZzKHQpfHwodD1mdW5jdGlvbihlLHQpe2lmKEdzKG8pJiYodD1xcyhvLHRoaXMsZSx0KSksIVlzKHQpKXJldHVybiB0fSksblsxXT10LE5zKF9sLG51bGwsbil9fSk7aWYoIUNsW1NsXSl7dmFyIFFsPUNsLnZhbHVlT2Y7aGwoQ2wsU2wsKGZ1bmN0aW9uKGUpe3JldHVybiBxcyhRbCx0aGlzKX0pKX14bChUbCwiU3ltYm9sIiksbWxba2xdPSEwO3ZhciBYbD1vci5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO2NvbnN0IGVjPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPVhsKTt2YXIgdGM9bXQscmM9dnIsbmM9Zm4oInNwZWNpZXMiKSxvYz1mdW5jdGlvbihlKXtyZXR1cm4gcmM+PTUxfHwhdGMoKGZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuKHQuY29uc3RydWN0b3I9e30pW25jXT1mdW5jdGlvbigpe3JldHVybntmb286MX19LDEhPT10W2VdKEJvb2xlYW4pLmZvb30pKX0sYWM9THMuZmlsdGVyO0NvKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6IW9jKCJmaWx0ZXIiKX0se2ZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gYWModGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgaWM9b3Isc2M9ZnVuY3Rpb24oZSl7cmV0dXJuIGljW2UrIlByb3RvdHlwZSJdfSxsYz1zYygiQXJyYXkiKS5maWx0ZXIsY2M9cHIscGM9bGMsZGM9QXJyYXkucHJvdG90eXBlLHVjPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsdGVyO3JldHVybiBlPT09ZGN8fGNjKGRjLGUpJiZ0PT09ZGMuZmlsdGVyP3BjOnR9O2NvbnN0IGhjPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPXVjKTt2YXIgZmM9e2V4cG9ydHM6e319LG1jPUNvLHljPW10LGdjPXRyLHZjPUN0LmYsYmM9anQseGM9eWMoKGZ1bmN0aW9uKCl7dmMoMSl9KSk7bWMoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDohYmN8fHhjLHNoYW06IWJjfSx7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZjKGdjKGUpLHQpfX0pO3ZhciB3Yz1vci5PYmplY3QsJGM9ZmMuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiB3Yy5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX07d2MuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLnNoYW0mJigkYy5zaGFtPSEwKTt2YXIga2M9ZmMuZXhwb3J0cztjb25zdCBTYz11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1rYyk7dmFyIEFjLEVjLE9jLFRjPXt9LENjPWp0LGpjPVpyLEljPUZ1bmN0aW9uLnByb3RvdHlwZSxfYz1DYyYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixQYz1qYyhJYywibmFtZSIpLFJjPXtFWElTVFM6UGMsUFJPUEVSOlBjJiYic29tZXRoaW5nIj09PWZ1bmN0aW9uKCl7fS5uYW1lLENPTkZJR1VSQUJMRTpQYyYmKCFDY3x8Q2MmJl9jKEljLCJuYW1lIikuY29uZmlndXJhYmxlKX0sTGM9IW10KChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBlKSE9PWUucHJvdG90eXBlfSkpLEZjPWZ0LERjPVpyLEJjPVR0LE5jPUtyLHFjPUxjLFVjPUxhKCJJRV9QUk9UTyIpLHpjPUZjLk9iamVjdCxNYz16Yy5wcm90b3R5cGUsSGM9cWM/emMuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9TmMoZSk7aWYoRGModCxVYykpcmV0dXJuIHRbVWNdO3ZhciByPXQuY29uc3RydWN0b3I7cmV0dXJuIEJjKHIpJiZ0IGluc3RhbmNlb2Ygcj9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgemM/TWM6bnVsbH0sV2M9bXQsVmM9VHQsR2M9R2EsS2M9SGMsSmM9eWksWWM9Zm4oIml0ZXJhdG9yIiksWmM9ITE7W10ua2V5cyYmKCJuZXh0ImluKE9jPVtdLmtleXMoKSk/KEVjPUtjKEtjKE9jKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKEFjPUVjKTpaYz0hMCk7dmFyIFFjPW51bGw9PUFjfHxXYygoZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gQWNbWWNdLmNhbGwoZSkhPT1lfSkpO1ZjKChBYz1RYz97fTpHYyhBYykpW1ljXSl8fEpjKEFjLFljLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBYYz17SXRlcmF0b3JQcm90b3R5cGU6QWMsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpaY30sZXA9WGMuSXRlcmF0b3JQcm90b3R5cGUsdHA9R2EscnA9cXQsbnA9X2ksb3A9VGMsYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30saXA9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dCsiIEl0ZXJhdG9yIjtyZXR1cm4gZS5wcm90b3R5cGU9dHAoZXAse25leHQ6cnAoKyFuLHIpfSksbnAoZSxvLCExLCEwKSxvcFtvXT1hcCxlfSxzcD1mdCxscD1UdCxjcD1zcC5TdHJpbmcscHA9c3AuVHlwZUVycm9yLGRwPU90LHVwPWFvLGhwPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbigpe3ZhciBlLHQ9ITEscj17fTt0cnl7KGU9ZHAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQpKShyLFtdKSx0PXIgaW5zdGFuY2VvZiBBcnJheX1jYXRjaChlKXt9cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIHVwKHIpLGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXx8bHAoZSkpcmV0dXJuIGU7dGhyb3cgcHAoIkNhbid0IHNldCAiK2NwKGUpKyIgYXMgYSBwcm90b3R5cGUiKX0obiksdD9lKHIsbik6ci5fX3Byb3RvX189bixyfX0oKTp2b2lkIDApLGZwPUNvLG1wPVB0LHlwPWlwLGdwPUhjLHZwPV9pLGJwPXlpLHhwPVRjLHdwPVJjLlBST1BFUiwkcD1YYy5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLGtwPWZuKCJpdGVyYXRvciIpLFNwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFwPWZ1bmN0aW9uKGUsdCxyLG4sbyxhLGkpe3lwKHIsdCxuKTt2YXIgcyxsLGMscD1mdW5jdGlvbihlKXtpZihlPT09byYmbSlyZXR1cm4gbTtpZighJHAmJmUgaW4gaClyZXR1cm4gaFtlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6Y2FzZSJlbnRyaWVzIjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMpfX0sZD10KyIgSXRlcmF0b3IiLHU9ITEsaD1lLnByb3RvdHlwZSxmPWhba3BdfHxoWyJAQGl0ZXJhdG9yIl18fG8mJmhbb10sbT0hJHAmJmZ8fHAobykseT0iQXJyYXkiPT10JiZoLmVudHJpZXN8fGY7aWYoeSYmKHM9Z3AoeS5jYWxsKG5ldyBlKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmcy5uZXh0JiYodnAocyxkLCEwLCEwKSx4cFtkXT1TcCksd3AmJiJ2YWx1ZXMiPT1vJiZmJiYidmFsdWVzIiE9PWYubmFtZSYmKHU9ITAsbT1mdW5jdGlvbigpe3JldHVybiBtcChmLHRoaXMpfSksbylpZihsPXt2YWx1ZXM6cCgidmFsdWVzIiksa2V5czphP206cCgia2V5cyIpLGVudHJpZXM6cCgiZW50cmllcyIpfSxpKWZvcihjIGluIGwpKCRwfHx1fHwhKGMgaW4gaCkpJiZicChoLGMsbFtjXSk7ZWxzZSBmcCh7dGFyZ2V0OnQscHJvdG86ITAsZm9yY2VkOiRwfHx1fSxsKTtyZXR1cm4gaSYmaFtrcF0hPT1tJiZicChoLGtwLG0se25hbWU6b30pLHhwW3RdPW0sbH0sRXA9dHIsT3A9VGMsVHA9aXM7WG4uZjt2YXIgQ3A9QXAsanA9VHAuc2V0LElwPVRwLmdldHRlckZvcigiQXJyYXkgSXRlcmF0b3IiKTtDcChBcnJheSwiQXJyYXkiLChmdW5jdGlvbihlLHQpe2pwKHRoaXMse3R5cGU6IkFycmF5IEl0ZXJhdG9yIix0YXJnZXQ6RXAoZSksaW5kZXg6MCxraW5kOnR9KX0pLChmdW5jdGlvbigpe3ZhciBlPUlwKHRoaXMpLHQ9ZS50YXJnZXQscj1lLmtpbmQsbj1lLmluZGV4Kys7cmV0dXJuIXR8fG4+PXQubGVuZ3RoPyhlLnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSk6ImtleXMiPT1yP3t2YWx1ZTpuLGRvbmU6ITF9OiJ2YWx1ZXMiPT1yP3t2YWx1ZTp0W25dLGRvbmU6ITF9Ont2YWx1ZTpbbix0W25dXSxkb25lOiExfX0pLCJ2YWx1ZXMiKSxPcC5Bcmd1bWVudHM9T3AuQXJyYXk7dmFyIF9wPWZ0LFBwPWJhLFJwPWdvLExwPVRjLEZwPWZuKCJ0b1N0cmluZ1RhZyIpO2Zvcih2YXIgRHAgaW57Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0pe3ZhciBCcD1fcFtEcF0sTnA9QnAmJkJwLnByb3RvdHlwZTtOcCYmUHAoTnApIT09RnAmJlJwKE5wLEZwLERwKSxMcFtEcF09THAuQXJyYXl9dmFyIHFwPW10LFVwPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W11bZV07cmV0dXJuISFyJiZxcCgoZnVuY3Rpb24oKXtyLmNhbGwobnVsbCx0fHxmdW5jdGlvbigpe3JldHVybiAxfSwxKX0pKX0senA9THMuZm9yRWFjaCxNcD1VcCgiZm9yRWFjaCIpP1tdLmZvckVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHpwKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9O0NvKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6W10uZm9yRWFjaCE9TXB9LHtmb3JFYWNoOk1wfSk7dmFyIEhwPXNjKCJBcnJheSIpLmZvckVhY2gsV3A9YmEsVnA9WnIsR3A9cHIsS3A9SHAsSnA9QXJyYXkucHJvdG90eXBlLFlwPXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9O2NvbnN0IFpwPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZm9yRWFjaDtyZXR1cm4gZT09PUpwfHxHcChKcCxlKSYmdD09PUpwLmZvckVhY2h8fFZwKFlwLFdwKGUpKT9LcDp0fSk7dmFyIFFwPWNyLFhwPUthLGVkPWhpLHRkPWFvLHJkPU90KFtdLmNvbmNhdCksbmQ9UXAoIlJlZmxlY3QiLCJvd25LZXlzIil8fGZ1bmN0aW9uKGUpe3ZhciB0PVhwLmYodGQoZSkpLHI9ZWQuZjtyZXR1cm4gcj9yZCh0LHIoZSkpOnR9LG9kPW5kLGFkPXRyLGlkPUN0LHNkPXRpO0NvKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxzaGFtOiFqdH0se2dldE93blByb3BlcnR5RGVzY3JpcHRvcnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1hZChlKSxvPWlkLmYsYT1vZChuKSxpPXt9LHM9MDthLmxlbmd0aD5zOyl2b2lkIDAhPT0ocj1vKG4sdD1hW3MrK10pKSYmc2QoaSx0LHIpO3JldHVybiBpfX0pO3ZhciBsZD1vci5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztjb25zdCBjZD11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1sZCk7dmFyIHBkPXtleHBvcnRzOnt9fSxkZD1Dbyx1ZD1qdCxoZD1rYS5mO2RkKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmRlZmluZVByb3BlcnRpZXMhPT1oZCxzaGFtOiF1ZH0se2RlZmluZVByb3BlcnRpZXM6aGR9KTt2YXIgZmQ9b3IuT2JqZWN0LG1kPXBkLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZmQuZGVmaW5lUHJvcGVydGllcyhlLHQpfTtmZC5kZWZpbmVQcm9wZXJ0aWVzLnNoYW0mJihtZC5zaGFtPSEwKTt2YXIgeWQ9cGQuZXhwb3J0cztjb25zdCBnZD11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz15ZCk7dmFyIHZkPXtleHBvcnRzOnt9fSxiZD1Dbyx4ZD1qdCx3ZD1Ybi5mO2JkKHt0YXJnZXQ6Ik9iamVjdCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmRlZmluZVByb3BlcnR5IT09d2Qsc2hhbToheGR9LHtkZWZpbmVQcm9wZXJ0eTp3ZH0pO3ZhciAkZD1vci5PYmplY3Qsa2Q9dmQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuICRkLmRlZmluZVByb3BlcnR5KGUsdCxyKX07JGQuZGVmaW5lUHJvcGVydHkuc2hhbSYmKGtkLnNoYW09ITApO3ZhciBTZD12ZC5leHBvcnRzO2NvbnN0IEFkPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPVNkKTtmdW5jdGlvbiBFZChlLHQscil7cmV0dXJuIHQgaW4gZT9BZChlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBPZChlLHQpe3ZhciByPXNhKGUpO2lmKGVjKXt2YXIgbj1lYyhlKTt0JiYobj1oYyhuKS5jYWxsKG4sKGZ1bmN0aW9uKHQpe3JldHVybiBTYyhlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIFRkKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByLG4sbz1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9acChyPU9kKE9iamVjdChvKSwhMCkpLmNhbGwociwoZnVuY3Rpb24odCl7RWQoZSx0LG9bdF0pfSkpOmNkP2dkKGUsY2QobykpOlpwKG49T2QoT2JqZWN0KG8pKSkuY2FsbChuLChmdW5jdGlvbih0KXtBZChlLHQsU2Mobyx0KSl9KSl9cmV0dXJuIGV9dmFyIENkPWp0LGpkPU90LElkPVB0LF9kPW10LFBkPW5hLFJkPWhpLExkPVJ0LEZkPUtyLERkPVl0LEJkPU9iamVjdC5hc3NpZ24sTmQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LHFkPWpkKFtdLmNvbmNhdCksVWQ9IUJkfHxfZCgoZnVuY3Rpb24oKXtpZihDZCYmMSE9PUJkKHtiOjF9LEJkKE5kKHt9LCJhIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtOZCh0aGlzLCJiIix7dmFsdWU6MyxlbnVtZXJhYmxlOiExfSl9fSkse2I6Mn0pKS5iKXJldHVybiEwO3ZhciBlPXt9LHQ9e30scj1TeW1ib2woKSxuPSJhYmNkZWZnaGlqa2xtbm9wcXJzdCI7cmV0dXJuIGVbcl09NyxuLnNwbGl0KCIiKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPWV9KSksNyE9QmQoe30sZSlbcl18fFBkKEJkKHt9LHQpKS5qb2luKCIiKSE9bn0pKT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1GZChlKSxuPWFyZ3VtZW50cy5sZW5ndGgsbz0xLGE9UmQuZixpPUxkLmY7bj5vOylmb3IodmFyIHMsbD1EZChhcmd1bWVudHNbbysrXSksYz1hP3FkKFBkKGwpLGEobCkpOlBkKGwpLHA9Yy5sZW5ndGgsZD0wO3A+ZDspcz1jW2QrK10sQ2QmJiFJZChpLGwscyl8fChyW3NdPWxbc10pO3JldHVybiByfTpCZCx6ZD1VZDtDbyh7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITAsZm9yY2VkOk9iamVjdC5hc3NpZ24hPT16ZH0se2Fzc2lnbjp6ZH0pO3ZhciBNZD1vci5PYmplY3QuYXNzaWduO2NvbnN0IEhkPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPU1kKTt2YXIgV2Q9bnIsVmQ9SHQsR2Q9Zm4oIm1hdGNoIiksS2Q9ZnQuVHlwZUVycm9yLEpkPWZ1bmN0aW9uKGUpe2lmKGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBXZChlKSYmKHZvaWQgMCE9PSh0PWVbR2RdKT8hIXQ6IlJlZ0V4cCI9PVZkKGUpKX0oZSkpdGhyb3cgS2QoIlRoZSBtZXRob2QgZG9lc24ndCBhY2NlcHQgcmVndWxhciBleHByZXNzaW9ucyIpO3JldHVybiBlfSxZZD1mbigibWF0Y2giKSxaZD1mdW5jdGlvbihlKXt2YXIgdD0vLi87dHJ5eyIvLi8iW2VdKHQpfWNhdGNoKHIpe3RyeXtyZXR1cm4gdFtZZF09ITEsIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMX0sUWQ9Q28sWGQ9T3QsZXU9Tm8sdHU9JGEscnU9SmQsbnU9UXQsb3U9WmQsYXU9WGQoIiIuc3RhcnRzV2l0aCksaXU9WGQoIiIuc2xpY2UpLHN1PU1hdGgubWluO1FkKHt0YXJnZXQ6IlN0cmluZyIscHJvdG86ITAsZm9yY2VkOiFvdSgic3RhcnRzV2l0aCIpfSx7c3RhcnRzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD10dShudSh0aGlzKSk7cnUoZSk7dmFyIHI9ZXUoc3UoYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdC5sZW5ndGgpKSxuPXR1KGUpO3JldHVybiBhdT9hdSh0LG4scik6aXUodCxyLHIrbi5sZW5ndGgpPT09bn19KTt2YXIgbHU9c2MoIlN0cmluZyIpLnN0YXJ0c1dpdGgsY3U9cHIscHU9bHUsZHU9U3RyaW5nLnByb3RvdHlwZTtjb25zdCB1dT11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0c1dpdGg7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHxlPT09ZHV8fGN1KGR1LGUpJiZ0PT09ZHUuc3RhcnRzV2l0aD9wdTp0fSk7dmFyIGh1PXt9LGZ1PXtleHBvcnRzOnt9fTshZnVuY3Rpb24oZSx0KXshZnVuY3Rpb24ocil7dmFyIG49dCYmIXQubm9kZVR5cGUmJnQsbz1lJiYhZS5ub2RlVHlwZSYmZSxhPSJvYmplY3QiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWw7YS5nbG9iYWwhPT1hJiZhLndpbmRvdyE9PWEmJmEuc2VsZiE9PWF8fChyPWEpO3ZhciBpLHMsbD0yMTQ3NDgzNjQ3LGM9MzYscD0vXnhuLS0vLGQ9L1teXHgyMC1ceDdFXS8sdT0vW1x4MkVcdTMwMDJcdUZGMEVcdUZGNjFdL2csaD17b3ZlcmZsb3c6Ik92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzIiwibm90LWJhc2ljIjoiSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KSIsImludmFsaWQtaW5wdXQiOiJJbnZhbGlkIGlucHV0In0sZj1NYXRoLmZsb29yLG09U3RyaW5nLmZyb21DaGFyQ29kZTtmdW5jdGlvbiB5KGUpe3Rocm93IFJhbmdlRXJyb3IoaFtlXSl9ZnVuY3Rpb24gZyhlLHQpe2Zvcih2YXIgcj1lLmxlbmd0aCxuPVtdO3ItLTspbltyXT10KGVbcl0pO3JldHVybiBufWZ1bmN0aW9uIHYoZSx0KXt2YXIgcj1lLnNwbGl0KCJAIiksbj0iIjtyZXR1cm4gci5sZW5ndGg+MSYmKG49clswXSsiQCIsZT1yWzFdKSxuK2coKGU9ZS5yZXBsYWNlKHUsIi4iKSkuc3BsaXQoIi4iKSx0KS5qb2luKCIuIil9ZnVuY3Rpb24gYihlKXtmb3IodmFyIHQscixuPVtdLG89MCxhPWUubGVuZ3RoO288YTspKHQ9ZS5jaGFyQ29kZUF0KG8rKykpPj01NTI5NiYmdDw9NTYzMTkmJm88YT81NjMyMD09KDY0NTEyJihyPWUuY2hhckNvZGVBdChvKyspKSk/bi5wdXNoKCgoMTAyMyZ0KTw8MTApKygxMDIzJnIpKzY1NTM2KToobi5wdXNoKHQpLG8tLSk6bi5wdXNoKHQpO3JldHVybiBufWZ1bmN0aW9uIHgoZSl7cmV0dXJuIGcoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9IiI7cmV0dXJuIGU+NjU1MzUmJih0Kz1tKChlLT02NTUzNik+Pj4xMCYxMDIzfDU1Mjk2KSxlPTU2MzIwfDEwMjMmZSksdCttKGUpfSkpLmpvaW4oIiIpfWZ1bmN0aW9uIHcoZSx0KXtyZXR1cm4gZSsyMis3NSooZTwyNiktKCgwIT10KTw8NSl9ZnVuY3Rpb24gJChlLHQscil7dmFyIG49MDtmb3IoZT1yP2YoZS83MDApOmU+PjEsZSs9ZihlL3QpO2U+NDU1O24rPWMpZT1mKGUvMzUpO3JldHVybiBmKG4rMzYqZS8oZSszOCkpfWZ1bmN0aW9uIGsoZSl7dmFyIHQscixuLG8sYSxpLHMscCxkLHUsaCxtPVtdLGc9ZS5sZW5ndGgsdj0wLGI9MTI4LHc9NzI7Zm9yKChyPWUubGFzdEluZGV4T2YoIi0iKSk8MCYmKHI9MCksbj0wO248cjsrK24pZS5jaGFyQ29kZUF0KG4pPj0xMjgmJnkoIm5vdC1iYXNpYyIpLG0ucHVzaChlLmNoYXJDb2RlQXQobikpO2ZvcihvPXI+MD9yKzE6MDtvPGc7KXtmb3IoYT12LGk9MSxzPWM7bz49ZyYmeSgiaW52YWxpZC1pbnB1dCIpLCgocD0oaD1lLmNoYXJDb2RlQXQobysrKSktNDg8MTA/aC0yMjpoLTY1PDI2P2gtNjU6aC05NzwyNj9oLTk3OmMpPj1jfHxwPmYoKGwtdikvaSkpJiZ5KCJvdmVyZmxvdyIpLHYrPXAqaSwhKHA8KGQ9czw9dz8xOnM+PXcrMjY/MjY6cy13KSk7cys9YylpPmYobC8odT1jLWQpKSYmeSgib3ZlcmZsb3ciKSxpKj11O3c9JCh2LWEsdD1tLmxlbmd0aCsxLDA9PWEpLGYodi90KT5sLWImJnkoIm92ZXJmbG93IiksYis9Zih2L3QpLHYlPXQsbS5zcGxpY2UodisrLDAsYil9cmV0dXJuIHgobSl9ZnVuY3Rpb24gUyhlKXt2YXIgdCxyLG4sbyxhLGkscyxwLGQsdSxoLGcsdix4LGssUz1bXTtmb3IoZz0oZT1iKGUpKS5sZW5ndGgsdD0xMjgscj0wLGE9NzIsaT0wO2k8ZzsrK2kpKGg9ZVtpXSk8MTI4JiZTLnB1c2gobShoKSk7Zm9yKG49bz1TLmxlbmd0aCxvJiZTLnB1c2goIi0iKTtuPGc7KXtmb3Iocz1sLGk9MDtpPGc7KytpKShoPWVbaV0pPj10JiZoPHMmJihzPWgpO2ZvcihzLXQ+ZigobC1yKS8odj1uKzEpKSYmeSgib3ZlcmZsb3ciKSxyKz0ocy10KSp2LHQ9cyxpPTA7aTxnOysraSlpZigoaD1lW2ldKTx0JiYrK3I+bCYmeSgib3ZlcmZsb3ciKSxoPT10KXtmb3IocD1yLGQ9YzshKHA8KHU9ZDw9YT8xOmQ+PWErMjY/MjY6ZC1hKSk7ZCs9YylrPXAtdSx4PWMtdSxTLnB1c2gobSh3KHUrayV4LDApKSkscD1mKGsveCk7Uy5wdXNoKG0odyhwLDApKSksYT0kKHIsdixuPT1vKSxyPTAsKytufSsrciwrK3R9cmV0dXJuIFMuam9pbigiIil9aWYoaT17dmVyc2lvbjoiMS4zLjIiLHVjczI6e2RlY29kZTpiLGVuY29kZTp4fSxkZWNvZGU6ayxlbmNvZGU6Uyx0b0FTQ0lJOmZ1bmN0aW9uKGUpe3JldHVybiB2KGUsKGZ1bmN0aW9uKGUpe3JldHVybiBkLnRlc3QoZSk/InhuLS0iK1MoZSk6ZX0pKX0sdG9Vbmljb2RlOmZ1bmN0aW9uKGUpe3JldHVybiB2KGUsKGZ1bmN0aW9uKGUpe3JldHVybiBwLnRlc3QoZSk/ayhlLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpOmV9KSl9fSxuJiZvKWlmKGUuZXhwb3J0cz09bilvLmV4cG9ydHM9aTtlbHNlIGZvcihzIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShzKSYmKG5bc109aVtzXSk7ZWxzZSByLnB1bnljb2RlPWl9KHRoaXMpfShmdSxmdS5leHBvcnRzKTt2YXIgbXU9e307ZnVuY3Rpb24geXUoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dmFyIGd1PWZ1bmN0aW9uKGUpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJzdHJpbmciOnJldHVybiBlO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIGU/InRydWUiOiJmYWxzZSI7Y2FzZSJudW1iZXIiOnJldHVybiBpc0Zpbml0ZShlKT9lOiIiO2RlZmF1bHQ6cmV0dXJuIiJ9fTttdS5kZWNvZGU9bXUucGFyc2U9ZnVuY3Rpb24oZSx0LHIsbil7dD10fHwiJiIscj1yfHwiPSI7dmFyIG89e307aWYoInN0cmluZyIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIG87dmFyIGE9L1wrL2c7ZT1lLnNwbGl0KHQpO3ZhciBpPTFlMztuJiYibnVtYmVyIj09dHlwZW9mIG4ubWF4S2V5cyYmKGk9bi5tYXhLZXlzKTt2YXIgcz1lLmxlbmd0aDtpPjAmJnM+aSYmKHM9aSk7Zm9yKHZhciBsPTA7bDxzOysrbCl7dmFyIGMscCxkLHUsaD1lW2xdLnJlcGxhY2UoYSwiJTIwIiksZj1oLmluZGV4T2Yocik7Zj49MD8oYz1oLnN1YnN0cigwLGYpLHA9aC5zdWJzdHIoZisxKSk6KGM9aCxwPSIiKSxkPWRlY29kZVVSSUNvbXBvbmVudChjKSx1PWRlY29kZVVSSUNvbXBvbmVudChwKSx5dShvLGQpP0FycmF5LmlzQXJyYXkob1tkXSk/b1tkXS5wdXNoKHUpOm9bZF09W29bZF0sdV06b1tkXT11fXJldHVybiBvfSxtdS5lbmNvZGU9bXUuc3RyaW5naWZ5PWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0PXR8fCImIixyPXJ8fCI9IixudWxsPT09ZSYmKGU9dm9pZCAwKSwib2JqZWN0Ij09dHlwZW9mIGU/T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbihuKXt2YXIgbz1lbmNvZGVVUklDb21wb25lbnQoZ3UobikpK3I7cmV0dXJuIEFycmF5LmlzQXJyYXkoZVtuXSk/ZVtuXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBvK2VuY29kZVVSSUNvbXBvbmVudChndShlKSl9KSkuam9pbih0KTpvK2VuY29kZVVSSUNvbXBvbmVudChndShlW25dKSl9KSkuam9pbih0KTpuP2VuY29kZVVSSUNvbXBvbmVudChndShuKSkrcitlbmNvZGVVUklDb21wb25lbnQoZ3UoZSkpOiIifTt2YXIgdnU9ZnUuZXhwb3J0cyxidT1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9LHh1PWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9PWV9LHd1PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZX0sJHU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9O2Z1bmN0aW9uIGt1KCl7dGhpcy5wcm90b2NvbD1udWxsLHRoaXMuc2xhc2hlcz1udWxsLHRoaXMuYXV0aD1udWxsLHRoaXMuaG9zdD1udWxsLHRoaXMucG9ydD1udWxsLHRoaXMuaG9zdG5hbWU9bnVsbCx0aGlzLmhhc2g9bnVsbCx0aGlzLnNlYXJjaD1udWxsLHRoaXMucXVlcnk9bnVsbCx0aGlzLnBhdGhuYW1lPW51bGwsdGhpcy5wYXRoPW51bGwsdGhpcy5ocmVmPW51bGx9aHUucGFyc2U9RHUsaHUucmVzb2x2ZT1mdW5jdGlvbihlLHQpe3JldHVybiBEdShlLCExLCEwKS5yZXNvbHZlKHQpfSxodS5yZXNvbHZlT2JqZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/RHUoZSwhMSwhMCkucmVzb2x2ZU9iamVjdCh0KTp0fSxodS5mb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGJ1KGUpJiYoZT1EdShlKSksZSBpbnN0YW5jZW9mIGt1P2UuZm9ybWF0KCk6a3UucHJvdG90eXBlLmZvcm1hdC5jYWxsKGUpfSxodS5Vcmw9a3U7dmFyIFN1PS9eKFthLXowLTkuKy1dKzopL2ksQXU9LzpbMC05XSokLyxFdT0vXihcL1wvPyg/IVwvKVteXD9cc10qKShcP1teXHNdKik/JC8sT3U9WyJ7IiwifSIsInwiLCJcXCIsIl4iLCJgIl0uY29uY2F0KFsiPCIsIj4iLCciJywiYCIsIiAiLCJcciIsIlxuIiwiXHQiXSksVHU9WyInIl0uY29uY2F0KE91KSxDdT1bIiUiLCIvIiwiPyIsIjsiLCIjIl0uY29uY2F0KFR1KSxqdT1bIi8iLCI/IiwiIyJdLEl1PS9eWythLXowLTlBLVpfLV17MCw2M30kLyxfdT0vXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sUHU9e2phdmFzY3JpcHQ6ITAsImphdmFzY3JpcHQ6IjohMH0sUnU9e2phdmFzY3JpcHQ6ITAsImphdmFzY3JpcHQ6IjohMH0sTHU9e2h0dHA6ITAsaHR0cHM6ITAsZnRwOiEwLGdvcGhlcjohMCxmaWxlOiEwLCJodHRwOiI6ITAsImh0dHBzOiI6ITAsImZ0cDoiOiEwLCJnb3BoZXI6IjohMCwiZmlsZToiOiEwfSxGdT1tdTtmdW5jdGlvbiBEdShlLHQscil7aWYoZSYmeHUoZSkmJmUgaW5zdGFuY2VvZiBrdSlyZXR1cm4gZTt2YXIgbj1uZXcga3U7cmV0dXJuIG4ucGFyc2UoZSx0LHIpLG59a3UucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCxyKXtpZighYnUoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCAiK3R5cGVvZiBlKTt2YXIgbj1lLmluZGV4T2YoIj8iKSxvPS0xIT09biYmbjxlLmluZGV4T2YoIiMiKT8iPyI6IiMiLGE9ZS5zcGxpdChvKTthWzBdPWFbMF0ucmVwbGFjZSgvXFwvZywiLyIpO3ZhciBpPWU9YS5qb2luKG8pO2lmKGk9aS50cmltKCksIXImJjE9PT1lLnNwbGl0KCIjIikubGVuZ3RoKXt2YXIgcz1FdS5leGVjKGkpO2lmKHMpcmV0dXJuIHRoaXMucGF0aD1pLHRoaXMuaHJlZj1pLHRoaXMucGF0aG5hbWU9c1sxXSxzWzJdPyh0aGlzLnNlYXJjaD1zWzJdLHRoaXMucXVlcnk9dD9GdS5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpOnRoaXMuc2VhcmNoLnN1YnN0cigxKSk6dCYmKHRoaXMuc2VhcmNoPSIiLHRoaXMucXVlcnk9e30pLHRoaXN9dmFyIGw9U3UuZXhlYyhpKTtpZihsKXt2YXIgYz0obD1sWzBdKS50b0xvd2VyQ2FzZSgpO3RoaXMucHJvdG9jb2w9YyxpPWkuc3Vic3RyKGwubGVuZ3RoKX1pZihyfHxsfHxpLm1hdGNoKC9eXC9cL1teQFwvXStAW15AXC9dKy8pKXt2YXIgcD0iLy8iPT09aS5zdWJzdHIoMCwyKTshcHx8bCYmUnVbbF18fChpPWkuc3Vic3RyKDIpLHRoaXMuc2xhc2hlcz0hMCl9aWYoIVJ1W2xdJiYocHx8bCYmIUx1W2xdKSl7Zm9yKHZhciBkLHUsaD0tMSxmPTA7ZjxqdS5sZW5ndGg7ZisrKS0xIT09KG09aS5pbmRleE9mKGp1W2ZdKSkmJigtMT09PWh8fG08aCkmJihoPW0pO2ZvcigtMSE9PSh1PS0xPT09aD9pLmxhc3RJbmRleE9mKCJAIik6aS5sYXN0SW5kZXhPZigiQCIsaCkpJiYoZD1pLnNsaWNlKDAsdSksaT1pLnNsaWNlKHUrMSksdGhpcy5hdXRoPWRlY29kZVVSSUNvbXBvbmVudChkKSksaD0tMSxmPTA7ZjxDdS5sZW5ndGg7ZisrKXt2YXIgbTstMSE9PShtPWkuaW5kZXhPZihDdVtmXSkpJiYoLTE9PT1ofHxtPGgpJiYoaD1tKX0tMT09PWgmJihoPWkubGVuZ3RoKSx0aGlzLmhvc3Q9aS5zbGljZSgwLGgpLGk9aS5zbGljZShoKSx0aGlzLnBhcnNlSG9zdCgpLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZXx8IiI7dmFyIHk9IlsiPT09dGhpcy5ob3N0bmFtZVswXSYmIl0iPT09dGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aC0xXTtpZigheSlmb3IodmFyIGc9dGhpcy5ob3N0bmFtZS5zcGxpdCgvXC4vKSx2PShmPTAsZy5sZW5ndGgpO2Y8djtmKyspe3ZhciBiPWdbZl07aWYoYiYmIWIubWF0Y2goSXUpKXtmb3IodmFyIHg9IiIsdz0wLCQ9Yi5sZW5ndGg7dzwkO3crKyliLmNoYXJDb2RlQXQodyk+MTI3P3grPSJ4Ijp4Kz1iW3ddO2lmKCF4Lm1hdGNoKEl1KSl7dmFyIGs9Zy5zbGljZSgwLGYpLFM9Zy5zbGljZShmKzEpLEE9Yi5tYXRjaChfdSk7QSYmKGsucHVzaChBWzFdKSxTLnVuc2hpZnQoQVsyXSkpLFMubGVuZ3RoJiYoaT0iLyIrUy5qb2luKCIuIikraSksdGhpcy5ob3N0bmFtZT1rLmpvaW4oIi4iKTticmVha319fXRoaXMuaG9zdG5hbWUubGVuZ3RoPjI1NT90aGlzLmhvc3RuYW1lPSIiOnRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpLHl8fCh0aGlzLmhvc3RuYW1lPXZ1LnRvQVNDSUkodGhpcy5ob3N0bmFtZSkpO3ZhciBFPXRoaXMucG9ydD8iOiIrdGhpcy5wb3J0OiIiLE89dGhpcy5ob3N0bmFtZXx8IiI7dGhpcy5ob3N0PU8rRSx0aGlzLmhyZWYrPXRoaXMuaG9zdCx5JiYodGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnN1YnN0cigxLHRoaXMuaG9zdG5hbWUubGVuZ3RoLTIpLCIvIiE9PWlbMF0mJihpPSIvIitpKSl9aWYoIVB1W2NdKWZvcihmPTAsdj1UdS5sZW5ndGg7Zjx2O2YrKyl7dmFyIFQ9VHVbZl07aWYoLTEhPT1pLmluZGV4T2YoVCkpe3ZhciBDPWVuY29kZVVSSUNvbXBvbmVudChUKTtDPT09VCYmKEM9ZXNjYXBlKFQpKSxpPWkuc3BsaXQoVCkuam9pbihDKX19dmFyIGo9aS5pbmRleE9mKCIjIik7LTEhPT1qJiYodGhpcy5oYXNoPWkuc3Vic3RyKGopLGk9aS5zbGljZSgwLGopKTt2YXIgST1pLmluZGV4T2YoIj8iKTtpZigtMSE9PUk/KHRoaXMuc2VhcmNoPWkuc3Vic3RyKEkpLHRoaXMucXVlcnk9aS5zdWJzdHIoSSsxKSx0JiYodGhpcy5xdWVyeT1GdS5wYXJzZSh0aGlzLnF1ZXJ5KSksaT1pLnNsaWNlKDAsSSkpOnQmJih0aGlzLnNlYXJjaD0iIix0aGlzLnF1ZXJ5PXt9KSxpJiYodGhpcy5wYXRobmFtZT1pKSxMdVtjXSYmdGhpcy5ob3N0bmFtZSYmIXRoaXMucGF0aG5hbWUmJih0aGlzLnBhdGhuYW1lPSIvIiksdGhpcy5wYXRobmFtZXx8dGhpcy5zZWFyY2gpe0U9dGhpcy5wYXRobmFtZXx8IiI7dmFyIF89dGhpcy5zZWFyY2h8fCIiO3RoaXMucGF0aD1FK199cmV0dXJuIHRoaXMuaHJlZj10aGlzLmZvcm1hdCgpLHRoaXN9LGt1LnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmF1dGh8fCIiO2UmJihlPShlPWVuY29kZVVSSUNvbXBvbmVudChlKSkucmVwbGFjZSgvJTNBL2ksIjoiKSxlKz0iQCIpO3ZhciB0PXRoaXMucHJvdG9jb2x8fCIiLHI9dGhpcy5wYXRobmFtZXx8IiIsbj10aGlzLmhhc2h8fCIiLG89ITEsYT0iIjt0aGlzLmhvc3Q/bz1lK3RoaXMuaG9zdDp0aGlzLmhvc3RuYW1lJiYobz1lKygtMT09PXRoaXMuaG9zdG5hbWUuaW5kZXhPZigiOiIpP3RoaXMuaG9zdG5hbWU6IlsiK3RoaXMuaG9zdG5hbWUrIl0iKSx0aGlzLnBvcnQmJihvKz0iOiIrdGhpcy5wb3J0KSksdGhpcy5xdWVyeSYmeHUodGhpcy5xdWVyeSkmJk9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCYmKGE9RnUuc3RyaW5naWZ5KHRoaXMucXVlcnkpKTt2YXIgaT10aGlzLnNlYXJjaHx8YSYmIj8iK2F8fCIiO3JldHVybiB0JiYiOiIhPT10LnN1YnN0cigtMSkmJih0Kz0iOiIpLHRoaXMuc2xhc2hlc3x8KCF0fHxMdVt0XSkmJiExIT09bz8obz0iLy8iKyhvfHwiIiksciYmIi8iIT09ci5jaGFyQXQoMCkmJihyPSIvIityKSk6b3x8KG89IiIpLG4mJiIjIiE9PW4uY2hhckF0KDApJiYobj0iIyIrbiksaSYmIj8iIT09aS5jaGFyQXQoMCkmJihpPSI/IitpKSx0K28rKHI9ci5yZXBsYWNlKC9bPyNdL2csKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KSkpKyhpPWkucmVwbGFjZSgiIyIsIiUyMyIpKStufSxrdS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KER1KGUsITEsITApKS5mb3JtYXQoKX0sa3UucHJvdG90eXBlLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24oZSl7aWYoYnUoZSkpe3ZhciB0PW5ldyBrdTt0LnBhcnNlKGUsITEsITApLGU9dH1mb3IodmFyIHI9bmV3IGt1LG49T2JqZWN0LmtleXModGhpcyksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1uW29dO3JbYV09dGhpc1thXX1pZihyLmhhc2g9ZS5oYXNoLCIiPT09ZS5ocmVmKXJldHVybiByLmhyZWY9ci5mb3JtYXQoKSxyO2lmKGUuc2xhc2hlcyYmIWUucHJvdG9jb2wpe2Zvcih2YXIgaT1PYmplY3Qua2V5cyhlKSxzPTA7czxpLmxlbmd0aDtzKyspe3ZhciBsPWlbc107InByb3RvY29sIiE9PWwmJihyW2xdPWVbbF0pfXJldHVybiBMdVtyLnByb3RvY29sXSYmci5ob3N0bmFtZSYmIXIucGF0aG5hbWUmJihyLnBhdGg9ci5wYXRobmFtZT0iLyIpLHIuaHJlZj1yLmZvcm1hdCgpLHJ9aWYoZS5wcm90b2NvbCYmZS5wcm90b2NvbCE9PXIucHJvdG9jb2wpe2lmKCFMdVtlLnByb3RvY29sXSl7Zm9yKHZhciBjPU9iamVjdC5rZXlzKGUpLHA9MDtwPGMubGVuZ3RoO3ArKyl7dmFyIGQ9Y1twXTtyW2RdPWVbZF19cmV0dXJuIHIuaHJlZj1yLmZvcm1hdCgpLHJ9aWYoci5wcm90b2NvbD1lLnByb3RvY29sLGUuaG9zdHx8UnVbZS5wcm90b2NvbF0pci5wYXRobmFtZT1lLnBhdGhuYW1lO2Vsc2V7Zm9yKHZhciB1PShlLnBhdGhuYW1lfHwiIikuc3BsaXQoIi8iKTt1Lmxlbmd0aCYmIShlLmhvc3Q9dS5zaGlmdCgpKTspO2UuaG9zdHx8KGUuaG9zdD0iIiksZS5ob3N0bmFtZXx8KGUuaG9zdG5hbWU9IiIpLCIiIT09dVswXSYmdS51bnNoaWZ0KCIiKSx1Lmxlbmd0aDwyJiZ1LnVuc2hpZnQoIiIpLHIucGF0aG5hbWU9dS5qb2luKCIvIil9aWYoci5zZWFyY2g9ZS5zZWFyY2gsci5xdWVyeT1lLnF1ZXJ5LHIuaG9zdD1lLmhvc3R8fCIiLHIuYXV0aD1lLmF1dGgsci5ob3N0bmFtZT1lLmhvc3RuYW1lfHxlLmhvc3Qsci5wb3J0PWUucG9ydCxyLnBhdGhuYW1lfHxyLnNlYXJjaCl7dmFyIGg9ci5wYXRobmFtZXx8IiIsZj1yLnNlYXJjaHx8IiI7ci5wYXRoPWgrZn1yZXR1cm4gci5zbGFzaGVzPXIuc2xhc2hlc3x8ZS5zbGFzaGVzLHIuaHJlZj1yLmZvcm1hdCgpLHJ9dmFyIG09ci5wYXRobmFtZSYmIi8iPT09ci5wYXRobmFtZS5jaGFyQXQoMCkseT1lLmhvc3R8fGUucGF0aG5hbWUmJiIvIj09PWUucGF0aG5hbWUuY2hhckF0KDApLGc9eXx8bXx8ci5ob3N0JiZlLnBhdGhuYW1lLHY9ZyxiPXIucGF0aG5hbWUmJnIucGF0aG5hbWUuc3BsaXQoIi8iKXx8W10seD0odT1lLnBhdGhuYW1lJiZlLnBhdGhuYW1lLnNwbGl0KCIvIil8fFtdLHIucHJvdG9jb2wmJiFMdVtyLnByb3RvY29sXSk7aWYoeCYmKHIuaG9zdG5hbWU9IiIsci5wb3J0PW51bGwsci5ob3N0JiYoIiI9PT1iWzBdP2JbMF09ci5ob3N0OmIudW5zaGlmdChyLmhvc3QpKSxyLmhvc3Q9IiIsZS5wcm90b2NvbCYmKGUuaG9zdG5hbWU9bnVsbCxlLnBvcnQ9bnVsbCxlLmhvc3QmJigiIj09PXVbMF0/dVswXT1lLmhvc3Q6dS51bnNoaWZ0KGUuaG9zdCkpLGUuaG9zdD1udWxsKSxnPWcmJigiIj09PXVbMF18fCIiPT09YlswXSkpLHkpci5ob3N0PWUuaG9zdHx8IiI9PT1lLmhvc3Q/ZS5ob3N0OnIuaG9zdCxyLmhvc3RuYW1lPWUuaG9zdG5hbWV8fCIiPT09ZS5ob3N0bmFtZT9lLmhvc3RuYW1lOnIuaG9zdG5hbWUsci5zZWFyY2g9ZS5zZWFyY2gsci5xdWVyeT1lLnF1ZXJ5LGI9dTtlbHNlIGlmKHUubGVuZ3RoKWJ8fChiPVtdKSxiLnBvcCgpLGI9Yi5jb25jYXQodSksci5zZWFyY2g9ZS5zZWFyY2gsci5xdWVyeT1lLnF1ZXJ5O2Vsc2UgaWYoISR1KGUuc2VhcmNoKSlyZXR1cm4geCYmKHIuaG9zdG5hbWU9ci5ob3N0PWIuc2hpZnQoKSwoQT0hIShyLmhvc3QmJnIuaG9zdC5pbmRleE9mKCJAIik+MCkmJnIuaG9zdC5zcGxpdCgiQCIpKSYmKHIuYXV0aD1BLnNoaWZ0KCksci5ob3N0PXIuaG9zdG5hbWU9QS5zaGlmdCgpKSksci5zZWFyY2g9ZS5zZWFyY2gsci5xdWVyeT1lLnF1ZXJ5LHd1KHIucGF0aG5hbWUpJiZ3dShyLnNlYXJjaCl8fChyLnBhdGg9KHIucGF0aG5hbWU/ci5wYXRobmFtZToiIikrKHIuc2VhcmNoP3Iuc2VhcmNoOiIiKSksci5ocmVmPXIuZm9ybWF0KCkscjtpZighYi5sZW5ndGgpcmV0dXJuIHIucGF0aG5hbWU9bnVsbCxyLnNlYXJjaD9yLnBhdGg9Ii8iK3Iuc2VhcmNoOnIucGF0aD1udWxsLHIuaHJlZj1yLmZvcm1hdCgpLHI7Zm9yKHZhciB3PWIuc2xpY2UoLTEpWzBdLCQ9KHIuaG9zdHx8ZS5ob3N0fHxiLmxlbmd0aD4xKSYmKCIuIj09PXd8fCIuLiI9PT13KXx8IiI9PT13LGs9MCxTPWIubGVuZ3RoO1M+PTA7Uy0tKSIuIj09PSh3PWJbU10pP2Iuc3BsaWNlKFMsMSk6Ii4uIj09PXc/KGIuc3BsaWNlKFMsMSksaysrKTprJiYoYi5zcGxpY2UoUywxKSxrLS0pO2lmKCFnJiYhdilmb3IoO2stLTtrKWIudW5zaGlmdCgiLi4iKTshZ3x8IiI9PT1iWzBdfHxiWzBdJiYiLyI9PT1iWzBdLmNoYXJBdCgwKXx8Yi51bnNoaWZ0KCIiKSwkJiYiLyIhPT1iLmpvaW4oIi8iKS5zdWJzdHIoLTEpJiZiLnB1c2goIiIpO3ZhciBBLEU9IiI9PT1iWzBdfHxiWzBdJiYiLyI9PT1iWzBdLmNoYXJBdCgwKTtyZXR1cm4geCYmKHIuaG9zdG5hbWU9ci5ob3N0PUU/IiI6Yi5sZW5ndGg/Yi5zaGlmdCgpOiIiLChBPSEhKHIuaG9zdCYmci5ob3N0LmluZGV4T2YoIkAiKT4wKSYmci5ob3N0LnNwbGl0KCJAIikpJiYoci5hdXRoPUEuc2hpZnQoKSxyLmhvc3Q9ci5ob3N0bmFtZT1BLnNoaWZ0KCkpKSwoZz1nfHxyLmhvc3QmJmIubGVuZ3RoKSYmIUUmJmIudW5zaGlmdCgiIiksYi5sZW5ndGg/ci5wYXRobmFtZT1iLmpvaW4oIi8iKTooci5wYXRobmFtZT1udWxsLHIucGF0aD1udWxsKSx3dShyLnBhdGhuYW1lKSYmd3Uoci5zZWFyY2gpfHwoci5wYXRoPShyLnBhdGhuYW1lP3IucGF0aG5hbWU6IiIpKyhyLnNlYXJjaD9yLnNlYXJjaDoiIikpLHIuYXV0aD1lLmF1dGh8fHIuYXV0aCxyLnNsYXNoZXM9ci5zbGFzaGVzfHxlLnNsYXNoZXMsci5ocmVmPXIuZm9ybWF0KCkscn0sa3UucHJvdG90eXBlLnBhcnNlSG9zdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaG9zdCx0PUF1LmV4ZWMoZSk7dCYmKCI6IiE9PSh0PXRbMF0pJiYodGhpcy5wb3J0PXQuc3Vic3RyKDEpKSxlPWUuc3Vic3RyKDAsZS5sZW5ndGgtdC5sZW5ndGgpKSxlJiYodGhpcy5ob3N0bmFtZT1lKX07dmFyIEJ1PUNvLE51PWZ0LHF1PW10LFV1PWNhLHp1PW5yLE11PUtyLEh1PVVvLFd1PXRpLFZ1PU9zLEd1PW9jLEt1PXZyLEp1PWZuKCJpc0NvbmNhdFNwcmVhZGFibGUiKSxZdT1OdS5UeXBlRXJyb3IsWnU9S3U+PTUxfHwhcXUoKGZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGVbSnVdPSExLGUuY29uY2F0KClbMF0hPT1lfSkpLFF1PUd1KCJjb25jYXQiKSxYdT1mdW5jdGlvbihlKXtpZighenUoZSkpcmV0dXJuITE7dmFyIHQ9ZVtKdV07cmV0dXJuIHZvaWQgMCE9PXQ/ISF0OlV1KGUpfTtCdSh7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOiFadXx8IVF1fSx7Y29uY2F0OmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixvLGEsaT1NdSh0aGlzKSxzPVZ1KGksMCksbD0wO2Zvcih0PS0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWlmKFh1KGE9LTE9PT10P2k6YXJndW1lbnRzW3RdKSl7aWYobCsobz1IdShhKSk+OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBZdSgiTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkIik7Zm9yKHI9MDtyPG87cisrLGwrKylyIGluIGEmJld1KHMsbCxhW3JdKX1lbHNle2lmKGw+PTkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgWXUoIk1heGltdW0gYWxsb3dlZCBpbmRleCBleGNlZWRlZCIpO1d1KHMsbCsrLGEpfXJldHVybiBzLmxlbmd0aD1sLHN9fSksa2koImFzeW5jSXRlcmF0b3IiKSxraSgiaGFzSW5zdGFuY2UiKSxraSgiaXNDb25jYXRTcHJlYWRhYmxlIiksa2koIml0ZXJhdG9yIiksa2koIm1hdGNoIiksa2koIm1hdGNoQWxsIiksa2koInJlcGxhY2UiKSxraSgic2VhcmNoIiksa2koInNwZWNpZXMiKSxraSgic3BsaXQiKSxraSgidG9QcmltaXRpdmUiKSxraSgidG9TdHJpbmdUYWciKSxraSgidW5zY29wYWJsZXMiKSxfaShmdC5KU09OLCJKU09OIiwhMCk7dmFyIGVoPW9yLlN5bWJvbDtraSgiYXN5bmNEaXNwb3NlIiksa2koImRpc3Bvc2UiKSxraSgibWF0Y2hlciIpLGtpKCJtZXRhZGF0YSIpLGtpKCJvYnNlcnZhYmxlIiksa2koInBhdHRlcm5NYXRjaCIpLGtpKCJyZXBsYWNlQWxsIik7Y29uc3QgdGg9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9ZWgpO3ZhciByaD1PdCxuaD1fbyxvaD0kYSxhaD1RdCxpaD1yaCgiIi5jaGFyQXQpLHNoPXJoKCIiLmNoYXJDb2RlQXQpLGxoPXJoKCIiLnNsaWNlKSxjaD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbixvLGE9b2goYWgodCkpLGk9bmgocikscz1hLmxlbmd0aDtyZXR1cm4gaTwwfHxpPj1zP2U/IiI6dm9pZCAwOihuPXNoKGEsaSkpPDU1Mjk2fHxuPjU2MzE5fHxpKzE9PT1zfHwobz1zaChhLGkrMSkpPDU2MzIwfHxvPjU3MzQzP2U/aWgoYSxpKTpuOmU/bGgoYSxpLGkrMik6by01NjMyMCsobi01NTI5Njw8MTApKzY1NTM2fX0scGg9KGNoKCExKSxjaCghMCkpLGRoPSRhLHVoPWlzLGhoPUFwLGZoPXVoLnNldCxtaD11aC5nZXR0ZXJGb3IoIlN0cmluZyBJdGVyYXRvciIpO2hoKFN0cmluZywiU3RyaW5nIiwoZnVuY3Rpb24oZSl7ZmgodGhpcyx7dHlwZToiU3RyaW5nIEl0ZXJhdG9yIixzdHJpbmc6ZGgoZSksaW5kZXg6MH0pfSksKGZ1bmN0aW9uKCl7dmFyIGUsdD1taCh0aGlzKSxyPXQuc3RyaW5nLG49dC5pbmRleDtyZXR1cm4gbj49ci5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1waChyLG4pLHQuaW5kZXgrPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pKTt2YXIgeWg9YmEsZ2g9RnIsdmg9VGMsYmg9Zm4oIml0ZXJhdG9yIikseGg9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZ2goZSxiaCl8fGdoKGUsIkBAaXRlcmF0b3IiKXx8dmhbeWgoZSldfTtjb25zdCB3aD11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz14aCk7Q28oe3RhcmdldDoiQXJyYXkiLHN0YXQ6ITB9LHtpc0FycmF5OmNhfSk7dmFyICRoPW9yLkFycmF5LmlzQXJyYXk7Y29uc3Qga2g9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9JGgpO3ZhciBTaD1DbyxBaD1mdCxFaD1jYSxPaD14cyxUaD1ucixDaD1GbyxqaD1VbyxJaD10cixfaD10aSxQaD1mbixSaD1maSxMaD1vYygic2xpY2UiKSxGaD1QaCgic3BlY2llcyIpLERoPUFoLkFycmF5LEJoPU1hdGgubWF4O1NoKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6IUxofSx7c2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG8sYT1JaCh0aGlzKSxpPWpoKGEpLHM9Q2goZSxpKSxsPUNoKHZvaWQgMD09PXQ/aTp0LGkpO2lmKEVoKGEpJiYocj1hLmNvbnN0cnVjdG9yLChPaChyKSYmKHI9PT1EaHx8RWgoci5wcm90b3R5cGUpKXx8VGgocikmJm51bGw9PT0ocj1yW0ZoXSkpJiYocj12b2lkIDApLHI9PT1EaHx8dm9pZCAwPT09cikpcmV0dXJuIFJoKGEscyxsKTtmb3Iobj1uZXcodm9pZCAwPT09cj9EaDpyKShCaChsLXMsMCkpLG89MDtzPGw7cysrLG8rKylzIGluIGEmJl9oKG4sbyxhW3NdKTtyZXR1cm4gbi5sZW5ndGg9byxufX0pO3ZhciBOaD1zYygiQXJyYXkiKS5zbGljZSxxaD1wcixVaD1OaCx6aD1BcnJheS5wcm90b3R5cGUsTWg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zbGljZTtyZXR1cm4gZT09PXpofHxxaCh6aCxlKSYmdD09PXpoLnNsaWNlP1VoOnR9O2NvbnN0IEhoPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPU1oKTt2YXIgV2g9UHQsVmg9YW8sR2g9RnIsS2g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG87VmgoZSk7dHJ5e2lmKCEobj1HaChlLCJyZXR1cm4iKSkpe2lmKCJ0aHJvdyI9PT10KXRocm93IHI7cmV0dXJuIHJ9bj1XaChuLGUpfWNhdGNoKGUpe289ITAsbj1lfWlmKCJ0aHJvdyI9PT10KXRocm93IHI7aWYobyl0aHJvdyBuO3JldHVybiBWaChuKSxyfSxKaD1hbyxZaD1LaCxaaD1UYyxRaD1mbigiaXRlcmF0b3IiKSxYaD1BcnJheS5wcm90b3R5cGUsZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihaaC5BcnJheT09PWV8fFhoW1FoXT09PWUpfSx0Zj1QdCxyZj1ScixuZj1hbyxvZj1qcixhZj14aCxzZj1mdC5UeXBlRXJyb3IsbGY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPDI/YWYoZSk6dDtpZihyZihyKSlyZXR1cm4gbmYodGYocixlKSk7dGhyb3cgc2Yob2YoZSkrIiBpcyBub3QgaXRlcmFibGUiKX0sY2Y9UW4scGY9UHQsZGY9S3IsdWY9ZnVuY3Rpb24oZSx0LHIsbil7dHJ5e3JldHVybiBuP3QoSmgocilbMF0sclsxXSk6dChyKX1jYXRjaCh0KXtZaChlLCJ0aHJvdyIsdCl9fSxoZj1lZixmZj14cyxtZj1Vbyx5Zj10aSxnZj1sZix2Zj14aCxiZj1mdC5BcnJheSx4Zj1mbigiaXRlcmF0b3IiKSx3Zj0hMTt0cnl7dmFyICRmPTAsa2Y9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohISRmKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXt3Zj0hMH19O2tmW3hmXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKGtmLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2goZSl7fXZhciBTZj1mdW5jdGlvbihlLHQpe2lmKCF0JiYhd2YpcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBuPXt9O25beGZdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX19fSxlKG4pfWNhdGNoKGUpe31yZXR1cm4gcn07Q28oe3RhcmdldDoiQXJyYXkiLHN0YXQ6ITAsZm9yY2VkOiFTZigoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pKX0se2Zyb206ZnVuY3Rpb24oZSl7dmFyIHQ9ZGYoZSkscj1mZih0aGlzKSxuPWFyZ3VtZW50cy5sZW5ndGgsbz1uPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxhPXZvaWQgMCE9PW87YSYmKG89Y2YobyxuPjI/YXJndW1lbnRzWzJdOnZvaWQgMCkpO3ZhciBpLHMsbCxjLHAsZCx1PXZmKHQpLGg9MDtpZighdXx8dGhpcz09YmYmJmhmKHUpKWZvcihpPW1mKHQpLHM9cj9uZXcgdGhpcyhpKTpiZihpKTtpPmg7aCsrKWQ9YT9vKHRbaF0saCk6dFtoXSx5ZihzLGgsZCk7ZWxzZSBmb3IocD0oYz1nZih0LHUpKS5uZXh0LHM9cj9uZXcgdGhpczpbXTshKGw9cGYocCxjKSkuZG9uZTtoKyspZD1hP3VmKGMsbyxbbC52YWx1ZSxoXSwhMCk6bC52YWx1ZSx5ZihzLGgsZCk7cmV0dXJuIHMubGVuZ3RoPWgsc319KTt2YXIgQWY9b3IuQXJyYXkuZnJvbTtjb25zdCBFZj11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1BZik7ZnVuY3Rpb24gT2YoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBUZihlLHQpe3ZhciByO2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gT2YoZSx0KTt2YXIgbj1IaChyPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkuY2FsbChyLDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9FZihlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP09mKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBDZihlLHQpe3ZhciByPXZvaWQgMCE9PXRoJiZ3aChlKXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFyKXtpZihraChlKXx8KHI9VGYoZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtyJiYoZT1yKTt2YXIgbj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiBuPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtuKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxpPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtyPXIuY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPXIubmV4dCgpO3JldHVybiBpPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe3M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2l8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBhfX19fXZhciBqZj1naS5mKCJpdGVyYXRvciIpO2NvbnN0IElmPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPWpmKTtmdW5jdGlvbiBfZihlKXtyZXR1cm4oX2Y9ImZ1bmN0aW9uIj09dHlwZW9mIHRoJiYic3ltYm9sIj09dHlwZW9mIElmP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aCYmZS5jb25zdHJ1Y3Rvcj09PXRoJiZlIT09dGgucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gUGYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoa2goZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDp2b2lkIDAhPT10aCYmd2goZSl8fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsIT1yKXt2YXIgbixvLGE9W10saT0hMCxzPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShpPShuPXIubmV4dCgpKS5kb25lKSYmKGEucHVzaChuLnZhbHVlKSwhdHx8YS5sZW5ndGghPT10KTtpPSEwKTt9Y2F0Y2goZSl7cz0hMCxvPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IG99fXJldHVybiBhfX0oZSx0KXx8VGYoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfXZhciBSZj1acixMZj1uZCxGZj1DdCxEZj1YbixCZj1PdCgiIi5yZXBsYWNlKSxOZj1TdHJpbmcoRXJyb3IoInp4Y2FzZCIpLnN0YWNrKSxxZj0vXG5ccyphdCBbXjpdKjpbXlxuXSovLFVmPXFmLnRlc3QoTmYpLHpmPW5yLE1mPWdvLEhmPVFuLFdmPVB0LFZmPWFvLEdmPWpyLEtmPWVmLEpmPVVvLFlmPXByLFpmPWxmLFFmPXhoLFhmPUtoLGVtPWZ0LlR5cGVFcnJvcix0bT1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9LHJtPXRtLnByb3RvdHlwZSxubT1mdW5jdGlvbihlLHQscil7dmFyIG4sbyxhLGkscyxsLGMscD1yJiZyLnRoYXQsZD0hKCFyfHwhci5BU19FTlRSSUVTKSx1PSEoIXJ8fCFyLklTX0lURVJBVE9SKSxoPSEoIXJ8fCFyLklOVEVSUlVQVEVEKSxmPUhmKHQscCksbT1mdW5jdGlvbihlKXtyZXR1cm4gbiYmWGYobiwibm9ybWFsIixlKSxuZXcgdG0oITAsZSl9LHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGQ/KFZmKGUpLGg/ZihlWzBdLGVbMV0sbSk6ZihlWzBdLGVbMV0pKTpoP2YoZSxtKTpmKGUpfTtpZih1KW49ZTtlbHNle2lmKCEobz1RZihlKSkpdGhyb3cgZW0oR2YoZSkrIiBpcyBub3QgaXRlcmFibGUiKTtpZihLZihvKSl7Zm9yKGE9MCxpPUpmKGUpO2k+YTthKyspaWYoKHM9eShlW2FdKSkmJllmKHJtLHMpKXJldHVybiBzO3JldHVybiBuZXcgdG0oITEpfW49WmYoZSxvKX1mb3IobD1uLm5leHQ7IShjPVdmKGwsbikpLmRvbmU7KXt0cnl7cz15KGMudmFsdWUpfWNhdGNoKGUpe1hmKG4sInRocm93IixlKX1pZigib2JqZWN0Ij09dHlwZW9mIHMmJnMmJllmKHJtLHMpKXJldHVybiBzfXJldHVybiBuZXcgdG0oITEpfSxvbT0kYSxhbT1xdCxpbT0hbXQoKGZ1bmN0aW9uKCl7dmFyIGU9RXJyb3IoImEiKTtyZXR1cm4hKCJzdGFjayJpbiBlKXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJzdGFjayIsYW0oMSw3KSksNyE9PWUuc3RhY2spfSkpLHNtPUNvLGxtPWZ0LGNtPXByLHBtPUhjLGRtPWhwLHVtPUdhLGhtPWdvLGZtPXF0LG1tPWZ1bmN0aW9uKGUsdCl7aWYoVWYmJiJzdHJpbmciPT10eXBlb2YgZSlmb3IoO3QtLTspZT1CZihlLHFmLCIiKTtyZXR1cm4gZX0seW09ZnVuY3Rpb24oZSx0KXt6Zih0KSYmImNhdXNlImluIHQmJk1mKGUsImNhdXNlIix0LmNhdXNlKX0sZ209bm0sdm09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09ZT9hcmd1bWVudHMubGVuZ3RoPDI/IiI6dDpvbShlKX0sYm09aW0seG09Zm4oInRvU3RyaW5nVGFnIiksd209bG0uRXJyb3IsJG09W10ucHVzaCxrbT1mdW5jdGlvbihlLHQpe3ZhciByLG49YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsbz1jbShTbSx0aGlzKTtkbT9yPWRtKG5ldyB3bSxvP3BtKHRoaXMpOlNtKToocj1vP3RoaXM6dW0oU20pLGhtKHIseG0sIkVycm9yIikpLHZvaWQgMCE9PXQmJmhtKHIsIm1lc3NhZ2UiLHZtKHQpKSxibSYmaG0ociwic3RhY2siLG1tKHIuc3RhY2ssMSkpLHltKHIsbik7dmFyIGE9W107cmV0dXJuIGdtKGUsJG0se3RoYXQ6YX0pLGhtKHIsImVycm9ycyIsYSkscn07ZG0/ZG0oa20sd20pOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49TGYodCksbz1EZi5mLGE9RmYuZixpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBzPW5baV07UmYoZSxzKXx8ciYmUmYocixzKXx8byhlLHMsYSh0LHMpKX19KGttLHdtLHtuYW1lOiEwfSk7dmFyIFNtPWttLnByb3RvdHlwZT11bSh3bS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmZtKDEsa20pLG1lc3NhZ2U6Zm0oMSwiIiksbmFtZTpmbSgxLCJBZ2dyZWdhdGVFcnJvciIpfSk7c20oe2dsb2JhbDohMH0se0FnZ3JlZ2F0ZUVycm9yOmttfSk7dmFyIEFtLEVtLE9tLFRtLENtPWZ0LlByb21pc2Usam09eWksSW09ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0KXImJnIudW5zYWZlJiZlW25dP2Vbbl09dFtuXTpqbShlLG4sdFtuXSxyKTtyZXR1cm4gZX0sX209Y3IsUG09WG4sUm09anQsTG09Zm4oInNwZWNpZXMiKSxGbT1wcixEbT1mdC5UeXBlRXJyb3IsQm09ZnVuY3Rpb24oZSx0KXtpZihGbSh0LGUpKXJldHVybiBlO3Rocm93IERtKCJJbmNvcnJlY3QgaW52b2NhdGlvbiIpfSxObT14cyxxbT1qcixVbT1mdC5UeXBlRXJyb3Isem09YW8sTW09Zm4oInNwZWNpZXMiKSxIbT1mdW5jdGlvbihlLHQpe3ZhciByLG49em0oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PW58fG51bGw9PShyPXptKG4pW01tXSk/dDpmdW5jdGlvbihlKXtpZihObShlKSlyZXR1cm4gZTt0aHJvdyBVbShxbShlKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIil9KHIpfSxXbT1mdC5UeXBlRXJyb3IsVm09ZnVuY3Rpb24oZSx0KXtpZihlPHQpdGhyb3cgV20oIk5vdCBlbm91Z2ggYXJndW1lbnRzIik7cmV0dXJuIGV9LEdtPS8oPzppcGFkfGlwaG9uZXxpcG9kKS4qYXBwbGV3ZWJraXQvaS50ZXN0KGRyKSxLbT0icHJvY2VzcyI9PUh0KGZ0LnByb2Nlc3MpLEptPWZ0LFltPXd0LFptPVFuLFFtPVR0LFhtPVpyLGV5PW10LHR5PUlhLHJ5PWZpLG55PVRuLG95PVZtLGF5PUdtLGl5PUttLHN5PUptLnNldEltbWVkaWF0ZSxseT1KbS5jbGVhckltbWVkaWF0ZSxjeT1KbS5wcm9jZXNzLHB5PUptLkRpc3BhdGNoLGR5PUptLkZ1bmN0aW9uLHV5PUptLk1lc3NhZ2VDaGFubmVsLGh5PUptLlN0cmluZyxmeT0wLG15PXt9O3RyeXtBbT1KbS5sb2NhdGlvbn1jYXRjaChlKXt9dmFyIHl5PWZ1bmN0aW9uKGUpe2lmKFhtKG15LGUpKXt2YXIgdD1teVtlXTtkZWxldGUgbXlbZV0sdCgpfX0sZ3k9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7eXkoZSl9fSx2eT1mdW5jdGlvbihlKXt5eShlLmRhdGEpfSxieT1mdW5jdGlvbihlKXtKbS5wb3N0TWVzc2FnZShoeShlKSxBbS5wcm90b2NvbCsiLy8iK0FtLmhvc3QpfTtzeSYmbHl8fChzeT1mdW5jdGlvbihlKXtveShhcmd1bWVudHMubGVuZ3RoLDEpO3ZhciB0PVFtKGUpP2U6ZHkoZSkscj1yeShhcmd1bWVudHMsMSk7cmV0dXJuIG15WysrZnldPWZ1bmN0aW9uKCl7WW0odCx2b2lkIDAscil9LEVtKGZ5KSxmeX0sbHk9ZnVuY3Rpb24oZSl7ZGVsZXRlIG15W2VdfSxpeT9FbT1mdW5jdGlvbihlKXtjeS5uZXh0VGljayhneShlKSl9OnB5JiZweS5ub3c/RW09ZnVuY3Rpb24oZSl7cHkubm93KGd5KGUpKX06dXkmJiFheT8oVG09KE9tPW5ldyB1eSkucG9ydDIsT20ucG9ydDEub25tZXNzYWdlPXZ5LEVtPVptKFRtLnBvc3RNZXNzYWdlLFRtKSk6Sm0uYWRkRXZlbnRMaXN0ZW5lciYmUW0oSm0ucG9zdE1lc3NhZ2UpJiYhSm0uaW1wb3J0U2NyaXB0cyYmQW0mJiJmaWxlOiIhPT1BbS5wcm90b2NvbCYmIWV5KGJ5KT8oRW09YnksSm0uYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdnksITEpKTpFbT0ib25yZWFkeXN0YXRlY2hhbmdlImluIG55KCJzY3JpcHQiKT9mdW5jdGlvbihlKXt0eS5hcHBlbmRDaGlsZChueSgic2NyaXB0IikpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3R5LnJlbW92ZUNoaWxkKHRoaXMpLHl5KGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChneShlKSwwKX0pO3ZhciB4eSx3eSwkeSxreSxTeSxBeSxFeSxPeSxUeT17c2V0OnN5LGNsZWFyOmx5fSxDeT1mdCxqeT0vaXBhZHxpcGhvbmV8aXBvZC9pLnRlc3QoZHIpJiZ2b2lkIDAhPT1DeS5QZWJibGUsSXk9L3dlYjBzKD8hLipjaHJvbWUpL2kudGVzdChkciksX3k9ZnQsUHk9UW4sUnk9Q3QuZixMeT1UeS5zZXQsRnk9R20sRHk9anksQnk9SXksTnk9S20scXk9X3kuTXV0YXRpb25PYnNlcnZlcnx8X3kuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixVeT1feS5kb2N1bWVudCx6eT1feS5wcm9jZXNzLE15PV95LlByb21pc2UsSHk9UnkoX3ksInF1ZXVlTWljcm90YXNrIiksV3k9SHkmJkh5LnZhbHVlO1d5fHwoeHk9ZnVuY3Rpb24oKXt2YXIgZSx0O2ZvcihOeSYmKGU9enkuZG9tYWluKSYmZS5leGl0KCk7d3k7KXt0PXd5LmZuLHd5PXd5Lm5leHQ7dHJ5e3QoKX1jYXRjaChlKXt0aHJvdyB3eT9reSgpOiR5PXZvaWQgMCxlfX0keT12b2lkIDAsZSYmZS5lbnRlcigpfSxGeXx8Tnl8fEJ5fHwhcXl8fCFVeT8hRHkmJk15JiZNeS5yZXNvbHZlPygoRXk9TXkucmVzb2x2ZSh2b2lkIDApKS5jb25zdHJ1Y3Rvcj1NeSxPeT1QeShFeS50aGVuLEV5KSxreT1mdW5jdGlvbigpe095KHh5KX0pOk55P2t5PWZ1bmN0aW9uKCl7enkubmV4dFRpY2soeHkpfTooTHk9UHkoTHksX3kpLGt5PWZ1bmN0aW9uKCl7THkoeHkpfSk6KFN5PSEwLEF5PVV5LmNyZWF0ZVRleHROb2RlKCIiKSxuZXcgcXkoeHkpLm9ic2VydmUoQXkse2NoYXJhY3RlckRhdGE6ITB9KSxreT1mdW5jdGlvbigpe0F5LmRhdGE9U3k9IVN5fSkpO3ZhciBWeT1XeXx8ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDB9OyR5JiYoJHkubmV4dD10KSx3eXx8KHd5PXQsa3koKSksJHk9dH0sR3k9e30sS3k9UnIsSnk9ZnVuY3Rpb24oZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pKSx0aGlzLnJlc29sdmU9S3kodCksdGhpcy5yZWplY3Q9S3kocil9O0d5LmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBKeShlKX07dmFyIFl5PWFvLFp5PW5yLFF5PUd5LFh5PWZ1bmN0aW9uKGUsdCl7aWYoWXkoZSksWnkodCkmJnQuY29uc3RydWN0b3I9PT1lKXJldHVybiB0O3ZhciByPVF5LmYoZSk7cmV0dXJuKDAsci5yZXNvbHZlKSh0KSxyLnByb21pc2V9LGVnPWZ0LHRnPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm57ZXJyb3I6ITEsdmFsdWU6ZSgpfX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ITAsdmFsdWU6ZX19fSxyZz1mdW5jdGlvbigpe3RoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsfTtyZy5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihlKXt2YXIgdD17aXRlbTplLG5leHQ6bnVsbH07dGhpcy5oZWFkP3RoaXMudGFpbC5uZXh0PXQ6dGhpcy5oZWFkPXQsdGhpcy50YWlsPXR9LGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaGVhZDtpZihlKXJldHVybiB0aGlzLmhlYWQ9ZS5uZXh0LHRoaXMudGFpbD09PWUmJih0aGlzLnRhaWw9bnVsbCksZS5pdGVtfX07dmFyIG5nLG9nLGFnLGlnLHNnLGxnPSJvYmplY3QiPT10eXBlb2Ygd2luZG93LGNnPUNvLHBnPWZ0LGRnPWNyLHVnPVB0LGhnPUNtLGZnPUltLG1nPV9pLHlnPVJyLGdnPVR0LHZnPW5yLGJnPUJtLHhnPU5pLHdnPW5tLCRnPVNmLGtnPUhtLFNnPVR5LnNldCxBZz1WeSxFZz1YeSxPZz1HeSxUZz10ZyxDZz1yZyxqZz1pcyxJZz1LbixfZz1sZyxQZz1LbSxSZz12cixMZz1mbigic3BlY2llcyIpLEZnPSJQcm9taXNlIixEZz1qZy5nZXR0ZXJGb3IoRmcpLEJnPWpnLnNldCxOZz1qZy5nZXR0ZXJGb3IoRmcpLHFnPWhnJiZoZy5wcm90b3R5cGUsVWc9aGcsemc9cWcsTWc9cGcuVHlwZUVycm9yLEhnPXBnLmRvY3VtZW50LFdnPXBnLnByb2Nlc3MsVmc9T2cuZixHZz1WZyxLZz0hIShIZyYmSGcuY3JlYXRlRXZlbnQmJnBnLmRpc3BhdGNoRXZlbnQpLEpnPWdnKHBnLlByb21pc2VSZWplY3Rpb25FdmVudCksWWc9SWcoRmcsKGZ1bmN0aW9uKCl7dmFyIGU9eGcoVWcpLHQ9ZSE9PVN0cmluZyhVZyk7aWYoIXQmJjY2PT09UmcpcmV0dXJuITA7aWYoIXpnLmZpbmFsbHkpcmV0dXJuITA7aWYoUmc+PTUxJiYvbmF0aXZlIGNvZGUvLnRlc3QoZSkpcmV0dXJuITE7dmFyIHI9bmV3IFVnKChmdW5jdGlvbihlKXtlKDEpfSkpLG49ZnVuY3Rpb24oZSl7ZSgoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSl9O3JldHVybihyLmNvbnN0cnVjdG9yPXt9KVtMZ109biwhKHIudGhlbigoZnVuY3Rpb24oKXt9KSlpbnN0YW5jZW9mIG4pfHwhdCYmX2cmJiFKZ30pKSxaZz1ZZ3x8ISRnKChmdW5jdGlvbihlKXtVZy5hbGwoZSkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpfSkpLFFnPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIXZnKGUpfHwhZ2codD1lLnRoZW4pKSYmdH0sWGc9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG8sYT10LnZhbHVlLGk9MT09dC5zdGF0ZSxzPWk/ZS5vazplLmZhaWwsbD1lLnJlc29sdmUsYz1lLnJlamVjdCxwPWUuZG9tYWluO3RyeXtzPyhpfHwoMj09PXQucmVqZWN0aW9uJiZvdih0KSx0LnJlamVjdGlvbj0xKSwhMD09PXM/cj1hOihwJiZwLmVudGVyKCkscj1zKGEpLHAmJihwLmV4aXQoKSxvPSEwKSkscj09PWUucHJvbWlzZT9jKE1nKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihuPVFnKHIpKT91ZyhuLHIsbCxjKTpsKHIpKTpjKGEpfWNhdGNoKGUpe3AmJiFvJiZwLmV4aXQoKSxjKGUpfX0sZXY9ZnVuY3Rpb24oZSx0KXtlLm5vdGlmaWVkfHwoZS5ub3RpZmllZD0hMCxBZygoZnVuY3Rpb24oKXtmb3IodmFyIHIsbj1lLnJlYWN0aW9ucztyPW4uZ2V0KCk7KVhnKHIsZSk7ZS5ub3RpZmllZD0hMSx0JiYhZS5yZWplY3Rpb24mJnJ2KGUpfSkpKX0sdHY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG87S2c/KChuPUhnLmNyZWF0ZUV2ZW50KCJFdmVudCIpKS5wcm9taXNlPXQsbi5yZWFzb249cixuLmluaXRFdmVudChlLCExLCEwKSxwZy5kaXNwYXRjaEV2ZW50KG4pKTpuPXtwcm9taXNlOnQscmVhc29uOnJ9LCFKZyYmKG89cGdbIm9uIitlXSk/byhuKToidW5oYW5kbGVkcmVqZWN0aW9uIj09PWUmJmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZWcuY29uc29sZTtyJiZyLmVycm9yJiYoMT09YXJndW1lbnRzLmxlbmd0aD9yLmVycm9yKGUpOnIuZXJyb3IoZSx0KSl9KCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLHIpfSxydj1mdW5jdGlvbihlKXt1ZyhTZyxwZywoZnVuY3Rpb24oKXt2YXIgdCxyPWUuZmFjYWRlLG49ZS52YWx1ZTtpZihudihlKSYmKHQ9VGcoKGZ1bmN0aW9uKCl7UGc/V2cuZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixuLHIpOnR2KCJ1bmhhbmRsZWRyZWplY3Rpb24iLHIsbil9KSksZS5yZWplY3Rpb249UGd8fG52KGUpPzI6MSx0LmVycm9yKSl0aHJvdyB0LnZhbHVlfSkpfSxudj1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUucmVqZWN0aW9uJiYhZS5wYXJlbnR9LG92PWZ1bmN0aW9uKGUpe3VnKFNnLHBnLChmdW5jdGlvbigpe3ZhciB0PWUuZmFjYWRlO1BnP1dnLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLHQpOnR2KCJyZWplY3Rpb25oYW5kbGVkIix0LGUudmFsdWUpfSkpfSxhdj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKG4pe2UodCxuLHIpfX0saXY9ZnVuY3Rpb24oZSx0LHIpe2UuZG9uZXx8KGUuZG9uZT0hMCxyJiYoZT1yKSxlLnZhbHVlPXQsZS5zdGF0ZT0yLGV2KGUsITApKX0sc3Y9ZnVuY3Rpb24oZSx0LHIpe2lmKCFlLmRvbmUpe2UuZG9uZT0hMCxyJiYoZT1yKTt0cnl7aWYoZS5mYWNhZGU9PT10KXRocm93IE1nKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpO3ZhciBuPVFnKHQpO24/QWcoKGZ1bmN0aW9uKCl7dmFyIHI9e2RvbmU6ITF9O3RyeXt1ZyhuLHQsYXYoc3YscixlKSxhdihpdixyLGUpKX1jYXRjaCh0KXtpdihyLHQsZSl9fSkpOihlLnZhbHVlPXQsZS5zdGF0ZT0xLGV2KGUsITEpKX1jYXRjaCh0KXtpdih7ZG9uZTohMX0sdCxlKX19fTtZZyYmKHpnPShVZz1mdW5jdGlvbihlKXtiZyh0aGlzLHpnKSx5ZyhlKSx1ZyhuZyx0aGlzKTt2YXIgdD1EZyh0aGlzKTt0cnl7ZShhdihzdix0KSxhdihpdix0KSl9Y2F0Y2goZSl7aXYodCxlKX19KS5wcm90b3R5cGUsKG5nPWZ1bmN0aW9uKGUpe0JnKHRoaXMse3R5cGU6RmcsZG9uZTohMSxub3RpZmllZDohMSxwYXJlbnQ6ITEscmVhY3Rpb25zOm5ldyBDZyxyZWplY3Rpb246ITEsc3RhdGU6MCx2YWx1ZTp2b2lkIDB9KX0pLnByb3RvdHlwZT1mZyh6Zyx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPU5nKHRoaXMpLG49Vmcoa2codGhpcyxVZykpO3JldHVybiByLnBhcmVudD0hMCxuLm9rPSFnZyhlKXx8ZSxuLmZhaWw9Z2codCkmJnQsbi5kb21haW49UGc/V2cuZG9tYWluOnZvaWQgMCwwPT1yLnN0YXRlP3IucmVhY3Rpb25zLmFkZChuKTpBZygoZnVuY3Rpb24oKXtYZyhuLHIpfSkpLG4ucHJvbWlzZX0sY2F0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksb2c9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbmcsdD1EZyhlKTt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YXYoc3YsdCksdGhpcy5yZWplY3Q9YXYoaXYsdCl9LE9nLmY9Vmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1VZ3x8ZT09PWFnP25ldyBvZyhlKTpHZyhlKX0pLGNnKHtnbG9iYWw6ITAsd3JhcDohMCxmb3JjZWQ6WWd9LHtQcm9taXNlOlVnfSksbWcoVWcsRmcsITEsITApLGlnPV9tKEZnKSxzZz1QbS5mLFJtJiZpZyYmIWlnW0xtXSYmc2coaWcsTG0se2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KSxhZz1kZyhGZyksY2coe3RhcmdldDpGZyxzdGF0OiEwLGZvcmNlZDpZZ30se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1WZyh0aGlzKTtyZXR1cm4gdWcodC5yZWplY3Qsdm9pZCAwLGUpLHQucHJvbWlzZX19KSxjZyh7dGFyZ2V0OkZnLHN0YXQ6ITAsZm9yY2VkOiEwfSx7cmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gRWcodGhpcz09PWFnP1VnOnRoaXMsZSl9fSksY2coe3RhcmdldDpGZyxzdGF0OiEwLGZvcmNlZDpaZ30se2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9VmcodCksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxhPVRnKChmdW5jdGlvbigpe3ZhciByPXlnKHQucmVzb2x2ZSksYT1bXSxpPTAscz0xO3dnKGUsKGZ1bmN0aW9uKGUpe3ZhciBsPWkrKyxjPSExO3MrKyx1ZyhyLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7Y3x8KGM9ITAsYVtsXT1lLC0tc3x8bihhKSl9KSxvKX0pKSwtLXN8fG4oYSl9KSk7cmV0dXJuIGEuZXJyb3ImJm8oYS52YWx1ZSksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1WZyh0KSxuPXIucmVqZWN0LG89VGcoKGZ1bmN0aW9uKCl7dmFyIG89eWcodC5yZXNvbHZlKTt3ZyhlLChmdW5jdGlvbihlKXt1ZyhvLHQsZSkudGhlbihyLnJlc29sdmUsbil9KSl9KSk7cmV0dXJuIG8uZXJyb3ImJm4oby52YWx1ZSksci5wcm9taXNlfX0pO3ZhciBsdj1QdCxjdj1Scixwdj1HeSxkdj10Zyx1dj1ubTtDbyh7dGFyZ2V0OiJQcm9taXNlIixzdGF0OiEwfSx7YWxsU2V0dGxlZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9cHYuZih0KSxuPXIucmVzb2x2ZSxvPXIucmVqZWN0LGE9ZHYoKGZ1bmN0aW9uKCl7dmFyIHI9Y3YodC5yZXNvbHZlKSxvPVtdLGE9MCxpPTE7dXYoZSwoZnVuY3Rpb24oZSl7dmFyIHM9YSsrLGw9ITE7aSsrLGx2KHIsdCxlKS50aGVuKChmdW5jdGlvbihlKXtsfHwobD0hMCxvW3NdPXtzdGF0dXM6ImZ1bGZpbGxlZCIsdmFsdWU6ZX0sLS1pfHxuKG8pKX0pLChmdW5jdGlvbihlKXtsfHwobD0hMCxvW3NdPXtzdGF0dXM6InJlamVjdGVkIixyZWFzb246ZX0sLS1pfHxuKG8pKX0pKX0pKSwtLWl8fG4obyl9KSk7cmV0dXJuIGEuZXJyb3ImJm8oYS52YWx1ZSksci5wcm9taXNlfX0pO3ZhciBodj1Scixmdj1jcixtdj1QdCx5dj1HeSxndj10Zyx2dj1ubTtDbyh7dGFyZ2V0OiJQcm9taXNlIixzdGF0OiEwfSx7YW55OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1mdigiQWdncmVnYXRlRXJyb3IiKSxuPXl2LmYodCksbz1uLnJlc29sdmUsYT1uLnJlamVjdCxpPWd2KChmdW5jdGlvbigpe3ZhciBuPWh2KHQucmVzb2x2ZSksaT1bXSxzPTAsbD0xLGM9ITE7dnYoZSwoZnVuY3Rpb24oZSl7dmFyIHA9cysrLGQ9ITE7bCsrLG12KG4sdCxlKS50aGVuKChmdW5jdGlvbihlKXtkfHxjfHwoYz0hMCxvKGUpKX0pLChmdW5jdGlvbihlKXtkfHxjfHwoZD0hMCxpW3BdPWUsLS1sfHxhKG5ldyByKGksIk5vIG9uZSBwcm9taXNlIHJlc29sdmVkIikpKX0pKX0pKSwtLWx8fGEobmV3IHIoaSwiTm8gb25lIHByb21pc2UgcmVzb2x2ZWQiKSl9KSk7cmV0dXJuIGkuZXJyb3ImJmEoaS52YWx1ZSksbi5wcm9taXNlfX0pO3ZhciBidj1DbSx4dj1jcix3dj1UdCwkdj1IbSxrdj1YeTtDbyh7dGFyZ2V0OiJQcm9taXNlIixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDohIWJ2JiZtdCgoZnVuY3Rpb24oKXtidi5wcm90b3R5cGUuZmluYWxseS5jYWxsKHt0aGVuOmZ1bmN0aW9uKCl7fX0sKGZ1bmN0aW9uKCl7fSkpfSkpfSx7ZmluYWxseTpmdW5jdGlvbihlKXt2YXIgdD0kdih0aGlzLHh2KCJQcm9taXNlIikpLHI9d3YoZSk7cmV0dXJuIHRoaXMudGhlbihyP2Z1bmN0aW9uKHIpe3JldHVybiBrdih0LGUoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX06ZSxyP2Z1bmN0aW9uKHIpe3JldHVybiBrdih0LGUoKSkudGhlbigoZnVuY3Rpb24oKXt0aHJvdyByfSkpfTplKX19KTt2YXIgU3Y9b3IuUHJvbWlzZSxBdj1TdixFdj1HeSxPdj10ZztDbyh7dGFyZ2V0OiJQcm9taXNlIixzdGF0OiEwLGZvcmNlZDohMH0se3RyeTpmdW5jdGlvbihlKXt2YXIgdD1Fdi5mKHRoaXMpLHI9T3YoZSk7cmV0dXJuKHIuZXJyb3I/dC5yZWplY3Q6dC5yZXNvbHZlKShyLnZhbHVlKSx0LnByb21pc2V9fSk7Y29uc3QgVHY9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9QXYpO2Z1bmN0aW9uIEN2KGUsdCxyLG4sbyxhLGkpe3RyeXt2YXIgcz1lW2FdKGkpLGw9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfXMuZG9uZT90KGwpOlR2LnJlc29sdmUobCkudGhlbihuLG8pfWZ1bmN0aW9uIGp2KGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBUdigoZnVuY3Rpb24obixvKXt2YXIgYT1lLmFwcGx5KHQscik7ZnVuY3Rpb24gaShlKXtDdihhLG4sbyxpLHMsIm5leHQiLGUpfWZ1bmN0aW9uIHMoZSl7Q3YoYSxuLG8saSxzLCJ0aHJvdyIsZSl9aSh2b2lkIDApfSkpfX12YXIgSXY9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdCxyPU9iamVjdC5wcm90b3R5cGUsbj1yLmhhc093blByb3BlcnR5LG89ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1vLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsaT1vLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLHM9by50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIGwoZSx0LHIpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7bCh7fSwiIil9Y2F0Y2goZSl7bD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cn19ZnVuY3Rpb24gYyhlLHQscixuKXt2YXIgbyxhLGkscyxsPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgeT90OnksYz1PYmplY3QuY3JlYXRlKGwucHJvdG90eXBlKSxnPW5ldyBUKG58fFtdKTtyZXR1cm4gYy5faW52b2tlPShvPWUsYT1yLGk9ZyxzPWQsZnVuY3Rpb24oZSx0KXtpZihzPT09aCl0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihzPT09Zil7aWYoInRocm93Ij09PWUpdGhyb3cgdDtyZXR1cm4gaigpfWZvcihpLm1ldGhvZD1lLGkuYXJnPXQ7Oyl7dmFyIHI9aS5kZWxlZ2F0ZTtpZihyKXt2YXIgbj1BKHIsaSk7aWYobil7aWYobj09PW0pY29udGludWU7cmV0dXJuIG59fWlmKCJuZXh0Ij09PWkubWV0aG9kKWkuc2VudD1pLl9zZW50PWkuYXJnO2Vsc2UgaWYoInRocm93Ij09PWkubWV0aG9kKXtpZihzPT09ZCl0aHJvdyBzPWYsaS5hcmc7aS5kaXNwYXRjaEV4Y2VwdGlvbihpLmFyZyl9ZWxzZSJyZXR1cm4iPT09aS5tZXRob2QmJmkuYWJydXB0KCJyZXR1cm4iLGkuYXJnKTtzPWg7dmFyIGw9cChvLGEsaSk7aWYoIm5vcm1hbCI9PT1sLnR5cGUpe2lmKHM9aS5kb25lP2Y6dSxsLmFyZz09PW0pY29udGludWU7cmV0dXJue3ZhbHVlOmwuYXJnLGRvbmU6aS5kb25lfX0idGhyb3ciPT09bC50eXBlJiYocz1mLGkubWV0aG9kPSJ0aHJvdyIsaS5hcmc9bC5hcmcpfX0pLGN9ZnVuY3Rpb24gcChlLHQscil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxyKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fWUud3JhcD1jO3ZhciBkPSJzdXNwZW5kZWRTdGFydCIsdT0ic3VzcGVuZGVkWWllbGQiLGg9ImV4ZWN1dGluZyIsZj0iY29tcGxldGVkIixtPXt9O2Z1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gZygpe31mdW5jdGlvbiB2KCl7fXZhciBiPXt9O2woYixhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciB4PU9iamVjdC5nZXRQcm90b3R5cGVPZix3PXgmJngoeChDKFtdKSkpO3cmJnchPT1yJiZuLmNhbGwodyxhKSYmKGI9dyk7dmFyICQ9di5wcm90b3R5cGU9eS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiKTtmdW5jdGlvbiBrKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7bChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBTKGUsdCl7ZnVuY3Rpb24gcihvLGEsaSxzKXt2YXIgbD1wKGVbb10sZSxhKTtpZigidGhyb3ciIT09bC50eXBlKXt2YXIgYz1sLmFyZyxkPWMudmFsdWU7cmV0dXJuIGQmJiJvYmplY3QiPT10eXBlb2YgZCYmbi5jYWxsKGQsIl9fYXdhaXQiKT90LnJlc29sdmUoZC51KS50aGVuKChmdW5jdGlvbihlKXtyKCJuZXh0IixlLGkscyl9KSwoZnVuY3Rpb24oZSl7cigidGhyb3ciLGUsaSxzKX0pKTp0LnJlc29sdmUoZCkudGhlbigoZnVuY3Rpb24oZSl7Yy52YWx1ZT1lLGkoYyl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoInRocm93IixlLGkscyl9KSl9cyhsLmFyZyl9dmFyIG87dGhpcy5faW52b2tlPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gYSgpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxvKXtyKGUsbix0LG8pfSkpfXJldHVybiBvPW8/by50aGVuKGEsYSk6YSgpfX1mdW5jdGlvbiBBKGUscil7dmFyIG49ZS5pdGVyYXRvcltyLm1ldGhvZF07aWYobj09PXQpe2lmKHIuZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ci5tZXRob2Qpe2lmKGUuaXRlcmF0b3IucmV0dXJuJiYoci5tZXRob2Q9InJldHVybiIsci5hcmc9dCxBKGUsciksInRocm93Ij09PXIubWV0aG9kKSlyZXR1cm4gbTtyLm1ldGhvZD0idGhyb3ciLHIuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKX1yZXR1cm4gbX12YXIgbz1wKG4sZS5pdGVyYXRvcixyLmFyZyk7aWYoInRocm93Ij09PW8udHlwZSlyZXR1cm4gci5tZXRob2Q9InRocm93IixyLmFyZz1vLmFyZyxyLmRlbGVnYXRlPW51bGwsbTt2YXIgYT1vLmFyZztyZXR1cm4gYT9hLmRvbmU/KHJbZS5yZXN1bHROYW1lXT1hLnZhbHVlLHIubmV4dD1lLm5leHRMb2MsInJldHVybiIhPT1yLm1ldGhvZCYmKHIubWV0aG9kPSJuZXh0IixyLmFyZz10KSxyLmRlbGVnYXRlPW51bGwsbSk6YTooci5tZXRob2Q9InRocm93IixyLmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLHIuZGVsZWdhdGU9bnVsbCxtKX1mdW5jdGlvbiBFKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIE8oZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIFQoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChFLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIEMoZSl7aWYoZSl7dmFyIHI9ZVthXTtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIHIoKXtmb3IoOysrbzxlLmxlbmd0aDspaWYobi5jYWxsKGUsbykpcmV0dXJuIHIudmFsdWU9ZVtvXSxyLmRvbmU9ITEscjtyZXR1cm4gci52YWx1ZT10LHIuZG9uZT0hMCxyfTtyZXR1cm4gaS5uZXh0PWl9fXJldHVybntuZXh0Omp9fWZ1bmN0aW9uIGooKXtyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1yZXR1cm4gZy5wcm90b3R5cGU9dixsKCQsImNvbnN0cnVjdG9yIix2KSxsKHYsImNvbnN0cnVjdG9yIixnKSxnLmRpc3BsYXlOYW1lPWwodixzLCJHZW5lcmF0b3JGdW5jdGlvbiIpLGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09Z3x8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sZS5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdik6KGUuX19wcm90b19fPXYsbChlLHMsIkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoJCksZX0sZS5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57dTplfX0sayhTLnByb3RvdHlwZSksbChTLnByb3RvdHlwZSxpLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuQXN5bmNJdGVyYXRvcj1TLGUuYXN5bmM9ZnVuY3Rpb24odCxyLG4sbyxhKXt2b2lkIDA9PT1hJiYoYT1Qcm9taXNlKTt2YXIgaT1uZXcgUyhjKHQscixuLG8pLGEpO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24ocik/aTppLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6aS5uZXh0KCl9KSl9LGsoJCksbCgkLHMsIkdlbmVyYXRvciIpLGwoJCxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGwoJCwidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSkpLGUua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSl0LnB1c2gocik7cmV0dXJuIHQucmV2ZXJzZSgpLGZ1bmN0aW9uIHIoKXtmb3IoO3QubGVuZ3RoOyl7dmFyIG49dC5wb3AoKTtpZihuIGluIGUpcmV0dXJuIHIudmFsdWU9bixyLmRvbmU9ITEscn1yZXR1cm4gci5kb25lPSEwLHJ9fSxlLnZhbHVlcz1DLFQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpULHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9dCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChPKSwhZSlmb3IodmFyIHIgaW4gdGhpcykidCI9PT1yLmNoYXJBdCgwKSYmbi5jYWxsKHRoaXMscikmJiFpc05hTigrci5zbGljZSgxKSkmJih0aGlzW3JdPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIHI9dGhpcztmdW5jdGlvbiBvKG4sbyl7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPWUsci5uZXh0PW4sbyYmKHIubWV0aG9kPSJuZXh0IixyLmFyZz10KSwhIW99Zm9yKHZhciBhPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTthPj0wOy0tYSl7dmFyIGk9dGhpcy50cnlFbnRyaWVzW2FdLHM9aS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWkudHJ5TG9jKXJldHVybiBvKCJlbmQiKTtpZihpLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgbD1uLmNhbGwoaSwiY2F0Y2hMb2MiKSxjPW4uY2FsbChpLCJmaW5hbGx5TG9jIik7aWYobCYmYyl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIG8oaS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGkuZmluYWxseUxvYylyZXR1cm4gbyhpLmZpbmFsbHlMb2MpfWVsc2UgaWYobCl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIG8oaS5jYXRjaExvYywhMCl9ZWxzZXtpZighYyl0aHJvdyBuZXcgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGkuZmluYWxseUxvYylyZXR1cm4gbyhpLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3I+PTA7LS1yKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbcl07aWYoby50cnlMb2M8PXRoaXMucHJldiYmbi5jYWxsKG8sImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PG8uZmluYWxseUxvYyl7dmFyIGE9bzticmVha319YSYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJmEudHJ5TG9jPD10JiZ0PD1hLmZpbmFsbHlMb2MmJihhPW51bGwpO3ZhciBpPWE/YS5jb21wbGV0aW9uOnt9O3JldHVybiBpLnR5cGU9ZSxpLmFyZz10LGE/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9YS5maW5hbGx5TG9jLG0pOnRoaXMuY29tcGxldGUoaSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCksbX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbixyLmFmdGVyTG9jKSxPKHIpLG19fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci50cnlMb2M9PT1lKXt2YXIgbj1yLmNvbXBsZXRpb247aWYoInRocm93Ij09PW4udHlwZSl7dmFyIG89bi5hcmc7TyhyKX1yZXR1cm4gb319dGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLHIsbil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOkMoZSkscmVzdWx0TmFtZTpyLG5leHRMb2M6bn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSxtfX0sZX0oZS5leHBvcnRzKTt0cnl7cmVnZW5lcmF0b3JSdW50aW1lPXR9Y2F0Y2goZSl7Im9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lPXQ6RnVuY3Rpb24oInIiLCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByIikodCl9fShJdik7Y29uc3QgX3Y9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9SXYuZXhwb3J0cyk7dmFyIFB2PVZvLmluY2x1ZGVzO0NvKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMH0se2luY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiBQdih0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBSdj1zYygiQXJyYXkiKS5pbmNsdWRlcyxMdj1DbyxGdj1KZCxEdj1RdCxCdj0kYSxOdj1aZCxxdj1PdCgiIi5pbmRleE9mKTtMdih7dGFyZ2V0OiJTdHJpbmciLHByb3RvOiEwLGZvcmNlZDohTnYoImluY2x1ZGVzIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5xdihCdihEdih0aGlzKSksQnYoRnYoZSkpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgVXY9c2MoIlN0cmluZyIpLmluY2x1ZGVzLHp2PXByLE12PVJ2LEh2PVV2LFd2PUFycmF5LnByb3RvdHlwZSxWdj1TdHJpbmcucHJvdG90eXBlO2NvbnN0IEd2PXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5jbHVkZXM7cmV0dXJuIGU9PT1Xdnx8enYoV3YsZSkmJnQ9PT1Xdi5pbmNsdWRlcz9Ndjoic3RyaW5nIj09dHlwZW9mIGV8fGU9PT1Wdnx8enYoVnYsZSkmJnQ9PT1Wdi5pbmNsdWRlcz9Idjp0fSk7dmFyIEt2PXNjKCJBcnJheSIpLmVudHJpZXMsSnY9YmEsWXY9WnIsWnY9cHIsUXY9S3YsWHY9QXJyYXkucHJvdG90eXBlLGViPXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9O2NvbnN0IHRiPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZW50cmllcztyZXR1cm4gZT09PVh2fHxadihYdixlKSYmdD09PVh2LmVudHJpZXN8fFl2KGViLEp2KGUpKT9Rdjp0fSk7Y29uc3QgcmI9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9QWYpO3ZhciBuYj1DbyxvYj1jcixhYj13dCxpYj1PdCxzYj1tdCxsYj1mdC5BcnJheSxjYj1vYigiSlNPTiIsInN0cmluZ2lmeSIpLHBiPWliKC8uLy5leGVjKSxkYj1pYigiIi5jaGFyQXQpLHViPWliKCIiLmNoYXJDb2RlQXQpLGhiPWliKCIiLnJlcGxhY2UpLGZiPWliKDEuLnRvU3RyaW5nKSxtYj0vW1x1RDgwMC1cdURGRkZdL2cseWI9L15bXHVEODAwLVx1REJGRl0kLyxnYj0vXltcdURDMDAtXHVERkZGXSQvLHZiPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1kYihyLHQtMSksbz1kYihyLHQrMSk7cmV0dXJuIHBiKHliLGUpJiYhcGIoZ2Isbyl8fHBiKGdiLGUpJiYhcGIoeWIsbik/IlxcdSIrZmIodWIoZSwwKSwxNik6ZX0sYmI9c2IoKGZ1bmN0aW9uKCl7cmV0dXJuJyJcXHVkZjA2XFx1ZDgzNCInIT09Y2IoIlx1ZGYwNlx1ZDgzNCIpfHwnIlxcdWRlYWQiJyE9PWNiKCJcdWRlYWQiKX0pKTtjYiYmbmIoe3RhcmdldDoiSlNPTiIsc3RhdDohMCxmb3JjZWQ6YmJ9LHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj0wLG89YXJndW1lbnRzLmxlbmd0aCxhPWxiKG8pO248bztuKyspYVtuXT1hcmd1bWVudHNbbl07dmFyIGk9YWIoY2IsbnVsbCxhKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGk/aGIoaSxtYix2Yik6aX19KTt2YXIgeGI9b3Isd2I9d3Q7eGIuSlNPTnx8KHhiLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO2NvbnN0ICRiPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gd2IoeGIuSlNPTi5zdHJpbmdpZnksbnVsbCxhcmd1bWVudHMpfSk7dmFyIGtiPUxzLm1hcDtDbyh7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOiFvYygibWFwIil9LHttYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGtiKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIFNiPXNjKCJBcnJheSIpLm1hcCxBYj1wcixFYj1TYixPYj1BcnJheS5wcm90b3R5cGU7Y29uc3QgVGI9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXA7cmV0dXJuIGU9PT1PYnx8QWIoT2IsZSkmJnQ9PT1PYi5tYXA/RWI6dH0pO2NvbnN0IENiPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPWlhKTt2YXIgamI9c2MoIkFycmF5IikuY29uY2F0LEliPXByLF9iPWpiLFBiPUFycmF5LnByb3RvdHlwZTtjb25zdCBSYj11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbmNhdDtyZXR1cm4gZT09PVBifHxJYihQYixlKSYmdD09PVBiLmNvbmNhdD9fYjp0fSk7dmFyIExiPWp0LEZiPU90LERiPW5hLEJiPXRyLE5iPUZiKFJ0LmYpLHFiPUZiKFtdLnB1c2gpLFViPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIHIsbj1CYih0KSxvPURiKG4pLGE9by5sZW5ndGgsaT0wLHM9W107YT5pOylyPW9baSsrXSxMYiYmIU5iKG4scil8fHFiKHMsZT9bcixuW3JdXTpuW3JdKTtyZXR1cm4gc319LHpiPVtVYighMCksVWIoITEpXVswXTtDbyh7dGFyZ2V0OiJPYmplY3QiLHN0YXQ6ITB9LHtlbnRyaWVzOmZ1bmN0aW9uKGUpe3JldHVybiB6YihlKX19KTt2YXIgTWI9b3IuT2JqZWN0LmVudHJpZXM7Y29uc3QgSGI9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9TWIpO2NvbnN0IFdiPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPXVjKTshZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKHQpe3ZhciByPSJVUkxTZWFyY2hQYXJhbXMiaW4gZSxuPSJTeW1ib2wiaW4gZSYmIml0ZXJhdG9yImluIFN5bWJvbCxvPSJGaWxlUmVhZGVyImluIGUmJiJCbG9iImluIGUmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgQmxvYiwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCksYT0iRm9ybURhdGEiaW4gZSxpPSJBcnJheUJ1ZmZlciJpbiBlO2lmKGkpdmFyIHM9WyJbb2JqZWN0IEludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLCJbb2JqZWN0IEludDE2QXJyYXldIiwiW29iamVjdCBVaW50MTZBcnJheV0iLCJbb2JqZWN0IEludDMyQXJyYXldIiwiW29iamVjdCBVaW50MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iXSxsPUFycmF5QnVmZmVyLmlzVmlld3x8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpPi0xfTtmdW5jdGlvbiBjKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKGU9U3RyaW5nKGUpKSwvW15hLXowLTlcLSMkJSYnKisuXl9gfH5dL2kudGVzdChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZSIpO3JldHVybiBlLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gcChlKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGUmJihlPVN0cmluZyhlKSksZX1mdW5jdGlvbiBkKGUpe3ZhciB0PXtuZXh0OmZ1bmN0aW9uKCl7dmFyIHQ9ZS5zaGlmdCgpO3JldHVybntkb25lOnZvaWQgMD09PXQsdmFsdWU6dH19fTtyZXR1cm4gbiYmKHRbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0fSksdH1mdW5jdGlvbiB1KGUpe3RoaXMubWFwPXt9LGUgaW5zdGFuY2VvZiB1P2UuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXt0aGlzLmFwcGVuZCh0LGUpfSksdGhpcyk6QXJyYXkuaXNBcnJheShlKT9lLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RoaXMuYXBwZW5kKGVbMF0sZVsxXSl9KSx0aGlzKTplJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0aGlzLmFwcGVuZCh0LGVbdF0pfSksdGhpcyl9ZnVuY3Rpb24gaChlKXtpZihlLmJvZHlVc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKSk7ZS5ib2R5VXNlZD0hMH1mdW5jdGlvbiBmKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXtlLm9ubG9hZD1mdW5jdGlvbigpe3QoZS5yZXN1bHQpfSxlLm9uZXJyb3I9ZnVuY3Rpb24oKXtyKGUuZXJyb3IpfX0pKX1mdW5jdGlvbiBtKGUpe3ZhciB0PW5ldyBGaWxlUmVhZGVyLHI9Zih0KTtyZXR1cm4gdC5yZWFkQXNBcnJheUJ1ZmZlcihlKSxyfWZ1bmN0aW9uIHkoZSl7aWYoZS5zbGljZSlyZXR1cm4gZS5zbGljZSgwKTt2YXIgdD1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgpO3JldHVybiB0LnNldChuZXcgVWludDhBcnJheShlKSksdC5idWZmZXJ9ZnVuY3Rpb24gZygpe3JldHVybiB0aGlzLmJvZHlVc2VkPSExLHRoaXMuX2luaXRCb2R5PWZ1bmN0aW9uKGUpe3ZhciB0O3RoaXMuX2JvZHlJbml0PWUsZT8ic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5fYm9keVRleHQ9ZTpvJiZCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpP3RoaXMuX2JvZHlCbG9iPWU6YSYmRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSk/dGhpcy5fYm9keUZvcm1EYXRhPWU6ciYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpP3RoaXMuX2JvZHlUZXh0PWUudG9TdHJpbmcoKTppJiZvJiYodD1lKSYmRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCk/KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj15KGUuYnVmZmVyKSx0aGlzLl9ib2R5SW5pdD1uZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpOmkmJihBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKXx8bChlKSk/dGhpcy5fYm9keUFycmF5QnVmZmVyPXkoZSk6dGhpcy5fYm9keVRleHQ9ZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk6dGhpcy5fYm9keVRleHQ9IiIsdGhpcy5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIil8fCgic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIiwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Iik6dGhpcy5fYm9keUJsb2ImJnRoaXMuX2JvZHlCbG9iLnR5cGU/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIix0aGlzLl9ib2R5QmxvYi50eXBlKTpyJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSkmJnRoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04IikpfSxvJiYodGhpcy5ibG9iPWZ1bmN0aW9uKCl7dmFyIGU9aCh0aGlzKTtpZihlKXJldHVybiBlO2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSl9LHRoaXMuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keUFycmF5QnVmZmVyP2godGhpcyl8fFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpOnRoaXMuYmxvYigpLnRoZW4obSl9KSx0aGlzLnRleHQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsbj1oKHRoaXMpO2lmKG4pcmV0dXJuIG47aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIGU9dGhpcy5fYm9keUJsb2IsdD1uZXcgRmlsZVJlYWRlcixyPWYodCksdC5yZWFkQXNUZXh0KGUpLHI7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KGUpLHI9bmV3IEFycmF5KHQubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDtuKyspcltuXT1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbbl0pO3JldHVybiByLmpvaW4oIiIpfSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKTtpZih0aGlzLl9ib2R5Rm9ybURhdGEpdGhyb3cgbmV3IEVycm9yKCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KX0sYSYmKHRoaXMuZm9ybURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbih4KX0pLHRoaXMuanNvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpfSx0aGlzfXUucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlLHQpe2U9YyhlKSx0PXAodCk7dmFyIHI9dGhpcy5tYXBbZV07dGhpcy5tYXBbZV09cj9yKyIsICIrdDp0fSx1LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMubWFwW2MoZSldfSx1LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9YyhlKSx0aGlzLmhhcyhlKT90aGlzLm1hcFtlXTpudWxsfSx1LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KGMoZSkpfSx1LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLm1hcFtjKGUpXT1wKHQpfSx1LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHRoaXMubWFwKXRoaXMubWFwLmhhc093blByb3BlcnR5KHIpJiZlLmNhbGwodCx0aGlzLm1hcFtyXSxyLHRoaXMpfSx1LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXtlLnB1c2gocil9KSksZChlKX0sdS5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSkpLGQoZSl9LHUucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2UucHVzaChbcix0XSl9KSksZChlKX0sbiYmKHUucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09dS5wcm90b3R5cGUuZW50cmllcyk7dmFyIHY9WyJERUxFVEUiLCJHRVQiLCJIRUFEIiwiT1BUSU9OUyIsIlBPU1QiLCJQVVQiXTtmdW5jdGlvbiBiKGUsdCl7dmFyIHIsbixvPSh0PXR8fHt9KS5ib2R5O2lmKGUgaW5zdGFuY2VvZiBiKXtpZihlLmJvZHlVc2VkKXRocm93IG5ldyBUeXBlRXJyb3IoIkFscmVhZHkgcmVhZCIpO3RoaXMudXJsPWUudXJsLHRoaXMuY3JlZGVudGlhbHM9ZS5jcmVkZW50aWFscyx0LmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IHUoZS5oZWFkZXJzKSksdGhpcy5tZXRob2Q9ZS5tZXRob2QsdGhpcy5tb2RlPWUubW9kZSx0aGlzLnNpZ25hbD1lLnNpZ25hbCxvfHxudWxsPT1lLl9ib2R5SW5pdHx8KG89ZS5fYm9keUluaXQsZS5ib2R5VXNlZD0hMCl9ZWxzZSB0aGlzLnVybD1TdHJpbmcoZSk7aWYodGhpcy5jcmVkZW50aWFscz10LmNyZWRlbnRpYWxzfHx0aGlzLmNyZWRlbnRpYWxzfHwic2FtZS1vcmlnaW4iLCF0LmhlYWRlcnMmJnRoaXMuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgdSh0LmhlYWRlcnMpKSx0aGlzLm1ldGhvZD0ocj10Lm1ldGhvZHx8dGhpcy5tZXRob2R8fCJHRVQiLG49ci50b1VwcGVyQ2FzZSgpLHYuaW5kZXhPZihuKT4tMT9uOnIpLHRoaXMubW9kZT10Lm1vZGV8fHRoaXMubW9kZXx8bnVsbCx0aGlzLnNpZ25hbD10LnNpZ25hbHx8dGhpcy5zaWduYWwsdGhpcy5yZWZlcnJlcj1udWxsLCgiR0VUIj09PXRoaXMubWV0aG9kfHwiSEVBRCI9PT10aGlzLm1ldGhvZCkmJm8pdGhyb3cgbmV3IFR5cGVFcnJvcigiQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMiKTt0aGlzLl9pbml0Qm9keShvKX1mdW5jdGlvbiB4KGUpe3ZhciB0PW5ldyBGb3JtRGF0YTtyZXR1cm4gZS50cmltKCkuc3BsaXQoIiYiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlKXt2YXIgcj1lLnNwbGl0KCI9Iiksbj1yLnNoaWZ0KCkucmVwbGFjZSgvXCsvZywiICIpLG89ci5qb2luKCI9IikucmVwbGFjZSgvXCsvZywiICIpO3QuYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuKSxkZWNvZGVVUklDb21wb25lbnQobykpfX0pKSx0fWZ1bmN0aW9uIHcoZSx0KXt0fHwodD17fSksdGhpcy50eXBlPSJkZWZhdWx0Iix0aGlzLnN0YXR1cz12b2lkIDA9PT10LnN0YXR1cz8yMDA6dC5zdGF0dXMsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDAsdGhpcy5zdGF0dXNUZXh0PSJzdGF0dXNUZXh0ImluIHQ/dC5zdGF0dXNUZXh0OiJPSyIsdGhpcy5oZWFkZXJzPW5ldyB1KHQuaGVhZGVycyksdGhpcy51cmw9dC51cmx8fCIiLHRoaXMuX2luaXRCb2R5KGUpfWIucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiKHRoaXMse2JvZHk6dGhpcy5fYm9keUluaXR9KX0sZy5jYWxsKGIucHJvdG90eXBlKSxnLmNhbGwody5wcm90b3R5cGUpLHcucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3KHRoaXMuX2JvZHlJbml0LHtzdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDp0aGlzLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgdSh0aGlzLmhlYWRlcnMpLHVybDp0aGlzLnVybH0pfSx3LmVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHcobnVsbCx7c3RhdHVzOjAsc3RhdHVzVGV4dDoiIn0pO3JldHVybiBlLnR5cGU9ImVycm9yIixlfTt2YXIgJD1bMzAxLDMwMiwzMDMsMzA3LDMwOF07dy5yZWRpcmVjdD1mdW5jdGlvbihlLHQpe2lmKC0xPT09JC5pbmRleE9mKHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIHN0YXR1cyBjb2RlIik7cmV0dXJuIG5ldyB3KG51bGwse3N0YXR1czp0LGhlYWRlcnM6e2xvY2F0aW9uOmV9fSl9LHQuRE9NRXhjZXB0aW9uPWUuRE9NRXhjZXB0aW9uO3RyeXtuZXcgdC5ET01FeGNlcHRpb259Y2F0Y2goZSl7dC5ET01FeGNlcHRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLm1lc3NhZ2U9ZSx0aGlzLm5hbWU9dDt2YXIgcj1FcnJvcihlKTt0aGlzLnN0YWNrPXIuc3RhY2t9LHQuRE9NRXhjZXB0aW9uLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdC5ET01FeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQuRE9NRXhjZXB0aW9ufWZ1bmN0aW9uIGsoZSxyKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sYSl7dmFyIGk9bmV3IGIoZSxyKTtpZihpLnNpZ25hbCYmaS5zaWduYWwuYWJvcnRlZClyZXR1cm4gYShuZXcgdC5ET01FeGNlcHRpb24oIkFib3J0ZWQiLCJBYm9ydEVycm9yIikpO3ZhciBzPW5ldyBYTUxIdHRwUmVxdWVzdDtmdW5jdGlvbiBsKCl7cy5hYm9ydCgpfXMub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGUsdCxyPXtzdGF0dXM6cy5zdGF0dXMsc3RhdHVzVGV4dDpzLnN0YXR1c1RleHQsaGVhZGVyczooZT1zLmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHwiIix0PW5ldyB1LGUucmVwbGFjZSgvXHI/XG5bXHQgXSsvZywiICIpLnNwbGl0KC9ccj9cbi8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWUuc3BsaXQoIjoiKSxuPXIuc2hpZnQoKS50cmltKCk7aWYobil7dmFyIG89ci5qb2luKCI6IikudHJpbSgpO3QuYXBwZW5kKG4sbyl9fSkpLHQpfTtyLnVybD0icmVzcG9uc2VVUkwiaW4gcz9zLnJlc3BvbnNlVVJMOnIuaGVhZGVycy5nZXQoIlgtUmVxdWVzdC1VUkwiKTt2YXIgbz0icmVzcG9uc2UiaW4gcz9zLnJlc3BvbnNlOnMucmVzcG9uc2VUZXh0O24obmV3IHcobyxyKSl9LHMub25lcnJvcj1mdW5jdGlvbigpe2EobmV3IFR5cGVFcnJvcigiTmV0d29yayByZXF1ZXN0IGZhaWxlZCIpKX0scy5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXthKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9LHMub25hYm9ydD1mdW5jdGlvbigpe2EobmV3IHQuRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKX0scy5vcGVuKGkubWV0aG9kLGkudXJsLCEwKSwiaW5jbHVkZSI9PT1pLmNyZWRlbnRpYWxzP3Mud2l0aENyZWRlbnRpYWxzPSEwOiJvbWl0Ij09PWkuY3JlZGVudGlhbHMmJihzLndpdGhDcmVkZW50aWFscz0hMSksInJlc3BvbnNlVHlwZSJpbiBzJiZvJiYocy5yZXNwb25zZVR5cGU9ImJsb2IiKSxpLmhlYWRlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtzLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxpLnNpZ25hbCYmKGkuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixsKSxzLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1zLnJlYWR5U3RhdGUmJmkuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0IixsKX0pLHMuc2VuZCh2b2lkIDA9PT1pLl9ib2R5SW5pdD9udWxsOmkuX2JvZHlJbml0KX0pKX1rLnBvbHlmaWxsPSEwLGUuZmV0Y2h8fChlLmZldGNoPWssZS5IZWFkZXJzPXUsZS5SZXF1ZXN0PWIsZS5SZXNwb25zZT13KSx0LkhlYWRlcnM9dSx0LlJlcXVlc3Q9Yix0LlJlc3BvbnNlPXcsdC5mZXRjaD1rLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0Iix7dmFsdWU6ITB9KX0oe30pfSgidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzKX0oKTt2YXIgVmI9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbCxHYj0iRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAiLEtiPUFycmF5LnByb3RvdHlwZS5zbGljZSxKYj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFliPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHxmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0fHwiW29iamVjdCBGdW5jdGlvbl0iIT09SmIuY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKEdiK3QpO2Zvcih2YXIgcixuPUtiLmNhbGwoYXJndW1lbnRzLDEpLG89ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2Ygcil7dmFyIG89dC5hcHBseSh0aGlzLG4uY29uY2F0KEtiLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3Qobyk9PT1vP286dGhpc31yZXR1cm4gdC5hcHBseShlLG4uY29uY2F0KEtiLmNhbGwoYXJndW1lbnRzKSkpfSxhPU1hdGgubWF4KDAsdC5sZW5ndGgtbi5sZW5ndGgpLGk9W10scz0wO3M8YTtzKyspaS5wdXNoKCIkIitzKTtpZihyPUZ1bmN0aW9uKCJiaW5kZXIiLCJyZXR1cm4gZnVuY3Rpb24gKCIraS5qb2luKCIsIikrIil7IHJldHVybiBiaW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOyB9IikobyksdC5wcm90b3R5cGUpe3ZhciBsPWZ1bmN0aW9uKCl7fTtsLnByb3RvdHlwZT10LnByb3RvdHlwZSxyLnByb3RvdHlwZT1uZXcgbCxsLnByb3RvdHlwZT1udWxsfXJldHVybiByfSxaYj1ZYi5jYWxsKEZ1bmN0aW9uLmNhbGwsT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSksUWI9U3ludGF4RXJyb3IsWGI9RnVuY3Rpb24sZXg9VHlwZUVycm9yLHR4PWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gWGIoJyJ1c2Ugc3RyaWN0IjsgcmV0dXJuICgnK2UrIikuY29uc3RydWN0b3I7IikoKX1jYXRjaChlKXt9fSxyeD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2lmKHJ4KXRyeXtyeCh7fSwiIil9Y2F0Y2goZSl7cng9bnVsbH12YXIgbng9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgZXh9LG94PXJ4P2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBueH1jYXRjaChlKXt0cnl7cmV0dXJuIHJ4KGFyZ3VtZW50cywiY2FsbGVlIikuZ2V0fWNhdGNoKGUpe3JldHVybiBueH19fSgpOm54LGF4PSJmdW5jdGlvbiI9PXR5cGVvZiBWYiYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBWYigiZm9vIikmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sKCJiYXIiKSYmZnVuY3Rpb24oKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgU3ltYm9sfHwiZnVuY3Rpb24iIT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scylyZXR1cm4hMTtpZigic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcilyZXR1cm4hMDt2YXIgZT17fSx0PVN5bWJvbCgidGVzdCIpLHI9T2JqZWN0KHQpO2lmKCJzdHJpbmciPT10eXBlb2YgdClyZXR1cm4hMTtpZigiW29iamVjdCBTeW1ib2xdIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4hMTtpZigiW29iamVjdCBTeW1ib2xdIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSlyZXR1cm4hMTtmb3IodCBpbiBlW3RdPTQyLGUpcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5rZXlzJiYwIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmMCE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aClyZXR1cm4hMTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2lmKDEhPT1uLmxlbmd0aHx8blswXSE9PXQpcmV0dXJuITE7aWYoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHQpKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk7aWYoNDIhPT1vLnZhbHVlfHwhMCE9PW8uZW51bWVyYWJsZSlyZXR1cm4hMX1yZXR1cm4hMH0oKSxpeD1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX30sc3g9e30sbHg9InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50OEFycmF5P3ZvaWQgMDppeChVaW50OEFycmF5KSxjeD17IiVBZ2dyZWdhdGVFcnJvciUiOiJ1bmRlZmluZWQiPT10eXBlb2YgQWdncmVnYXRlRXJyb3I/dm9pZCAwOkFnZ3JlZ2F0ZUVycm9yLCIlQXJyYXklIjpBcnJheSwiJUFycmF5QnVmZmVyJSI6InVuZGVmaW5lZCI9PXR5cGVvZiBBcnJheUJ1ZmZlcj92b2lkIDA6QXJyYXlCdWZmZXIsIiVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJSI6YXg/aXgoW11bU3ltYm9sLml0ZXJhdG9yXSgpKTp2b2lkIDAsIiVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlIjp2b2lkIDAsIiVBc3luY0Z1bmN0aW9uJSI6c3gsIiVBc3luY0dlbmVyYXRvciUiOnN4LCIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiOnN4LCIlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUiOnN4LCIlQXRvbWljcyUiOiJ1bmRlZmluZWQiPT10eXBlb2YgQXRvbWljcz92b2lkIDA6QXRvbWljcywiJUJpZ0ludCUiOiJ1bmRlZmluZWQiPT10eXBlb2YgQmlnSW50P3ZvaWQgMDpCaWdJbnQsIiVCb29sZWFuJSI6Qm9vbGVhbiwiJURhdGFWaWV3JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBEYXRhVmlldz92b2lkIDA6RGF0YVZpZXcsIiVEYXRlJSI6RGF0ZSwiJWRlY29kZVVSSSUiOmRlY29kZVVSSSwiJWRlY29kZVVSSUNvbXBvbmVudCUiOmRlY29kZVVSSUNvbXBvbmVudCwiJWVuY29kZVVSSSUiOmVuY29kZVVSSSwiJWVuY29kZVVSSUNvbXBvbmVudCUiOmVuY29kZVVSSUNvbXBvbmVudCwiJUVycm9yJSI6RXJyb3IsIiVldmFsJSI6ZXZhbCwiJUV2YWxFcnJvciUiOkV2YWxFcnJvciwiJUZsb2F0MzJBcnJheSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgRmxvYXQzMkFycmF5P3ZvaWQgMDpGbG9hdDMyQXJyYXksIiVGbG9hdDY0QXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIEZsb2F0NjRBcnJheT92b2lkIDA6RmxvYXQ2NEFycmF5LCIlRmluYWxpemF0aW9uUmVnaXN0cnklIjoidW5kZWZpbmVkIj09dHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5P3ZvaWQgMDpGaW5hbGl6YXRpb25SZWdpc3RyeSwiJUZ1bmN0aW9uJSI6WGIsIiVHZW5lcmF0b3JGdW5jdGlvbiUiOnN4LCIlSW50OEFycmF5JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBJbnQ4QXJyYXk/dm9pZCAwOkludDhBcnJheSwiJUludDE2QXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIEludDE2QXJyYXk/dm9pZCAwOkludDE2QXJyYXksIiVJbnQzMkFycmF5JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBJbnQzMkFycmF5P3ZvaWQgMDpJbnQzMkFycmF5LCIlaXNGaW5pdGUlIjppc0Zpbml0ZSwiJWlzTmFOJSI6aXNOYU4sIiVJdGVyYXRvclByb3RvdHlwZSUiOmF4P2l4KGl4KFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkpOnZvaWQgMCwiJUpTT04lIjoib2JqZWN0Ij09dHlwZW9mIEpTT04/SlNPTjp2b2lkIDAsIiVNYXAlIjoidW5kZWZpbmVkIj09dHlwZW9mIE1hcD92b2lkIDA6TWFwLCIlTWFwSXRlcmF0b3JQcm90b3R5cGUlIjoidW5kZWZpbmVkIiE9dHlwZW9mIE1hcCYmYXg/aXgoKG5ldyBNYXApW1N5bWJvbC5pdGVyYXRvcl0oKSk6dm9pZCAwLCIlTWF0aCUiOk1hdGgsIiVOdW1iZXIlIjpOdW1iZXIsIiVPYmplY3QlIjpPYmplY3QsIiVwYXJzZUZsb2F0JSI6cGFyc2VGbG9hdCwiJXBhcnNlSW50JSI6cGFyc2VJbnQsIiVQcm9taXNlJSI6InVuZGVmaW5lZCI9PXR5cGVvZiBQcm9taXNlP3ZvaWQgMDpQcm9taXNlLCIlUHJveHklIjoidW5kZWZpbmVkIj09dHlwZW9mIFByb3h5P3ZvaWQgMDpQcm94eSwiJVJhbmdlRXJyb3IlIjpSYW5nZUVycm9yLCIlUmVmZXJlbmNlRXJyb3IlIjpSZWZlcmVuY2VFcnJvciwiJVJlZmxlY3QlIjoidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3Q/dm9pZCAwOlJlZmxlY3QsIiVSZWdFeHAlIjpSZWdFeHAsIiVTZXQlIjoidW5kZWZpbmVkIj09dHlwZW9mIFNldD92b2lkIDA6U2V0LCIlU2V0SXRlcmF0b3JQcm90b3R5cGUlIjoidW5kZWZpbmVkIiE9dHlwZW9mIFNldCYmYXg/aXgoKG5ldyBTZXQpW1N5bWJvbC5pdGVyYXRvcl0oKSk6dm9pZCAwLCIlU2hhcmVkQXJyYXlCdWZmZXIlIjoidW5kZWZpbmVkIj09dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyP3ZvaWQgMDpTaGFyZWRBcnJheUJ1ZmZlciwiJVN0cmluZyUiOlN0cmluZywiJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSI6YXg/aXgoIiJbU3ltYm9sLml0ZXJhdG9yXSgpKTp2b2lkIDAsIiVTeW1ib2wlIjpheD9TeW1ib2w6dm9pZCAwLCIlU3ludGF4RXJyb3IlIjpRYiwiJVRocm93VHlwZUVycm9yJSI6b3gsIiVUeXBlZEFycmF5JSI6bHgsIiVUeXBlRXJyb3IlIjpleCwiJVVpbnQ4QXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIFVpbnQ4QXJyYXk/dm9pZCAwOlVpbnQ4QXJyYXksIiVVaW50OENsYW1wZWRBcnJheSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgVWludDhDbGFtcGVkQXJyYXk/dm9pZCAwOlVpbnQ4Q2xhbXBlZEFycmF5LCIlVWludDE2QXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIFVpbnQxNkFycmF5P3ZvaWQgMDpVaW50MTZBcnJheSwiJVVpbnQzMkFycmF5JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50MzJBcnJheT92b2lkIDA6VWludDMyQXJyYXksIiVVUklFcnJvciUiOlVSSUVycm9yLCIlV2Vha01hcCUiOiJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcD92b2lkIDA6V2Vha01hcCwiJVdlYWtSZWYlIjoidW5kZWZpbmVkIj09dHlwZW9mIFdlYWtSZWY/dm9pZCAwOldlYWtSZWYsIiVXZWFrU2V0JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBXZWFrU2V0P3ZvaWQgMDpXZWFrU2V0fSxweD1mdW5jdGlvbiBlKHQpe3ZhciByO2lmKCIlQXN5bmNGdW5jdGlvbiUiPT09dClyPXR4KCJhc3luYyBmdW5jdGlvbiAoKSB7fSIpO2Vsc2UgaWYoIiVHZW5lcmF0b3JGdW5jdGlvbiUiPT09dClyPXR4KCJmdW5jdGlvbiogKCkge30iKTtlbHNlIGlmKCIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiPT09dClyPXR4KCJhc3luYyBmdW5jdGlvbiogKCkge30iKTtlbHNlIGlmKCIlQXN5bmNHZW5lcmF0b3IlIj09PXQpe3ZhciBuPWUoIiVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJSIpO24mJihyPW4ucHJvdG90eXBlKX1lbHNlIGlmKCIlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUiPT09dCl7dmFyIG89ZSgiJUFzeW5jR2VuZXJhdG9yJSIpO28mJihyPWl4KG8ucHJvdG90eXBlKSl9cmV0dXJuIGN4W3RdPXIscn0sZHg9eyIlQXJyYXlCdWZmZXJQcm90b3R5cGUlIjpbIkFycmF5QnVmZmVyIiwicHJvdG90eXBlIl0sIiVBcnJheVByb3RvdHlwZSUiOlsiQXJyYXkiLCJwcm90b3R5cGUiXSwiJUFycmF5UHJvdG9fZW50cmllcyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJlbnRyaWVzIl0sIiVBcnJheVByb3RvX2ZvckVhY2glIjpbIkFycmF5IiwicHJvdG90eXBlIiwiZm9yRWFjaCJdLCIlQXJyYXlQcm90b19rZXlzJSI6WyJBcnJheSIsInByb3RvdHlwZSIsImtleXMiXSwiJUFycmF5UHJvdG9fdmFsdWVzJSI6WyJBcnJheSIsInByb3RvdHlwZSIsInZhbHVlcyJdLCIlQXN5bmNGdW5jdGlvblByb3RvdHlwZSUiOlsiQXN5bmNGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlQXN5bmNHZW5lcmF0b3IlIjpbIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb24iLCJwcm90b3R5cGUiXSwiJUFzeW5jR2VuZXJhdG9yUHJvdG90eXBlJSI6WyJBc3luY0dlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIiwicHJvdG90eXBlIl0sIiVCb29sZWFuUHJvdG90eXBlJSI6WyJCb29sZWFuIiwicHJvdG90eXBlIl0sIiVEYXRhVmlld1Byb3RvdHlwZSUiOlsiRGF0YVZpZXciLCJwcm90b3R5cGUiXSwiJURhdGVQcm90b3R5cGUlIjpbIkRhdGUiLCJwcm90b3R5cGUiXSwiJUVycm9yUHJvdG90eXBlJSI6WyJFcnJvciIsInByb3RvdHlwZSJdLCIlRXZhbEVycm9yUHJvdG90eXBlJSI6WyJFdmFsRXJyb3IiLCJwcm90b3R5cGUiXSwiJUZsb2F0MzJBcnJheVByb3RvdHlwZSUiOlsiRmxvYXQzMkFycmF5IiwicHJvdG90eXBlIl0sIiVGbG9hdDY0QXJyYXlQcm90b3R5cGUlIjpbIkZsb2F0NjRBcnJheSIsInByb3RvdHlwZSJdLCIlRnVuY3Rpb25Qcm90b3R5cGUlIjpbIkZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVHZW5lcmF0b3IlIjpbIkdlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVHZW5lcmF0b3JQcm90b3R5cGUlIjpbIkdlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIiwicHJvdG90eXBlIl0sIiVJbnQ4QXJyYXlQcm90b3R5cGUlIjpbIkludDhBcnJheSIsInByb3RvdHlwZSJdLCIlSW50MTZBcnJheVByb3RvdHlwZSUiOlsiSW50MTZBcnJheSIsInByb3RvdHlwZSJdLCIlSW50MzJBcnJheVByb3RvdHlwZSUiOlsiSW50MzJBcnJheSIsInByb3RvdHlwZSJdLCIlSlNPTlBhcnNlJSI6WyJKU09OIiwicGFyc2UiXSwiJUpTT05TdHJpbmdpZnklIjpbIkpTT04iLCJzdHJpbmdpZnkiXSwiJU1hcFByb3RvdHlwZSUiOlsiTWFwIiwicHJvdG90eXBlIl0sIiVOdW1iZXJQcm90b3R5cGUlIjpbIk51bWJlciIsInByb3RvdHlwZSJdLCIlT2JqZWN0UHJvdG90eXBlJSI6WyJPYmplY3QiLCJwcm90b3R5cGUiXSwiJU9ialByb3RvX3RvU3RyaW5nJSI6WyJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyJdLCIlT2JqUHJvdG9fdmFsdWVPZiUiOlsiT2JqZWN0IiwicHJvdG90eXBlIiwidmFsdWVPZiJdLCIlUHJvbWlzZVByb3RvdHlwZSUiOlsiUHJvbWlzZSIsInByb3RvdHlwZSJdLCIlUHJvbWlzZVByb3RvX3RoZW4lIjpbIlByb21pc2UiLCJwcm90b3R5cGUiLCJ0aGVuIl0sIiVQcm9taXNlX2FsbCUiOlsiUHJvbWlzZSIsImFsbCJdLCIlUHJvbWlzZV9yZWplY3QlIjpbIlByb21pc2UiLCJyZWplY3QiXSwiJVByb21pc2VfcmVzb2x2ZSUiOlsiUHJvbWlzZSIsInJlc29sdmUiXSwiJVJhbmdlRXJyb3JQcm90b3R5cGUlIjpbIlJhbmdlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVJlZmVyZW5jZUVycm9yUHJvdG90eXBlJSI6WyJSZWZlcmVuY2VFcnJvciIsInByb3RvdHlwZSJdLCIlUmVnRXhwUHJvdG90eXBlJSI6WyJSZWdFeHAiLCJwcm90b3R5cGUiXSwiJVNldFByb3RvdHlwZSUiOlsiU2V0IiwicHJvdG90eXBlIl0sIiVTaGFyZWRBcnJheUJ1ZmZlclByb3RvdHlwZSUiOlsiU2hhcmVkQXJyYXlCdWZmZXIiLCJwcm90b3R5cGUiXSwiJVN0cmluZ1Byb3RvdHlwZSUiOlsiU3RyaW5nIiwicHJvdG90eXBlIl0sIiVTeW1ib2xQcm90b3R5cGUlIjpbIlN5bWJvbCIsInByb3RvdHlwZSJdLCIlU3ludGF4RXJyb3JQcm90b3R5cGUlIjpbIlN5bnRheEVycm9yIiwicHJvdG90eXBlIl0sIiVUeXBlZEFycmF5UHJvdG90eXBlJSI6WyJUeXBlZEFycmF5IiwicHJvdG90eXBlIl0sIiVUeXBlRXJyb3JQcm90b3R5cGUlIjpbIlR5cGVFcnJvciIsInByb3RvdHlwZSJdLCIlVWludDhBcnJheVByb3RvdHlwZSUiOlsiVWludDhBcnJheSIsInByb3RvdHlwZSJdLCIlVWludDhDbGFtcGVkQXJyYXlQcm90b3R5cGUlIjpbIlVpbnQ4Q2xhbXBlZEFycmF5IiwicHJvdG90eXBlIl0sIiVVaW50MTZBcnJheVByb3RvdHlwZSUiOlsiVWludDE2QXJyYXkiLCJwcm90b3R5cGUiXSwiJVVpbnQzMkFycmF5UHJvdG90eXBlJSI6WyJVaW50MzJBcnJheSIsInByb3RvdHlwZSJdLCIlVVJJRXJyb3JQcm90b3R5cGUlIjpbIlVSSUVycm9yIiwicHJvdG90eXBlIl0sIiVXZWFrTWFwUHJvdG90eXBlJSI6WyJXZWFrTWFwIiwicHJvdG90eXBlIl0sIiVXZWFrU2V0UHJvdG90eXBlJSI6WyJXZWFrU2V0IiwicHJvdG90eXBlIl19LHV4PVliLGh4PVpiLGZ4PXV4LmNhbGwoRnVuY3Rpb24uY2FsbCxBcnJheS5wcm90b3R5cGUuY29uY2F0KSxteD11eC5jYWxsKEZ1bmN0aW9uLmFwcGx5LEFycmF5LnByb3RvdHlwZS5zcGxpY2UpLHl4PXV4LmNhbGwoRnVuY3Rpb24uY2FsbCxTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpLGd4PXV4LmNhbGwoRnVuY3Rpb24uY2FsbCxTdHJpbmcucHJvdG90eXBlLnNsaWNlKSx2eD0vW14lLltcXV0rfFxbKD86KC0/XGQrKD86XC5cZCspPyl8KFsiJ10pKCg/Oig/IVwyKVteXFxdfFxcLikqPylcMilcXXwoPz0oPzpcLnxcW1xdKSg/OlwufFxbXF18JSQpKS9nLGJ4PS9cXChcXCk/L2cseHg9ZnVuY3Rpb24oZSl7dmFyIHQ9Z3goZSwwLDEpLHI9Z3goZSwtMSk7aWYoIiUiPT09dCYmIiUiIT09cil0aHJvdyBuZXcgUWIoImludmFsaWQgaW50cmluc2ljIHN5bnRheCwgZXhwZWN0ZWQgY2xvc2luZyBgJWAiKTtpZigiJSI9PT1yJiYiJSIhPT10KXRocm93IG5ldyBRYigiaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBvcGVuaW5nIGAlYCIpO3ZhciBuPVtdO3JldHVybiB5eChlLHZ4LChmdW5jdGlvbihlLHQscixvKXtuW24ubGVuZ3RoXT1yP3l4KG8sYngsIiQxIik6dHx8ZX0pKSxufSx3eD1mdW5jdGlvbihlLHQpe3ZhciByLG49ZTtpZihoeChkeCxuKSYmKG49IiUiKyhyPWR4W25dKVswXSsiJSIpLGh4KGN4LG4pKXt2YXIgbz1jeFtuXTtpZihvPT09c3gmJihvPXB4KG4pKSx2b2lkIDA9PT1vJiYhdCl0aHJvdyBuZXcgZXgoImludHJpbnNpYyAiK2UrIiBleGlzdHMsIGJ1dCBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSEiKTtyZXR1cm57YWxpYXM6cixuYW1lOm4sdmFsdWU6b319dGhyb3cgbmV3IFFiKCJpbnRyaW5zaWMgIitlKyIgZG9lcyBub3QgZXhpc3QhIil9LCR4PWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IGV4KCJpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyIpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSYmImJvb2xlYW4iIT10eXBlb2YgdCl0aHJvdyBuZXcgZXgoJyJhbGxvd01pc3NpbmciIGFyZ3VtZW50IG11c3QgYmUgYSBib29sZWFuJyk7dmFyIHI9eHgoZSksbj1yLmxlbmd0aD4wP3JbMF06IiIsbz13eCgiJSIrbisiJSIsdCksYT1vLm5hbWUsaT1vLnZhbHVlLHM9ITEsbD1vLmFsaWFzO2wmJihuPWxbMF0sbXgocixmeChbMCwxXSxsKSkpO2Zvcih2YXIgYz0xLHA9ITA7YzxyLmxlbmd0aDtjKz0xKXt2YXIgZD1yW2NdLHU9Z3goZCwwLDEpLGg9Z3goZCwtMSk7aWYoKCciJz09PXV8fCInIj09PXV8fCJgIj09PXV8fCciJz09PWh8fCInIj09PWh8fCJgIj09PWgpJiZ1IT09aCl0aHJvdyBuZXcgUWIoInByb3BlcnR5IG5hbWVzIHdpdGggcXVvdGVzIG11c3QgaGF2ZSBtYXRjaGluZyBxdW90ZXMiKTtpZigiY29uc3RydWN0b3IiIT09ZCYmcHx8KHM9ITApLGh4KGN4LGE9IiUiKyhuKz0iLiIrZCkrIiUiKSlpPWN4W2FdO2Vsc2UgaWYobnVsbCE9aSl7aWYoIShkIGluIGkpKXtpZighdCl0aHJvdyBuZXcgZXgoImJhc2UgaW50cmluc2ljIGZvciAiK2UrIiBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS4iKTtyZXR1cm59aWYocngmJmMrMT49ci5sZW5ndGgpe3ZhciBmPXJ4KGksZCk7aT0ocD0hIWYpJiYiZ2V0ImluIGYmJiEoIm9yaWdpbmFsVmFsdWUiaW4gZi5nZXQpP2YuZ2V0OmlbZF19ZWxzZSBwPWh4KGksZCksaT1pW2RdO3AmJiFzJiYoY3hbYV09aSl9fXJldHVybiBpfSxreD17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUpe3ZhciB0PVliLHI9JHgsbj1yKCIlRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5JSIpLG89cigiJUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsJSIpLGE9cigiJVJlZmxlY3QuYXBwbHklIiwhMCl8fHQuY2FsbChvLG4pLGk9cigiJU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IlIiwhMCkscz1yKCIlT2JqZWN0LmRlZmluZVByb3BlcnR5JSIsITApLGw9cigiJU1hdGgubWF4JSIpO2lmKHMpdHJ5e3Moe30sImEiLHt2YWx1ZToxfSl9Y2F0Y2goZSl7cz1udWxsfWUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj1hKHQsbyxhcmd1bWVudHMpO2lmKGkmJnMpe3ZhciBuPWkociwibGVuZ3RoIik7bi5jb25maWd1cmFibGUmJnMociwibGVuZ3RoIix7dmFsdWU6MStsKDAsZS5sZW5ndGgtKGFyZ3VtZW50cy5sZW5ndGgtMSkpfSl9cmV0dXJuIHJ9O3ZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuIGEodCxuLGFyZ3VtZW50cyl9O3M/cyhlLmV4cG9ydHMsImFwcGx5Iix7dmFsdWU6Y30pOmUuZXhwb3J0cy5hcHBseT1jfShreCk7dmFyIFN4PSR4LEF4PWt4LmV4cG9ydHMsRXg9QXgoU3goIlN0cmluZy5wcm90b3R5cGUuaW5kZXhPZiIpKTtjb25zdCBPeD1mdW5jdGlvbihlKXt2YXIgdD1lLmRlZmF1bHQ7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyLnByb3RvdHlwZT10LnByb3RvdHlwZX1lbHNlIHI9e307cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJ0Iix7dmFsdWU6ITB9KSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsdCxuLmdldD9uOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlW3RdfX0pfSkpLHJ9KE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxkZWZhdWx0Ont9fSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSkpKTt2YXIgVHg9ImZ1bmN0aW9uIj09dHlwZW9mIE1hcCYmTWFwLnByb3RvdHlwZSxDeD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJiZUeD9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE1hcC5wcm90b3R5cGUsInNpemUiKTpudWxsLGp4PVR4JiZDeCYmImZ1bmN0aW9uIj09dHlwZW9mIEN4LmdldD9DeC5nZXQ6bnVsbCxJeD1UeCYmTWFwLnByb3RvdHlwZS5mb3JFYWNoLF94PSJmdW5jdGlvbiI9PXR5cGVvZiBTZXQmJlNldC5wcm90b3R5cGUsUHg9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciYmX3g/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTZXQucHJvdG90eXBlLCJzaXplIik6bnVsbCxSeD1feCYmUHgmJiJmdW5jdGlvbiI9PXR5cGVvZiBQeC5nZXQ/UHguZ2V0Om51bGwsTHg9X3gmJlNldC5wcm90b3R5cGUuZm9yRWFjaCxGeD0iZnVuY3Rpb24iPT10eXBlb2YgV2Vha01hcCYmV2Vha01hcC5wcm90b3R5cGU/V2Vha01hcC5wcm90b3R5cGUuaGFzOm51bGwsRHg9ImZ1bmN0aW9uIj09dHlwZW9mIFdlYWtTZXQmJldlYWtTZXQucHJvdG90eXBlP1dlYWtTZXQucHJvdG90eXBlLmhhczpudWxsLEJ4PSJmdW5jdGlvbiI9PXR5cGVvZiBXZWFrUmVmJiZXZWFrUmVmLnByb3RvdHlwZT9XZWFrUmVmLnByb3RvdHlwZS5kZXJlZjpudWxsLE54PUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YscXg9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxVeD1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcseng9U3RyaW5nLnByb3RvdHlwZS5tYXRjaCxNeD1TdHJpbmcucHJvdG90eXBlLnNsaWNlLEh4PVN0cmluZy5wcm90b3R5cGUucmVwbGFjZSxXeD1TdHJpbmcucHJvdG90eXBlLnRvVXBwZXJDYXNlLFZ4PVN0cmluZy5wcm90b3R5cGUudG9Mb3dlckNhc2UsR3g9UmVnRXhwLnByb3RvdHlwZS50ZXN0LEt4PUFycmF5LnByb3RvdHlwZS5jb25jYXQsSng9QXJyYXkucHJvdG90eXBlLmpvaW4sWXg9QXJyYXkucHJvdG90eXBlLnNsaWNlLFp4PU1hdGguZmxvb3IsUXg9ImZ1bmN0aW9uIj09dHlwZW9mIEJpZ0ludD9CaWdJbnQucHJvdG90eXBlLnZhbHVlT2Y6bnVsbCxYeD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGV3PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5wcm90b3R5cGUudG9TdHJpbmc6bnVsbCx0dz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYib2JqZWN0Ij09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcixydz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJihTeW1ib2wudG9TdHJpbmdUYWcsMSk/U3ltYm9sLnRvU3RyaW5nVGFnOm51bGwsbnc9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxvdz0oImZ1bmN0aW9uIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdC5nZXRQcm90b3R5cGVPZjpPYmplY3QuZ2V0UHJvdG90eXBlT2YpfHwoW10uX19wcm90b19fPT09QXJyYXkucHJvdG90eXBlP2Z1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX306bnVsbCk7ZnVuY3Rpb24gYXcoZSx0KXtpZihlPT09MS8wfHxlPT09LTEvMHx8ZSE9ZXx8ZSYmZT4tMWUzJiZlPDFlM3x8R3guY2FsbCgvZS8sdCkpcmV0dXJuIHQ7dmFyIHI9L1swLTldKD89KD86WzAtOV17M30pKyg/IVswLTldKSkvZztpZigibnVtYmVyIj09dHlwZW9mIGUpe3ZhciBuPWU8MD8tWngoLWUpOlp4KGUpO2lmKG4hPT1lKXt2YXIgbz1TdHJpbmcobiksYT1NeC5jYWxsKHQsby5sZW5ndGgrMSk7cmV0dXJuIEh4LmNhbGwobyxyLCIkJl8iKSsiLiIrSHguY2FsbChIeC5jYWxsKGEsLyhbMC05XXszfSkvZywiJCZfIiksL18kLywiIil9fXJldHVybiBIeC5jYWxsKHQsciwiJCZfIil9dmFyIGl3PU94LmN1c3RvbSxzdz1pdyYmZHcoaXcpP2l3Om51bGw7ZnVuY3Rpb24gbHcoZSx0LHIpe3ZhciBuPSJkb3VibGUiPT09KHIucXVvdGVTdHlsZXx8dCk/JyInOiInIjtyZXR1cm4gbitlK259ZnVuY3Rpb24gY3coZSl7cmV0dXJuIEh4LmNhbGwoU3RyaW5nKGUpLC8iL2csIiZxdW90OyIpfWZ1bmN0aW9uIHB3KGUpe3JldHVybiEoIltvYmplY3QgQXJyYXldIiE9PWZ3KGUpfHxydyYmIm9iamVjdCI9PXR5cGVvZiBlJiZydyBpbiBlKX1mdW5jdGlvbiBkdyhlKXtpZih0dylyZXR1cm4gZSYmIm9iamVjdCI9PXR5cGVvZiBlJiZlIGluc3RhbmNlb2YgU3ltYm9sO2lmKCJzeW1ib2wiPT10eXBlb2YgZSlyZXR1cm4hMDtpZighZXx8Im9iamVjdCIhPXR5cGVvZiBlfHwhZXcpcmV0dXJuITE7dHJ5e3JldHVybiBldy5jYWxsKGUpLCEwfWNhdGNoKGUpe31yZXR1cm4hMX12YXIgdXc9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW4gdGhpc307ZnVuY3Rpb24gaHcoZSx0KXtyZXR1cm4gdXcuY2FsbChlLHQpfWZ1bmN0aW9uIGZ3KGUpe3JldHVybiBxeC5jYWxsKGUpfWZ1bmN0aW9uIG13KGUsdCl7aWYoZS5pbmRleE9mKXJldHVybiBlLmluZGV4T2YodCk7Zm9yKHZhciByPTAsbj1lLmxlbmd0aDtyPG47cisrKWlmKGVbcl09PT10KXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIHl3KGUsdCl7aWYoZS5sZW5ndGg+dC5tYXhTdHJpbmdMZW5ndGgpe3ZhciByPWUubGVuZ3RoLXQubWF4U3RyaW5nTGVuZ3RoLG49Ii4uLiAiK3IrIiBtb3JlIGNoYXJhY3RlciIrKHI+MT8icyI6IiIpO3JldHVybiB5dyhNeC5jYWxsKGUsMCx0Lm1heFN0cmluZ0xlbmd0aCksdCkrbn1yZXR1cm4gbHcoSHguY2FsbChIeC5jYWxsKGUsLyhbJ1xcXSkvZywiXFwkMSIpLC9bXHgwMC1ceDFmXS9nLGd3KSwic2luZ2xlIix0KX1mdW5jdGlvbiBndyhlKXt2YXIgdD1lLmNoYXJDb2RlQXQoMCkscj17ODoiYiIsOToidCIsMTA6Im4iLDEyOiJmIiwxMzoiciJ9W3RdO3JldHVybiByPyJcXCIrcjoiXFx4IisodDwxNj8iMCI6IiIpK1d4LmNhbGwodC50b1N0cmluZygxNikpfWZ1bmN0aW9uIHZ3KGUpe3JldHVybiJPYmplY3QoIitlKyIpIn1mdW5jdGlvbiBidyhlKXtyZXR1cm4gZSsiIHsgPyB9In1mdW5jdGlvbiB4dyhlLHQscixuKXtyZXR1cm4gZSsiICgiK3QrIikgeyIrKG4/d3cocixuKTpKeC5jYWxsKHIsIiwgIikpKyJ9In1mdW5jdGlvbiB3dyhlLHQpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4iIjt2YXIgcj0iXG4iK3QucHJldit0LmJhc2U7cmV0dXJuIHIrSnguY2FsbChlLCIsIityKSsiXG4iK3QucHJldn1mdW5jdGlvbiAkdyhlLHQpe3ZhciByPXB3KGUpLG49W107aWYocil7bi5sZW5ndGg9ZS5sZW5ndGg7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspbltvXT1odyhlLG8pP3QoZVtvXSxlKToiIn12YXIgYSxpPSJmdW5jdGlvbiI9PXR5cGVvZiBYeD9YeChlKTpbXTtpZih0dyl7YT17fTtmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrKylhWyIkIitpW3NdXT1pW3NdfWZvcih2YXIgbCBpbiBlKWh3KGUsbCkmJihyJiZTdHJpbmcoTnVtYmVyKGwpKT09PWwmJmw8ZS5sZW5ndGh8fHR3JiZhWyIkIitsXWluc3RhbmNlb2YgU3ltYm9sfHwoR3guY2FsbCgvW15cdyRdLyxsKT9uLnB1c2godChsLGUpKyI6ICIrdChlW2xdLGUpKTpuLnB1c2gobCsiOiAiK3QoZVtsXSxlKSkpKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgWHgpZm9yKHZhciBjPTA7YzxpLmxlbmd0aDtjKyspbncuY2FsbChlLGlbY10pJiZuLnB1c2goIlsiK3QoaVtjXSkrIl06ICIrdChlW2lbY11dLGUpKTtyZXR1cm4gbn12YXIga3c9JHgsU3c9ZnVuY3Rpb24oZSx0KXt2YXIgcj1TeChlLCEhdCk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHImJkV4KGUsIi5wcm90b3R5cGUuIik+LTE/QXgocik6cn0sQXc9ZnVuY3Rpb24gZSh0LHIsbixvKXt2YXIgYT1yfHx7fTtpZihodyhhLCJxdW90ZVN0eWxlIikmJiJzaW5nbGUiIT09YS5xdW90ZVN0eWxlJiYiZG91YmxlIiE9PWEucXVvdGVTdHlsZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gInF1b3RlU3R5bGUiIG11c3QgYmUgInNpbmdsZSIgb3IgImRvdWJsZSInKTtpZihodyhhLCJtYXhTdHJpbmdMZW5ndGgiKSYmKCJudW1iZXIiPT10eXBlb2YgYS5tYXhTdHJpbmdMZW5ndGg/YS5tYXhTdHJpbmdMZW5ndGg8MCYmYS5tYXhTdHJpbmdMZW5ndGghPT0xLzA6bnVsbCE9PWEubWF4U3RyaW5nTGVuZ3RoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gIm1heFN0cmluZ0xlbmd0aCIsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciwgSW5maW5pdHksIG9yIGBudWxsYCcpO3ZhciBpPSFodyhhLCJjdXN0b21JbnNwZWN0Iil8fGEuY3VzdG9tSW5zcGVjdDtpZigiYm9vbGVhbiIhPXR5cGVvZiBpJiYic3ltYm9sIiE9PWkpdGhyb3cgbmV3IFR5cGVFcnJvcigib3B0aW9uIFwiY3VzdG9tSW5zcGVjdFwiLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBgdHJ1ZWAsIGBmYWxzZWAsIG9yIGAnc3ltYm9sJ2AiKTtpZihodyhhLCJpbmRlbnQiKSYmbnVsbCE9PWEuaW5kZW50JiYiXHQiIT09YS5pbmRlbnQmJiEocGFyc2VJbnQoYS5pbmRlbnQsMTApPT09YS5pbmRlbnQmJmEuaW5kZW50PjApKXRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiAiaW5kZW50IiBtdXN0IGJlICJcXHQiLCBhbiBpbnRlZ2VyID4gMCwgb3IgYG51bGxgJyk7aWYoaHcoYSwibnVtZXJpY1NlcGFyYXRvciIpJiYiYm9vbGVhbiIhPXR5cGVvZiBhLm51bWVyaWNTZXBhcmF0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uICJudW1lcmljU2VwYXJhdG9yIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYHRydWVgIG9yIGBmYWxzZWAnKTt2YXIgcz1hLm51bWVyaWNTZXBhcmF0b3I7aWYodm9pZCAwPT09dClyZXR1cm4idW5kZWZpbmVkIjtpZihudWxsPT09dClyZXR1cm4ibnVsbCI7aWYoImJvb2xlYW4iPT10eXBlb2YgdClyZXR1cm4gdD8idHJ1ZSI6ImZhbHNlIjtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHl3KHQsYSk7aWYoIm51bWJlciI9PXR5cGVvZiB0KXtpZigwPT09dClyZXR1cm4gMS8wL3Q+MD8iMCI6Ii0wIjt2YXIgbD1TdHJpbmcodCk7cmV0dXJuIHM/YXcodCxsKTpsfWlmKCJiaWdpbnQiPT10eXBlb2YgdCl7dmFyIGM9U3RyaW5nKHQpKyJuIjtyZXR1cm4gcz9hdyh0LGMpOmN9dmFyIHA9dm9pZCAwPT09YS5kZXB0aD81OmEuZGVwdGg7aWYodm9pZCAwPT09biYmKG49MCksbj49cCYmcD4wJiYib2JqZWN0Ij09dHlwZW9mIHQpcmV0dXJuIHB3KHQpPyJbQXJyYXldIjoiW09iamVjdF0iO3ZhciBkPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYoIlx0Ij09PWUuaW5kZW50KXI9Ilx0IjtlbHNle2lmKCEoIm51bWJlciI9PXR5cGVvZiBlLmluZGVudCYmZS5pbmRlbnQ+MCkpcmV0dXJuIG51bGw7cj1KeC5jYWxsKEFycmF5KGUuaW5kZW50KzEpLCIgIil9cmV0dXJue2Jhc2U6cixwcmV2Okp4LmNhbGwoQXJyYXkodCsxKSxyKX19KGEsbik7aWYodm9pZCAwPT09bylvPVtdO2Vsc2UgaWYobXcobyx0KT49MClyZXR1cm4iW0NpcmN1bGFyXSI7ZnVuY3Rpb24gdSh0LHIsaSl7aWYociYmKG89WXguY2FsbChvKSkucHVzaChyKSxpKXt2YXIgcz17ZGVwdGg6YS5kZXB0aH07cmV0dXJuIGh3KGEsInF1b3RlU3R5bGUiKSYmKHMucXVvdGVTdHlsZT1hLnF1b3RlU3R5bGUpLGUodCxzLG4rMSxvKX1yZXR1cm4gZSh0LGEsbisxLG8pfWlmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KXt2YXIgaD1mdW5jdGlvbihlKXtpZihlLm5hbWUpcmV0dXJuIGUubmFtZTt2YXIgdD16eC5jYWxsKFV4LmNhbGwoZSksL15mdW5jdGlvblxzKihbXHckXSspLyk7cmV0dXJuIHQ/dFsxXTpudWxsfSh0KSxmPSR3KHQsdSk7cmV0dXJuIltGdW5jdGlvbiIrKGg/IjogIitoOiIgKGFub255bW91cykiKSsiXSIrKGYubGVuZ3RoPjA/IiB7ICIrSnguY2FsbChmLCIsICIpKyIgfSI6IiIpfWlmKGR3KHQpKXt2YXIgbT10dz9IeC5jYWxsKFN0cmluZyh0KSwvXihTeW1ib2xcKC4qXCkpX1teKV0qJC8sIiQxIik6ZXcuY2FsbCh0KTtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIHR8fHR3P206dncobSl9aWYoZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8Im9iamVjdCIhPXR5cGVvZiBlKSYmKCJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTEVsZW1lbnQmJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudHx8InN0cmluZyI9PXR5cGVvZiBlLm5vZGVOYW1lJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGUpfSh0KSl7Zm9yKHZhciB5PSI8IitWeC5jYWxsKFN0cmluZyh0Lm5vZGVOYW1lKSksZz10LmF0dHJpYnV0ZXN8fFtdLHY9MDt2PGcubGVuZ3RoO3YrKyl5Kz0iICIrZ1t2XS5uYW1lKyI9IitsdyhjdyhnW3ZdLnZhbHVlKSwiZG91YmxlIixhKTtyZXR1cm4geSs9Ij4iLHQuY2hpbGROb2RlcyYmdC5jaGlsZE5vZGVzLmxlbmd0aCYmKHkrPSIuLi4iKSx5KyI8LyIrVnguY2FsbChTdHJpbmcodC5ub2RlTmFtZSkpKyI+In1pZihwdyh0KSl7aWYoMD09PXQubGVuZ3RoKXJldHVybiJbXSI7dmFyIGI9JHcodCx1KTtyZXR1cm4gZCYmIWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKG13KGVbdF0sIlxuIik+PTApcmV0dXJuITE7cmV0dXJuITB9KGIpPyJbIit3dyhiLGQpKyJdIjoiWyAiK0p4LmNhbGwoYiwiLCAiKSsiIF0ifWlmKGZ1bmN0aW9uKGUpe3JldHVybiEoIltvYmplY3QgRXJyb3JdIiE9PWZ3KGUpfHxydyYmIm9iamVjdCI9PXR5cGVvZiBlJiZydyBpbiBlKX0odCkpe3ZhciB4PSR3KHQsdSk7cmV0dXJuImNhdXNlImluIHQmJiFudy5jYWxsKHQsImNhdXNlIik/InsgWyIrU3RyaW5nKHQpKyJdICIrSnguY2FsbChLeC5jYWxsKCJbY2F1c2VdOiAiK3UodC5jYXVzZSkseCksIiwgIikrIiB9IjowPT09eC5sZW5ndGg/IlsiK1N0cmluZyh0KSsiXSI6InsgWyIrU3RyaW5nKHQpKyJdICIrSnguY2FsbCh4LCIsICIpKyIgfSJ9aWYoIm9iamVjdCI9PXR5cGVvZiB0JiZpKXtpZihzdyYmImZ1bmN0aW9uIj09dHlwZW9mIHRbc3ddKXJldHVybiB0W3N3XSgpO2lmKCJzeW1ib2wiIT09aSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuaW5zcGVjdClyZXR1cm4gdC5pbnNwZWN0KCl9aWYoZnVuY3Rpb24oZSl7aWYoIWp4fHwhZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiExO3RyeXtqeC5jYWxsKGUpO3RyeXtSeC5jYWxsKGUpfWNhdGNoKGUpe3JldHVybiEwfXJldHVybiBlIGluc3RhbmNlb2YgTWFwfWNhdGNoKGUpe31yZXR1cm4hMX0odCkpe3ZhciB3PVtdO3JldHVybiBJeC5jYWxsKHQsKGZ1bmN0aW9uKGUscil7dy5wdXNoKHUocix0LCEwKSsiID0+ICIrdShlLHQpKX0pKSx4dygiTWFwIixqeC5jYWxsKHQpLHcsZCl9aWYoZnVuY3Rpb24oZSl7aWYoIVJ4fHwhZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiExO3RyeXtSeC5jYWxsKGUpO3RyeXtqeC5jYWxsKGUpfWNhdGNoKGUpe3JldHVybiEwfXJldHVybiBlIGluc3RhbmNlb2YgU2V0fWNhdGNoKGUpe31yZXR1cm4hMX0odCkpe3ZhciAkPVtdO3JldHVybiBMeC5jYWxsKHQsKGZ1bmN0aW9uKGUpeyQucHVzaCh1KGUsdCkpfSkpLHh3KCJTZXQiLFJ4LmNhbGwodCksJCxkKX1pZihmdW5jdGlvbihlKXtpZighRnh8fCFlfHwib2JqZWN0IiE9dHlwZW9mIGUpcmV0dXJuITE7dHJ5e0Z4LmNhbGwoZSxGeCk7dHJ5e0R4LmNhbGwoZSxEeCl9Y2F0Y2goZSl7cmV0dXJuITB9cmV0dXJuIGUgaW5zdGFuY2VvZiBXZWFrTWFwfWNhdGNoKGUpe31yZXR1cm4hMX0odCkpcmV0dXJuIGJ3KCJXZWFrTWFwIik7aWYoZnVuY3Rpb24oZSl7aWYoIUR4fHwhZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiExO3RyeXtEeC5jYWxsKGUsRHgpO3RyeXtGeC5jYWxsKGUsRngpfWNhdGNoKGUpe3JldHVybiEwfXJldHVybiBlIGluc3RhbmNlb2YgV2Vha1NldH1jYXRjaChlKXt9cmV0dXJuITF9KHQpKXJldHVybiBidygiV2Vha1NldCIpO2lmKGZ1bmN0aW9uKGUpe2lmKCFCeHx8IWV8fCJvYmplY3QiIT10eXBlb2YgZSlyZXR1cm4hMTt0cnl7cmV0dXJuIEJ4LmNhbGwoZSksITB9Y2F0Y2goZSl7fXJldHVybiExfSh0KSlyZXR1cm4gYncoIldlYWtSZWYiKTtpZihmdW5jdGlvbihlKXtyZXR1cm4hKCJbb2JqZWN0IE51bWJlcl0iIT09ZncoZSl8fHJ3JiYib2JqZWN0Ij09dHlwZW9mIGUmJnJ3IGluIGUpfSh0KSlyZXR1cm4gdncodShOdW1iZXIodCkpKTtpZihmdW5jdGlvbihlKXtpZighZXx8Im9iamVjdCIhPXR5cGVvZiBlfHwhUXgpcmV0dXJuITE7dHJ5e3JldHVybiBReC5jYWxsKGUpLCEwfWNhdGNoKGUpe31yZXR1cm4hMX0odCkpcmV0dXJuIHZ3KHUoUXguY2FsbCh0KSkpO2lmKGZ1bmN0aW9uKGUpe3JldHVybiEoIltvYmplY3QgQm9vbGVhbl0iIT09ZncoZSl8fHJ3JiYib2JqZWN0Ij09dHlwZW9mIGUmJnJ3IGluIGUpfSh0KSlyZXR1cm4gdncoTnguY2FsbCh0KSk7aWYoZnVuY3Rpb24oZSl7cmV0dXJuISgiW29iamVjdCBTdHJpbmddIiE9PWZ3KGUpfHxydyYmIm9iamVjdCI9PXR5cGVvZiBlJiZydyBpbiBlKX0odCkpcmV0dXJuIHZ3KHUoU3RyaW5nKHQpKSk7aWYoIWZ1bmN0aW9uKGUpe3JldHVybiEoIltvYmplY3QgRGF0ZV0iIT09ZncoZSl8fHJ3JiYib2JqZWN0Ij09dHlwZW9mIGUmJnJ3IGluIGUpfSh0KSYmIWZ1bmN0aW9uKGUpe3JldHVybiEoIltvYmplY3QgUmVnRXhwXSIhPT1mdyhlKXx8cncmJiJvYmplY3QiPT10eXBlb2YgZSYmcncgaW4gZSl9KHQpKXt2YXIgaz0kdyh0LHUpLFM9b3c/b3codCk9PT1PYmplY3QucHJvdG90eXBlOnQgaW5zdGFuY2VvZiBPYmplY3R8fHQuY29uc3RydWN0b3I9PT1PYmplY3QsQT10IGluc3RhbmNlb2YgT2JqZWN0PyIiOiJudWxsIHByb3RvdHlwZSIsRT0hUyYmcncmJk9iamVjdCh0KT09PXQmJnJ3IGluIHQ/TXguY2FsbChmdyh0KSw4LC0xKTpBPyJPYmplY3QiOiIiLE89KFN8fCJmdW5jdGlvbiIhPXR5cGVvZiB0LmNvbnN0cnVjdG9yPyIiOnQuY29uc3RydWN0b3IubmFtZT90LmNvbnN0cnVjdG9yLm5hbWUrIiAiOiIiKSsoRXx8QT8iWyIrSnguY2FsbChLeC5jYWxsKFtdLEV8fFtdLEF8fFtdKSwiOiAiKSsiXSAiOiIiKTtyZXR1cm4gMD09PWsubGVuZ3RoP08rInt9IjpkP08rInsiK3d3KGssZCkrIn0iOk8rInsgIitKeC5jYWxsKGssIiwgIikrIiB9In1yZXR1cm4gU3RyaW5nKHQpfSxFdz1rdygiJVR5cGVFcnJvciUiKSxPdz1rdygiJVdlYWtNYXAlIiwhMCksVHc9a3coIiVNYXAlIiwhMCksQ3c9U3coIldlYWtNYXAucHJvdG90eXBlLmdldCIsITApLGp3PVN3KCJXZWFrTWFwLnByb3RvdHlwZS5zZXQiLCEwKSxJdz1TdygiV2Vha01hcC5wcm90b3R5cGUuaGFzIiwhMCksX3c9U3coIk1hcC5wcm90b3R5cGUuZ2V0IiwhMCksUHc9U3coIk1hcC5wcm90b3R5cGUuc2V0IiwhMCksUnc9U3coIk1hcC5wcm90b3R5cGUuaGFzIiwhMCksTHc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbj1lO251bGwhPT0ocj1uLm5leHQpO249cilpZihyLmtleT09PXQpcmV0dXJuIG4ubmV4dD1yLm5leHQsci5uZXh0PWUubmV4dCxlLm5leHQ9cixyfSxGdz1TdHJpbmcucHJvdG90eXBlLnJlcGxhY2UsRHc9LyUyMC9nLEJ3PSJSRkMzOTg2IixOdz17ZGVmYXVsdDpCdyxmb3JtYXR0ZXJzOntSRkMxNzM4OmZ1bmN0aW9uKGUpe3JldHVybiBGdy5jYWxsKGUsRHcsIisiKX0sUkZDMzk4NjpmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpfX0sUkZDMTczODoiUkZDMTczOCIsUkZDMzk4NjpCd30scXc9TncsVXc9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx6dz1BcnJheS5pc0FycmF5LE13PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PDI1NjsrK3QpZS5wdXNoKCIlIisoKHQ8MTY/IjAiOiIiKSt0LnRvU3RyaW5nKDE2KSkudG9VcHBlckNhc2UoKSk7cmV0dXJuIGV9KCksSHc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dCYmdC5wbGFpbk9iamVjdHM/T2JqZWN0LmNyZWF0ZShudWxsKTp7fSxuPTA7bjxlLmxlbmd0aDsrK24pdm9pZCAwIT09ZVtuXSYmKHJbbl09ZVtuXSk7cmV0dXJuIHJ9LFd3PXthcnJheVRvT2JqZWN0Okh3LGFzc2lnbjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGVbcl09dFtyXSxlfSksZSl9LGNvbWJpbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm5bXS5jb25jYXQoZSx0KX0sY29tcGFjdDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W3tvYmo6e286ZX0scHJvcDoibyJ9XSxyPVtdLG49MDtuPHQubGVuZ3RoOysrbilmb3IodmFyIG89dFtuXSxhPW8ub2JqW28ucHJvcF0saT1PYmplY3Qua2V5cyhhKSxzPTA7czxpLmxlbmd0aDsrK3Mpe3ZhciBsPWlbc10sYz1hW2xdOyJvYmplY3QiPT10eXBlb2YgYyYmbnVsbCE9PWMmJi0xPT09ci5pbmRleE9mKGMpJiYodC5wdXNoKHtvYmo6YSxwcm9wOmx9KSxyLnB1c2goYykpfXJldHVybiBmdW5jdGlvbihlKXtmb3IoO2UubGVuZ3RoPjE7KXt2YXIgdD1lLnBvcCgpLHI9dC5vYmpbdC5wcm9wXTtpZih6dyhyKSl7Zm9yKHZhciBuPVtdLG89MDtvPHIubGVuZ3RoOysrbyl2b2lkIDAhPT1yW29dJiZuLnB1c2gocltvXSk7dC5vYmpbdC5wcm9wXT1ufX19KHQpLGV9LGRlY29kZTpmdW5jdGlvbihlLHQscil7dmFyIG49ZS5yZXBsYWNlKC9cKy9nLCIgIik7aWYoImlzby04ODU5LTEiPT09cilyZXR1cm4gbi5yZXBsYWNlKC8lWzAtOWEtZl17Mn0vZ2ksdW5lc2NhcGUpO3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KG4pfWNhdGNoKGUpe3JldHVybiBufX0sZW5jb2RlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7aWYoMD09PWUubGVuZ3RoKXJldHVybiBlO3ZhciBhPWU7aWYoInN5bWJvbCI9PXR5cGVvZiBlP2E9U3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpOiJzdHJpbmciIT10eXBlb2YgZSYmKGE9U3RyaW5nKGUpKSwiaXNvLTg4NTktMSI9PT1yKXJldHVybiBlc2NhcGUoYSkucmVwbGFjZSgvJXVbMC05YS1mXXs0fS9naSwoZnVuY3Rpb24oZSl7cmV0dXJuIiUyNiUyMyIrcGFyc2VJbnQoZS5zbGljZSgyKSwxNikrIiUzQiJ9KSk7Zm9yKHZhciBpPSIiLHM9MDtzPGEubGVuZ3RoOysrcyl7dmFyIGw9YS5jaGFyQ29kZUF0KHMpOzQ1PT09bHx8NDY9PT1sfHw5NT09PWx8fDEyNj09PWx8fGw+PTQ4JiZsPD01N3x8bD49NjUmJmw8PTkwfHxsPj05NyYmbDw9MTIyfHxvPT09cXcuUkZDMTczOCYmKDQwPT09bHx8NDE9PT1sKT9pKz1hLmNoYXJBdChzKTpsPDEyOD9pKz1Nd1tsXTpsPDIwNDg/aSs9TXdbMTkyfGw+PjZdK013WzEyOHw2MyZsXTpsPDU1Mjk2fHxsPj01NzM0ND9pKz1Nd1syMjR8bD4+MTJdK013WzEyOHxsPj42JjYzXStNd1sxMjh8NjMmbF06KHMrPTEsbD02NTUzNisoKDEwMjMmbCk8PDEwfDEwMjMmYS5jaGFyQ29kZUF0KHMpKSxpKz1Nd1syNDB8bD4+MThdK013WzEyOHxsPj4xMiY2M10rTXdbMTI4fGw+PjYmNjNdK013WzEyOHw2MyZsXSl9cmV0dXJuIGl9LGlzQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCJvYmplY3QiIT10eXBlb2YgZXx8IShlLmNvbnN0cnVjdG9yJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpKSl9LGlzUmVnRXhwOmZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IFJlZ0V4cF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxtYXliZU1hcDpmdW5jdGlvbihlLHQpe2lmKHp3KGUpKXtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bis9MSlyLnB1c2godChlW25dKSk7cmV0dXJuIHJ9cmV0dXJuIHQoZSl9LG1lcmdlOmZ1bmN0aW9uIGUodCxyLG4pe2lmKCFyKXJldHVybiB0O2lmKCJvYmplY3QiIT10eXBlb2Ygcil7aWYoencodCkpdC5wdXNoKHIpO2Vsc2V7aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdClyZXR1cm5bdCxyXTsobiYmKG4ucGxhaW5PYmplY3RzfHxuLmFsbG93UHJvdG90eXBlcyl8fCFVdy5jYWxsKE9iamVjdC5wcm90b3R5cGUscikpJiYodFtyXT0hMCl9cmV0dXJuIHR9aWYoIXR8fCJvYmplY3QiIT10eXBlb2YgdClyZXR1cm5bdF0uY29uY2F0KHIpO3ZhciBvPXQ7cmV0dXJuIHp3KHQpJiYhencocikmJihvPUh3KHQsbikpLHp3KHQpJiZ6dyhyKT8oci5mb3JFYWNoKChmdW5jdGlvbihyLG8pe2lmKFV3LmNhbGwodCxvKSl7dmFyIGE9dFtvXTthJiYib2JqZWN0Ij09dHlwZW9mIGEmJnImJiJvYmplY3QiPT10eXBlb2Ygcj90W29dPWUoYSxyLG4pOnQucHVzaChyKX1lbHNlIHRbb109cn0pKSx0KTpPYmplY3Qua2V5cyhyKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbyl7dmFyIGE9cltvXTtyZXR1cm4gVXcuY2FsbCh0LG8pP3Rbb109ZSh0W29dLGEsbik6dFtvXT1hLHR9KSxvKX19LFZ3PWZ1bmN0aW9uKCl7dmFyIGUsdCxyLG49e2Fzc2VydDpmdW5jdGlvbihlKXtpZighbi5oYXMoZSkpdGhyb3cgbmV3IEV3KCJTaWRlIGNoYW5uZWwgZG9lcyBub3QgY29udGFpbiAiK0F3KGUpKX0sZ2V0OmZ1bmN0aW9uKG4pe2lmKE93JiZuJiYoIm9iamVjdCI9PXR5cGVvZiBufHwiZnVuY3Rpb24iPT10eXBlb2Ygbikpe2lmKGUpcmV0dXJuIEN3KGUsbil9ZWxzZSBpZihUdyl7aWYodClyZXR1cm4gX3codCxuKX1lbHNlIGlmKHIpcmV0dXJuKG89THcocixuKSkmJm8udmFsdWU7dmFyIG99LGhhczpmdW5jdGlvbihuKXtpZihPdyYmbiYmKCJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4pKXtpZihlKXJldHVybiBJdyhlLG4pfWVsc2UgaWYoVHcpe2lmKHQpcmV0dXJuIFJ3KHQsbil9ZWxzZSBpZihyKXJldHVybiEhTHcocixuKTtyZXR1cm4hMX0sc2V0OmZ1bmN0aW9uKG4sbyl7dmFyIGEsaSxzLGw7T3cmJm4mJigib2JqZWN0Ij09dHlwZW9mIG58fCJmdW5jdGlvbiI9PXR5cGVvZiBuKT8oZXx8KGU9bmV3IE93KSxqdyhlLG4sbykpOlR3Pyh0fHwodD1uZXcgVHcpLFB3KHQsbixvKSk6KHJ8fChyPXtrZXk6e30sbmV4dDpudWxsfSkscz1vLChsPUx3KGE9cixpPW4pKT9sLnZhbHVlPXM6YS5uZXh0PXtrZXk6aSxuZXh0OmEubmV4dCx2YWx1ZTpzfSl9fTtyZXR1cm4gbn0sR3c9V3csS3c9TncsSnc9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxZdz17YnJhY2tldHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrIltdIn0sY29tbWE6ImNvbW1hIixpbmRpY2VzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIlsiK3QrIl0ifSxyZXBlYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxadz1BcnJheS5pc0FycmF5LFF3PVN0cmluZy5wcm90b3R5cGUuc3BsaXQsWHc9QXJyYXkucHJvdG90eXBlLnB1c2gsZSQ9ZnVuY3Rpb24oZSx0KXtYdy5hcHBseShlLFp3KHQpP3Q6W3RdKX0sdCQ9RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcsciQ9S3cuZGVmYXVsdCxuJD17YWRkUXVlcnlQcmVmaXg6ITEsYWxsb3dEb3RzOiExLGNoYXJzZXQ6InV0Zi04IixjaGFyc2V0U2VudGluZWw6ITEsZGVsaW1pdGVyOiImIixlbmNvZGU6ITAsZW5jb2RlcjpHdy5lbmNvZGUsZW5jb2RlVmFsdWVzT25seTohMSxmb3JtYXQ6ciQsZm9ybWF0dGVyOkt3LmZvcm1hdHRlcnNbciRdLGluZGljZXM6ITEsc2VyaWFsaXplRGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdCQuY2FsbChlKX0sc2tpcE51bGxzOiExLHN0cmljdE51bGxIYW5kbGluZzohMX0sbyQ9e30sYSQ9ZnVuY3Rpb24gZSh0LHIsbixvLGEsaSxzLGwsYyxwLGQsdSxoLGYsbSl7Zm9yKHZhciB5LGc9dCx2PW0sYj0wLHg9ITE7dm9pZCAwIT09KHY9di5nZXQobyQpKSYmIXg7KXt2YXIgdz12LmdldCh0KTtpZihiKz0xLHZvaWQgMCE9PXcpe2lmKHc9PT1iKXRocm93IG5ldyBSYW5nZUVycm9yKCJDeWNsaWMgb2JqZWN0IHZhbHVlIik7eD0hMH12b2lkIDA9PT12LmdldChvJCkmJihiPTApfWlmKCJmdW5jdGlvbiI9PXR5cGVvZiBzP2c9cyhyLGcpOmcgaW5zdGFuY2VvZiBEYXRlP2c9cChnKToiY29tbWEiPT09biYmWncoZykmJihnPUd3Lm1heWJlTWFwKGcsKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRGF0ZT9wKGUpOmV9KSkpLG51bGw9PT1nKXtpZihvKXJldHVybiBpJiYhaD9pKHIsbiQuZW5jb2RlcixmLCJrZXkiLGQpOnI7Zz0iIn1pZigic3RyaW5nIj09dHlwZW9mKHk9Zyl8fCJudW1iZXIiPT10eXBlb2YgeXx8ImJvb2xlYW4iPT10eXBlb2YgeXx8InN5bWJvbCI9PXR5cGVvZiB5fHwiYmlnaW50Ij09dHlwZW9mIHl8fEd3LmlzQnVmZmVyKGcpKXtpZihpKXt2YXIgJD1oP3I6aShyLG4kLmVuY29kZXIsZiwia2V5IixkKTtpZigiY29tbWEiPT09biYmaCl7Zm9yKHZhciBrPVF3LmNhbGwoU3RyaW5nKGcpLCIsIiksUz0iIixBPTA7QTxrLmxlbmd0aDsrK0EpUys9KDA9PT1BPyIiOiIsIikrdShpKGtbQV0sbiQuZW5jb2RlcixmLCJ2YWx1ZSIsZCkpO3JldHVyblt1KCQpKyI9IitTXX1yZXR1cm5bdSgkKSsiPSIrdShpKGcsbiQuZW5jb2RlcixmLCJ2YWx1ZSIsZCkpXX1yZXR1cm5bdShyKSsiPSIrdShTdHJpbmcoZykpXX12YXIgRSxPPVtdO2lmKHZvaWQgMD09PWcpcmV0dXJuIE87aWYoImNvbW1hIj09PW4mJlp3KGcpKUU9W3t2YWx1ZTpnLmxlbmd0aD4wP2cuam9pbigiLCIpfHxudWxsOnZvaWQgMH1dO2Vsc2UgaWYoWncocykpRT1zO2Vsc2V7dmFyIFQ9T2JqZWN0LmtleXMoZyk7RT1sP1Quc29ydChsKTpUfWZvcih2YXIgQz0wO0M8RS5sZW5ndGg7KytDKXt2YXIgaj1FW0NdLEk9Im9iamVjdCI9PXR5cGVvZiBqJiZ2b2lkIDAhPT1qLnZhbHVlP2oudmFsdWU6Z1tqXTtpZighYXx8bnVsbCE9PUkpe3ZhciBfPVp3KGcpPyJmdW5jdGlvbiI9PXR5cGVvZiBuP24ocixqKTpyOnIrKGM/Ii4iK2o6IlsiK2orIl0iKTttLnNldCh0LGIpO3ZhciBQPVZ3KCk7UC5zZXQobyQsbSksZSQoTyxlKEksXyxuLG8sYSxpLHMsbCxjLHAsZCx1LGgsZixQKSl9fXJldHVybiBPfSxpJD1XdyxzJD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGwkPUFycmF5LmlzQXJyYXksYyQ9e2FsbG93RG90czohMSxhbGxvd1Byb3RvdHlwZXM6ITEsYWxsb3dTcGFyc2U6ITEsYXJyYXlMaW1pdDoyMCxjaGFyc2V0OiJ1dGYtOCIsY2hhcnNldFNlbnRpbmVsOiExLGNvbW1hOiExLGRlY29kZXI6aSQuZGVjb2RlLGRlbGltaXRlcjoiJiIsZGVwdGg6NSxpZ25vcmVRdWVyeVByZWZpeDohMSxpbnRlcnByZXROdW1lcmljRW50aXRpZXM6ITEscGFyYW1ldGVyTGltaXQ6MWUzLHBhcnNlQXJyYXlzOiEwLHBsYWluT2JqZWN0czohMSxzdHJpY3ROdWxsSGFuZGxpbmc6ITF9LHAkPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyYjKFxkKyk7L2csKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQodCwxMCkpfSkpfSxkJD1mdW5jdGlvbihlLHQpe3JldHVybiBlJiYic3RyaW5nIj09dHlwZW9mIGUmJnQuY29tbWEmJmUuaW5kZXhPZigiLCIpPi0xP2Uuc3BsaXQoIiwiKTplfSx1JD1mdW5jdGlvbihlLHQscixuKXtpZihlKXt2YXIgbz1yLmFsbG93RG90cz9lLnJlcGxhY2UoL1wuKFteLltdKykvZywiWyQxXSIpOmUsYT0vKFxbW15bXF1dKl0pL2csaT1yLmRlcHRoPjAmJi8oXFtbXltcXV0qXSkvLmV4ZWMobykscz1pP28uc2xpY2UoMCxpLmluZGV4KTpvLGw9W107aWYocyl7aWYoIXIucGxhaW5PYmplY3RzJiZzJC5jYWxsKE9iamVjdC5wcm90b3R5cGUscykmJiFyLmFsbG93UHJvdG90eXBlcylyZXR1cm47bC5wdXNoKHMpfWZvcih2YXIgYz0wO3IuZGVwdGg+MCYmbnVsbCE9PShpPWEuZXhlYyhvKSkmJmM8ci5kZXB0aDspe2lmKGMrPTEsIXIucGxhaW5PYmplY3RzJiZzJC5jYWxsKE9iamVjdC5wcm90b3R5cGUsaVsxXS5zbGljZSgxLC0xKSkmJiFyLmFsbG93UHJvdG90eXBlcylyZXR1cm47bC5wdXNoKGlbMV0pfXJldHVybiBpJiZsLnB1c2goIlsiK28uc2xpY2UoaS5pbmRleCkrIl0iKSxmdW5jdGlvbihlLHQscixuKXtmb3IodmFyIG89bj90OmQkKHQsciksYT1lLmxlbmd0aC0xO2E+PTA7LS1hKXt2YXIgaSxzPWVbYV07aWYoIltdIj09PXMmJnIucGFyc2VBcnJheXMpaT1bXS5jb25jYXQobyk7ZWxzZXtpPXIucGxhaW5PYmplY3RzP09iamVjdC5jcmVhdGUobnVsbCk6e307dmFyIGw9IlsiPT09cy5jaGFyQXQoMCkmJiJdIj09PXMuY2hhckF0KHMubGVuZ3RoLTEpP3Muc2xpY2UoMSwtMSk6cyxjPXBhcnNlSW50KGwsMTApO3IucGFyc2VBcnJheXN8fCIiIT09bD8haXNOYU4oYykmJnMhPT1sJiZTdHJpbmcoYyk9PT1sJiZjPj0wJiZyLnBhcnNlQXJyYXlzJiZjPD1yLmFycmF5TGltaXQ/KGk9W10pW2NdPW86Il9fcHJvdG9fXyIhPT1sJiYoaVtsXT1vKTppPXswOm99fW89aX1yZXR1cm4gb30obCx0LHIsbil9fSxoJD1mdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBjJDtpZihudWxsIT09ZS5kZWNvZGVyJiZ2b2lkIDAhPT1lLmRlY29kZXImJiJmdW5jdGlvbiIhPXR5cGVvZiBlLmRlY29kZXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVjb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4iKTtpZih2b2lkIDAhPT1lLmNoYXJzZXQmJiJ1dGYtOCIhPT1lLmNoYXJzZXQmJiJpc28tODg1OS0xIiE9PWUuY2hhcnNldCl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCIpO3ZhciB0PXZvaWQgMD09PWUuY2hhcnNldD9jJC5jaGFyc2V0OmUuY2hhcnNldDtyZXR1cm57YWxsb3dEb3RzOnZvaWQgMD09PWUuYWxsb3dEb3RzP2MkLmFsbG93RG90czohIWUuYWxsb3dEb3RzLGFsbG93UHJvdG90eXBlczoiYm9vbGVhbiI9PXR5cGVvZiBlLmFsbG93UHJvdG90eXBlcz9lLmFsbG93UHJvdG90eXBlczpjJC5hbGxvd1Byb3RvdHlwZXMsYWxsb3dTcGFyc2U6ImJvb2xlYW4iPT10eXBlb2YgZS5hbGxvd1NwYXJzZT9lLmFsbG93U3BhcnNlOmMkLmFsbG93U3BhcnNlLGFycmF5TGltaXQ6Im51bWJlciI9PXR5cGVvZiBlLmFycmF5TGltaXQ/ZS5hcnJheUxpbWl0OmMkLmFycmF5TGltaXQsY2hhcnNldDp0LGNoYXJzZXRTZW50aW5lbDoiYm9vbGVhbiI9PXR5cGVvZiBlLmNoYXJzZXRTZW50aW5lbD9lLmNoYXJzZXRTZW50aW5lbDpjJC5jaGFyc2V0U2VudGluZWwsY29tbWE6ImJvb2xlYW4iPT10eXBlb2YgZS5jb21tYT9lLmNvbW1hOmMkLmNvbW1hLGRlY29kZXI6ImZ1bmN0aW9uIj09dHlwZW9mIGUuZGVjb2Rlcj9lLmRlY29kZXI6YyQuZGVjb2RlcixkZWxpbWl0ZXI6InN0cmluZyI9PXR5cGVvZiBlLmRlbGltaXRlcnx8aSQuaXNSZWdFeHAoZS5kZWxpbWl0ZXIpP2UuZGVsaW1pdGVyOmMkLmRlbGltaXRlcixkZXB0aDoibnVtYmVyIj09dHlwZW9mIGUuZGVwdGh8fCExPT09ZS5kZXB0aD8rZS5kZXB0aDpjJC5kZXB0aCxpZ25vcmVRdWVyeVByZWZpeDohMD09PWUuaWdub3JlUXVlcnlQcmVmaXgsaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiJib29sZWFuIj09dHlwZW9mIGUuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzP2UuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOmMkLmludGVycHJldE51bWVyaWNFbnRpdGllcyxwYXJhbWV0ZXJMaW1pdDoibnVtYmVyIj09dHlwZW9mIGUucGFyYW1ldGVyTGltaXQ/ZS5wYXJhbWV0ZXJMaW1pdDpjJC5wYXJhbWV0ZXJMaW1pdCxwYXJzZUFycmF5czohMSE9PWUucGFyc2VBcnJheXMscGxhaW5PYmplY3RzOiJib29sZWFuIj09dHlwZW9mIGUucGxhaW5PYmplY3RzP2UucGxhaW5PYmplY3RzOmMkLnBsYWluT2JqZWN0cyxzdHJpY3ROdWxsSGFuZGxpbmc6ImJvb2xlYW4iPT10eXBlb2YgZS5zdHJpY3ROdWxsSGFuZGxpbmc/ZS5zdHJpY3ROdWxsSGFuZGxpbmc6YyQuc3RyaWN0TnVsbEhhbmRsaW5nfX0odCk7aWYoIiI9PT1lfHxudWxsPT1lKXJldHVybiByLnBsYWluT2JqZWN0cz9PYmplY3QuY3JlYXRlKG51bGwpOnt9O2Zvcih2YXIgbj0ic3RyaW5nIj09dHlwZW9mIGU/ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXt9LG89dC5pZ25vcmVRdWVyeVByZWZpeD9lLnJlcGxhY2UoL15cPy8sIiIpOmUsYT10LnBhcmFtZXRlckxpbWl0PT09MS8wP3ZvaWQgMDp0LnBhcmFtZXRlckxpbWl0LGk9by5zcGxpdCh0LmRlbGltaXRlcixhKSxzPS0xLGw9dC5jaGFyc2V0O2lmKHQuY2hhcnNldFNlbnRpbmVsKWZvcihyPTA7cjxpLmxlbmd0aDsrK3IpMD09PWlbcl0uaW5kZXhPZigidXRmOD0iKSYmKCJ1dGY4PSVFMiU5QyU5MyI9PT1pW3JdP2w9InV0Zi04IjoidXRmOD0lMjYlMjMxMDAwMyUzQiI9PT1pW3JdJiYobD0iaXNvLTg4NTktMSIpLHM9cixyPWkubGVuZ3RoKTtmb3Iocj0wO3I8aS5sZW5ndGg7KytyKWlmKHIhPT1zKXt2YXIgYyxwLGQ9aVtyXSx1PWQuaW5kZXhPZigiXT0iKSxoPS0xPT09dT9kLmluZGV4T2YoIj0iKTp1KzE7LTE9PT1oPyhjPXQuZGVjb2RlcihkLGMkLmRlY29kZXIsbCwia2V5IikscD10LnN0cmljdE51bGxIYW5kbGluZz9udWxsOiIiKTooYz10LmRlY29kZXIoZC5zbGljZSgwLGgpLGMkLmRlY29kZXIsbCwia2V5IikscD1pJC5tYXliZU1hcChkJChkLnNsaWNlKGgrMSksdCksKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRlY29kZXIoZSxjJC5kZWNvZGVyLGwsInZhbHVlIil9KSkpLHAmJnQuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzJiYiaXNvLTg4NTktMSI9PT1sJiYocD1wJChwKSksZC5pbmRleE9mKCJbXT0iKT4tMSYmKHA9bCQocCk/W3BdOnApLHMkLmNhbGwobixjKT9uW2NdPWkkLmNvbWJpbmUobltjXSxwKTpuW2NdPXB9cmV0dXJuIG59KGUscik6ZSxvPXIucGxhaW5PYmplY3RzP09iamVjdC5jcmVhdGUobnVsbCk6e30sYT1PYmplY3Qua2V5cyhuKSxpPTA7aTxhLmxlbmd0aDsrK2kpe3ZhciBzPWFbaV0sbD11JChzLG5bc10sciwic3RyaW5nIj09dHlwZW9mIGUpO289aSQubWVyZ2UobyxsLHIpfXJldHVybiEwPT09ci5hbGxvd1NwYXJzZT9vOmkkLmNvbXBhY3Qobyl9LGYkPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj1lLG89ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG4kO2lmKG51bGwhPT1lLmVuY29kZXImJnZvaWQgMCE9PWUuZW5jb2RlciYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuZW5jb2Rlcil0aHJvdyBuZXcgVHlwZUVycm9yKCJFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLiIpO3ZhciB0PWUuY2hhcnNldHx8biQuY2hhcnNldDtpZih2b2lkIDAhPT1lLmNoYXJzZXQmJiJ1dGYtOCIhPT1lLmNoYXJzZXQmJiJpc28tODg1OS0xIiE9PWUuY2hhcnNldCl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCIpO3ZhciByPUt3LmRlZmF1bHQ7aWYodm9pZCAwIT09ZS5mb3JtYXQpe2lmKCFKdy5jYWxsKEt3LmZvcm1hdHRlcnMsZS5mb3JtYXQpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZm9ybWF0IG9wdGlvbiBwcm92aWRlZC4iKTtyPWUuZm9ybWF0fXZhciBuPUt3LmZvcm1hdHRlcnNbcl0sbz1uJC5maWx0ZXI7cmV0dXJuKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmZpbHRlcnx8WncoZS5maWx0ZXIpKSYmKG89ZS5maWx0ZXIpLHthZGRRdWVyeVByZWZpeDoiYm9vbGVhbiI9PXR5cGVvZiBlLmFkZFF1ZXJ5UHJlZml4P2UuYWRkUXVlcnlQcmVmaXg6biQuYWRkUXVlcnlQcmVmaXgsYWxsb3dEb3RzOnZvaWQgMD09PWUuYWxsb3dEb3RzP24kLmFsbG93RG90czohIWUuYWxsb3dEb3RzLGNoYXJzZXQ6dCxjaGFyc2V0U2VudGluZWw6ImJvb2xlYW4iPT10eXBlb2YgZS5jaGFyc2V0U2VudGluZWw/ZS5jaGFyc2V0U2VudGluZWw6biQuY2hhcnNldFNlbnRpbmVsLGRlbGltaXRlcjp2b2lkIDA9PT1lLmRlbGltaXRlcj9uJC5kZWxpbWl0ZXI6ZS5kZWxpbWl0ZXIsZW5jb2RlOiJib29sZWFuIj09dHlwZW9mIGUuZW5jb2RlP2UuZW5jb2RlOm4kLmVuY29kZSxlbmNvZGVyOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmVuY29kZXI/ZS5lbmNvZGVyOm4kLmVuY29kZXIsZW5jb2RlVmFsdWVzT25seToiYm9vbGVhbiI9PXR5cGVvZiBlLmVuY29kZVZhbHVlc09ubHk/ZS5lbmNvZGVWYWx1ZXNPbmx5Om4kLmVuY29kZVZhbHVlc09ubHksZmlsdGVyOm8sZm9ybWF0OnIsZm9ybWF0dGVyOm4sc2VyaWFsaXplRGF0ZToiZnVuY3Rpb24iPT10eXBlb2YgZS5zZXJpYWxpemVEYXRlP2Uuc2VyaWFsaXplRGF0ZTpuJC5zZXJpYWxpemVEYXRlLHNraXBOdWxsczoiYm9vbGVhbiI9PXR5cGVvZiBlLnNraXBOdWxscz9lLnNraXBOdWxsczpuJC5za2lwTnVsbHMsc29ydDoiZnVuY3Rpb24iPT10eXBlb2YgZS5zb3J0P2Uuc29ydDpudWxsLHN0cmljdE51bGxIYW5kbGluZzoiYm9vbGVhbiI9PXR5cGVvZiBlLnN0cmljdE51bGxIYW5kbGluZz9lLnN0cmljdE51bGxIYW5kbGluZzpuJC5zdHJpY3ROdWxsSGFuZGxpbmd9fSh0KTsiZnVuY3Rpb24iPT10eXBlb2Ygby5maWx0ZXI/bj0oMCxvLmZpbHRlcikoIiIsbik6Wncoby5maWx0ZXIpJiYocj1vLmZpbHRlcik7dmFyIGEsaT1bXTtpZigib2JqZWN0IiE9dHlwZW9mIG58fG51bGw9PT1uKXJldHVybiIiO2E9dCYmdC5hcnJheUZvcm1hdCBpbiBZdz90LmFycmF5Rm9ybWF0OnQmJiJpbmRpY2VzImluIHQ/dC5pbmRpY2VzPyJpbmRpY2VzIjoicmVwZWF0IjoiaW5kaWNlcyI7dmFyIHM9WXdbYV07cnx8KHI9T2JqZWN0LmtleXMobikpLG8uc29ydCYmci5zb3J0KG8uc29ydCk7Zm9yKHZhciBsPVZ3KCksYz0wO2M8ci5sZW5ndGg7KytjKXt2YXIgcD1yW2NdO28uc2tpcE51bGxzJiZudWxsPT09bltwXXx8ZSQoaSxhJChuW3BdLHAscyxvLnN0cmljdE51bGxIYW5kbGluZyxvLnNraXBOdWxscyxvLmVuY29kZT9vLmVuY29kZXI6bnVsbCxvLmZpbHRlcixvLnNvcnQsby5hbGxvd0RvdHMsby5zZXJpYWxpemVEYXRlLG8uZm9ybWF0LG8uZm9ybWF0dGVyLG8uZW5jb2RlVmFsdWVzT25seSxvLmNoYXJzZXQsbCkpfXZhciBkPWkuam9pbihvLmRlbGltaXRlciksdT0hMD09PW8uYWRkUXVlcnlQcmVmaXg/Ij8iOiIiO3JldHVybiBvLmNoYXJzZXRTZW50aW5lbCYmKCJpc28tODg1OS0xIj09PW8uY2hhcnNldD91Kz0idXRmOD0lMjYlMjMxMDAwMyUzQiYiOnUrPSJ1dGY4PSVFMiU5QyU5MyYiKSxkLmxlbmd0aD4wP3UrZDoiIn07ZnVuY3Rpb24gbSQoZSl7cmV0dXJuIG51bGw9PWV9dmFyIHkkPXtpc05vdGhpbmc6bSQsaXNPYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZX0sdG9BcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOm0kKGUpP1tdOltlXX0scmVwZWF0OmZ1bmN0aW9uKGUsdCl7dmFyIHIsbj0iIjtmb3Iocj0wO3I8dDtyKz0xKW4rPWU7cmV0dXJuIG59LGlzTmVnYXRpdmVaZXJvOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZSYmTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZPT09MS9lfSxleHRlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG8sYTtpZih0KWZvcihyPTAsbj0oYT1PYmplY3Qua2V5cyh0KSkubGVuZ3RoO3I8bjtyKz0xKWVbbz1hW3JdXT10W29dO3JldHVybiBlfX07ZnVuY3Rpb24gZyQoZSx0KXt2YXIgcj0iIixuPWUucmVhc29ufHwiKHVua25vd24gcmVhc29uKSI7cmV0dXJuIGUubWFyaz8oZS5tYXJrLm5hbWUmJihyKz0naW4gIicrZS5tYXJrLm5hbWUrJyIgJykscis9IigiKyhlLm1hcmsubGluZSsxKSsiOiIrKGUubWFyay5jb2x1bW4rMSkrIikiLCF0JiZlLm1hcmsuc25pcHBldCYmKHIrPSJcblxuIitlLm1hcmsuc25pcHBldCksbisiICIrcik6bn1mdW5jdGlvbiB2JChlLHQpe0Vycm9yLmNhbGwodGhpcyksdGhpcy5uYW1lPSJZQU1MRXhjZXB0aW9uIix0aGlzLnJlYXNvbj1lLHRoaXMubWFyaz10LHRoaXMubWVzc2FnZT1nJCh0aGlzLCExKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2t8fCIifXYkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdiQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXYkLHYkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5uYW1lKyI6ICIrZyQodGhpcyxlKX07dmFyIGIkPXYkO2Z1bmN0aW9uIHgkKGUsdCxyLG4sbyl7dmFyIGE9IiIsaT0iIixzPU1hdGguZmxvb3Ioby8yKS0xO3JldHVybiBuLXQ+cyYmKHQ9bi1zKyhhPSIgLi4uICIpLmxlbmd0aCksci1uPnMmJihyPW4rcy0oaT0iIC4uLiIpLmxlbmd0aCkse3N0cjphK2Uuc2xpY2UodCxyKS5yZXBsYWNlKC9cdC9nLCLihpIiKStpLHBvczpuLXQrYS5sZW5ndGh9fWZ1bmN0aW9uIHckKGUsdCl7cmV0dXJuIHkkLnJlcGVhdCgiICIsdC1lLmxlbmd0aCkrZX12YXIgJCQ9WyJraW5kIiwibXVsdGkiLCJyZXNvbHZlIiwiY29uc3RydWN0IiwiaW5zdGFuY2VPZiIsInByZWRpY2F0ZSIsInJlcHJlc2VudCIsInJlcHJlc2VudE5hbWUiLCJkZWZhdWx0U3R5bGUiLCJzdHlsZUFsaWFzZXMiXSxrJD1bInNjYWxhciIsInNlcXVlbmNlIiwibWFwcGluZyJdLFMkPWZ1bmN0aW9uKGUsdCl7aWYodD10fHx7fSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZigtMT09PSQkLmluZGV4T2YodCkpdGhyb3cgbmV3IGIkKCdVbmtub3duIG9wdGlvbiAiJyt0KyciIGlzIG1ldCBpbiBkZWZpbml0aW9uIG9mICInK2UrJyIgWUFNTCB0eXBlLicpfSkpLHRoaXMub3B0aW9ucz10LHRoaXMudGFnPWUsdGhpcy5raW5kPXQua2luZHx8bnVsbCx0aGlzLnJlc29sdmU9dC5yZXNvbHZlfHxmdW5jdGlvbigpe3JldHVybiEwfSx0aGlzLmNvbnN0cnVjdD10LmNvbnN0cnVjdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHRoaXMuaW5zdGFuY2VPZj10Lmluc3RhbmNlT2Z8fG51bGwsdGhpcy5wcmVkaWNhdGU9dC5wcmVkaWNhdGV8fG51bGwsdGhpcy5yZXByZXNlbnQ9dC5yZXByZXNlbnR8fG51bGwsdGhpcy5yZXByZXNlbnROYW1lPXQucmVwcmVzZW50TmFtZXx8bnVsbCx0aGlzLmRlZmF1bHRTdHlsZT10LmRlZmF1bHRTdHlsZXx8bnVsbCx0aGlzLm11bHRpPXQubXVsdGl8fCExLHRoaXMuc3R5bGVBbGlhc2VzPShyPXQuc3R5bGVBbGlhc2VzfHxudWxsLG49e30sbnVsbCE9PXImJk9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZV0uZm9yRWFjaCgoZnVuY3Rpb24odCl7bltTdHJpbmcodCldPWV9KSl9KSksbiksLTE9PT1rJC5pbmRleE9mKHRoaXMua2luZCkpdGhyb3cgbmV3IGIkKCdVbmtub3duIGtpbmQgIicrdGhpcy5raW5kKyciIGlzIHNwZWNpZmllZCBmb3IgIicrZSsnIiBZQU1MIHR5cGUuJyk7dmFyIHIsbn07ZnVuY3Rpb24gQSQoZSx0KXt2YXIgcj1bXTtyZXR1cm4gZVt0XS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1yLmxlbmd0aDtyLmZvckVhY2goKGZ1bmN0aW9uKHIsbil7ci50YWc9PT1lLnRhZyYmci5raW5kPT09ZS5raW5kJiZyLm11bHRpPT09ZS5tdWx0aSYmKHQ9bil9KSksclt0XT1lfSkpLHJ9ZnVuY3Rpb24gRSQoZSl7cmV0dXJuIHRoaXMuZXh0ZW5kKGUpfUUkLnByb3RvdHlwZS5leHRlbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W10scj1bXTtpZihlIGluc3RhbmNlb2YgUyQpci5wdXNoKGUpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlKSlyPXIuY29uY2F0KGUpO2Vsc2V7aWYoIWV8fCFBcnJheS5pc0FycmF5KGUuaW1wbGljaXQpJiYhQXJyYXkuaXNBcnJheShlLmV4cGxpY2l0KSl0aHJvdyBuZXcgYiQoIlNjaGVtYS5leHRlbmQgYXJndW1lbnQgc2hvdWxkIGJlIGEgVHlwZSwgWyBUeXBlIF0sIG9yIGEgc2NoZW1hIGRlZmluaXRpb24gKHsgaW1wbGljaXQ6IFsuLi5dLCBleHBsaWNpdDogWy4uLl0gfSkiKTtlLmltcGxpY2l0JiYodD10LmNvbmNhdChlLmltcGxpY2l0KSksZS5leHBsaWNpdCYmKHI9ci5jb25jYXQoZS5leHBsaWNpdCkpfXQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgUyQpKXRocm93IG5ldyBiJCgiU3BlY2lmaWVkIGxpc3Qgb2YgWUFNTCB0eXBlcyAob3IgYSBzaW5nbGUgVHlwZSBvYmplY3QpIGNvbnRhaW5zIGEgbm9uLVR5cGUgb2JqZWN0LiIpO2lmKGUubG9hZEtpbmQmJiJzY2FsYXIiIT09ZS5sb2FkS2luZCl0aHJvdyBuZXcgYiQoIlRoZXJlIGlzIGEgbm9uLXNjYWxhciB0eXBlIGluIHRoZSBpbXBsaWNpdCBsaXN0IG9mIGEgc2NoZW1hLiBJbXBsaWNpdCByZXNvbHZpbmcgb2Ygc3VjaCB0eXBlcyBpcyBub3Qgc3VwcG9ydGVkLiIpO2lmKGUubXVsdGkpdGhyb3cgbmV3IGIkKCJUaGVyZSBpcyBhIG11bHRpIHR5cGUgaW4gdGhlIGltcGxpY2l0IGxpc3Qgb2YgYSBzY2hlbWEuIE11bHRpIHRhZ3MgY2FuIG9ubHkgYmUgbGlzdGVkIGFzIGV4cGxpY2l0LiIpfSkpLHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgUyQpKXRocm93IG5ldyBiJCgiU3BlY2lmaWVkIGxpc3Qgb2YgWUFNTCB0eXBlcyAob3IgYSBzaW5nbGUgVHlwZSBvYmplY3QpIGNvbnRhaW5zIGEgbm9uLVR5cGUgb2JqZWN0LiIpfSkpO3ZhciBuPU9iamVjdC5jcmVhdGUoRSQucHJvdG90eXBlKTtyZXR1cm4gbi5pbXBsaWNpdD0odGhpcy5pbXBsaWNpdHx8W10pLmNvbmNhdCh0KSxuLmV4cGxpY2l0PSh0aGlzLmV4cGxpY2l0fHxbXSkuY29uY2F0KHIpLG4uY29tcGlsZWRJbXBsaWNpdD1BJChuLCJpbXBsaWNpdCIpLG4uY29tcGlsZWRFeHBsaWNpdD1BJChuLCJleHBsaWNpdCIpLG4uY29tcGlsZWRUeXBlTWFwPWZ1bmN0aW9uKCl7dmFyIGUsdCxyPXtzY2FsYXI6e30sc2VxdWVuY2U6e30sbWFwcGluZzp7fSxmYWxsYmFjazp7fSxtdWx0aTp7c2NhbGFyOltdLHNlcXVlbmNlOltdLG1hcHBpbmc6W10sZmFsbGJhY2s6W119fTtmdW5jdGlvbiBuKGUpe2UubXVsdGk/KHIubXVsdGlbZS5raW5kXS5wdXNoKGUpLHIubXVsdGkuZmFsbGJhY2sucHVzaChlKSk6cltlLmtpbmRdW2UudGFnXT1yLmZhbGxiYWNrW2UudGFnXT1lfWZvcihlPTAsdD1hcmd1bWVudHMubGVuZ3RoO2U8dDtlKz0xKWFyZ3VtZW50c1tlXS5mb3JFYWNoKG4pO3JldHVybiByfShuLmNvbXBpbGVkSW1wbGljaXQsbi5jb21waWxlZEV4cGxpY2l0KSxufTt2YXIgTyQ9RSQsVCQ9bmV3IFMkKCJ0YWc6eWFtbC5vcmcsMjAwMjpzdHIiLHtraW5kOiJzY2FsYXIiLGNvbnN0cnVjdDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWU/ZToiIn19KSxDJD1uZXcgUyQoInRhZzp5YW1sLm9yZywyMDAyOnNlcSIse2tpbmQ6InNlcXVlbmNlIixjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lP2U6W119fSksaiQ9bmV3IFMkKCJ0YWc6eWFtbC5vcmcsMjAwMjptYXAiLHtraW5kOiJtYXBwaW5nIixjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lP2U6e319fSksSSQ9bmV3IE8kKHtleHBsaWNpdDpbVCQsQyQsaiRdfSksXyQ9bmV3IFMkKCJ0YWc6eWFtbC5vcmcsMjAwMjpudWxsIix7a2luZDoic2NhbGFyIixyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiEwO3ZhciB0PWUubGVuZ3RoO3JldHVybiAxPT09dCYmIn4iPT09ZXx8ND09PXQmJigibnVsbCI9PT1lfHwiTnVsbCI9PT1lfHwiTlVMTCI9PT1lKX0sY29uc3RydWN0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHByZWRpY2F0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV9LHJlcHJlc2VudDp7Y2Fub25pY2FsOmZ1bmN0aW9uKCl7cmV0dXJuIn4ifSxsb3dlcmNhc2U6ZnVuY3Rpb24oKXtyZXR1cm4ibnVsbCJ9LHVwcGVyY2FzZTpmdW5jdGlvbigpe3JldHVybiJOVUxMIn0sY2FtZWxjYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIk51bGwifSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiIifX0sZGVmYXVsdFN0eWxlOiJsb3dlcmNhc2UifSksUCQ9bmV3IFMkKCJ0YWc6eWFtbC5vcmcsMjAwMjpib29sIix7a2luZDoic2NhbGFyIixyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiExO3ZhciB0PWUubGVuZ3RoO3JldHVybiA0PT09dCYmKCJ0cnVlIj09PWV8fCJUcnVlIj09PWV8fCJUUlVFIj09PWUpfHw1PT09dCYmKCJmYWxzZSI9PT1lfHwiRmFsc2UiPT09ZXx8IkZBTFNFIj09PWUpfSxjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSl7cmV0dXJuInRydWUiPT09ZXx8IlRydWUiPT09ZXx8IlRSVUUiPT09ZX0scHJlZGljYXRlOmZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEJvb2xlYW5dIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0scmVwcmVzZW50Ontsb3dlcmNhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InRydWUiOiJmYWxzZSJ9LHVwcGVyY2FzZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8iVFJVRSI6IkZBTFNFIn0sY2FtZWxjYXNlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJUcnVlIjoiRmFsc2UifX0sZGVmYXVsdFN0eWxlOiJsb3dlcmNhc2UifSk7ZnVuY3Rpb24gUiQoZSl7cmV0dXJuIDQ4PD1lJiZlPD01NX1mdW5jdGlvbiBMJChlKXtyZXR1cm4gNDg8PWUmJmU8PTU3fXZhciBGJD1uZXcgUyQoInRhZzp5YW1sLm9yZywyMDAyOmludCIse2tpbmQ6InNjYWxhciIscmVzb2x2ZTpmdW5jdGlvbihlKXtpZihudWxsPT09ZSlyZXR1cm4hMTt2YXIgdCxyLG49ZS5sZW5ndGgsbz0wLGE9ITE7aWYoIW4pcmV0dXJuITE7aWYoIi0iIT09KHQ9ZVtvXSkmJiIrIiE9PXR8fCh0PWVbKytvXSksIjAiPT09dCl7aWYobysxPT09bilyZXR1cm4hMDtpZigiYiI9PT0odD1lWysrb10pKXtmb3IobysrO288bjtvKyspaWYoIl8iIT09KHQ9ZVtvXSkpe2lmKCIwIiE9PXQmJiIxIiE9PXQpcmV0dXJuITE7YT0hMH1yZXR1cm4gYSYmIl8iIT09dH1pZigieCI9PT10KXtmb3IobysrO288bjtvKyspaWYoIl8iIT09KHQ9ZVtvXSkpe2lmKCEoNDg8PShyPWUuY2hhckNvZGVBdChvKSkmJnI8PTU3fHw2NTw9ciYmcjw9NzB8fDk3PD1yJiZyPD0xMDIpKXJldHVybiExO2E9ITB9cmV0dXJuIGEmJiJfIiE9PXR9aWYoIm8iPT09dCl7Zm9yKG8rKztvPG47bysrKWlmKCJfIiE9PSh0PWVbb10pKXtpZighUiQoZS5jaGFyQ29kZUF0KG8pKSlyZXR1cm4hMTthPSEwfXJldHVybiBhJiYiXyIhPT10fX1pZigiXyI9PT10KXJldHVybiExO2Zvcig7bzxuO28rKylpZigiXyIhPT0odD1lW29dKSl7aWYoIUwkKGUuY2hhckNvZGVBdChvKSkpcmV0dXJuITE7YT0hMH1yZXR1cm4hKCFhfHwiXyI9PT10KX0sY29uc3RydWN0OmZ1bmN0aW9uKGUpe3ZhciB0LHI9ZSxuPTE7aWYoLTEhPT1yLmluZGV4T2YoIl8iKSYmKHI9ci5yZXBsYWNlKC9fL2csIiIpKSwiLSIhPT0odD1yWzBdKSYmIisiIT09dHx8KCItIj09PXQmJihuPS0xKSx0PShyPXIuc2xpY2UoMSkpWzBdKSwiMCI9PT1yKXJldHVybiAwO2lmKCIwIj09PXQpe2lmKCJiIj09PXJbMV0pcmV0dXJuIG4qcGFyc2VJbnQoci5zbGljZSgyKSwyKTtpZigieCI9PT1yWzFdKXJldHVybiBuKnBhcnNlSW50KHIuc2xpY2UoMiksMTYpO2lmKCJvIj09PXJbMV0pcmV0dXJuIG4qcGFyc2VJbnQoci5zbGljZSgyKSw4KX1yZXR1cm4gbipwYXJzZUludChyLDEwKX0scHJlZGljYXRlOmZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IE51bWJlcl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpJiZlJTE9PTAmJiF5JC5pc05lZ2F0aXZlWmVybyhlKX0scmVwcmVzZW50OntiaW5hcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTA/IjBiIitlLnRvU3RyaW5nKDIpOiItMGIiK2UudG9TdHJpbmcoMikuc2xpY2UoMSl9LG9jdGFsOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0wPyIwbyIrZS50b1N0cmluZyg4KToiLTBvIitlLnRvU3RyaW5nKDgpLnNsaWNlKDEpfSxkZWNpbWFsOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvU3RyaW5nKDEwKX0saGV4YWRlY2ltYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTA/IjB4IitlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpOiItMHgiK2UudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkuc2xpY2UoMSl9fSxkZWZhdWx0U3R5bGU6ImRlY2ltYWwiLHN0eWxlQWxpYXNlczp7YmluYXJ5OlsyLCJiaW4iXSxvY3RhbDpbOCwib2N0Il0sZGVjaW1hbDpbMTAsImRlYyJdLGhleGFkZWNpbWFsOlsxNiwiaGV4Il19fSksRCQ9bmV3IFJlZ0V4cCgiXig/OlstK10/KD86WzAtOV1bMC05X10qKSg/OlxcLlswLTlfXSopPyg/OltlRV1bLStdP1swLTldKyk/fFxcLlswLTlfXSsoPzpbZUVdWy0rXT9bMC05XSspP3xbLStdP1xcLig/OmluZnxJbmZ8SU5GKXxcXC4oPzpuYW58TmFOfE5BTikpJCIpLEIkPS9eWy0rXT9bMC05XStlLyxOJD1uZXcgUyQoInRhZzp5YW1sLm9yZywyMDAyOmZsb2F0Iix7a2luZDoic2NhbGFyIixyZXNvbHZlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZSYmISghRCQudGVzdChlKXx8Il8iPT09ZVtlLmxlbmd0aC0xXSl9LGNvbnN0cnVjdDpmdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiByPSItIj09PSh0PWUucmVwbGFjZSgvXy9nLCIiKS50b0xvd2VyQ2FzZSgpKVswXT8tMToxLCIrLSIuaW5kZXhPZih0WzBdKT49MCYmKHQ9dC5zbGljZSgxKSksIi5pbmYiPT09dD8xPT09cj9OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk6TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZOiIubmFuIj09PXQ/TmFOOnIqcGFyc2VGbG9hdCh0LDEwKX0scHJlZGljYXRlOmZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IE51bWJlcl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpJiYoZSUxIT0wfHx5JC5pc05lZ2F0aXZlWmVybyhlKSl9LHJlcHJlc2VudDpmdW5jdGlvbihlLHQpe3ZhciByO2lmKGlzTmFOKGUpKXN3aXRjaCh0KXtjYXNlImxvd2VyY2FzZSI6cmV0dXJuIi5uYW4iO2Nhc2UidXBwZXJjYXNlIjpyZXR1cm4iLk5BTiI7Y2FzZSJjYW1lbGNhc2UiOnJldHVybiIuTmFOIn1lbHNlIGlmKE51bWJlci5QT1NJVElWRV9JTkZJTklUWT09PWUpc3dpdGNoKHQpe2Nhc2UibG93ZXJjYXNlIjpyZXR1cm4iLmluZiI7Y2FzZSJ1cHBlcmNhc2UiOnJldHVybiIuSU5GIjtjYXNlImNhbWVsY2FzZSI6cmV0dXJuIi5JbmYifWVsc2UgaWYoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZPT09ZSlzd2l0Y2godCl7Y2FzZSJsb3dlcmNhc2UiOnJldHVybiItLmluZiI7Y2FzZSJ1cHBlcmNhc2UiOnJldHVybiItLklORiI7Y2FzZSJjYW1lbGNhc2UiOnJldHVybiItLkluZiJ9ZWxzZSBpZih5JC5pc05lZ2F0aXZlWmVybyhlKSlyZXR1cm4iLTAuMCI7cmV0dXJuIHI9ZS50b1N0cmluZygxMCksQiQudGVzdChyKT9yLnJlcGxhY2UoImUiLCIuZSIpOnJ9LGRlZmF1bHRTdHlsZToibG93ZXJjYXNlIn0pLHEkPUkkLmV4dGVuZCh7aW1wbGljaXQ6W18kLFAkLEYkLE4kXX0pLFUkPXEkLHokPW5ldyBSZWdFeHAoIl4oWzAtOV1bMC05XVswLTldWzAtOV0pLShbMC05XVswLTldKS0oWzAtOV1bMC05XSkkIiksTSQ9bmV3IFJlZ0V4cCgiXihbMC05XVswLTldWzAtOV1bMC05XSktKFswLTldWzAtOV0/KS0oWzAtOV1bMC05XT8pKD86W1R0XXxbIFxcdF0rKShbMC05XVswLTldPyk6KFswLTldWzAtOV0pOihbMC05XVswLTldKSg/OlxcLihbMC05XSopKT8oPzpbIFxcdF0qKFp8KFstK10pKFswLTldWzAtOV0/KSg/OjooWzAtOV1bMC05XSkpPykpPyQiKSxIJD1uZXcgUyQoInRhZzp5YW1sLm9yZywyMDAyOnRpbWVzdGFtcCIse2tpbmQ6InNjYWxhciIscmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWUmJihudWxsIT09eiQuZXhlYyhlKXx8bnVsbCE9PU0kLmV4ZWMoZSkpfSxjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSl7dmFyIHQscixuLG8sYSxpLHMsbCxjPTAscD1udWxsO2lmKG51bGw9PT0odD16JC5leGVjKGUpKSYmKHQ9TSQuZXhlYyhlKSksbnVsbD09PXQpdGhyb3cgbmV3IEVycm9yKCJEYXRlIHJlc29sdmUgZXJyb3IiKTtpZihyPSt0WzFdLG49K3RbMl0tMSxvPSt0WzNdLCF0WzRdKXJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyhyLG4sbykpO2lmKGE9K3RbNF0saT0rdFs1XSxzPSt0WzZdLHRbN10pe2ZvcihjPXRbN10uc2xpY2UoMCwzKTtjLmxlbmd0aDwzOyljKz0iMCI7Yz0rY31yZXR1cm4gdFs5XSYmKHA9NmU0Kig2MCordFsxMF0rICsodFsxMV18fDApKSwiLSI9PT10WzldJiYocD0tcCkpLGw9bmV3IERhdGUoRGF0ZS5VVEMocixuLG8sYSxpLHMsYykpLHAmJmwuc2V0VGltZShsLmdldFRpbWUoKS1wKSxsfSxpbnN0YW5jZU9mOkRhdGUscmVwcmVzZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSVNPU3RyaW5nKCl9fSksVyQ9bmV3IFMkKCJ0YWc6eWFtbC5vcmcsMjAwMjptZXJnZSIse2tpbmQ6InNjYWxhciIscmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4iPDwiPT09ZXx8bnVsbD09PWV9fSksViQ9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XG5cciIsRyQ9bmV3IFMkKCJ0YWc6eWFtbC5vcmcsMjAwMjpiaW5hcnkiLHtraW5kOiJzY2FsYXIiLHJlc29sdmU6ZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpcmV0dXJuITE7dmFyIHQscixuPTAsbz1lLmxlbmd0aCxhPVYkO2ZvcihyPTA7cjxvO3IrKylpZighKCh0PWEuaW5kZXhPZihlLmNoYXJBdChyKSkpPjY0KSl7aWYodDwwKXJldHVybiExO24rPTZ9cmV0dXJuIG4lOD09MH0sY29uc3RydWN0OmZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1lLnJlcGxhY2UoL1tcclxuPV0vZywiIiksbz1uLmxlbmd0aCxhPVYkLGk9MCxzPVtdO2Zvcih0PTA7dDxvO3QrKyl0JTQ9PTAmJnQmJihzLnB1c2goaT4+MTYmMjU1KSxzLnB1c2goaT4+OCYyNTUpLHMucHVzaCgyNTUmaSkpLGk9aTw8NnxhLmluZGV4T2Yobi5jaGFyQXQodCkpO3JldHVybiAwPT0ocj1vJTQqNik/KHMucHVzaChpPj4xNiYyNTUpLHMucHVzaChpPj44JjI1NSkscy5wdXNoKDI1NSZpKSk6MTg9PT1yPyhzLnB1c2goaT4+MTAmMjU1KSxzLnB1c2goaT4+MiYyNTUpKToxMj09PXImJnMucHVzaChpPj40JjI1NSksbmV3IFVpbnQ4QXJyYXkocyl9LHByZWRpY2F0ZTpmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBVaW50OEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LHJlcHJlc2VudDpmdW5jdGlvbihlKXt2YXIgdCxyLG49IiIsbz0wLGE9ZS5sZW5ndGgsaT1WJDtmb3IodD0wO3Q8YTt0KyspdCUzPT0wJiZ0JiYobis9aVtvPj4xOCY2M10sbis9aVtvPj4xMiY2M10sbis9aVtvPj42JjYzXSxuKz1pWzYzJm9dKSxvPShvPDw4KStlW3RdO3JldHVybiAwPT0ocj1hJTMpPyhuKz1pW28+PjE4JjYzXSxuKz1pW28+PjEyJjYzXSxuKz1pW28+PjYmNjNdLG4rPWlbNjMmb10pOjI9PT1yPyhuKz1pW28+PjEwJjYzXSxuKz1pW28+PjQmNjNdLG4rPWlbbzw8MiY2M10sbis9aVs2NF0pOjE9PT1yJiYobis9aVtvPj4yJjYzXSxuKz1pW288PDQmNjNdLG4rPWlbNjRdLG4rPWlbNjRdKSxufX0pLEskPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksSiQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxZJD1uZXcgUyQoInRhZzp5YW1sLm9yZywyMDAyOm9tYXAiLHtraW5kOiJzZXF1ZW5jZSIscmVzb2x2ZTpmdW5jdGlvbihlKXtpZihudWxsPT09ZSlyZXR1cm4hMDt2YXIgdCxyLG4sbyxhLGk9W10scz1lO2Zvcih0PTAscj1zLmxlbmd0aDt0PHI7dCs9MSl7aWYobj1zW3RdLGE9ITEsIltvYmplY3QgT2JqZWN0XSIhPT1KJC5jYWxsKG4pKXJldHVybiExO2ZvcihvIGluIG4paWYoSyQuY2FsbChuLG8pKXtpZihhKXJldHVybiExO2E9ITB9aWYoIWEpcmV0dXJuITE7aWYoLTEhPT1pLmluZGV4T2YobykpcmV0dXJuITE7aS5wdXNoKG8pfXJldHVybiEwfSxjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lP2U6W119fSksWiQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxRJD1uZXcgUyQoInRhZzp5YW1sLm9yZywyMDAyOnBhaXJzIix7a2luZDoic2VxdWVuY2UiLHJlc29sdmU6ZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpcmV0dXJuITA7dmFyIHQscixuLG8sYSxpPWU7Zm9yKGE9bmV3IEFycmF5KGkubGVuZ3RoKSx0PTAscj1pLmxlbmd0aDt0PHI7dCs9MSl7aWYobj1pW3RdLCJbb2JqZWN0IE9iamVjdF0iIT09WiQuY2FsbChuKSlyZXR1cm4hMTtpZigxIT09KG89T2JqZWN0LmtleXMobikpLmxlbmd0aClyZXR1cm4hMTthW3RdPVtvWzBdLG5bb1swXV1dfXJldHVybiEwfSxjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpcmV0dXJuW107dmFyIHQscixuLG8sYSxpPWU7Zm9yKGE9bmV3IEFycmF5KGkubGVuZ3RoKSx0PTAscj1pLmxlbmd0aDt0PHI7dCs9MSluPWlbdF0sbz1PYmplY3Qua2V5cyhuKSxhW3RdPVtvWzBdLG5bb1swXV1dO3JldHVybiBhfX0pLFgkPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZWs9bmV3IFMkKCJ0YWc6eWFtbC5vcmcsMjAwMjpzZXQiLHtraW5kOiJtYXBwaW5nIixyZXNvbHZlOmZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiEwO3ZhciB0LHI9ZTtmb3IodCBpbiByKWlmKFgkLmNhbGwocix0KSYmbnVsbCE9PXJbdF0pcmV0dXJuITE7cmV0dXJuITB9LGNvbnN0cnVjdDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWU/ZTp7fX19KSx0az1VJC5leHRlbmQoe2ltcGxpY2l0OltIJCxXJF0sZXhwbGljaXQ6W0ckLFkkLFEkLGVrXX0pLHJrPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbms9L1tceDAwLVx4MDhceDBCXHgwQ1x4MEUtXHgxRlx4N0YtXHg4NFx4ODYtXHg5Rlx1RkZGRVx1RkZGRl18W1x1RDgwMC1cdURCRkZdKD8hW1x1REMwMC1cdURGRkZdKXwoPzpbXlx1RDgwMC1cdURCRkZdfF4pW1x1REMwMC1cdURGRkZdLyxvaz0vW1x4ODVcdTIwMjhcdTIwMjldLyxhaz0vWyxcW1xdXHtcfV0vLGlrPS9eKD86IXwhIXwhW2EtelwtXSshKSQvaSxzaz0vXig/OiF8W14sXFtcXVx7XH1dKSg/OiVbMC05YS1mXXsyfXxbMC05YS16XC0jO1wvXD86QCY9XCtcJCxfXC4hflwqJ1woXClcW1xdXSkqJC9pO2Z1bmN0aW9uIGxrKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gY2soZSl7cmV0dXJuIDEwPT09ZXx8MTM9PT1lfWZ1bmN0aW9uIHBrKGUpe3JldHVybiA5PT09ZXx8MzI9PT1lfWZ1bmN0aW9uIGRrKGUpe3JldHVybiA5PT09ZXx8MzI9PT1lfHwxMD09PWV8fDEzPT09ZX1mdW5jdGlvbiB1ayhlKXtyZXR1cm4gNDQ9PT1lfHw5MT09PWV8fDkzPT09ZXx8MTIzPT09ZXx8MTI1PT09ZX1mdW5jdGlvbiBoayhlKXt2YXIgdDtyZXR1cm4gNDg8PWUmJmU8PTU3P2UtNDg6OTc8PSh0PTMyfGUpJiZ0PD0xMDI/dC05NysxMDotMX1mdW5jdGlvbiBmayhlKXtyZXR1cm4gNDg9PT1lPyJcMCI6OTc9PT1lPyIHIjo5OD09PWU/IlxiIjoxMTY9PT1lfHw5PT09ZT8iXHQiOjExMD09PWU/IlxuIjoxMTg9PT1lPyJcdiI6MTAyPT09ZT8iXGYiOjExND09PWU/IlxyIjoxMDE9PT1lPyIbIjozMj09PWU/IiAiOjM0PT09ZT8nIic6NDc9PT1lPyIvIjo5Mj09PWU/IlxcIjo3OD09PWU/IsKFIjo5NT09PWU/IsKgIjo3Nj09PWU/Ilx1MjAyOCI6ODA9PT1lPyJcdTIwMjkiOiIifWZ1bmN0aW9uIG1rKGUpe3JldHVybiBlPD02NTUzNT9TdHJpbmcuZnJvbUNoYXJDb2RlKGUpOlN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGUtNjU1MzY+PjEwKSw1NjMyMCsoZS02NTUzNiYxMDIzKSl9Zm9yKHZhciB5az1uZXcgQXJyYXkoMjU2KSxnaz1uZXcgQXJyYXkoMjU2KSx2az0wO3ZrPDI1Njt2aysrKXlrW3ZrXT1mayh2ayk/MTowLGdrW3ZrXT1mayh2ayk7ZnVuY3Rpb24gYmsoZSx0KXt0aGlzLmlucHV0PWUsdGhpcy5maWxlbmFtZT10LmZpbGVuYW1lfHxudWxsLHRoaXMuc2NoZW1hPXQuc2NoZW1hfHx0ayx0aGlzLm9uV2FybmluZz10Lm9uV2FybmluZ3x8bnVsbCx0aGlzLmxlZ2FjeT10LmxlZ2FjeXx8ITEsdGhpcy5qc29uPXQuanNvbnx8ITEsdGhpcy5saXN0ZW5lcj10Lmxpc3RlbmVyfHxudWxsLHRoaXMuaW1wbGljaXRUeXBlcz10aGlzLnNjaGVtYS5jb21waWxlZEltcGxpY2l0LHRoaXMudHlwZU1hcD10aGlzLnNjaGVtYS5jb21waWxlZFR5cGVNYXAsdGhpcy5sZW5ndGg9ZS5sZW5ndGgsdGhpcy5wb3NpdGlvbj0wLHRoaXMubGluZT0wLHRoaXMubGluZVN0YXJ0PTAsdGhpcy5saW5lSW5kZW50PTAsdGhpcy5maXJzdFRhYkluTGluZT0tMSx0aGlzLmRvY3VtZW50cz1bXX1mdW5jdGlvbiB4ayhlLHQpe3ZhciByPXtuYW1lOmUuZmlsZW5hbWUsYnVmZmVyOmUuaW5wdXQuc2xpY2UoMCwtMSkscG9zaXRpb246ZS5wb3NpdGlvbixsaW5lOmUubGluZSxjb2x1bW46ZS5wb3NpdGlvbi1lLmxpbmVTdGFydH07cmV0dXJuIHIuc25pcHBldD1mdW5jdGlvbihlLHQpe2lmKHQ9T2JqZWN0LmNyZWF0ZSh0fHxudWxsKSwhZS5idWZmZXIpcmV0dXJuIG51bGw7dC5tYXhMZW5ndGh8fCh0Lm1heExlbmd0aD03OSksIm51bWJlciIhPXR5cGVvZiB0LmluZGVudCYmKHQuaW5kZW50PTEpLCJudW1iZXIiIT10eXBlb2YgdC5saW5lc0JlZm9yZSYmKHQubGluZXNCZWZvcmU9MyksIm51bWJlciIhPXR5cGVvZiB0LmxpbmVzQWZ0ZXImJih0LmxpbmVzQWZ0ZXI9Mik7Zm9yKHZhciByLG49L1xyP1xufFxyfFwwL2csbz1bMF0sYT1bXSxpPS0xO3I9bi5leGVjKGUuYnVmZmVyKTspYS5wdXNoKHIuaW5kZXgpLG8ucHVzaChyLmluZGV4K3JbMF0ubGVuZ3RoKSxlLnBvc2l0aW9uPD1yLmluZGV4JiZpPDAmJihpPW8ubGVuZ3RoLTIpO2k8MCYmKGk9by5sZW5ndGgtMSk7dmFyIHMsbCxjPSIiLHA9TWF0aC5taW4oZS5saW5lK3QubGluZXNBZnRlcixhLmxlbmd0aCkudG9TdHJpbmcoKS5sZW5ndGgsZD10Lm1heExlbmd0aC0odC5pbmRlbnQrcCszKTtmb3Iocz0xO3M8PXQubGluZXNCZWZvcmUmJiEoaS1zPDApO3MrKylsPXgkKGUuYnVmZmVyLG9baS1zXSxhW2ktc10sZS5wb3NpdGlvbi0ob1tpXS1vW2ktc10pLGQpLGM9eSQucmVwZWF0KCIgIix0LmluZGVudCkrdyQoKGUubGluZS1zKzEpLnRvU3RyaW5nKCkscCkrIiB8ICIrbC5zdHIrIlxuIitjO2ZvcihsPXgkKGUuYnVmZmVyLG9baV0sYVtpXSxlLnBvc2l0aW9uLGQpLGMrPXkkLnJlcGVhdCgiICIsdC5pbmRlbnQpK3ckKChlLmxpbmUrMSkudG9TdHJpbmcoKSxwKSsiIHwgIitsLnN0cisiXG4iLGMrPXkkLnJlcGVhdCgiLSIsdC5pbmRlbnQrcCszK2wucG9zKSsiXlxuIixzPTE7czw9dC5saW5lc0FmdGVyJiYhKGkrcz49YS5sZW5ndGgpO3MrKylsPXgkKGUuYnVmZmVyLG9baStzXSxhW2krc10sZS5wb3NpdGlvbi0ob1tpXS1vW2krc10pLGQpLGMrPXkkLnJlcGVhdCgiICIsdC5pbmRlbnQpK3ckKChlLmxpbmUrcysxKS50b1N0cmluZygpLHApKyIgfCAiK2wuc3RyKyJcbiI7cmV0dXJuIGMucmVwbGFjZSgvXG4kLywiIil9KHIpLG5ldyBiJCh0LHIpfWZ1bmN0aW9uIHdrKGUsdCl7dGhyb3cgeGsoZSx0KX1mdW5jdGlvbiAkayhlLHQpe2Uub25XYXJuaW5nJiZlLm9uV2FybmluZy5jYWxsKG51bGwseGsoZSx0KSl9dmFyIGtrPXtZQU1MOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGE7bnVsbCE9PWUudmVyc2lvbiYmd2soZSwiZHVwbGljYXRpb24gb2YgJVlBTUwgZGlyZWN0aXZlIiksMSE9PXIubGVuZ3RoJiZ3ayhlLCJZQU1MIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgb25lIGFyZ3VtZW50IiksbnVsbD09PShuPS9eKFswLTldKylcLihbMC05XSspJC8uZXhlYyhyWzBdKSkmJndrKGUsImlsbC1mb3JtZWQgYXJndW1lbnQgb2YgdGhlIFlBTUwgZGlyZWN0aXZlIiksbz1wYXJzZUludChuWzFdLDEwKSxhPXBhcnNlSW50KG5bMl0sMTApLDEhPT1vJiZ3ayhlLCJ1bmFjY2VwdGFibGUgWUFNTCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudCIpLGUudmVyc2lvbj1yWzBdLGUuY2hlY2tMaW5lQnJlYWtzPWE8MiwxIT09YSYmMiE9PWEmJiRrKGUsInVuc3VwcG9ydGVkIFlBTUwgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnQiKX0sVEFHOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvOzIhPT1yLmxlbmd0aCYmd2soZSwiVEFHIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgdHdvIGFyZ3VtZW50cyIpLG49clswXSxvPXJbMV0saWsudGVzdChuKXx8d2soZSwiaWxsLWZvcm1lZCB0YWcgaGFuZGxlIChmaXJzdCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUiKSxyay5jYWxsKGUudGFnTWFwLG4pJiZ3ayhlLCd0aGVyZSBpcyBhIHByZXZpb3VzbHkgZGVjbGFyZWQgc3VmZml4IGZvciAiJytuKyciIHRhZyBoYW5kbGUnKSxzay50ZXN0KG8pfHx3ayhlLCJpbGwtZm9ybWVkIHRhZyBwcmVmaXggKHNlY29uZCBhcmd1bWVudCkgb2YgdGhlIFRBRyBkaXJlY3RpdmUiKTt0cnl7bz1kZWNvZGVVUklDb21wb25lbnQobyl9Y2F0Y2godCl7d2soZSwidGFnIHByZWZpeCBpcyBtYWxmb3JtZWQ6ICIrbyl9ZS50YWdNYXBbbl09b319O2Z1bmN0aW9uIFNrKGUsdCxyLG4pe3ZhciBvLGEsaSxzO2lmKHQ8cil7aWYocz1lLmlucHV0LnNsaWNlKHQsciksbilmb3Iobz0wLGE9cy5sZW5ndGg7bzxhO28rPTEpOT09PShpPXMuY2hhckNvZGVBdChvKSl8fDMyPD1pJiZpPD0xMTE0MTExfHx3ayhlLCJleHBlY3RlZCB2YWxpZCBKU09OIGNoYXJhY3RlciIpO2Vsc2UgbmsudGVzdChzKSYmd2soZSwidGhlIHN0cmVhbSBjb250YWlucyBub24tcHJpbnRhYmxlIGNoYXJhY3RlcnMiKTtlLnJlc3VsdCs9c319ZnVuY3Rpb24gQWsoZSx0LHIsbil7dmFyIG8sYSxpLHM7Zm9yKHkkLmlzT2JqZWN0KHIpfHx3ayhlLCJjYW5ub3QgbWVyZ2UgbWFwcGluZ3M7IHRoZSBwcm92aWRlZCBzb3VyY2Ugb2JqZWN0IGlzIHVuYWNjZXB0YWJsZSIpLGk9MCxzPShvPU9iamVjdC5rZXlzKHIpKS5sZW5ndGg7aTxzO2krPTEpYT1vW2ldLHJrLmNhbGwodCxhKXx8KHRbYV09clthXSxuW2FdPSEwKX1mdW5jdGlvbiBFayhlLHQscixuLG8sYSxpLHMsbCl7dmFyIGMscDtpZihBcnJheS5pc0FycmF5KG8pKWZvcihjPTAscD0obz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvKSkubGVuZ3RoO2M8cDtjKz0xKUFycmF5LmlzQXJyYXkob1tjXSkmJndrKGUsIm5lc3RlZCBhcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW5zaWRlIGtleXMiKSwib2JqZWN0Ij09dHlwZW9mIG8mJiJbb2JqZWN0IE9iamVjdF0iPT09bGsob1tjXSkmJihvW2NdPSJbb2JqZWN0IE9iamVjdF0iKTtpZigib2JqZWN0Ij09dHlwZW9mIG8mJiJbb2JqZWN0IE9iamVjdF0iPT09bGsobykmJihvPSJbb2JqZWN0IE9iamVjdF0iKSxvPVN0cmluZyhvKSxudWxsPT09dCYmKHQ9e30pLCJ0YWc6eWFtbC5vcmcsMjAwMjptZXJnZSI9PT1uKWlmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGM9MCxwPWEubGVuZ3RoO2M8cDtjKz0xKUFrKGUsdCxhW2NdLHIpO2Vsc2UgQWsoZSx0LGEscik7ZWxzZSBlLmpzb258fHJrLmNhbGwocixvKXx8IXJrLmNhbGwodCxvKXx8KGUubGluZT1pfHxlLmxpbmUsZS5saW5lU3RhcnQ9c3x8ZS5saW5lU3RhcnQsZS5wb3NpdGlvbj1sfHxlLnBvc2l0aW9uLHdrKGUsImR1cGxpY2F0ZWQgbWFwcGluZyBrZXkiKSksIl9fcHJvdG9fXyI9PT1vP09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmF9KTp0W29dPWEsZGVsZXRlIHJbb107cmV0dXJuIHR9ZnVuY3Rpb24gT2soZSl7dmFyIHQ7MTA9PT0odD1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikpP2UucG9zaXRpb24rKzoxMz09PXQ/KGUucG9zaXRpb24rKywxMD09PWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSYmZS5wb3NpdGlvbisrKTp3ayhlLCJhIGxpbmUgYnJlYWsgaXMgZXhwZWN0ZWQiKSxlLmxpbmUrPTEsZS5saW5lU3RhcnQ9ZS5wb3NpdGlvbixlLmZpcnN0VGFiSW5MaW5lPS0xfWZ1bmN0aW9uIFRrKGUsdCxyKXtmb3IodmFyIG49MCxvPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKTswIT09bzspe2Zvcig7cGsobyk7KTk9PT1vJiYtMT09PWUuZmlyc3RUYWJJbkxpbmUmJihlLmZpcnN0VGFiSW5MaW5lPWUucG9zaXRpb24pLG89ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbik7aWYodCYmMzU9PT1vKWRve289ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbil9d2hpbGUoMTAhPT1vJiYxMyE9PW8mJjAhPT1vKTtpZighY2sobykpYnJlYWs7Zm9yKE9rKGUpLG89ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pLG4rKyxlLmxpbmVJbmRlbnQ9MDszMj09PW87KWUubGluZUluZGVudCsrLG89ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbil9cmV0dXJuLTEhPT1yJiYwIT09biYmZS5saW5lSW5kZW50PHImJiRrKGUsImRlZmljaWVudCBpbmRlbnRhdGlvbiIpLG59ZnVuY3Rpb24gQ2soZSl7dmFyIHQscj1lLnBvc2l0aW9uO3JldHVybiEoNDUhPT0odD1lLmlucHV0LmNoYXJDb2RlQXQocikpJiY0NiE9PXR8fHQhPT1lLmlucHV0LmNoYXJDb2RlQXQocisxKXx8dCE9PWUuaW5wdXQuY2hhckNvZGVBdChyKzIpfHwocis9MywwIT09KHQ9ZS5pbnB1dC5jaGFyQ29kZUF0KHIpKSYmIWRrKHQpKSl9ZnVuY3Rpb24gamsoZSx0KXsxPT09dD9lLnJlc3VsdCs9IiAiOnQ+MSYmKGUucmVzdWx0Kz15JC5yZXBlYXQoIlxuIix0LTEpKX1mdW5jdGlvbiBJayhlLHQpe3ZhciByLG4sbz1lLnRhZyxhPWUuYW5jaG9yLGk9W10scz0hMTtpZigtMSE9PWUuZmlyc3RUYWJJbkxpbmUpcmV0dXJuITE7Zm9yKG51bGwhPT1lLmFuY2hvciYmKGUuYW5jaG9yTWFwW2UuYW5jaG9yXT1pKSxuPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKTswIT09biYmKC0xIT09ZS5maXJzdFRhYkluTGluZSYmKGUucG9zaXRpb249ZS5maXJzdFRhYkluTGluZSx3ayhlLCJ0YWIgY2hhcmFjdGVycyBtdXN0IG5vdCBiZSB1c2VkIGluIGluZGVudGF0aW9uIikpLDQ1PT09bikmJmRrKGUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKzEpKTspaWYocz0hMCxlLnBvc2l0aW9uKyssVGsoZSwhMCwtMSkmJmUubGluZUluZGVudDw9dClpLnB1c2gobnVsbCksbj1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbik7ZWxzZSBpZihyPWUubGluZSxSayhlLHQsMywhMSwhMCksaS5wdXNoKGUucmVzdWx0KSxUayhlLCEwLC0xKSxuPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSwoZS5saW5lPT09cnx8ZS5saW5lSW5kZW50PnQpJiYwIT09bil3ayhlLCJiYWQgaW5kZW50YXRpb24gb2YgYSBzZXF1ZW5jZSBlbnRyeSIpO2Vsc2UgaWYoZS5saW5lSW5kZW50PHQpYnJlYWs7cmV0dXJuISFzJiYoZS50YWc9byxlLmFuY2hvcj1hLGUua2luZD0ic2VxdWVuY2UiLGUucmVzdWx0PWksITApfWZ1bmN0aW9uIF9rKGUpe3ZhciB0LHIsbixvLGE9ITEsaT0hMTtpZigzMyE9PShvPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSkpcmV0dXJuITE7aWYobnVsbCE9PWUudGFnJiZ3ayhlLCJkdXBsaWNhdGlvbiBvZiBhIHRhZyBwcm9wZXJ0eSIpLDYwPT09KG89ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbikpPyhhPSEwLG89ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbikpOjMzPT09bz8oaT0hMCxyPSIhISIsbz1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKSk6cj0iISIsdD1lLnBvc2l0aW9uLGEpe2Rve289ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbil9d2hpbGUoMCE9PW8mJjYyIT09byk7ZS5wb3NpdGlvbjxlLmxlbmd0aD8obj1lLmlucHV0LnNsaWNlKHQsZS5wb3NpdGlvbiksbz1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKSk6d2soZSwidW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSB2ZXJiYXRpbSB0YWciKX1lbHNle2Zvcig7MCE9PW8mJiFkayhvKTspMzM9PT1vJiYoaT93ayhlLCJ0YWcgc3VmZml4IGNhbm5vdCBjb250YWluIGV4Y2xhbWF0aW9uIG1hcmtzIik6KHI9ZS5pbnB1dC5zbGljZSh0LTEsZS5wb3NpdGlvbisxKSxpay50ZXN0KHIpfHx3ayhlLCJuYW1lZCB0YWcgaGFuZGxlIGNhbm5vdCBjb250YWluIHN1Y2ggY2hhcmFjdGVycyIpLGk9ITAsdD1lLnBvc2l0aW9uKzEpKSxvPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO249ZS5pbnB1dC5zbGljZSh0LGUucG9zaXRpb24pLGFrLnRlc3QobikmJndrKGUsInRhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZmxvdyBpbmRpY2F0b3IgY2hhcmFjdGVycyIpfW4mJiFzay50ZXN0KG4pJiZ3ayhlLCJ0YWcgbmFtZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnM6ICIrbik7dHJ5e249ZGVjb2RlVVJJQ29tcG9uZW50KG4pfWNhdGNoKHQpe3drKGUsInRhZyBuYW1lIGlzIG1hbGZvcm1lZDogIituKX1yZXR1cm4gYT9lLnRhZz1uOnJrLmNhbGwoZS50YWdNYXAscik/ZS50YWc9ZS50YWdNYXBbcl0rbjoiISI9PT1yP2UudGFnPSIhIituOiIhISI9PT1yP2UudGFnPSJ0YWc6eWFtbC5vcmcsMjAwMjoiK246d2soZSwndW5kZWNsYXJlZCB0YWcgaGFuZGxlICInK3IrJyInKSwhMH1mdW5jdGlvbiBQayhlKXt2YXIgdCxyO2lmKDM4IT09KHI9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pKSlyZXR1cm4hMTtmb3IobnVsbCE9PWUuYW5jaG9yJiZ3ayhlLCJkdXBsaWNhdGlvbiBvZiBhbiBhbmNob3IgcHJvcGVydHkiKSxyPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pLHQ9ZS5wb3NpdGlvbjswIT09ciYmIWRrKHIpJiYhdWsocik7KXI9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbik7cmV0dXJuIGUucG9zaXRpb249PT10JiZ3ayhlLCJuYW1lIG9mIGFuIGFuY2hvciBub2RlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgY2hhcmFjdGVyIiksZS5hbmNob3I9ZS5pbnB1dC5zbGljZSh0LGUucG9zaXRpb24pLCEwfWZ1bmN0aW9uIFJrKGUsdCxyLG4sbyl7dmFyIGEsaSxzLGwsYyxwLGQsdSxoLGY9MSxtPSExLHk9ITE7aWYobnVsbCE9PWUubGlzdGVuZXImJmUubGlzdGVuZXIoIm9wZW4iLGUpLGUudGFnPW51bGwsZS5hbmNob3I9bnVsbCxlLmtpbmQ9bnVsbCxlLnJlc3VsdD1udWxsLGE9aT1zPTQ9PT1yfHwzPT09cixuJiZUayhlLCEwLC0xKSYmKG09ITAsZS5saW5lSW5kZW50PnQ/Zj0xOmUubGluZUluZGVudD09PXQ/Zj0wOmUubGluZUluZGVudDx0JiYoZj0tMSkpLDE9PT1mKWZvcig7X2soZSl8fFBrKGUpOylUayhlLCEwLC0xKT8obT0hMCxzPWEsZS5saW5lSW5kZW50PnQ/Zj0xOmUubGluZUluZGVudD09PXQ/Zj0wOmUubGluZUluZGVudDx0JiYoZj0tMSkpOnM9ITE7aWYocyYmKHM9bXx8byksMSE9PWYmJjQhPT1yfHwodT0xPT09cnx8Mj09PXI/dDp0KzEsaD1lLnBvc2l0aW9uLWUubGluZVN0YXJ0LDE9PT1mP3MmJihJayhlLGgpfHxmdW5jdGlvbihlLHQscil7dmFyIG4sbyxhLGkscyxsLGMscD1lLnRhZyxkPWUuYW5jaG9yLHU9e30saD1PYmplY3QuY3JlYXRlKG51bGwpLGY9bnVsbCxtPW51bGwseT1udWxsLGc9ITEsdj0hMTtpZigtMSE9PWUuZmlyc3RUYWJJbkxpbmUpcmV0dXJuITE7Zm9yKG51bGwhPT1lLmFuY2hvciYmKGUuYW5jaG9yTWFwW2UuYW5jaG9yXT11KSxjPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKTswIT09Yzspe2lmKGd8fC0xPT09ZS5maXJzdFRhYkluTGluZXx8KGUucG9zaXRpb249ZS5maXJzdFRhYkluTGluZSx3ayhlLCJ0YWIgY2hhcmFjdGVycyBtdXN0IG5vdCBiZSB1c2VkIGluIGluZGVudGF0aW9uIikpLG49ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24rMSksYT1lLmxpbmUsNjMhPT1jJiY1OCE9PWN8fCFkayhuKSl7aWYoaT1lLmxpbmUscz1lLmxpbmVTdGFydCxsPWUucG9zaXRpb24sIVJrKGUsciwyLCExLCEwKSlicmVhaztpZihlLmxpbmU9PT1hKXtmb3IoYz1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbik7cGsoYyk7KWM9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbik7aWYoNTg9PT1jKWRrKGM9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbikpfHx3ayhlLCJhIHdoaXRlc3BhY2UgY2hhcmFjdGVyIGlzIGV4cGVjdGVkIGFmdGVyIHRoZSBrZXktdmFsdWUgc2VwYXJhdG9yIHdpdGhpbiBhIGJsb2NrIG1hcHBpbmciKSxnJiYoRWsoZSx1LGgsZixtLG51bGwsaSxzLGwpLGY9bT15PW51bGwpLHY9ITAsZz0hMSxvPSExLGY9ZS50YWcsbT1lLnJlc3VsdDtlbHNle2lmKCF2KXJldHVybiBlLnRhZz1wLGUuYW5jaG9yPWQsITA7d2soZSwiY2FuIG5vdCByZWFkIGFuIGltcGxpY2l0IG1hcHBpbmcgcGFpcjsgYSBjb2xvbiBpcyBtaXNzZWQiKX19ZWxzZXtpZighdilyZXR1cm4gZS50YWc9cCxlLmFuY2hvcj1kLCEwO3drKGUsImNhbiBub3QgcmVhZCBhIGJsb2NrIG1hcHBpbmcgZW50cnk7IGEgbXVsdGlsaW5lIGtleSBtYXkgbm90IGJlIGFuIGltcGxpY2l0IGtleSIpfX1lbHNlIDYzPT09Yz8oZyYmKEVrKGUsdSxoLGYsbSxudWxsLGkscyxsKSxmPW09eT1udWxsKSx2PSEwLGc9ITAsbz0hMCk6Zz8oZz0hMSxvPSEwKTp3ayhlLCJpbmNvbXBsZXRlIGV4cGxpY2l0IG1hcHBpbmcgcGFpcjsgYSBrZXkgbm9kZSBpcyBtaXNzZWQ7IG9yIGZvbGxvd2VkIGJ5IGEgbm9uLXRhYnVsYXRlZCBlbXB0eSBsaW5lIiksZS5wb3NpdGlvbis9MSxjPW47aWYoKGUubGluZT09PWF8fGUubGluZUluZGVudD50KSYmKGcmJihpPWUubGluZSxzPWUubGluZVN0YXJ0LGw9ZS5wb3NpdGlvbiksUmsoZSx0LDQsITAsbykmJihnP209ZS5yZXN1bHQ6eT1lLnJlc3VsdCksZ3x8KEVrKGUsdSxoLGYsbSx5LGkscyxsKSxmPW09eT1udWxsKSxUayhlLCEwLC0xKSxjPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSksKGUubGluZT09PWF8fGUubGluZUluZGVudD50KSYmMCE9PWMpd2soZSwiYmFkIGluZGVudGF0aW9uIG9mIGEgbWFwcGluZyBlbnRyeSIpO2Vsc2UgaWYoZS5saW5lSW5kZW50PHQpYnJlYWt9cmV0dXJuIGcmJkVrKGUsdSxoLGYsbSxudWxsLGkscyxsKSx2JiYoZS50YWc9cCxlLmFuY2hvcj1kLGUua2luZD0ibWFwcGluZyIsZS5yZXN1bHQ9dSksdn0oZSxoLHUpKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG8sYSxpLHMsbCxjLHAsZCx1LGgsZj0hMCxtPWUudGFnLHk9ZS5hbmNob3IsZz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKDkxPT09KGg9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pKSlpPTkzLGM9ITEsYT1bXTtlbHNle2lmKDEyMyE9PWgpcmV0dXJuITE7aT0xMjUsYz0hMCxhPXt9fWZvcihudWxsIT09ZS5hbmNob3ImJihlLmFuY2hvck1hcFtlLmFuY2hvcl09YSksaD1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTswIT09aDspe2lmKFRrKGUsITAsdCksKGg9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pKT09PWkpcmV0dXJuIGUucG9zaXRpb24rKyxlLnRhZz1tLGUuYW5jaG9yPXksZS5raW5kPWM/Im1hcHBpbmciOiJzZXF1ZW5jZSIsZS5yZXN1bHQ9YSwhMDtmPzQ0PT09aCYmd2soZSwiZXhwZWN0ZWQgdGhlIG5vZGUgY29udGVudCwgYnV0IGZvdW5kICcsJyIpOndrKGUsIm1pc3NlZCBjb21tYSBiZXR3ZWVuIGZsb3cgY29sbGVjdGlvbiBlbnRyaWVzIiksdT1udWxsLHM9bD0hMSw2Mz09PWgmJmRrKGUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKzEpKSYmKHM9bD0hMCxlLnBvc2l0aW9uKyssVGsoZSwhMCx0KSkscj1lLmxpbmUsbj1lLmxpbmVTdGFydCxvPWUucG9zaXRpb24sUmsoZSx0LDEsITEsITApLGQ9ZS50YWcscD1lLnJlc3VsdCxUayhlLCEwLHQpLGg9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pLCFsJiZlLmxpbmUhPT1yfHw1OCE9PWh8fChzPSEwLGg9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbiksVGsoZSwhMCx0KSxSayhlLHQsMSwhMSwhMCksdT1lLnJlc3VsdCksYz9FayhlLGEsZyxkLHAsdSxyLG4sbyk6cz9hLnB1c2goRWsoZSxudWxsLGcsZCxwLHUscixuLG8pKTphLnB1c2gocCksVGsoZSwhMCx0KSw0ND09PShoPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSk/KGY9ITAsaD1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKSk6Zj0hMX13ayhlLCJ1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIGZsb3cgY29sbGVjdGlvbiIpfShlLHUpP3k9ITA6KGkmJmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixvLGEsaSxzPTEsbD0hMSxjPSExLHA9dCxkPTAsdT0hMTtpZigxMjQ9PT0oYT1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikpKW49ITE7ZWxzZXtpZig2MiE9PWEpcmV0dXJuITE7bj0hMH1mb3IoZS5raW5kPSJzY2FsYXIiLGUucmVzdWx0PSIiOzAhPT1hOylpZig0Mz09PShhPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pKXx8NDU9PT1hKTE9PT1zP3M9NDM9PT1hPzM6Mjp3ayhlLCJyZXBlYXQgb2YgYSBjaG9tcGluZyBtb2RlIGlkZW50aWZpZXIiKTtlbHNle2lmKCEoKG89NDg8PShpPWEpJiZpPD01Nz9pLTQ4Oi0xKT49MCkpYnJlYWs7MD09PW8/d2soZSwiYmFkIGV4cGxpY2l0IGluZGVudGF0aW9uIHdpZHRoIG9mIGEgYmxvY2sgc2NhbGFyOyBpdCBjYW5ub3QgYmUgbGVzcyB0aGFuIG9uZSIpOmM/d2soZSwicmVwZWF0IG9mIGFuIGluZGVudGF0aW9uIHdpZHRoIGlkZW50aWZpZXIiKToocD10K28tMSxjPSEwKX1pZihwayhhKSl7ZG97YT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKX13aGlsZShwayhhKSk7aWYoMzU9PT1hKWRve2E9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbil9d2hpbGUoIWNrKGEpJiYwIT09YSl9Zm9yKDswIT09YTspe2ZvcihPayhlKSxlLmxpbmVJbmRlbnQ9MCxhPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKTsoIWN8fGUubGluZUluZGVudDxwKSYmMzI9PT1hOyllLmxpbmVJbmRlbnQrKyxhPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO2lmKCFjJiZlLmxpbmVJbmRlbnQ+cCYmKHA9ZS5saW5lSW5kZW50KSxjayhhKSlkKys7ZWxzZXtpZihlLmxpbmVJbmRlbnQ8cCl7Mz09PXM/ZS5yZXN1bHQrPXkkLnJlcGVhdCgiXG4iLGw/MStkOmQpOjE9PT1zJiZsJiYoZS5yZXN1bHQrPSJcbiIpO2JyZWFrfWZvcihuP3BrKGEpPyh1PSEwLGUucmVzdWx0Kz15JC5yZXBlYXQoIlxuIixsPzErZDpkKSk6dT8odT0hMSxlLnJlc3VsdCs9eSQucmVwZWF0KCJcbiIsZCsxKSk6MD09PWQ/bCYmKGUucmVzdWx0Kz0iICIpOmUucmVzdWx0Kz15JC5yZXBlYXQoIlxuIixkKTplLnJlc3VsdCs9eSQucmVwZWF0KCJcbiIsbD8xK2Q6ZCksbD0hMCxjPSEwLGQ9MCxyPWUucG9zaXRpb247IWNrKGEpJiYwIT09YTspYT1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTtTayhlLHIsZS5wb3NpdGlvbiwhMSl9fXJldHVybiEwfShlLHUpfHxmdW5jdGlvbihlLHQpe3ZhciByLG4sbztpZigzOSE9PShyPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSkpcmV0dXJuITE7Zm9yKGUua2luZD0ic2NhbGFyIixlLnJlc3VsdD0iIixlLnBvc2l0aW9uKyssbj1vPWUucG9zaXRpb247MCE9PShyPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSk7KWlmKDM5PT09cil7aWYoU2soZSxuLGUucG9zaXRpb24sITApLDM5IT09KHI9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbikpKXJldHVybiEwO249ZS5wb3NpdGlvbixlLnBvc2l0aW9uKyssbz1lLnBvc2l0aW9ufWVsc2UgY2socik/KFNrKGUsbixvLCEwKSxqayhlLFRrKGUsITEsdCkpLG49bz1lLnBvc2l0aW9uKTplLnBvc2l0aW9uPT09ZS5saW5lU3RhcnQmJkNrKGUpP3drKGUsInVuZXhwZWN0ZWQgZW5kIG9mIHRoZSBkb2N1bWVudCB3aXRoaW4gYSBzaW5nbGUgcXVvdGVkIHNjYWxhciIpOihlLnBvc2l0aW9uKyssbz1lLnBvc2l0aW9uKTt3ayhlLCJ1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIHNpbmdsZSBxdW90ZWQgc2NhbGFyIil9KGUsdSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsbixvLGEsaSxzLGw7aWYoMzQhPT0ocz1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikpKXJldHVybiExO2ZvcihlLmtpbmQ9InNjYWxhciIsZS5yZXN1bHQ9IiIsZS5wb3NpdGlvbisrLHI9bj1lLnBvc2l0aW9uOzAhPT0ocz1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikpOyl7aWYoMzQ9PT1zKXJldHVybiBTayhlLHIsZS5wb3NpdGlvbiwhMCksZS5wb3NpdGlvbisrLCEwO2lmKDkyPT09cyl7aWYoU2soZSxyLGUucG9zaXRpb24sITApLGNrKHM9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbikpKVRrKGUsITEsdCk7ZWxzZSBpZihzPDI1NiYmeWtbc10pZS5yZXN1bHQrPWdrW3NdLGUucG9zaXRpb24rKztlbHNlIGlmKChpPTEyMD09PShsPXMpPzI6MTE3PT09bD80Ojg1PT09bD84OjApPjApe2ZvcihvPWksYT0wO28+MDtvLS0pKGk9aGsocz1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKSkpPj0wP2E9KGE8PDQpK2k6d2soZSwiZXhwZWN0ZWQgaGV4YWRlY2ltYWwgY2hhcmFjdGVyIik7ZS5yZXN1bHQrPW1rKGEpLGUucG9zaXRpb24rK31lbHNlIHdrKGUsInVua25vd24gZXNjYXBlIHNlcXVlbmNlIik7cj1uPWUucG9zaXRpb259ZWxzZSBjayhzKT8oU2soZSxyLG4sITApLGprKGUsVGsoZSwhMSx0KSkscj1uPWUucG9zaXRpb24pOmUucG9zaXRpb249PT1lLmxpbmVTdGFydCYmQ2soZSk/d2soZSwidW5leHBlY3RlZCBlbmQgb2YgdGhlIGRvY3VtZW50IHdpdGhpbiBhIGRvdWJsZSBxdW90ZWQgc2NhbGFyIik6KGUucG9zaXRpb24rKyxuPWUucG9zaXRpb24pfXdrKGUsInVuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgZG91YmxlIHF1b3RlZCBzY2FsYXIiKX0oZSx1KT95PSEwOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbjtpZig0MiE9PShuPWUuaW5wdXQuY2hhckNvZGVBdChlLnBvc2l0aW9uKSkpcmV0dXJuITE7Zm9yKG49ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbiksdD1lLnBvc2l0aW9uOzAhPT1uJiYhZGsobikmJiF1ayhuKTspbj1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTtyZXR1cm4gZS5wb3NpdGlvbj09PXQmJndrKGUsIm5hbWUgb2YgYW4gYWxpYXMgbm9kZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGNoYXJhY3RlciIpLHI9ZS5pbnB1dC5zbGljZSh0LGUucG9zaXRpb24pLHJrLmNhbGwoZS5hbmNob3JNYXAscil8fHdrKGUsJ3VuaWRlbnRpZmllZCBhbGlhcyAiJytyKyciJyksZS5yZXN1bHQ9ZS5hbmNob3JNYXBbcl0sVGsoZSwhMCwtMSksITB9KGUpPyh5PSEwLG51bGw9PT1lLnRhZyYmbnVsbD09PWUuYW5jaG9yfHx3ayhlLCJhbGlhcyBub2RlIHNob3VsZCBub3QgaGF2ZSBhbnkgcHJvcGVydGllcyIpKTpmdW5jdGlvbihlLHQscil7dmFyIG4sbyxhLGkscyxsLGMscCxkPWUua2luZCx1PWUucmVzdWx0O2lmKGRrKHA9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pKXx8dWsocCl8fDM1PT09cHx8Mzg9PT1wfHw0Mj09PXB8fDMzPT09cHx8MTI0PT09cHx8NjI9PT1wfHwzOT09PXB8fDM0PT09cHx8Mzc9PT1wfHw2ND09PXB8fDk2PT09cClyZXR1cm4hMTtpZigoNjM9PT1wfHw0NT09PXApJiYoZGsobj1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbisxKSl8fHImJnVrKG4pKSlyZXR1cm4hMTtmb3IoZS5raW5kPSJzY2FsYXIiLGUucmVzdWx0PSIiLG89YT1lLnBvc2l0aW9uLGk9ITE7MCE9PXA7KXtpZig1OD09PXApe2lmKGRrKG49ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24rMSkpfHxyJiZ1ayhuKSlicmVha31lbHNlIGlmKDM1PT09cCl7aWYoZGsoZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24tMSkpKWJyZWFrfWVsc2V7aWYoZS5wb3NpdGlvbj09PWUubGluZVN0YXJ0JiZDayhlKXx8ciYmdWsocCkpYnJlYWs7aWYoY2socCkpe2lmKHM9ZS5saW5lLGw9ZS5saW5lU3RhcnQsYz1lLmxpbmVJbmRlbnQsVGsoZSwhMSwtMSksZS5saW5lSW5kZW50Pj10KXtpPSEwLHA9ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24pO2NvbnRpbnVlfWUucG9zaXRpb249YSxlLmxpbmU9cyxlLmxpbmVTdGFydD1sLGUubGluZUluZGVudD1jO2JyZWFrfX1pJiYoU2soZSxvLGEsITEpLGprKGUsZS5saW5lLXMpLG89YT1lLnBvc2l0aW9uLGk9ITEpLHBrKHApfHwoYT1lLnBvc2l0aW9uKzEpLHA9ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbil9cmV0dXJuIFNrKGUsbyxhLCExKSwhIWUucmVzdWx0fHwoZS5raW5kPWQsZS5yZXN1bHQ9dSwhMSl9KGUsdSwxPT09cikmJih5PSEwLG51bGw9PT1lLnRhZyYmKGUudGFnPSI/IikpLG51bGwhPT1lLmFuY2hvciYmKGUuYW5jaG9yTWFwW2UuYW5jaG9yXT1lLnJlc3VsdCkpOjA9PT1mJiYoeT1zJiZJayhlLGgpKSksbnVsbD09PWUudGFnKW51bGwhPT1lLmFuY2hvciYmKGUuYW5jaG9yTWFwW2UuYW5jaG9yXT1lLnJlc3VsdCk7ZWxzZSBpZigiPyI9PT1lLnRhZyl7Zm9yKG51bGwhPT1lLnJlc3VsdCYmInNjYWxhciIhPT1lLmtpbmQmJndrKGUsJ3VuYWNjZXB0YWJsZSBub2RlIGtpbmQgZm9yICE8Pz4gdGFnOyBpdCBzaG91bGQgYmUgInNjYWxhciIsIG5vdCAiJytlLmtpbmQrJyInKSxsPTAsYz1lLmltcGxpY2l0VHlwZXMubGVuZ3RoO2w8YztsKz0xKWlmKChkPWUuaW1wbGljaXRUeXBlc1tsXSkucmVzb2x2ZShlLnJlc3VsdCkpe2UucmVzdWx0PWQuY29uc3RydWN0KGUucmVzdWx0KSxlLnRhZz1kLnRhZyxudWxsIT09ZS5hbmNob3ImJihlLmFuY2hvck1hcFtlLmFuY2hvcl09ZS5yZXN1bHQpO2JyZWFrfX1lbHNlIGlmKCIhIiE9PWUudGFnKXtpZihyay5jYWxsKGUudHlwZU1hcFtlLmtpbmR8fCJmYWxsYmFjayJdLGUudGFnKSlkPWUudHlwZU1hcFtlLmtpbmR8fCJmYWxsYmFjayJdW2UudGFnXTtlbHNlIGZvcihkPW51bGwsbD0wLGM9KHA9ZS50eXBlTWFwLm11bHRpW2Uua2luZHx8ImZhbGxiYWNrIl0pLmxlbmd0aDtsPGM7bCs9MSlpZihlLnRhZy5zbGljZSgwLHBbbF0udGFnLmxlbmd0aCk9PT1wW2xdLnRhZyl7ZD1wW2xdO2JyZWFrfWR8fHdrKGUsInVua25vd24gdGFnICE8IitlLnRhZysiPiIpLG51bGwhPT1lLnJlc3VsdCYmZC5raW5kIT09ZS5raW5kJiZ3ayhlLCJ1bmFjY2VwdGFibGUgbm9kZSBraW5kIGZvciAhPCIrZS50YWcrJz4gdGFnOyBpdCBzaG91bGQgYmUgIicrZC5raW5kKyciLCBub3QgIicrZS5raW5kKyciJyksZC5yZXNvbHZlKGUucmVzdWx0LGUudGFnKT8oZS5yZXN1bHQ9ZC5jb25zdHJ1Y3QoZS5yZXN1bHQsZS50YWcpLG51bGwhPT1lLmFuY2hvciYmKGUuYW5jaG9yTWFwW2UuYW5jaG9yXT1lLnJlc3VsdCkpOndrKGUsImNhbm5vdCByZXNvbHZlIGEgbm9kZSB3aXRoICE8IitlLnRhZysiPiBleHBsaWNpdCB0YWciKX1yZXR1cm4gbnVsbCE9PWUubGlzdGVuZXImJmUubGlzdGVuZXIoImNsb3NlIixlKSxudWxsIT09ZS50YWd8fG51bGwhPT1lLmFuY2hvcnx8eX1mdW5jdGlvbiBMayhlKXt2YXIgdCxyLG4sbyxhPWUucG9zaXRpb24saT0hMTtmb3IoZS52ZXJzaW9uPW51bGwsZS5jaGVja0xpbmVCcmVha3M9ZS5sZWdhY3ksZS50YWdNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxlLmFuY2hvck1hcD1PYmplY3QuY3JlYXRlKG51bGwpOzAhPT0obz1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikpJiYoVGsoZSwhMCwtMSksbz1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbiksIShlLmxpbmVJbmRlbnQ+MHx8MzchPT1vKSk7KXtmb3IoaT0hMCxvPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pLHQ9ZS5wb3NpdGlvbjswIT09byYmIWRrKG8pOylvPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO2ZvcihuPVtdLChyPWUuaW5wdXQuc2xpY2UodCxlLnBvc2l0aW9uKSkubGVuZ3RoPDEmJndrKGUsImRpcmVjdGl2ZSBuYW1lIG11c3Qgbm90IGJlIGxlc3MgdGhhbiBvbmUgY2hhcmFjdGVyIGluIGxlbmd0aCIpOzAhPT1vOyl7Zm9yKDtwayhvKTspbz1lLmlucHV0LmNoYXJDb2RlQXQoKytlLnBvc2l0aW9uKTtpZigzNT09PW8pe2Rve289ZS5pbnB1dC5jaGFyQ29kZUF0KCsrZS5wb3NpdGlvbil9d2hpbGUoMCE9PW8mJiFjayhvKSk7YnJlYWt9aWYoY2sobykpYnJlYWs7Zm9yKHQ9ZS5wb3NpdGlvbjswIT09byYmIWRrKG8pOylvPWUuaW5wdXQuY2hhckNvZGVBdCgrK2UucG9zaXRpb24pO24ucHVzaChlLmlucHV0LnNsaWNlKHQsZS5wb3NpdGlvbikpfTAhPT1vJiZPayhlKSxyay5jYWxsKGtrLHIpP2trW3JdKGUscixuKTokayhlLCd1bmtub3duIGRvY3VtZW50IGRpcmVjdGl2ZSAiJytyKyciJyl9VGsoZSwhMCwtMSksMD09PWUubGluZUluZGVudCYmNDU9PT1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikmJjQ1PT09ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24rMSkmJjQ1PT09ZS5pbnB1dC5jaGFyQ29kZUF0KGUucG9zaXRpb24rMik/KGUucG9zaXRpb24rPTMsVGsoZSwhMCwtMSkpOmkmJndrKGUsImRpcmVjdGl2ZXMgZW5kIG1hcmsgaXMgZXhwZWN0ZWQiKSxSayhlLGUubGluZUluZGVudC0xLDQsITEsITApLFRrKGUsITAsLTEpLGUuY2hlY2tMaW5lQnJlYWtzJiZvay50ZXN0KGUuaW5wdXQuc2xpY2UoYSxlLnBvc2l0aW9uKSkmJiRrKGUsIm5vbi1BU0NJSSBsaW5lIGJyZWFrcyBhcmUgaW50ZXJwcmV0ZWQgYXMgY29udGVudCIpLGUuZG9jdW1lbnRzLnB1c2goZS5yZXN1bHQpLGUucG9zaXRpb249PT1lLmxpbmVTdGFydCYmQ2soZSk/NDY9PT1lLmlucHV0LmNoYXJDb2RlQXQoZS5wb3NpdGlvbikmJihlLnBvc2l0aW9uKz0zLFRrKGUsITAsLTEpKTplLnBvc2l0aW9uPGUubGVuZ3RoLTEmJndrKGUsImVuZCBvZiB0aGUgc3RyZWFtIG9yIGEgZG9jdW1lbnQgc2VwYXJhdG9yIGlzIGV4cGVjdGVkIil9ZnVuY3Rpb24gRmsoZSx0KXt0PXR8fHt9LDAhPT0oZT1TdHJpbmcoZSkpLmxlbmd0aCYmKDEwIT09ZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpJiYxMyE9PWUuY2hhckNvZGVBdChlLmxlbmd0aC0xKSYmKGUrPSJcbiIpLDY1Mjc5PT09ZS5jaGFyQ29kZUF0KDApJiYoZT1lLnNsaWNlKDEpKSk7dmFyIHI9bmV3IGJrKGUsdCksbj1lLmluZGV4T2YoIlwwIik7Zm9yKC0xIT09biYmKHIucG9zaXRpb249bix3ayhyLCJudWxsIGJ5dGUgaXMgbm90IGFsbG93ZWQgaW4gaW5wdXQiKSksci5pbnB1dCs9IlwwIjszMj09PXIuaW5wdXQuY2hhckNvZGVBdChyLnBvc2l0aW9uKTspci5saW5lSW5kZW50Kz0xLHIucG9zaXRpb24rPTE7Zm9yKDtyLnBvc2l0aW9uPHIubGVuZ3RoLTE7KUxrKHIpO3JldHVybiByLmRvY3VtZW50c312YXIgRGs9e2xvYWRBbGw6ZnVuY3Rpb24oZSx0LHIpe251bGwhPT10JiYib2JqZWN0Ij09dHlwZW9mIHQmJnZvaWQgMD09PXImJihyPXQsdD1udWxsKTt2YXIgbj1GayhlLHIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBuO2Zvcih2YXIgbz0wLGE9bi5sZW5ndGg7bzxhO28rPTEpdChuW29dKX0sbG9hZDpmdW5jdGlvbihlLHQpe3ZhciByPUZrKGUsdCk7aWYoMCE9PXIubGVuZ3RoKXtpZigxPT09ci5sZW5ndGgpcmV0dXJuIHJbMF07dGhyb3cgbmV3IGIkKCJleHBlY3RlZCBhIHNpbmdsZSBkb2N1bWVudCBpbiB0aGUgc3RyZWFtLCBidXQgZm91bmQgbW9yZSIpfX19LEJrPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsTms9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxxaz17MDoiXFwwIiw3OiJcXGEiLDg6IlxcYiIsOToiXFx0IiwxMDoiXFxuIiwxMToiXFx2IiwxMjoiXFxmIiwxMzoiXFxyIiwyNzoiXFxlIiwzNDonXFwiJyw5MjoiXFxcXCIsMTMzOiJcXE4iLDE2MDoiXFxfIiw4MjMyOiJcXEwiLDgyMzM6IlxcUCJ9LFVrPVsieSIsIlkiLCJ5ZXMiLCJZZXMiLCJZRVMiLCJvbiIsIk9uIiwiT04iLCJuIiwiTiIsIm5vIiwiTm8iLCJOTyIsIm9mZiIsIk9mZiIsIk9GRiJdLHprPS9eWy0rXT9bMC05X10rKD86OlswLTlfXSspKyg/OlwuWzAtOV9dKik/JC87ZnVuY3Rpb24gTWsoZSl7dmFyIHQscixuO2lmKHQ9ZS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSxlPD0yNTUpcj0ieCIsbj0yO2Vsc2UgaWYoZTw9NjU1MzUpcj0idSIsbj00O2Vsc2V7aWYoIShlPD00Mjk0OTY3Mjk1KSl0aHJvdyBuZXcgYiQoImNvZGUgcG9pbnQgd2l0aGluIGEgc3RyaW5nIG1heSBub3QgYmUgZ3JlYXRlciB0aGFuIDB4RkZGRkZGRkYiKTtyPSJVIixuPTh9cmV0dXJuIlxcIityK3kkLnJlcGVhdCgiMCIsbi10Lmxlbmd0aCkrdH1mdW5jdGlvbiBIayhlKXt0aGlzLnNjaGVtYT1lLnNjaGVtYXx8dGssdGhpcy5pbmRlbnQ9TWF0aC5tYXgoMSxlLmluZGVudHx8MiksdGhpcy5ub0FycmF5SW5kZW50PWUubm9BcnJheUluZGVudHx8ITEsdGhpcy5za2lwSW52YWxpZD1lLnNraXBJbnZhbGlkfHwhMSx0aGlzLmZsb3dMZXZlbD15JC5pc05vdGhpbmcoZS5mbG93TGV2ZWwpPy0xOmUuZmxvd0xldmVsLHRoaXMuc3R5bGVNYXA9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG8sYSxpLHMsbDtpZihudWxsPT09dClyZXR1cm57fTtmb3Iocj17fSxvPTAsYT0obj1PYmplY3Qua2V5cyh0KSkubGVuZ3RoO288YTtvKz0xKWk9bltvXSxzPVN0cmluZyh0W2ldKSwiISEiPT09aS5zbGljZSgwLDIpJiYoaT0idGFnOnlhbWwub3JnLDIwMDI6IitpLnNsaWNlKDIpKSwobD1lLmNvbXBpbGVkVHlwZU1hcC5mYWxsYmFja1tpXSkmJk5rLmNhbGwobC5zdHlsZUFsaWFzZXMscykmJihzPWwuc3R5bGVBbGlhc2VzW3NdKSxyW2ldPXM7cmV0dXJuIHJ9KHRoaXMuc2NoZW1hLGUuc3R5bGVzfHxudWxsKSx0aGlzLnNvcnRLZXlzPWUuc29ydEtleXN8fCExLHRoaXMubGluZVdpZHRoPWUubGluZVdpZHRofHw4MCx0aGlzLm5vUmVmcz1lLm5vUmVmc3x8ITEsdGhpcy5ub0NvbXBhdE1vZGU9ZS5ub0NvbXBhdE1vZGV8fCExLHRoaXMuY29uZGVuc2VGbG93PWUuY29uZGVuc2VGbG93fHwhMSx0aGlzLnF1b3RpbmdUeXBlPSciJz09PWUucXVvdGluZ1R5cGU/MjoxLHRoaXMuZm9yY2VRdW90ZXM9ZS5mb3JjZVF1b3Rlc3x8ITEsdGhpcy5yZXBsYWNlcj0iZnVuY3Rpb24iPT10eXBlb2YgZS5yZXBsYWNlcj9lLnJlcGxhY2VyOm51bGwsdGhpcy5pbXBsaWNpdFR5cGVzPXRoaXMuc2NoZW1hLmNvbXBpbGVkSW1wbGljaXQsdGhpcy5leHBsaWNpdFR5cGVzPXRoaXMuc2NoZW1hLmNvbXBpbGVkRXhwbGljaXQsdGhpcy50YWc9bnVsbCx0aGlzLnJlc3VsdD0iIix0aGlzLmR1cGxpY2F0ZXM9W10sdGhpcy51c2VkRHVwbGljYXRlcz1udWxsfWZ1bmN0aW9uIFdrKGUsdCl7Zm9yKHZhciByLG49eSQucmVwZWF0KCIgIix0KSxvPTAsYT0tMSxpPSIiLHM9ZS5sZW5ndGg7bzxzOyktMT09PShhPWUuaW5kZXhPZigiXG4iLG8pKT8ocj1lLnNsaWNlKG8pLG89cyk6KHI9ZS5zbGljZShvLGErMSksbz1hKzEpLHIubGVuZ3RoJiYiXG4iIT09ciYmKGkrPW4pLGkrPXI7cmV0dXJuIGl9ZnVuY3Rpb24gVmsoZSx0KXtyZXR1cm4iXG4iK3kkLnJlcGVhdCgiICIsZS5pbmRlbnQqdCl9ZnVuY3Rpb24gR2soZSl7cmV0dXJuIDMyPT09ZXx8OT09PWV9ZnVuY3Rpb24gS2soZSl7cmV0dXJuIDMyPD1lJiZlPD0xMjZ8fDE2MTw9ZSYmZTw9NTUyOTUmJjgyMzIhPT1lJiY4MjMzIT09ZXx8NTczNDQ8PWUmJmU8PTY1NTMzJiY2NTI3OSE9PWV8fDY1NTM2PD1lJiZlPD0xMTE0MTExfWZ1bmN0aW9uIEprKGUpe3JldHVybiBLayhlKSYmNjUyNzkhPT1lJiYxMyE9PWUmJjEwIT09ZX1mdW5jdGlvbiBZayhlLHQscil7dmFyIG49SmsoZSksbz1uJiYhR2soZSk7cmV0dXJuKHI/bjpuJiY0NCE9PWUmJjkxIT09ZSYmOTMhPT1lJiYxMjMhPT1lJiYxMjUhPT1lKSYmMzUhPT1lJiYhKDU4PT09dCYmIW8pfHxKayh0KSYmIUdrKHQpJiYzNT09PWV8fDU4PT09dCYmb31mdW5jdGlvbiBaayhlLHQpe3ZhciByLG49ZS5jaGFyQ29kZUF0KHQpO3JldHVybiBuPj01NTI5NiYmbjw9NTYzMTkmJnQrMTxlLmxlbmd0aCYmKHI9ZS5jaGFyQ29kZUF0KHQrMSkpPj01NjMyMCYmcjw9NTczNDM/MTAyNCoobi01NTI5Nikrci01NjMyMCs2NTUzNjpufWZ1bmN0aW9uIFFrKGUpe3JldHVybi9eXG4qIC8udGVzdChlKX1mdW5jdGlvbiBYayhlLHQscixuLG8pe2UuZHVtcD1mdW5jdGlvbigpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gMj09PWUucXVvdGluZ1R5cGU/JyIiJzoiJyciO2lmKCFlLm5vQ29tcGF0TW9kZSYmKC0xIT09VWsuaW5kZXhPZih0KXx8emsudGVzdCh0KSkpcmV0dXJuIDI9PT1lLnF1b3RpbmdUeXBlPyciJyt0KyciJzoiJyIrdCsiJyI7dmFyIGE9ZS5pbmRlbnQqTWF0aC5tYXgoMSxyKSxpPS0xPT09ZS5saW5lV2lkdGg/LTE6TWF0aC5tYXgoTWF0aC5taW4oZS5saW5lV2lkdGgsNDApLGUubGluZVdpZHRoLWEpLHM9bnx8ZS5mbG93TGV2ZWw+LTEmJnI+PWUuZmxvd0xldmVsO3N3aXRjaChmdW5jdGlvbihlLHQscixuLG8sYSxpLHMpe3ZhciBsLGMscCxkPTAsdT1udWxsLGg9ITEsZj0hMSxtPS0xIT09bix5PS0xLGc9S2soYz1aayhlLDApKSYmNjUyNzkhPT1jJiYhR2soYykmJjQ1IT09YyYmNjMhPT1jJiY1OCE9PWMmJjQ0IT09YyYmOTEhPT1jJiY5MyE9PWMmJjEyMyE9PWMmJjEyNSE9PWMmJjM1IT09YyYmMzghPT1jJiY0MiE9PWMmJjMzIT09YyYmMTI0IT09YyYmNjEhPT1jJiY2MiE9PWMmJjM5IT09YyYmMzQhPT1jJiYzNyE9PWMmJjY0IT09YyYmOTYhPT1jJiYhR2socD1aayhlLGUubGVuZ3RoLTEpKSYmNTghPT1wO2lmKHR8fGkpZm9yKGw9MDtsPGUubGVuZ3RoO2Q+PTY1NTM2P2wrPTI6bCsrKXtpZighS2soZD1aayhlLGwpKSlyZXR1cm4gNTtnPWcmJllrKGQsdSxzKSx1PWR9ZWxzZXtmb3IobD0wO2w8ZS5sZW5ndGg7ZD49NjU1MzY/bCs9MjpsKyspe2lmKDEwPT09KGQ9WmsoZSxsKSkpaD0hMCxtJiYoZj1mfHxsLXktMT5uJiYiICIhPT1lW3krMV0seT1sKTtlbHNlIGlmKCFLayhkKSlyZXR1cm4gNTtnPWcmJllrKGQsdSxzKSx1PWR9Zj1mfHxtJiZsLXktMT5uJiYiICIhPT1lW3krMV19cmV0dXJuIGh8fGY/cj45JiZRayhlKT81Omk/Mj09PWE/NToyOmY/NDozOiFnfHxpfHxvKGUpPzI9PT1hPzU6MjoxfSh0LHMsZS5pbmRlbnQsaSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtmb3Iocj0wLG49ZS5pbXBsaWNpdFR5cGVzLmxlbmd0aDtyPG47cis9MSlpZihlLmltcGxpY2l0VHlwZXNbcl0ucmVzb2x2ZSh0KSlyZXR1cm4hMDtyZXR1cm4hMX0oZSx0KX0pLGUucXVvdGluZ1R5cGUsZS5mb3JjZVF1b3RlcyYmIW4sbykpe2Nhc2UgMTpyZXR1cm4gdDtjYXNlIDI6cmV0dXJuIiciK3QucmVwbGFjZSgvJy9nLCInJyIpKyInIjtjYXNlIDM6cmV0dXJuInwiK2VTKHQsZS5pbmRlbnQpK3RTKFdrKHQsYSkpO2Nhc2UgNDpyZXR1cm4iPiIrZVModCxlLmluZGVudCkrdFMoV2soZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixvLGE9LyhcbispKFteXG5dKikvZyxpPShvPS0xIT09KG89ZS5pbmRleE9mKCJcbiIpKT9vOmUubGVuZ3RoLGEubGFzdEluZGV4PW8sclMoZS5zbGljZSgwLG8pLHQpKSxzPSJcbiI9PT1lWzBdfHwiICI9PT1lWzBdO249YS5leGVjKGUpOyl7dmFyIGw9blsxXSxjPW5bMl07cj0iICI9PT1jWzBdLGkrPWwrKHN8fHJ8fCIiPT09Yz8iIjoiXG4iKStyUyhjLHQpLHM9cn1yZXR1cm4gaX0odCxpKSxhKSk7Y2FzZSA1OnJldHVybiciJytmdW5jdGlvbihlKXtmb3IodmFyIHQscj0iIixuPTAsbz0wO288ZS5sZW5ndGg7bj49NjU1MzY/bys9MjpvKyspbj1aayhlLG8pLCEodD1xa1tuXSkmJktrKG4pPyhyKz1lW29dLG4+PTY1NTM2JiYocis9ZVtvKzFdKSk6cis9dHx8TWsobik7cmV0dXJuIHJ9KHQpKyciJztkZWZhdWx0OnRocm93IG5ldyBiJCgiaW1wb3NzaWJsZSBlcnJvcjogaW52YWxpZCBzY2FsYXIgc3R5bGUiKX19KCl9ZnVuY3Rpb24gZVMoZSx0KXt2YXIgcj1RayhlKT9TdHJpbmcodCk6IiIsbj0iXG4iPT09ZVtlLmxlbmd0aC0xXTtyZXR1cm4gcisoIW58fCJcbiIhPT1lW2UubGVuZ3RoLTJdJiYiXG4iIT09ZT9uPyIiOiItIjoiKyIpKyJcbiJ9ZnVuY3Rpb24gdFMoZSl7cmV0dXJuIlxuIj09PWVbZS5sZW5ndGgtMV0/ZS5zbGljZSgwLC0xKTplfWZ1bmN0aW9uIHJTKGUsdCl7aWYoIiI9PT1lfHwiICI9PT1lWzBdKXJldHVybiBlO2Zvcih2YXIgcixuLG89LyBbXiBdL2csYT0wLGk9MCxzPTAsbD0iIjtyPW8uZXhlYyhlKTspKHM9ci5pbmRleCktYT50JiYobj1pPmE/aTpzLGwrPSJcbiIrZS5zbGljZShhLG4pLGE9bisxKSxpPXM7cmV0dXJuIGwrPSJcbiIsZS5sZW5ndGgtYT50JiZpPmE/bCs9ZS5zbGljZShhLGkpKyJcbiIrZS5zbGljZShpKzEpOmwrPWUuc2xpY2UoYSksbC5zbGljZSgxKX1mdW5jdGlvbiBuUyhlLHQscixuKXt2YXIgbyxhLGkscz0iIixsPWUudGFnO2ZvcihvPTAsYT1yLmxlbmd0aDtvPGE7bys9MSlpPXJbb10sZS5yZXBsYWNlciYmKGk9ZS5yZXBsYWNlci5jYWxsKHIsU3RyaW5nKG8pLGkpKSwoYVMoZSx0KzEsaSwhMCwhMCwhMSwhMCl8fHZvaWQgMD09PWkmJmFTKGUsdCsxLG51bGwsITAsITAsITEsITApKSYmKG4mJiIiPT09c3x8KHMrPVZrKGUsdCkpLGUuZHVtcCYmMTA9PT1lLmR1bXAuY2hhckNvZGVBdCgwKT9zKz0iLSI6cys9Ii0gIixzKz1lLmR1bXApO2UudGFnPWwsZS5kdW1wPXN8fCJbXSJ9ZnVuY3Rpb24gb1MoZSx0LHIpe3ZhciBuLG8sYSxpLHMsbDtmb3IoYT0wLGk9KG89cj9lLmV4cGxpY2l0VHlwZXM6ZS5pbXBsaWNpdFR5cGVzKS5sZW5ndGg7YTxpO2ErPTEpaWYoKChzPW9bYV0pLmluc3RhbmNlT2Z8fHMucHJlZGljYXRlKSYmKCFzLmluc3RhbmNlT2Z8fCJvYmplY3QiPT10eXBlb2YgdCYmdCBpbnN0YW5jZW9mIHMuaW5zdGFuY2VPZikmJighcy5wcmVkaWNhdGV8fHMucHJlZGljYXRlKHQpKSl7aWYocj9zLm11bHRpJiZzLnJlcHJlc2VudE5hbWU/ZS50YWc9cy5yZXByZXNlbnROYW1lKHQpOmUudGFnPXMudGFnOmUudGFnPSI/IixzLnJlcHJlc2VudCl7aWYobD1lLnN0eWxlTWFwW3MudGFnXXx8cy5kZWZhdWx0U3R5bGUsIltvYmplY3QgRnVuY3Rpb25dIj09PUJrLmNhbGwocy5yZXByZXNlbnQpKW49cy5yZXByZXNlbnQodCxsKTtlbHNle2lmKCFOay5jYWxsKHMucmVwcmVzZW50LGwpKXRocm93IG5ldyBiJCgiITwiK3MudGFnKyc+IHRhZyByZXNvbHZlciBhY2NlcHRzIG5vdCAiJytsKyciIHN0eWxlJyk7bj1zLnJlcHJlc2VudFtsXSh0LGwpfWUuZHVtcD1ufXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGFTKGUsdCxyLG4sbyxhLGkpe2UudGFnPW51bGwsZS5kdW1wPXIsb1MoZSxyLCExKXx8b1MoZSxyLCEwKTt2YXIgcyxsPUJrLmNhbGwoZS5kdW1wKSxjPW47biYmKG49ZS5mbG93TGV2ZWw8MHx8ZS5mbG93TGV2ZWw+dCk7dmFyIHAsZCx1PSJbb2JqZWN0IE9iamVjdF0iPT09bHx8IltvYmplY3QgQXJyYXldIj09PWw7aWYodSYmKGQ9LTEhPT0ocD1lLmR1cGxpY2F0ZXMuaW5kZXhPZihyKSkpLChudWxsIT09ZS50YWcmJiI/IiE9PWUudGFnfHxkfHwyIT09ZS5pbmRlbnQmJnQ+MCkmJihvPSExKSxkJiZlLnVzZWREdXBsaWNhdGVzW3BdKWUuZHVtcD0iKnJlZl8iK3A7ZWxzZXtpZih1JiZkJiYhZS51c2VkRHVwbGljYXRlc1twXSYmKGUudXNlZER1cGxpY2F0ZXNbcF09ITApLCJbb2JqZWN0IE9iamVjdF0iPT09bCluJiYwIT09T2JqZWN0LmtleXMoZS5kdW1wKS5sZW5ndGg/KGZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvLGEsaSxzLGwsYyxwPSIiLGQ9ZS50YWcsdT1PYmplY3Qua2V5cyhyKTtpZighMD09PWUuc29ydEtleXMpdS5zb3J0KCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5zb3J0S2V5cyl1LnNvcnQoZS5zb3J0S2V5cyk7ZWxzZSBpZihlLnNvcnRLZXlzKXRocm93IG5ldyBiJCgic29ydEtleXMgbXVzdCBiZSBhIGJvb2xlYW4gb3IgYSBmdW5jdGlvbiIpO2ZvcihvPTAsYT11Lmxlbmd0aDtvPGE7bys9MSljPSIiLG4mJiIiPT09cHx8KGMrPVZrKGUsdCkpLHM9cltpPXVbb11dLGUucmVwbGFjZXImJihzPWUucmVwbGFjZXIuY2FsbChyLGkscykpLGFTKGUsdCsxLGksITAsITAsITApJiYoKGw9bnVsbCE9PWUudGFnJiYiPyIhPT1lLnRhZ3x8ZS5kdW1wJiZlLmR1bXAubGVuZ3RoPjEwMjQpJiYoZS5kdW1wJiYxMD09PWUuZHVtcC5jaGFyQ29kZUF0KDApP2MrPSI/IjpjKz0iPyAiKSxjKz1lLmR1bXAsbCYmKGMrPVZrKGUsdCkpLGFTKGUsdCsxLHMsITAsbCkmJihlLmR1bXAmJjEwPT09ZS5kdW1wLmNoYXJDb2RlQXQoMCk/Yys9IjoiOmMrPSI6ICIscCs9Yys9ZS5kdW1wKSk7ZS50YWc9ZCxlLmR1bXA9cHx8Int9In0oZSx0LGUuZHVtcCxvKSxkJiYoZS5kdW1wPSImcmVmXyIrcCtlLmR1bXApKTooZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8sYSxpLHMsbD0iIixjPWUudGFnLHA9T2JqZWN0LmtleXMocik7Zm9yKG49MCxvPXAubGVuZ3RoO248bztuKz0xKXM9IiIsIiIhPT1sJiYocys9IiwgIiksZS5jb25kZW5zZUZsb3cmJihzKz0nIicpLGk9clthPXBbbl1dLGUucmVwbGFjZXImJihpPWUucmVwbGFjZXIuY2FsbChyLGEsaSkpLGFTKGUsdCxhLCExLCExKSYmKGUuZHVtcC5sZW5ndGg+MTAyNCYmKHMrPSI/ICIpLHMrPWUuZHVtcCsoZS5jb25kZW5zZUZsb3c/JyInOiIiKSsiOiIrKGUuY29uZGVuc2VGbG93PyIiOiIgIiksYVMoZSx0LGksITEsITEpJiYobCs9cys9ZS5kdW1wKSk7ZS50YWc9YyxlLmR1bXA9InsiK2wrIn0ifShlLHQsZS5kdW1wKSxkJiYoZS5kdW1wPSImcmVmXyIrcCsiICIrZS5kdW1wKSk7ZWxzZSBpZigiW29iamVjdCBBcnJheV0iPT09bCluJiYwIT09ZS5kdW1wLmxlbmd0aD8oZS5ub0FycmF5SW5kZW50JiYhaSYmdD4wP25TKGUsdC0xLGUuZHVtcCxvKTpuUyhlLHQsZS5kdW1wLG8pLGQmJihlLmR1bXA9IiZyZWZfIitwK2UuZHVtcCkpOihmdW5jdGlvbihlLHQscil7dmFyIG4sbyxhLGk9IiIscz1lLnRhZztmb3Iobj0wLG89ci5sZW5ndGg7bjxvO24rPTEpYT1yW25dLGUucmVwbGFjZXImJihhPWUucmVwbGFjZXIuY2FsbChyLFN0cmluZyhuKSxhKSksKGFTKGUsdCxhLCExLCExKXx8dm9pZCAwPT09YSYmYVMoZSx0LG51bGwsITEsITEpKSYmKCIiIT09aSYmKGkrPSIsIisoZS5jb25kZW5zZUZsb3c/IiI6IiAiKSksaSs9ZS5kdW1wKTtlLnRhZz1zLGUuZHVtcD0iWyIraSsiXSJ9KGUsdCxlLmR1bXApLGQmJihlLmR1bXA9IiZyZWZfIitwKyIgIitlLmR1bXApKTtlbHNle2lmKCJbb2JqZWN0IFN0cmluZ10iIT09bCl7aWYoIltvYmplY3QgVW5kZWZpbmVkXSI9PT1sKXJldHVybiExO2lmKGUuc2tpcEludmFsaWQpcmV0dXJuITE7dGhyb3cgbmV3IGIkKCJ1bmFjY2VwdGFibGUga2luZCBvZiBhbiBvYmplY3QgdG8gZHVtcCAiK2wpfSI/IiE9PWUudGFnJiZYayhlLGUuZHVtcCx0LGEsYyl9bnVsbCE9PWUudGFnJiYiPyIhPT1lLnRhZyYmKHM9ZW5jb2RlVVJJKCIhIj09PWUudGFnWzBdP2UudGFnLnNsaWNlKDEpOmUudGFnKS5yZXBsYWNlKC8hL2csIiUyMSIpLHM9IiEiPT09ZS50YWdbMF0/IiEiK3M6InRhZzp5YW1sLm9yZywyMDAyOiI9PT1zLnNsaWNlKDAsMTgpPyIhISIrcy5zbGljZSgxOCk6IiE8IitzKyI+IixlLmR1bXA9cysiICIrZS5kdW1wKX1yZXR1cm4hMH1mdW5jdGlvbiBpUyhlLHQpe3ZhciByLG4sbz1bXSxhPVtdO2ZvcihzUyhlLG8sYSkscj0wLG49YS5sZW5ndGg7cjxuO3IrPTEpdC5kdXBsaWNhdGVzLnB1c2gob1thW3JdXSk7dC51c2VkRHVwbGljYXRlcz1uZXcgQXJyYXkobil9ZnVuY3Rpb24gc1MoZSx0LHIpe3ZhciBuLG8sYTtpZihudWxsIT09ZSYmIm9iamVjdCI9PXR5cGVvZiBlKWlmKC0xIT09KG89dC5pbmRleE9mKGUpKSktMT09PXIuaW5kZXhPZihvKSYmci5wdXNoKG8pO2Vsc2UgaWYodC5wdXNoKGUpLEFycmF5LmlzQXJyYXkoZSkpZm9yKG89MCxhPWUubGVuZ3RoO288YTtvKz0xKXNTKGVbb10sdCxyKTtlbHNlIGZvcihvPTAsYT0obj1PYmplY3Qua2V5cyhlKSkubGVuZ3RoO288YTtvKz0xKXNTKGVbbltvXV0sdCxyKX1mdW5jdGlvbiBsUyhlLHQpe3JldHVybiBmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiRnVuY3Rpb24geWFtbC4iK2UrIiBpcyByZW1vdmVkIGluIGpzLXlhbWwgNC4gVXNlIHlhbWwuIit0KyIgaW5zdGVhZCwgd2hpY2ggaXMgbm93IHNhZmUgYnkgZGVmYXVsdC4iKX19dmFyIGNTPXtUeXBlOlMkLFNjaGVtYTpPJCxGQUlMU0FGRV9TQ0hFTUE6SSQsSlNPTl9TQ0hFTUE6cSQsQ09SRV9TQ0hFTUE6VSQsREVGQVVMVF9TQ0hFTUE6dGssbG9hZDpEay5sb2FkLGxvYWRBbGw6RGsubG9hZEFsbCxkdW1wOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEhrKHQ9dHx8e30pO3Iubm9SZWZzfHxpUyhlLHIpO3ZhciBuPWU7cmV0dXJuIHIucmVwbGFjZXImJihuPXIucmVwbGFjZXIuY2FsbCh7IiI6bn0sIiIsbikpLGFTKHIsMCxuLCEwLCEwKT9yLmR1bXArIlxuIjoiIn0sWUFNTEV4Y2VwdGlvbjpiJCx0eXBlczp7YmluYXJ5OkckLGZsb2F0Ok4kLG1hcDpqJCxudWxsOl8kLHBhaXJzOlEkLHNldDplayx0aW1lc3RhbXA6SCQsYm9vbDpQJCxpbnQ6RiQsbWVyZ2U6VyQsb21hcDpZJCxzZXE6QyQsc3RyOlQkfSxzYWZlTG9hZDpsUygic2FmZUxvYWQiLCJsb2FkIiksc2FmZUxvYWRBbGw6bFMoInNhZmVMb2FkQWxsIiwibG9hZEFsbCIpLHNhZmVEdW1wOmxTKCJzYWZlRHVtcCIsImR1bXAiKX07Y29uc3QgcFM9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6d2luZG93LHtGb3JtRGF0YTpkUyxCbG9iOnVTLEZpbGU6aFN9PXBTO2Z1bmN0aW9uIGZTKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihraChlKSlyZXR1cm4gT2YoZSl9KGUpfHxmdW5jdGlvbihlKXtpZih2b2lkIDAhPT10aCYmbnVsbCE9d2goZSl8fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gRWYoZSl9KGUpfHxUZihlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1jb25zdCBtUz11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1NaCk7dmFyIHlTPWZ1bmN0aW9uKGUpe3JldHVybiI6Lz8jW11AISQmJygpKissOz0iLmluZGV4T2YoZSk+LTF9LGdTPWZ1bmN0aW9uKGUpe3JldHVybi9eW2EtejAtOVwtLl9+XSskL2kudGVzdChlKX07ZnVuY3Rpb24gdlMoZSl7dmFyIHQscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1yLmVzY2FwZSxvPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmKGU9ZS50b1N0cmluZygpKSwic3RyaW5nIj09dHlwZW9mIGUmJmUubGVuZ3RoJiZuP28/SlNPTi5wYXJzZShlKTpUYih0PWZTKGUpKS5jYWxsKHQsKGZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZ1MoZSkpcmV0dXJuIGU7aWYoeVMoZSkmJiJ1bnNhZmUiPT09bilyZXR1cm4gZTt2YXIgbz1uZXcgVGV4dEVuY29kZXI7cmV0dXJuIFRiKHQ9VGIocj1yYihvLmVuY29kZShlKSkpLmNhbGwociwoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG1TKHQ9IjAiLmNvbmNhdChlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpKSkuY2FsbCh0LC0yKX0pKSkuY2FsbCh0LChmdW5jdGlvbihlKXtyZXR1cm4iJSIuY29uY2F0KGUpfSkpLmpvaW4oIiIpfSkpLmpvaW4oIiIpOmV9ZnVuY3Rpb24gYlMoZSl7dmFyIHQ9ZS52YWx1ZTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9mdW5jdGlvbihlKXt2YXIgdD1lLmtleSxyPWUudmFsdWUsbj1lLnN0eWxlLG89ZS5leHBsb2RlLGE9ZS5lc2NhcGUsaT1mdW5jdGlvbihlKXtyZXR1cm4gdlMoZSx7ZXNjYXBlOmF9KX07aWYoInNpbXBsZSI9PT1uKXJldHVybiBUYihyKS5jYWxsKHIsKGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSkpLmpvaW4oIiwiKTtpZigibGFiZWwiPT09bilyZXR1cm4iLiIuY29uY2F0KFRiKHIpLmNhbGwociwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSkuam9pbigiLiIpKTtpZigibWF0cml4Ij09PW4pcmV0dXJuIFRiKHIpLmNhbGwociwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBuLGEsaTtyZXR1cm4hZXx8bz9SYihhPVJiKGk9IiIuY29uY2F0KGV8fCIiLCI7IikpLmNhbGwoaSx0LCI9IikpLmNhbGwoYSxyKTpSYihuPSIiLmNvbmNhdChlLCIsIikpLmNhbGwobixyKX0pLCIiKTtpZigiZm9ybSI9PT1uKXt2YXIgcz1vPyImIi5jb25jYXQodCwiPSIpOiIsIjtyZXR1cm4gVGIocikuY2FsbChyLChmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pKS5qb2luKHMpfWlmKCJzcGFjZURlbGltaXRlZCI9PT1uKXt2YXIgbD1vPyIiLmNvbmNhdCh0LCI9Iik6IiI7cmV0dXJuIFRiKHIpLmNhbGwociwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSkuam9pbigiICIuY29uY2F0KGwpKX1pZigicGlwZURlbGltaXRlZCI9PT1uKXt2YXIgYz1vPyIiLmNvbmNhdCh0LCI9Iik6IiI7cmV0dXJuIFRiKHIpLmNhbGwociwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSkuam9pbigifCIuY29uY2F0KGMpKX19KGUpOiJvYmplY3QiPT09X2YodCk/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkscj1lLnZhbHVlLG49ZS5zdHlsZSxvPWUuZXhwbG9kZSxhPWUuZXNjYXBlLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHZTKGUse2VzY2FwZTphfSl9LHM9Q2Iocik7cmV0dXJuInNpbXBsZSI9PT1uP3MucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuLGEscyxsPWkoclt0XSksYz1vPyI9IjoiLCIscD1lPyIiLmNvbmNhdChlLCIsIik6IiI7cmV0dXJuIFJiKG49UmIoYT1SYihzPSIiLmNvbmNhdChwKSkuY2FsbChzLHQpKS5jYWxsKGEsYykpLmNhbGwobixsKX0pLCIiKToibGFiZWwiPT09bj9zLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbixhLHMsbD1pKHJbdF0pLGM9bz8iPSI6Ii4iLHA9ZT8iIi5jb25jYXQoZSwiLiIpOiIuIjtyZXR1cm4gUmIobj1SYihhPVJiKHM9IiIuY29uY2F0KHApKS5jYWxsKHMsdCkpLmNhbGwoYSxjKSkuY2FsbChuLGwpfSksIiIpOiJtYXRyaXgiPT09biYmbz9zLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbixvLGE9aShyW3RdKSxzPWU/IiIuY29uY2F0KGUsIjsiKToiOyI7cmV0dXJuIFJiKG49UmIobz0iIi5jb25jYXQocykpLmNhbGwobyx0LCI9IikpLmNhbGwobixhKX0pLCIiKToibWF0cml4Ij09PW4/cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIG8sYSxzPWkocltuXSksbD1lPyIiLmNvbmNhdChlLCIsIik6IjsiLmNvbmNhdCh0LCI9Iik7cmV0dXJuIFJiKG89UmIoYT0iIi5jb25jYXQobCkpLmNhbGwoYSxuLCIsIikpLmNhbGwobyxzKX0pLCIiKToiZm9ybSI9PT1uP3MucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuLGEscyxsLGM9aShyW3RdKSxwPWU/UmIobj0iIi5jb25jYXQoZSkpLmNhbGwobixvPyImIjoiLCIpOiIiLGQ9bz8iPSI6IiwiO3JldHVybiBSYihhPVJiKHM9UmIobD0iIi5jb25jYXQocCkpLmNhbGwobCx0KSkuY2FsbChzLGQpKS5jYWxsKGEsYyl9KSwiIik6dm9pZCAwfShlKTpmdW5jdGlvbihlKXt2YXIgdCxyPWUua2V5LG49ZS52YWx1ZSxvPWUuc3R5bGUsYT1lLmVzY2FwZSxpPWZ1bmN0aW9uKGUpe3JldHVybiB2UyhlLHtlc2NhcGU6YX0pfTtyZXR1cm4ic2ltcGxlIj09PW8/aShuKToibGFiZWwiPT09bz8iLiIuY29uY2F0KGkobikpOiJtYXRyaXgiPT09bz9SYih0PSI7Ii5jb25jYXQociwiPSIpKS5jYWxsKHQsaShuKSk6ImZvcm0iPT09b3x8ImRlZXBPYmplY3QiPT09bz9pKG4pOnZvaWQgMH0oZSl9dmFyIHhTPWZ1bmN0aW9uKGUsdCl7dC5ib2R5PWV9LHdTPXtzZXJpYWxpemVSZXM6RVMsbWVyZ2VJblF1ZXJ5T3JGb3JtOkRTfTtmdW5jdGlvbiAkUyhlKXtyZXR1cm4ga1MuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGtTKCl7cmV0dXJuIGtTPWp2KF92Lm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHIsbixvLGEsaSxzPWFyZ3VtZW50cztyZXR1cm4gX3Yud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYocj1zLmxlbmd0aD4xJiZ2b2lkIDAhPT1zWzFdP3NbMV06e30sIm9iamVjdCI9PT1fZih0KSYmKHQ9KHI9dCkudXJsKSxyLmhlYWRlcnM9ci5oZWFkZXJzfHx7fSx3Uy5tZXJnZUluUXVlcnlPckZvcm0ociksci5oZWFkZXJzJiZDYihyLmhlYWRlcnMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXIuaGVhZGVyc1tlXTsic3RyaW5nIj09dHlwZW9mIHQmJihyLmhlYWRlcnNbZV09dC5yZXBsYWNlKC9cbisvZywiICIpKX0pKSwhci5yZXF1ZXN0SW50ZXJjZXB0b3Ipe2UubmV4dD0xMjticmVha31yZXR1cm4gZS5uZXh0PTgsci5yZXF1ZXN0SW50ZXJjZXB0b3Iocik7Y2FzZSA4OmlmKGUudDA9ZS5zZW50LGUudDApe2UubmV4dD0xMTticmVha31lLnQwPXI7Y2FzZSAxMTpyPWUudDA7Y2FzZSAxMjpyZXR1cm4gbj1yLmhlYWRlcnNbImNvbnRlbnQtdHlwZSJdfHxyLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdLC9tdWx0aXBhcnRcL2Zvcm0tZGF0YS9pLnRlc3QobikmJnIuYm9keSBpbnN0YW5jZW9mIGRTJiYoZGVsZXRlIHIuaGVhZGVyc1siY29udGVudC10eXBlIl0sZGVsZXRlIHIuaGVhZGVyc1siQ29udGVudC1UeXBlIl0pLGUucHJldj0xNCxlLm5leHQ9MTcsKHIudXNlckZldGNofHxmZXRjaCkoci51cmwscik7Y2FzZSAxNzpyZXR1cm4gbz1lLnNlbnQsZS5uZXh0PTIwLHdTLnNlcmlhbGl6ZVJlcyhvLHQscik7Y2FzZSAyMDppZihvPWUuc2VudCwhci5yZXNwb25zZUludGVyY2VwdG9yKXtlLm5leHQ9Mjg7YnJlYWt9cmV0dXJuIGUubmV4dD0yNCxyLnJlc3BvbnNlSW50ZXJjZXB0b3Iobyk7Y2FzZSAyNDppZihlLnQxPWUuc2VudCxlLnQxKXtlLm5leHQ9Mjc7YnJlYWt9ZS50MT1vO2Nhc2UgMjc6bz1lLnQxO2Nhc2UgMjg6ZS5uZXh0PTM5O2JyZWFrO2Nhc2UgMzA6aWYoZS5wcmV2PTMwLGUudDI9ZS5jYXRjaCgxNCksbyl7ZS5uZXh0PTM0O2JyZWFrfXRocm93IGUudDI7Y2FzZSAzNDp0aHJvdyhhPW5ldyBFcnJvcihvLnN0YXR1c1RleHR8fCJyZXNwb25zZSBzdGF0dXMgaXMgIi5jb25jYXQoby5zdGF0dXMpKSkuc3RhdHVzPW8uc3RhdHVzLGEuc3RhdHVzQ29kZT1vLnN0YXR1cyxhLnJlc3BvbnNlRXJyb3I9ZS50MixhO2Nhc2UgMzk6aWYoby5vayl7ZS5uZXh0PTQ1O2JyZWFrfXRocm93KGk9bmV3IEVycm9yKG8uc3RhdHVzVGV4dHx8InJlc3BvbnNlIHN0YXR1cyBpcyAiLmNvbmNhdChvLnN0YXR1cykpKS5zdGF0dXM9by5zdGF0dXMsaS5zdGF0dXNDb2RlPW8uc3RhdHVzLGkucmVzcG9uc2U9byxpO2Nhc2UgNDU6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLG8pO2Nhc2UgNDY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1sxNCwzMF1dKX0pKSksa1MuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBTUz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToiIjtyZXR1cm4vKGpzb258eG1sfHlhbWx8dGV4dClcYi8udGVzdChlKX07ZnVuY3Rpb24gQVMoZSx0KXtyZXR1cm4gdCYmKDA9PT10LmluZGV4T2YoImFwcGxpY2F0aW9uL2pzb24iKXx8dC5pbmRleE9mKCIranNvbiIpPjApP0pTT04ucGFyc2UoZSk6Y1MubG9hZChlKX1mdW5jdGlvbiBFUyhlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIubG9hZFNwZWMsbz12b2lkIDAhPT1uJiZuLGE9e29rOmUub2ssdXJsOmUudXJsfHx0LHN0YXR1czplLnN0YXR1cyxzdGF0dXNUZXh0OmUuc3RhdHVzVGV4dCxoZWFkZXJzOlRTKGUuaGVhZGVycyl9LGk9YS5oZWFkZXJzWyJjb250ZW50LXR5cGUiXSxzPW98fFNTKGkpLGw9cz9lLnRleHQ6ZS5ibG9ifHxlLmJ1ZmZlcjtyZXR1cm4gbC5jYWxsKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKGEudGV4dD1lLGEuZGF0YT1lLHMpdHJ5e3ZhciB0PUFTKGUsaSk7YS5ib2R5PXQsYS5vYmo9dH1jYXRjaChlKXthLnBhcnNlRXJyb3I9ZX1yZXR1cm4gYX0pKX1mdW5jdGlvbiBPUyhlKXtyZXR1cm4gR3YoZSkuY2FsbChlLCIsICIpP2Uuc3BsaXQoIiwgIik6ZX1mdW5jdGlvbiBUUygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgdGIoZSk/e306cmIodGIoZSkuY2FsbChlKSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPVBmKHQsMiksbj1yWzBdLG89clsxXTtyZXR1cm4gZVtuXT1PUyhvKSxlfSkse30pfWZ1bmN0aW9uIENTKGUsdCl7cmV0dXJuIHR8fCJ1bmRlZmluZWQiPT10eXBlb2YgbmF2aWdhdG9yfHwodD1uYXZpZ2F0b3IpLHQmJiJSZWFjdE5hdGl2ZSI9PT10LnByb2R1Y3Q/ISghZXx8Im9iamVjdCIhPT1fZihlKXx8InN0cmluZyIhPXR5cGVvZiBlLnVyaSk6dm9pZCAwIT09aFMmJmUgaW5zdGFuY2VvZiBoU3x8dm9pZCAwIT09dVMmJmUgaW5zdGFuY2VvZiB1U3x8ISFBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fG51bGwhPT1lJiYib2JqZWN0Ij09PV9mKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5waXBlfWZ1bmN0aW9uIGpTKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIENTKGUsdCl9KSl9dmFyIElTPXtmb3JtOiIsIixzcGFjZURlbGltaXRlZDoiJTIwIixwaXBlRGVsaW1pdGVkOiJ8In0sX1M9e2NzdjoiLCIsc3N2OiIlMjAiLHRzdjoiJTA5IixwaXBlczoifCJ9O2Z1bmN0aW9uIFBTKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxuPXQuY29sbGVjdGlvbkZvcm1hdCxvPXQuYWxsb3dFbXB0eVZhbHVlLGE9dC5zZXJpYWxpemF0aW9uT3B0aW9uLGk9dC5lbmNvZGluZyxzPSJvYmplY3QiIT09X2YodCl8fEFycmF5LmlzQXJyYXkodCk/dDp0LnZhbHVlLGw9cj9mdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpfTpmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSxjPWwoZSk7aWYodm9pZCAwPT09cyYmbylyZXR1cm5bW2MsIiJdXTtpZihDUyhzKXx8alMocykpcmV0dXJuW1tjLHNdXTtpZihhKXJldHVybiBSUyhlLHMscixhKTtpZihpKXtpZihbX2YoaS5zdHlsZSksX2YoaS5leHBsb2RlKSxfZihpLmFsbG93UmVzZXJ2ZWQpXS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9PWV9KSkpe3ZhciBwPWkuc3R5bGUsZD1pLmV4cGxvZGUsdT1pLmFsbG93UmVzZXJ2ZWQ7cmV0dXJuIFJTKGUscyxyLHtzdHlsZTpwLGV4cGxvZGU6ZCxhbGxvd1Jlc2VydmVkOnV9KX1pZihpLmNvbnRlbnRUeXBlKXtpZigiYXBwbGljYXRpb24vanNvbiI9PT1pLmNvbnRlbnRUeXBlKXt2YXIgaD0ic3RyaW5nIj09dHlwZW9mIHM/czokYihzKTtyZXR1cm5bW2MsbChoKV1dfXJldHVybltbYyxsKHMudG9TdHJpbmcoKSldXX1yZXR1cm4ib2JqZWN0IiE9PV9mKHMpP1tbYyxsKHMpXV06QXJyYXkuaXNBcnJheShzKSYmcy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCIhPT1fZihlKX0pKT9bW2MsVGIocykuY2FsbChzLGwpLmpvaW4oIiwiKV1dOltbYyxsKCRiKHMpKV1dfXJldHVybiJvYmplY3QiIT09X2Yocyk/W1tjLGwocyldXTpBcnJheS5pc0FycmF5KHMpPyJtdWx0aSI9PT1uP1tbYyxUYihzKS5jYWxsKHMsbCldXTpbW2MsVGIocykuY2FsbChzLGwpLmpvaW4oX1Nbbnx8ImNzdiJdKV1dOltbYywiIl1dfWZ1bmN0aW9uIFJTKGUsdCxyLG4pe3ZhciBvLGEsaSxzPW4uc3R5bGV8fCJmb3JtIixsPXZvaWQgMD09PW4uZXhwbG9kZT8iZm9ybSI9PT1zOm4uZXhwbG9kZSxjPSFyJiYobiYmbi5hbGxvd1Jlc2VydmVkPyJ1bnNhZmUiOiJyZXNlcnZlZCIpLHA9ZnVuY3Rpb24oZSl7cmV0dXJuIHZTKGUse2VzY2FwZTpjfSl9LGQ9cj9mdW5jdGlvbihlKXtyZXR1cm4gZX06ZnVuY3Rpb24oZSl7cmV0dXJuIHZTKGUse2VzY2FwZTpjfSl9O3JldHVybiJvYmplY3QiIT09X2YodCk/W1tkKGUpLHAodCldXTpBcnJheS5pc0FycmF5KHQpP2w/W1tkKGUpLFRiKHQpLmNhbGwodCxwKV1dOltbZChlKSxUYih0KS5jYWxsKHQscCkuam9pbihJU1tzXSldXToiZGVlcE9iamVjdCI9PT1zP1RiKGE9Q2IodCkpLmNhbGwoYSwoZnVuY3Rpb24ocil7dmFyIG47cmV0dXJuW2QoUmIobj0iIi5jb25jYXQoZSwiWyIpKS5jYWxsKG4sciwiXSIpKSxwKHRbcl0pXX0pKTpsP1RiKGk9Q2IodCkpLmNhbGwoaSwoZnVuY3Rpb24oZSl7cmV0dXJuW2QoZSkscCh0W2VdKV19KSk6W1tkKGUpLFRiKG89Q2IodCkpLmNhbGwobywoZnVuY3Rpb24oZSl7dmFyIHI7cmV0dXJuW1JiKHI9IiIuY29uY2F0KGQoZSksIiwiKSkuY2FsbChyLHAodFtlXSkpXX0pKS5qb2luKCIsIildXX1mdW5jdGlvbiBMUyhlKXtyZXR1cm4gSGIoZSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByLG49UGYodCwyKSxvPUNmKFBTKG5bMF0sblsxXSwhMCkpO3RyeXtmb3Ioby5zKCk7IShyPW8ubigpKS5kb25lOyl7dmFyIGE9UGYoci52YWx1ZSwyKSxpPWFbMF0scz1hWzFdO2lmKEFycmF5LmlzQXJyYXkocykpe3ZhciBsLGM9Q2Yocyk7dHJ5e2ZvcihjLnMoKTshKGw9Yy5uKCkpLmRvbmU7KXt2YXIgcD1sLnZhbHVlO2lmKEFycmF5QnVmZmVyLmlzVmlldyhwKSl7dmFyIGQ9bmV3IHVTKFtwXSk7ZS5hcHBlbmQoaSxkKX1lbHNlIGUuYXBwZW5kKGkscCl9fWNhdGNoKGUpe2MuZShlKX1maW5hbGx5e2MuZigpfX1lbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhzKSl7dmFyIHU9bmV3IHVTKFtzXSk7ZS5hcHBlbmQoaSx1KX1lbHNlIGUuYXBwZW5kKGkscyl9fWNhdGNoKGUpe28uZShlKX1maW5hbGx5e28uZigpfXJldHVybiBlfSksbmV3IGRTKX1mdW5jdGlvbiBGUyhlKXt2YXIgdD1DYihlKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7dmFyIG4sbz1DZihQUyhyLGVbcl0pKTt0cnl7Zm9yKG8ucygpOyEobj1vLm4oKSkuZG9uZTspe3ZhciBhPVBmKG4udmFsdWUsMiksaT1hWzBdLHM9YVsxXTt0W2ldPXN9fWNhdGNoKGUpe28uZShlKX1maW5hbGx5e28uZigpfXJldHVybiB0fSkse30pO3JldHVybiBmJCh0LHtlbmNvZGU6ITEsaW5kaWNlczohMX0pfHwiIn1mdW5jdGlvbiBEUygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUudXJsLHI9dm9pZCAwPT09dD8iIjp0LG49ZS5xdWVyeSxvPWUuZm9ybSxhPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07dmFyIG49V2IodCkuY2FsbCh0LChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKS5qb2luKCImIik7cmV0dXJuIG4/Ij8iLmNvbmNhdChuKToiIn07aWYobyl7dmFyIGk9Q2Iobykuc29tZSgoZnVuY3Rpb24oZSl7dmFyIHQ9b1tlXS52YWx1ZTtyZXR1cm4gQ1ModCl8fGpTKHQpfSkpLHM9ZS5oZWFkZXJzWyJjb250ZW50LXR5cGUiXXx8ZS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXTtpZihpfHwvbXVsdGlwYXJ0XC9mb3JtLWRhdGEvaS50ZXN0KHMpKXt2YXIgbD1MUyhlLmZvcm0pO3hTKGwsZSl9ZWxzZSBlLmJvZHk9RlMobyk7ZGVsZXRlIGUuZm9ybX1pZihuKXt2YXIgYz1yLnNwbGl0KCI/IikscD1QZihjLDIpLGQ9cFswXSx1PXBbMV0saD0iIjtpZih1KXt2YXIgZj1oJCh1KSxtPUNiKG4pO20uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGRlbGV0ZSBmW2VdfSkpLGg9ZiQoZix7ZW5jb2RlOiEwfSl9dmFyIHk9YShoLEZTKG4pKTtlLnVybD1kK3ksZGVsZXRlIGUucXVlcnl9cmV0dXJuIGV9ZnVuY3Rpb24gQlMoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBOUyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksQWQoZSxuLmtleSxuKX19ZnVuY3Rpb24gcVMoZSx0LHIpe3JldHVybiB0JiZOUyhlLnByb3RvdHlwZSx0KSxyJiZOUyhlLHIpLEFkKGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksZX12YXIgVVM9Q28selM9THMuZmluZCxNUz0hMDsiZmluZCJpbltdJiZBcnJheSgxKS5maW5kKChmdW5jdGlvbigpe01TPSExfSkpLFVTKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6TVN9LHtmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB6Uyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBIUz1zYygiQXJyYXkiKS5maW5kLFdTPXByLFZTPUhTLEdTPUFycmF5LnByb3RvdHlwZTtjb25zdCBLUz11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbmQ7cmV0dXJuIGU9PT1HU3x8V1MoR1MsZSkmJnQ9PT1HUy5maW5kP1ZTOnR9KTtjb25zdCBKUz11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1Tdik7dmFyIFlTPUNvLFpTPWZ0LFFTPUZvLFhTPV9vLGVBPVVvLHRBPUtyLHJBPU9zLG5BPXRpLG9BPW9jKCJzcGxpY2UiKSxhQT1aUy5UeXBlRXJyb3IsaUE9TWF0aC5tYXgsc0E9TWF0aC5taW47WVMoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDohb0F9LHtzcGxpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG8sYSxpLHMsbD10QSh0aGlzKSxjPWVBKGwpLHA9UVMoZSxjKSxkPWFyZ3VtZW50cy5sZW5ndGg7aWYoMD09PWQ/cj1uPTA6MT09PWQ/KHI9MCxuPWMtcCk6KHI9ZC0yLG49c0EoaUEoWFModCksMCksYy1wKSksYytyLW4+OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBhQSgiTWF4aW11bSBhbGxvd2VkIGxlbmd0aCBleGNlZWRlZCIpO2ZvcihvPXJBKGwsbiksYT0wO2E8bjthKyspKGk9cCthKWluIGwmJm5BKG8sYSxsW2ldKTtpZihvLmxlbmd0aD1uLHI8bil7Zm9yKGE9cDthPGMtbjthKyspcz1hK3IsKGk9YStuKWluIGw/bFtzXT1sW2ldOmRlbGV0ZSBsW3NdO2ZvcihhPWM7YT5jLW4rcjthLS0pZGVsZXRlIGxbYS0xXX1lbHNlIGlmKHI+bilmb3IoYT1jLW47YT5wO2EtLSlzPWErci0xLChpPWErbi0xKWluIGw/bFtzXT1sW2ldOmRlbGV0ZSBsW3NdO2ZvcihhPTA7YTxyO2ErKylsW2ErcF09YXJndW1lbnRzW2ErMl07cmV0dXJuIGwubGVuZ3RoPWMtbityLG99fSk7dmFyIGxBPXNjKCJBcnJheSIpLnNwbGljZSxjQT1wcixwQT1sQSxkQT1BcnJheS5wcm90b3R5cGU7Y29uc3QgdUE9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpY2U7cmV0dXJuIGU9PT1kQXx8Y0EoZEEsZSkmJnQ9PT1kQS5zcGxpY2U/cEE6dH0pO3ZhciBoQSxmQT1nbG9iYWxUaGlzJiZnbG9iYWxUaGlzLl9fZXh0ZW5kc3x8KGhBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhBPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJihlW3JdPXRbcl0pfSxoQShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aEEoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxtQT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIHlBKGUsdCl7cmV0dXJuIG1BLmNhbGwoZSx0KX1mdW5jdGlvbiBnQShlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9bmV3IEFycmF5KGUubGVuZ3RoKSxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXT0iIityO3JldHVybiB0fWlmKE9iamVjdC5rZXlzKXJldHVybiBPYmplY3Qua2V5cyhlKTtmb3IodmFyIG4gaW4gdD1bXSxlKXlBKGUsbikmJnQucHVzaChuKTtyZXR1cm4gdH1mdW5jdGlvbiB2QShlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2Uib2JqZWN0IjpyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7Y2FzZSJ1bmRlZmluZWQiOnJldHVybiBudWxsO2RlZmF1bHQ6cmV0dXJuIGV9fWZ1bmN0aW9uIGJBKGUpe2Zvcih2YXIgdCxyPTAsbj1lLmxlbmd0aDtyPG47KXtpZighKCh0PWUuY2hhckNvZGVBdChyKSk+PTQ4JiZ0PD01NykpcmV0dXJuITE7cisrfXJldHVybiEwfWZ1bmN0aW9uIHhBKGUpe3JldHVybi0xPT09ZS5pbmRleE9mKCIvIikmJi0xPT09ZS5pbmRleE9mKCJ+Iik/ZTplLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpfWZ1bmN0aW9uIHdBKGUpe3JldHVybiBlLnJlcGxhY2UoL34xL2csIi8iKS5yZXBsYWNlKC9+MC9nLCJ+Iil9ZnVuY3Rpb24gJEEoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4hMDtpZihlKWlmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9ZS5sZW5ndGg7dDxyO3QrKylpZigkQShlW3RdKSlyZXR1cm4hMH1lbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgZSl7dmFyIG49Z0EoZSksbz1uLmxlbmd0aDtmb3IodD0wO3Q8bzt0KyspaWYoJEEoZVtuW3RdXSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24ga0EoZSx0KXt2YXIgcj1bZV07Zm9yKHZhciBuIGluIHQpe3ZhciBvPSJvYmplY3QiPT10eXBlb2YgdFtuXT9KU09OLnN0cmluZ2lmeSh0W25dLG51bGwsMik6dFtuXTt2b2lkIDAhPT1vJiZyLnB1c2gobisiOiAiK28pfXJldHVybiByLmpvaW4oIlxuIil9dmFyIFNBPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLG4sbyxhKXt2YXIgaT10aGlzLmNvbnN0cnVjdG9yLHM9ZS5jYWxsKHRoaXMsa0EodCx7bmFtZTpyLGluZGV4Om4sb3BlcmF0aW9uOm8sdHJlZTphfSkpfHx0aGlzO3JldHVybiBzLm5hbWU9cixzLmluZGV4PW4scy5vcGVyYXRpb249byxzLnRyZWU9YSxPYmplY3Quc2V0UHJvdG90eXBlT2YocyxpLnByb3RvdHlwZSkscy5tZXNzYWdlPWtBKHQse25hbWU6cixpbmRleDpuLG9wZXJhdGlvbjpvLHRyZWU6YX0pLHN9cmV0dXJuIGZBKHQsZSksdH0oRXJyb3IpLEFBPVNBLEVBPXZBLE9BPXthZGQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXRoaXMudmFsdWUse25ld0RvY3VtZW50OnJ9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWVbdF07cmV0dXJuIGRlbGV0ZSBlW3RdLHtuZXdEb2N1bWVudDpyLHJlbW92ZWQ6bn19LHJlcGxhY2U6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWVbdF07cmV0dXJuIGVbdF09dGhpcy52YWx1ZSx7bmV3RG9jdW1lbnQ6cixyZW1vdmVkOm59fSxtb3ZlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1DQShyLHRoaXMucGF0aCk7biYmKG49dkEobikpO3ZhciBvPWpBKHIse29wOiJyZW1vdmUiLHBhdGg6dGhpcy5mcm9tfSkucmVtb3ZlZDtyZXR1cm4gakEocix7b3A6ImFkZCIscGF0aDp0aGlzLnBhdGgsdmFsdWU6b30pLHtuZXdEb2N1bWVudDpyLHJlbW92ZWQ6bn19LGNvcHk6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPUNBKHIsdGhpcy5mcm9tKTtyZXR1cm4gakEocix7b3A6ImFkZCIscGF0aDp0aGlzLnBhdGgsdmFsdWU6dkEobil9KSx7bmV3RG9jdW1lbnQ6cn19LHRlc3Q6ZnVuY3Rpb24oZSx0LHIpe3JldHVybntuZXdEb2N1bWVudDpyLHRlc3Q6UkEoZVt0XSx0aGlzLnZhbHVlKX19LF9nZXQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnZhbHVlPWVbdF0se25ld0RvY3VtZW50OnJ9fX0sVEE9e2FkZDpmdW5jdGlvbihlLHQscil7cmV0dXJuIGJBKHQpP2Uuc3BsaWNlKHQsMCx0aGlzLnZhbHVlKTplW3RdPXRoaXMudmFsdWUse25ld0RvY3VtZW50OnIsaW5kZXg6dH19LHJlbW92ZTpmdW5jdGlvbihlLHQscil7cmV0dXJue25ld0RvY3VtZW50OnIscmVtb3ZlZDplLnNwbGljZSh0LDEpWzBdfX0scmVwbGFjZTpmdW5jdGlvbihlLHQscil7dmFyIG49ZVt0XTtyZXR1cm4gZVt0XT10aGlzLnZhbHVlLHtuZXdEb2N1bWVudDpyLHJlbW92ZWQ6bn19LG1vdmU6T0EubW92ZSxjb3B5Ok9BLmNvcHksdGVzdDpPQS50ZXN0LF9nZXQ6T0EuX2dldH07ZnVuY3Rpb24gQ0EoZSx0KXtpZigiIj09dClyZXR1cm4gZTt2YXIgcj17b3A6Il9nZXQiLHBhdGg6dH07cmV0dXJuIGpBKGUsciksci52YWx1ZX1mdW5jdGlvbiBqQShlLHQscixuLG8sYSl7aWYodm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PW4mJihuPSEwKSx2b2lkIDA9PT1vJiYobz0hMCksdm9pZCAwPT09YSYmKGE9MCksciYmKCJmdW5jdGlvbiI9PXR5cGVvZiByP3IodCwwLGUsdC5wYXRoKTpfQSh0LDApKSwiIj09PXQucGF0aCl7dmFyIGk9e25ld0RvY3VtZW50OmV9O2lmKCJhZGQiPT09dC5vcClyZXR1cm4gaS5uZXdEb2N1bWVudD10LnZhbHVlLGk7aWYoInJlcGxhY2UiPT09dC5vcClyZXR1cm4gaS5uZXdEb2N1bWVudD10LnZhbHVlLGkucmVtb3ZlZD1lLGk7aWYoIm1vdmUiPT09dC5vcHx8ImNvcHkiPT09dC5vcClyZXR1cm4gaS5uZXdEb2N1bWVudD1DQShlLHQuZnJvbSksIm1vdmUiPT09dC5vcCYmKGkucmVtb3ZlZD1lKSxpO2lmKCJ0ZXN0Ij09PXQub3Ape2lmKGkudGVzdD1SQShlLHQudmFsdWUpLCExPT09aS50ZXN0KXRocm93IG5ldyBBQSgiVGVzdCBvcGVyYXRpb24gZmFpbGVkIiwiVEVTVF9PUEVSQVRJT05fRkFJTEVEIixhLHQsZSk7cmV0dXJuIGkubmV3RG9jdW1lbnQ9ZSxpfWlmKCJyZW1vdmUiPT09dC5vcClyZXR1cm4gaS5yZW1vdmVkPWUsaS5uZXdEb2N1bWVudD1udWxsLGk7aWYoIl9nZXQiPT09dC5vcClyZXR1cm4gdC52YWx1ZT1lLGk7aWYocil0aHJvdyBuZXcgQUEoIk9wZXJhdGlvbiBgb3BgIHByb3BlcnR5IGlzIG5vdCBvbmUgb2Ygb3BlcmF0aW9ucyBkZWZpbmVkIGluIFJGQy02OTAyIiwiT1BFUkFUSU9OX09QX0lOVkFMSUQiLGEsdCxlKTtyZXR1cm4gaX1ufHwoZT12QShlKSk7dmFyIHM9KHQucGF0aHx8IiIpLnNwbGl0KCIvIiksbD1lLGM9MSxwPXMubGVuZ3RoLGQ9dm9pZCAwLHU9dm9pZCAwLGg9dm9pZCAwO2ZvcihoPSJmdW5jdGlvbiI9PXR5cGVvZiByP3I6X0E7Oyl7aWYoKHU9c1tjXSkmJi0xIT11LmluZGV4T2YoIn4iKSYmKHU9d0EodSkpLG8mJiJfX3Byb3RvX18iPT11KXRocm93IG5ldyBUeXBlRXJyb3IoIkpTT04tUGF0Y2g6IG1vZGlmeWluZyBgX19wcm90b19fYCBwcm9wIGlzIGJhbm5lZCBmb3Igc2VjdXJpdHkgcmVhc29ucywgaWYgdGhpcyB3YXMgb24gcHVycG9zZSwgcGxlYXNlIHNldCBgYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9uc2AgZmxhZyBmYWxzZSBhbmQgcGFzcyBpdCB0byB0aGlzIGZ1bmN0aW9uLiBNb3JlIGluZm8gaW4gZmFzdC1qc29uLXBhdGNoIFJFQURNRSIpO2lmKHImJnZvaWQgMD09PWQmJih2b2lkIDA9PT1sW3VdP2Q9cy5zbGljZSgwLGMpLmpvaW4oIi8iKTpjPT1wLTEmJihkPXQucGF0aCksdm9pZCAwIT09ZCYmaCh0LDAsZSxkKSksYysrLEFycmF5LmlzQXJyYXkobCkpe2lmKCItIj09PXUpdT1sLmxlbmd0aDtlbHNle2lmKHImJiFiQSh1KSl0aHJvdyBuZXcgQUEoIkV4cGVjdGVkIGFuIHVuc2lnbmVkIGJhc2UtMTAgaW50ZWdlciB2YWx1ZSwgbWFraW5nIHRoZSBuZXcgcmVmZXJlbmNlZCB2YWx1ZSB0aGUgYXJyYXkgZWxlbWVudCB3aXRoIHRoZSB6ZXJvLWJhc2VkIGluZGV4IiwiT1BFUkFUSU9OX1BBVEhfSUxMRUdBTF9BUlJBWV9JTkRFWCIsYSx0LGUpO2JBKHUpJiYodT1+fnUpfWlmKGM+PXApe2lmKHImJiJhZGQiPT09dC5vcCYmdT5sLmxlbmd0aCl0aHJvdyBuZXcgQUEoIlRoZSBzcGVjaWZpZWQgaW5kZXggTVVTVCBOT1QgYmUgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5IiwiT1BFUkFUSU9OX1ZBTFVFX09VVF9PRl9CT1VORFMiLGEsdCxlKTtpZighMT09PShpPVRBW3Qub3BdLmNhbGwodCxsLHUsZSkpLnRlc3QpdGhyb3cgbmV3IEFBKCJUZXN0IG9wZXJhdGlvbiBmYWlsZWQiLCJURVNUX09QRVJBVElPTl9GQUlMRUQiLGEsdCxlKTtyZXR1cm4gaX19ZWxzZSBpZihjPj1wKXtpZighMT09PShpPU9BW3Qub3BdLmNhbGwodCxsLHUsZSkpLnRlc3QpdGhyb3cgbmV3IEFBKCJUZXN0IG9wZXJhdGlvbiBmYWlsZWQiLCJURVNUX09QRVJBVElPTl9GQUlMRUQiLGEsdCxlKTtyZXR1cm4gaX1pZihsPWxbdV0sciYmYzxwJiYoIWx8fCJvYmplY3QiIT10eXBlb2YgbCkpdGhyb3cgbmV3IEFBKCJDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gYXQgdGhlIGRlc2lyZWQgcGF0aCIsIk9QRVJBVElPTl9QQVRIX1VOUkVTT0xWQUJMRSIsYSx0LGUpfX1mdW5jdGlvbiBJQShlLHQscixuLG8pe2lmKHZvaWQgMD09PW4mJihuPSEwKSx2b2lkIDA9PT1vJiYobz0hMCksciYmIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEFBKCJQYXRjaCBzZXF1ZW5jZSBtdXN0IGJlIGFuIGFycmF5IiwiU0VRVUVOQ0VfTk9UX0FOX0FSUkFZIik7bnx8KGU9dkEoZSkpO2Zvcih2YXIgYT1uZXcgQXJyYXkodC5sZW5ndGgpLGk9MCxzPXQubGVuZ3RoO2k8cztpKyspYVtpXT1qQShlLHRbaV0sciwhMCxvLGkpLGU9YVtpXS5uZXdEb2N1bWVudDtyZXR1cm4gYS5uZXdEb2N1bWVudD1lLGF9ZnVuY3Rpb24gX0EoZSx0LHIsbil7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8QXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgQUEoIk9wZXJhdGlvbiBpcyBub3QgYW4gb2JqZWN0IiwiT1BFUkFUSU9OX05PVF9BTl9PQkpFQ1QiLHQsZSxyKTtpZighT0FbZS5vcF0pdGhyb3cgbmV3IEFBKCJPcGVyYXRpb24gYG9wYCBwcm9wZXJ0eSBpcyBub3Qgb25lIG9mIG9wZXJhdGlvbnMgZGVmaW5lZCBpbiBSRkMtNjkwMiIsIk9QRVJBVElPTl9PUF9JTlZBTElEIix0LGUscik7aWYoInN0cmluZyIhPXR5cGVvZiBlLnBhdGgpdGhyb3cgbmV3IEFBKCJPcGVyYXRpb24gYHBhdGhgIHByb3BlcnR5IGlzIG5vdCBhIHN0cmluZyIsIk9QRVJBVElPTl9QQVRIX0lOVkFMSUQiLHQsZSxyKTtpZigwIT09ZS5wYXRoLmluZGV4T2YoIi8iKSYmZS5wYXRoLmxlbmd0aD4wKXRocm93IG5ldyBBQSgnT3BlcmF0aW9uIGBwYXRoYCBwcm9wZXJ0eSBtdXN0IHN0YXJ0IHdpdGggIi8iJywiT1BFUkFUSU9OX1BBVEhfSU5WQUxJRCIsdCxlLHIpO2lmKCgibW92ZSI9PT1lLm9wfHwiY29weSI9PT1lLm9wKSYmInN0cmluZyIhPXR5cGVvZiBlLmZyb20pdGhyb3cgbmV3IEFBKCJPcGVyYXRpb24gYGZyb21gIHByb3BlcnR5IGlzIG5vdCBwcmVzZW50IChhcHBsaWNhYmxlIGluIGBtb3ZlYCBhbmQgYGNvcHlgIG9wZXJhdGlvbnMpIiwiT1BFUkFUSU9OX0ZST01fUkVRVUlSRUQiLHQsZSxyKTtpZigoImFkZCI9PT1lLm9wfHwicmVwbGFjZSI9PT1lLm9wfHwidGVzdCI9PT1lLm9wKSYmdm9pZCAwPT09ZS52YWx1ZSl0aHJvdyBuZXcgQUEoIk9wZXJhdGlvbiBgdmFsdWVgIHByb3BlcnR5IGlzIG5vdCBwcmVzZW50IChhcHBsaWNhYmxlIGluIGBhZGRgLCBgcmVwbGFjZWAgYW5kIGB0ZXN0YCBvcGVyYXRpb25zKSIsIk9QRVJBVElPTl9WQUxVRV9SRVFVSVJFRCIsdCxlLHIpO2lmKCgiYWRkIj09PWUub3B8fCJyZXBsYWNlIj09PWUub3B8fCJ0ZXN0Ij09PWUub3ApJiYkQShlLnZhbHVlKSl0aHJvdyBuZXcgQUEoIk9wZXJhdGlvbiBgdmFsdWVgIHByb3BlcnR5IGlzIG5vdCBwcmVzZW50IChhcHBsaWNhYmxlIGluIGBhZGRgLCBgcmVwbGFjZWAgYW5kIGB0ZXN0YCBvcGVyYXRpb25zKSIsIk9QRVJBVElPTl9WQUxVRV9DQU5OT1RfQ09OVEFJTl9VTkRFRklORUQiLHQsZSxyKTtpZihyKWlmKCJhZGQiPT1lLm9wKXt2YXIgbz1lLnBhdGguc3BsaXQoIi8iKS5sZW5ndGgsYT1uLnNwbGl0KCIvIikubGVuZ3RoO2lmKG8hPT1hKzEmJm8hPT1hKXRocm93IG5ldyBBQSgiQ2Fubm90IHBlcmZvcm0gYW4gYGFkZGAgb3BlcmF0aW9uIGF0IHRoZSBkZXNpcmVkIHBhdGgiLCJPUEVSQVRJT05fUEFUSF9DQU5OT1RfQUREIix0LGUscil9ZWxzZSBpZigicmVwbGFjZSI9PT1lLm9wfHwicmVtb3ZlIj09PWUub3B8fCJfZ2V0Ij09PWUub3Ape2lmKGUucGF0aCE9PW4pdGhyb3cgbmV3IEFBKCJDYW5ub3QgcGVyZm9ybSB0aGUgb3BlcmF0aW9uIGF0IGEgcGF0aCB0aGF0IGRvZXMgbm90IGV4aXN0IiwiT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFIix0LGUscil9ZWxzZSBpZigibW92ZSI9PT1lLm9wfHwiY29weSI9PT1lLm9wKXt2YXIgaT1QQShbe29wOiJfZ2V0IixwYXRoOmUuZnJvbSx2YWx1ZTp2b2lkIDB9XSxyKTtpZihpJiYiT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFIj09PWkubmFtZSl0aHJvdyBuZXcgQUEoIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gZnJvbSBhIHBhdGggdGhhdCBkb2VzIG5vdCBleGlzdCIsIk9QRVJBVElPTl9GUk9NX1VOUkVTT0xWQUJMRSIsdCxlLHIpfX1mdW5jdGlvbiBQQShlLHQscil7dHJ5e2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBBQSgiUGF0Y2ggc2VxdWVuY2UgbXVzdCBiZSBhbiBhcnJheSIsIlNFUVVFTkNFX05PVF9BTl9BUlJBWSIpO2lmKHQpSUEodkEodCksdkEoZSkscnx8ITApO2Vsc2V7cj1yfHxfQTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylyKGVbbl0sbix0LHZvaWQgMCl9fWNhdGNoKGUpe2lmKGUgaW5zdGFuY2VvZiBBQSlyZXR1cm4gZTt0aHJvdyBlfX1mdW5jdGlvbiBSQShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKGUmJnQmJiJvYmplY3QiPT10eXBlb2YgZSYmIm9iamVjdCI9PXR5cGVvZiB0KXt2YXIgcixuLG8sYT1BcnJheS5pc0FycmF5KGUpLGk9QXJyYXkuaXNBcnJheSh0KTtpZihhJiZpKXtpZigobj1lLmxlbmd0aCkhPXQubGVuZ3RoKXJldHVybiExO2ZvcihyPW47MCE9ci0tOylpZighUkEoZVtyXSx0W3JdKSlyZXR1cm4hMTtyZXR1cm4hMH1pZihhIT1pKXJldHVybiExO3ZhciBzPU9iamVjdC5rZXlzKGUpO2lmKChuPXMubGVuZ3RoKSE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4hMTtmb3Iocj1uOzAhPXItLTspaWYoIXQuaGFzT3duUHJvcGVydHkoc1tyXSkpcmV0dXJuITE7Zm9yKHI9bjswIT1yLS07KWlmKCFSQShlW289c1tyXV0sdFtvXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIGUhPWUmJnQhPXR9Y29uc3QgTEE9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLEpzb25QYXRjaEVycm9yOkFBLGRlZXBDbG9uZTpFQSxnZXRWYWx1ZUJ5UG9pbnRlcjpDQSxhcHBseU9wZXJhdGlvbjpqQSxhcHBseVBhdGNoOklBLGFwcGx5UmVkdWNlcjpmdW5jdGlvbihlLHQscil7dmFyIG49akEoZSx0KTtpZighMT09PW4udGVzdCl0aHJvdyBuZXcgQUEoIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZCIsIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRCIscix0LGUpO3JldHVybiBuLm5ld0RvY3VtZW50fSx2YWxpZGF0b3I6X0EsdmFsaWRhdGU6UEEsX2FyZUVxdWFsczpSQX0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pKTt2YXIgRkE9bmV3IFdlYWtNYXAsREE9ZnVuY3Rpb24oZSl7dGhpcy5vYnNlcnZlcnM9bmV3IE1hcCx0aGlzLm9iaj1lfSxCQT1mdW5jdGlvbihlLHQpe3RoaXMuY2FsbGJhY2s9ZSx0aGlzLm9ic2VydmVyPXR9O2Z1bmN0aW9uIE5BKGUsdCl7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciByPUZBLmdldChlLm9iamVjdCk7cUEoci52YWx1ZSxlLm9iamVjdCxlLnBhdGNoZXMsIiIsdCksZS5wYXRjaGVzLmxlbmd0aCYmSUEoci52YWx1ZSxlLnBhdGNoZXMpO3ZhciBuPWUucGF0Y2hlcztyZXR1cm4gbi5sZW5ndGg+MCYmKGUucGF0Y2hlcz1bXSxlLmNhbGxiYWNrJiZlLmNhbGxiYWNrKG4pKSxufWZ1bmN0aW9uIHFBKGUsdCxyLG4sbyl7aWYodCE9PWUpeyJmdW5jdGlvbiI9PXR5cGVvZiB0LnRvSlNPTiYmKHQ9dC50b0pTT04oKSk7Zm9yKHZhciBhPWdBKHQpLGk9Z0EoZSkscz0hMSxsPWkubGVuZ3RoLTE7bD49MDtsLS0pe3ZhciBjPWVbZD1pW2xdXTtpZigheUEodCxkKXx8dm9pZCAwPT09dFtkXSYmdm9pZCAwIT09YyYmITE9PT1BcnJheS5pc0FycmF5KHQpKUFycmF5LmlzQXJyYXkoZSk9PT1BcnJheS5pc0FycmF5KHQpPyhvJiZyLnB1c2goe29wOiJ0ZXN0IixwYXRoOm4rIi8iK3hBKGQpLHZhbHVlOnZBKGMpfSksci5wdXNoKHtvcDoicmVtb3ZlIixwYXRoOm4rIi8iK3hBKGQpfSkscz0hMCk6KG8mJnIucHVzaCh7b3A6InRlc3QiLHBhdGg6bix2YWx1ZTplfSksci5wdXNoKHtvcDoicmVwbGFjZSIscGF0aDpuLHZhbHVlOnR9KSk7ZWxzZXt2YXIgcD10W2RdOyJvYmplY3QiPT10eXBlb2YgYyYmbnVsbCE9YyYmIm9iamVjdCI9PXR5cGVvZiBwJiZudWxsIT1wJiZBcnJheS5pc0FycmF5KGMpPT09QXJyYXkuaXNBcnJheShwKT9xQShjLHAscixuKyIvIit4QShkKSxvKTpjIT09cCYmKG8mJnIucHVzaCh7b3A6InRlc3QiLHBhdGg6bisiLyIreEEoZCksdmFsdWU6dkEoYyl9KSxyLnB1c2goe29wOiJyZXBsYWNlIixwYXRoOm4rIi8iK3hBKGQpLHZhbHVlOnZBKHApfSkpfX1pZihzfHxhLmxlbmd0aCE9aS5sZW5ndGgpZm9yKGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIGQ7eUEoZSxkPWFbbF0pfHx2b2lkIDA9PT10W2RdfHxyLnB1c2goe29wOiJhZGQiLHBhdGg6bisiLyIreEEoZCksdmFsdWU6dkEodFtkXSl9KX19fWNvbnN0IFVBPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCx1bm9ic2VydmU6ZnVuY3Rpb24oZSx0KXt0LnVub2JzZXJ2ZSgpfSxvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixvPShuPWUsRkEuZ2V0KG4pKTtpZihvKXt2YXIgYT1mdW5jdGlvbihlLHQpe3JldHVybiBlLm9ic2VydmVycy5nZXQodCl9KG8sdCk7cj1hJiZhLm9ic2VydmVyfWVsc2Ugbz1uZXcgREEoZSksRkEuc2V0KGUsbyk7aWYocilyZXR1cm4gcjtpZihyPXt9LG8udmFsdWU9dkEoZSksdCl7ci5jYWxsYmFjaz10LHIubmV4dD1udWxsO3ZhciBpPWZ1bmN0aW9uKCl7TkEocil9LHM9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoci5uZXh0KSxyLm5leHQ9c2V0VGltZW91dChpKX07InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIscyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIixzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIixzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIscyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIscykpfXJldHVybiByLnBhdGNoZXM9W10sci5vYmplY3Q9ZSxyLnVub2JzZXJ2ZT1mdW5jdGlvbigpe05BKHIpLGNsZWFyVGltZW91dChyLm5leHQpLGZ1bmN0aW9uKGUsdCl7ZS5vYnNlcnZlcnMuZGVsZXRlKHQuY2FsbGJhY2spfShvLHIpLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIscyksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIscyksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHMpKX0sby5vYnNlcnZlcnMuc2V0KHQsbmV3IEJBKHQscikpLHJ9LGdlbmVyYXRlOk5BLGNvbXBhcmU6ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSExKTt2YXIgbj1bXTtyZXR1cm4gcUEoZSx0LG4sIiIsciksbn19LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSk7T2JqZWN0LmFzc2lnbih7fSxMQSxVQSx7SnNvblBhdGNoRXJyb3I6U0EsZGVlcENsb25lOnZBLGVzY2FwZVBhdGhDb21wb25lbnQ6eEEsdW5lc2NhcGVQYXRoQ29tcG9uZW50OndBfSk7dmFyIHpBPWZ1bmN0aW9uKGUpe3JldHVybiEodD1lLCF0fHwib2JqZWN0IiE9dHlwZW9mIHR8fGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm4iW29iamVjdCBSZWdFeHBdIj09PXR8fCJbb2JqZWN0IERhdGVdIj09PXR8fGUuJCR0eXBlb2Y9PT1NQX0oZSkpO3ZhciB0fSxNQT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yP1N5bWJvbC5mb3IoInJlYWN0LmVsZW1lbnQiKTo2MDEwMztmdW5jdGlvbiBIQShlLHQpe3JldHVybiExIT09dC5jbG9uZSYmdC5pc01lcmdlYWJsZU9iamVjdChlKT9LQSgocj1lLEFycmF5LmlzQXJyYXkocik/W106e30pLGUsdCk6ZTt2YXIgcn1mdW5jdGlvbiBXQShlLHQscil7cmV0dXJuIGUuY29uY2F0KHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEhBKGUscil9KSl9ZnVuY3Rpb24gVkEoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmNvbmNhdCgodD1lLE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3BlcnR5SXNFbnVtZXJhYmxlKGUpfSkpOltdKSk7dmFyIHR9ZnVuY3Rpb24gR0EoZSx0KXt0cnl7cmV0dXJuIHQgaW4gZX1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gS0EoZSx0LHIpeyhyPXJ8fHt9KS5hcnJheU1lcmdlPXIuYXJyYXlNZXJnZXx8V0Esci5pc01lcmdlYWJsZU9iamVjdD1yLmlzTWVyZ2VhYmxlT2JqZWN0fHx6QSxyLmNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkPUhBO3ZhciBuPUFycmF5LmlzQXJyYXkodCk7cmV0dXJuIG49PT1BcnJheS5pc0FycmF5KGUpP24/ci5hcnJheU1lcmdlKGUsdCxyKTpmdW5jdGlvbihlLHQscil7dmFyIG49e307cmV0dXJuIHIuaXNNZXJnZWFibGVPYmplY3QoZSkmJlZBKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF09SEEoZVt0XSxyKX0pKSxWQSh0KS5mb3JFYWNoKChmdW5jdGlvbihvKXt2YXIgYSxpO0dBKGE9ZSxpPW8pJiYoIU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsaSl8fCFPYmplY3QucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChhLGkpKXx8KEdBKGUsbykmJnIuaXNNZXJnZWFibGVPYmplY3QodFtvXSk/bltvXT1mdW5jdGlvbihlLHQpe2lmKCF0LmN1c3RvbU1lcmdlKXJldHVybiBLQTt2YXIgcj10LmN1c3RvbU1lcmdlKGUpO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiByP3I6S0F9KG8scikoZVtvXSx0W29dLHIpOm5bb109SEEodFtvXSxyKSl9KSksbn0oZSx0LHIpOkhBKHQscil9S0EuYWxsPWZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKCJmaXJzdCBhcmd1bWVudCBzaG91bGQgYmUgYW4gYXJyYXkiKTtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIEtBKGUscix0KX0pLHt9KX07dmFyIEpBPUtBO2NvbnN0IFlBPXthZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm57b3A6ImFkZCIscGF0aDplLHZhbHVlOnR9fSxyZXBsYWNlOlFBLHJlbW92ZTpmdW5jdGlvbihlKXtyZXR1cm57b3A6InJlbW92ZSIscGF0aDplfX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZToibXV0YXRpb24iLG9wOiJtZXJnZSIscGF0aDplLHZhbHVlOnR9fSxtZXJnZURlZXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZToibXV0YXRpb24iLG9wOiJtZXJnZURlZXAiLHBhdGg6ZSx2YWx1ZTp0fX0sY29udGV4dDpmdW5jdGlvbihlLHQpe3JldHVybnt0eXBlOiJjb250ZXh0IixwYXRoOmUsdmFsdWU6dH19LGdldEluOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10JiZlP2VbdF06ZX0pLGUpfSxhcHBseVBhdGNoOmZ1bmN0aW9uKGUsdCxyKXtpZihyPXJ8fHt9LCJtZXJnZSI9PT0odD1UZChUZCh7fSx0KSx7fSx7cGF0aDp0LnBhdGgmJlpBKHQucGF0aCl9KSkub3Ape3ZhciBuPWRFKGUsdC5wYXRoKTtIZChuLHQudmFsdWUpLElBKGUsW1FBKHQucGF0aCxuKV0pfWVsc2UgaWYoIm1lcmdlRGVlcCI9PT10Lm9wKXt2YXIgbz1kRShlLHQucGF0aCksYT1KQShvLHQudmFsdWUpO2U9SUEoZSxbUUEodC5wYXRoLGEpXSkubmV3RG9jdW1lbnR9ZWxzZSBpZigiYWRkIj09PXQub3AmJiIiPT09dC5wYXRoJiZhRSh0LnZhbHVlKSl7SUEoZSxDYih0LnZhbHVlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUucHVzaCh7b3A6ImFkZCIscGF0aDoiLyIuY29uY2F0KFpBKHIpKSx2YWx1ZTp0LnZhbHVlW3JdfSksZX0pLFtdKSl9ZWxzZSBpZigicmVwbGFjZSI9PT10Lm9wJiYiIj09PXQucGF0aCl7dmFyIGk9dC52YWx1ZTtyLmFsbG93TWV0YVBhdGNoZXMmJnQubWV0YSYmY0UodCkmJihBcnJheS5pc0FycmF5KHQudmFsdWUpfHxhRSh0LnZhbHVlKSkmJihpPVRkKFRkKHt9LGkpLHQubWV0YSkpLGU9aX1lbHNlIGlmKElBKGUsW3RdKSxyLmFsbG93TWV0YVBhdGNoZXMmJnQubWV0YSYmY0UodCkmJihBcnJheS5pc0FycmF5KHQudmFsdWUpfHxhRSh0LnZhbHVlKSkpe3ZhciBzPVRkKFRkKHt9LGRFKGUsdC5wYXRoKSksdC5tZXRhKTtJQShlLFtRQSh0LnBhdGgscyldKX1yZXR1cm4gZX0scGFyZW50UGF0aE1hdGNoOmZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuITE7Zm9yKHZhciByPTAsbj10Lmxlbmd0aDtyPG47cis9MSlpZih0W3JdIT09ZVtyXSlyZXR1cm4hMTtyZXR1cm4hMH0sZmxhdHRlbjpuRSxmdWxseU5vcm1hbGl6ZUFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBvRShuRShyRShlKSkpfSxub3JtYWxpemVBcnJheTpyRSxpc1Byb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGFFKGUpJiZpRShlLnRoZW4pfSxmb3JFYWNoTmV3OmZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBYQShlLHRFLHQpfWNhdGNoKGUpe3JldHVybiBlfX0sZm9yRWFjaE5ld1ByaW1pdGl2ZTpmdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gWEEoZSxlRSx0KX1jYXRjaChlKXtyZXR1cm4gZX19LGlzSnNvblBhdGNoOnNFLGlzQ29udGV4dFBhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiBwRShlKSYmImNvbnRleHQiPT09ZS50eXBlfSxpc1BhdGNoOnBFLGlzTXV0YXRpb246bEUsaXNBZGRpdGl2ZU11dGF0aW9uOmNFLGlzR2VuZXJhdG9yOmZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LGlzRnVuY3Rpb246aUUsaXNPYmplY3Q6YUUsaXNFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yfX07ZnVuY3Rpb24gWkEoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5sZW5ndGg8MT8iIjoiLyIuY29uY2F0KFRiKGUpLmNhbGwoZSwoZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpfSkpLmpvaW4oIi8iKSk6ZX1mdW5jdGlvbiBRQShlLHQscil7cmV0dXJue29wOiJyZXBsYWNlIixwYXRoOmUsdmFsdWU6dCxtZXRhOnJ9fWZ1bmN0aW9uIFhBKGUsdCxyKXt2YXIgbjtyZXR1cm4gb0UobkUoVGIobj1XYihlKS5jYWxsKGUsY0UpKS5jYWxsKG4sKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUudmFsdWUscixlLnBhdGgpfSkpfHxbXSkpfWZ1bmN0aW9uIGVFKGUsdCxyKXtyZXR1cm4gcj1yfHxbXSxBcnJheS5pc0FycmF5KGUpP1RiKGUpLmNhbGwoZSwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZUUoZSx0LFJiKHIpLmNhbGwocixuKSl9KSk6YUUoZSk/VGIobj1DYihlKSkuY2FsbChuLChmdW5jdGlvbihuKXtyZXR1cm4gZUUoZVtuXSx0LFJiKHIpLmNhbGwocixuKSl9KSk6dChlLHJbci5sZW5ndGgtMV0scik7dmFyIG59ZnVuY3Rpb24gdEUoZSx0LHIpe3ZhciBuPVtdO2lmKChyPXJ8fFtdKS5sZW5ndGg+MCl7dmFyIG89dChlLHJbci5sZW5ndGgtMV0scik7byYmKG49UmIobikuY2FsbChuLG8pKX1pZihBcnJheS5pc0FycmF5KGUpKXt2YXIgYT1UYihlKS5jYWxsKGUsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRFKGUsdCxSYihyKS5jYWxsKHIsbikpfSkpO2EmJihuPVJiKG4pLmNhbGwobixhKSl9ZWxzZSBpZihhRShlKSl7dmFyIGkscz1UYihpPUNiKGUpKS5jYWxsKGksKGZ1bmN0aW9uKG4pe3JldHVybiB0RShlW25dLHQsUmIocikuY2FsbChyLG4pKX0pKTtzJiYobj1SYihuKS5jYWxsKG4scykpfXJldHVybiBuRShuKX1mdW5jdGlvbiByRShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOltlXX1mdW5jdGlvbiBuRShlKXt2YXIgdDtyZXR1cm4gUmIodD1bXSkuYXBwbHkodCxmUyhUYihlKS5jYWxsKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP25FKGUpOmV9KSkpKX1mdW5jdGlvbiBvRShlKXtyZXR1cm4gV2IoZSkuY2FsbChlLChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZX0pKX1mdW5jdGlvbiBhRShlKXtyZXR1cm4gZSYmIm9iamVjdCI9PT1fZihlKX1mdW5jdGlvbiBpRShlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gc0UoZSl7aWYocEUoZSkpe3ZhciB0PWUub3A7cmV0dXJuImFkZCI9PT10fHwicmVtb3ZlIj09PXR8fCJyZXBsYWNlIj09PXR9cmV0dXJuITF9ZnVuY3Rpb24gbEUoZSl7cmV0dXJuIHNFKGUpfHxwRShlKSYmIm11dGF0aW9uIj09PWUudHlwZX1mdW5jdGlvbiBjRShlKXtyZXR1cm4gbEUoZSkmJigiYWRkIj09PWUub3B8fCJyZXBsYWNlIj09PWUub3B8fCJtZXJnZSI9PT1lLm9wfHwibWVyZ2VEZWVwIj09PWUub3ApfWZ1bmN0aW9uIHBFKGUpe3JldHVybiBlJiYib2JqZWN0Ij09PV9mKGUpfWZ1bmN0aW9uIGRFKGUsdCl7dHJ5e3JldHVybiBDQShlLHQpfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKGUpLHt9fX12YXIgdUU9e2V4cG9ydHM6e319LGhFPW10KChmdW5jdGlvbigpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBBcnJheUJ1ZmZlcil7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDgpO09iamVjdC5pc0V4dGVuc2libGUoZSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJhIix7dmFsdWU6OH0pfX0pKSxmRT1tdCxtRT1ucix5RT1IdCxnRT1oRSx2RT1PYmplY3QuaXNFeHRlbnNpYmxlLGJFPWZFKChmdW5jdGlvbigpe3ZFKDEpfSkpfHxnRT9mdW5jdGlvbihlKXtyZXR1cm4hIW1FKGUpJiYoIWdFfHwiQXJyYXlCdWZmZXIiIT15RShlKSkmJighdkV8fHZFKGUpKX06dkUseEU9IW10KChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpLHdFPUNvLCRFPU90LGtFPUdvLFNFPW5yLEFFPVpyLEVFPVhuLmYsT0U9S2EsVEU9WmEsQ0U9YkUsakU9eEUsSUU9ITEsX0U9cm4oIm1ldGEiKSxQRT0wLFJFPWZ1bmN0aW9uKGUpe0VFKGUsX0Use3ZhbHVlOntvYmplY3RJRDoiTyIrUEUrKyx3ZWFrRGF0YTp7fX19KX0sTEU9dUUuZXhwb3J0cz17ZW5hYmxlOmZ1bmN0aW9uKCl7TEUuZW5hYmxlPWZ1bmN0aW9uKCl7fSxJRT0hMDt2YXIgZT1PRS5mLHQ9JEUoW10uc3BsaWNlKSxyPXt9O3JbX0VdPTEsZShyKS5sZW5ndGgmJihPRS5mPWZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLG89MCxhPW4ubGVuZ3RoO288YTtvKyspaWYobltvXT09PV9FKXt0KG4sbywxKTticmVha31yZXR1cm4gbn0sd0Uoe3RhcmdldDoiT2JqZWN0IixzdGF0OiEwLGZvcmNlZDohMH0se2dldE93blByb3BlcnR5TmFtZXM6VEUuZn0pKX0sZmFzdEtleTpmdW5jdGlvbihlLHQpe2lmKCFTRShlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIUFFKGUsX0UpKXtpZighQ0UoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtSRShlKX1yZXR1cm4gZVtfRV0ub2JqZWN0SUR9LGdldFdlYWtEYXRhOmZ1bmN0aW9uKGUsdCl7aWYoIUFFKGUsX0UpKXtpZighQ0UoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7UkUoZSl9cmV0dXJuIGVbX0VdLndlYWtEYXRhfSxvbkZyZWV6ZTpmdW5jdGlvbihlKXtyZXR1cm4gakUmJklFJiZDRShlKSYmIUFFKGUsX0UpJiZSRShlKSxlfX07a0VbX0VdPSEwO3ZhciBGRT1DbyxERT1mdCxCRT11RS5leHBvcnRzLE5FPW10LHFFPWdvLFVFPW5tLHpFPUJtLE1FPVR0LEhFPW5yLFdFPV9pLFZFPVhuLmYsR0U9THMuZm9yRWFjaCxLRT1qdCxKRT1pcy5zZXQsWUU9aXMuZ2V0dGVyRm9yLFpFPU90LFFFPUltLFhFPXVFLmV4cG9ydHMuZ2V0V2Vha0RhdGEsZU89YW8sdE89bnIsck89Qm0sbk89bm0sb089WnIsYU89aXMuc2V0LGlPPWlzLmdldHRlckZvcixzTz1Mcy5maW5kLGxPPUxzLmZpbmRJbmRleCxjTz1aRShbXS5zcGxpY2UpLHBPPTAsZE89ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZnJvemVufHwoZS5mcm96ZW49bmV3IHVPKX0sdU89ZnVuY3Rpb24oKXt0aGlzLmVudHJpZXM9W119LGhPPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHNPKGUuZW50cmllcywoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT10fSkpfTt1Ty5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1oTyh0aGlzLGUpO2lmKHQpcmV0dXJuIHRbMV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIWhPKHRoaXMsZSl9LHNldDpmdW5jdGlvbihlLHQpe3ZhciByPWhPKHRoaXMsZSk7cj9yWzFdPXQ6dGhpcy5lbnRyaWVzLnB1c2goW2UsdF0pfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9bE8odGhpcy5lbnRyaWVzLChmdW5jdGlvbih0KXtyZXR1cm4gdFswXT09PWV9KSk7cmV0dXJufnQmJmNPKHRoaXMuZW50cmllcyx0LDEpLCEhfnR9fTt2YXIgZk8sbU89e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWUoKGZ1bmN0aW9uKGUsbyl7ck8oZSxhKSxhTyhlLHt0eXBlOnQsaWQ6cE8rKyxmcm96ZW46dm9pZCAwfSksbnVsbCE9byYmbk8obyxlW25dLHt0aGF0OmUsQVNfRU5UUklFUzpyfSl9KSksYT1vLnByb3RvdHlwZSxpPWlPKHQpLHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkoZSksbz1YRShlTyh0KSwhMCk7cmV0dXJuITA9PT1vP2RPKG4pLnNldCh0LHIpOm9bbi5pZF09cixlfTtyZXR1cm4gUUUoYSx7ZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PWkodGhpcyk7aWYoIXRPKGUpKXJldHVybiExO3ZhciByPVhFKGUpO3JldHVybiEwPT09cj9kTyh0KS5kZWxldGUoZSk6ciYmb08ocix0LmlkKSYmZGVsZXRlIHJbdC5pZF19LGhhczpmdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMpO2lmKCF0TyhlKSlyZXR1cm4hMTt2YXIgcj1YRShlKTtyZXR1cm4hMD09PXI/ZE8odCkuaGFzKGUpOnImJm9PKHIsdC5pZCl9fSksUUUoYSxyP3tnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKTtpZih0TyhlKSl7dmFyIHI9WEUoZSk7cmV0dXJuITA9PT1yP2RPKHQpLmdldChlKTpyP3JbdC5pZF06dm9pZCAwfX0sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHModGhpcyxlLHQpfX06e2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gcyh0aGlzLGUsITApfX0pLG99fSx5Tz1mdCxnTz1PdCx2Tz1JbSxiTz11RS5leHBvcnRzLHhPPW1PLHdPPW5yLCRPPWJFLGtPPWlzLmVuZm9yY2UsU089TWksQU89IXlPLkFjdGl2ZVhPYmplY3QmJiJBY3RpdmVYT2JqZWN0ImluIHlPLEVPPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMF06dm9pZCAwKX19LE9PPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvPS0xIT09ZS5pbmRleE9mKCJNYXAiKSxhPS0xIT09ZS5pbmRleE9mKCJXZWFrIiksaT1vPyJzZXQiOiJhZGQiLHM9REVbZV0sbD1zJiZzLnByb3RvdHlwZSxjPXt9O2lmKEtFJiZNRShzKSYmKGF8fGwuZm9yRWFjaCYmIU5FKChmdW5jdGlvbigpeyhuZXcgcykuZW50cmllcygpLm5leHQoKX0pKSkpe3ZhciBwPShuPXQoKGZ1bmN0aW9uKHQscil7SkUoekUodCxwKSx7dHlwZTplLGNvbGxlY3Rpb246bmV3IHN9KSxudWxsIT1yJiZVRShyLHRbaV0se3RoYXQ6dCxBU19FTlRSSUVTOm99KX0pKSkucHJvdG90eXBlLGQ9WUUoZSk7R0UoWyJhZGQiLCJjbGVhciIsImRlbGV0ZSIsImZvckVhY2giLCJnZXQiLCJoYXMiLCJzZXQiLCJrZXlzIiwidmFsdWVzIiwiZW50cmllcyJdLChmdW5jdGlvbihlKXt2YXIgdD0iYWRkIj09ZXx8InNldCI9PWU7IShlIGluIGwpfHxhJiYiY2xlYXIiPT1lfHxxRShwLGUsKGZ1bmN0aW9uKHIsbil7dmFyIG89ZCh0aGlzKS5jb2xsZWN0aW9uO2lmKCF0JiZhJiYhSEUocikpcmV0dXJuImdldCI9PWUmJnZvaWQgMDt2YXIgaT1vW2VdKDA9PT1yPzA6cixuKTtyZXR1cm4gdD90aGlzOml9KSl9KSksYXx8VkUocCwic2l6ZSIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzKS5jb2xsZWN0aW9uLnNpemV9fSl9ZWxzZSBuPXIuZ2V0Q29uc3RydWN0b3IodCxlLG8saSksQkUuZW5hYmxlKCk7cmV0dXJuIFdFKG4sZSwhMSwhMCksY1tlXT1uLEZFKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSxjKSxhfHxyLnNldFN0cm9uZyhuLGUsbyksbn0oIldlYWtNYXAiLEVPLHhPKTtpZihTTyYmQU8pe2ZPPXhPLmdldENvbnN0cnVjdG9yKEVPLCJXZWFrTWFwIiwhMCksYk8uZW5hYmxlKCk7dmFyIFRPPU9PLnByb3RvdHlwZSxDTz1nTyhUTy5kZWxldGUpLGpPPWdPKFRPLmhhcyksSU89Z08oVE8uZ2V0KSxfTz1nTyhUTy5zZXQpO3ZPKFRPLHtkZWxldGU6ZnVuY3Rpb24oZSl7aWYod08oZSkmJiEkTyhlKSl7dmFyIHQ9a08odGhpcyk7cmV0dXJuIHQuZnJvemVufHwodC5mcm96ZW49bmV3IGZPKSxDTyh0aGlzLGUpfHx0LmZyb3plbi5kZWxldGUoZSl9cmV0dXJuIENPKHRoaXMsZSl9LGhhczpmdW5jdGlvbihlKXtpZih3TyhlKSYmISRPKGUpKXt2YXIgdD1rTyh0aGlzKTtyZXR1cm4gdC5mcm96ZW58fCh0LmZyb3plbj1uZXcgZk8pLGpPKHRoaXMsZSl8fHQuZnJvemVuLmhhcyhlKX1yZXR1cm4gak8odGhpcyxlKX0sZ2V0OmZ1bmN0aW9uKGUpe2lmKHdPKGUpJiYhJE8oZSkpe3ZhciB0PWtPKHRoaXMpO3JldHVybiB0LmZyb3plbnx8KHQuZnJvemVuPW5ldyBmTyksak8odGhpcyxlKT9JTyh0aGlzLGUpOnQuZnJvemVuLmdldChlKX1yZXR1cm4gSU8odGhpcyxlKX0sc2V0OmZ1bmN0aW9uKGUsdCl7aWYod08oZSkmJiEkTyhlKSl7dmFyIHI9a08odGhpcyk7ci5mcm96ZW58fChyLmZyb3plbj1uZXcgZk8pLGpPKHRoaXMsZSk/X08odGhpcyxlLHQpOnIuZnJvemVuLnNldChlLHQpfWVsc2UgX08odGhpcyxlLHQpO3JldHVybiB0aGlzfX0pfWNvbnN0IFBPPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPW9yLldlYWtNYXApO3ZhciBSTz1tdCxMTz1mbigiaXRlcmF0b3IiKSxGTz0hUk8oKGZ1bmN0aW9uKCl7dmFyIGU9bmV3IFVSTCgiYj9hPTEmYj0yJmM9MyIsImh0dHA6Ly9hIiksdD1lLnNlYXJjaFBhcmFtcyxyPSIiO3JldHVybiBlLnBhdGhuYW1lPSJjJTIwZCIsdC5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3QuZGVsZXRlKCJiIikscis9bitlfSkpLCFlLnRvSlNPTnx8IXQuc29ydHx8Imh0dHA6Ly9hL2MlMjBkP2E9MSZjPTMiIT09ZS5ocmVmfHwiMyIhPT10LmdldCgiYyIpfHwiYT0xIiE9PVN0cmluZyhuZXcgVVJMU2VhcmNoUGFyYW1zKCI/YT0xIikpfHwhdFtMT118fCJhIiE9PW5ldyBVUkwoImh0dHBzOi8vYUBiIikudXNlcm5hbWV8fCJiIiE9PW5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IFVSTFNlYXJjaFBhcmFtcygiYT1iIikpLmdldCgiYSIpfHwieG4tLWUxYXliYyIhPT1uZXcgVVJMKCJodHRwOi8v0YLQtdGB0YIiKS5ob3N0fHwiIyVEMCVCMSIhPT1uZXcgVVJMKCJodHRwOi8vYSPQsSIpLmhhc2h8fCJhMWMzIiE9PXJ8fCJ4IiE9PW5ldyBVUkwoImh0dHA6Ly94Iix2b2lkIDApLmhvc3R9KSksRE89c2ksQk89TWF0aC5mbG9vcixOTz1mdW5jdGlvbihlLHQpe3ZhciByPWUubGVuZ3RoLG49Qk8oci8yKTtyZXR1cm4gcjw4P3FPKGUsdCk6VU8oZSxOTyhETyhlLDAsbiksdCksTk8oRE8oZSxuKSx0KSx0KX0scU89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixvPWUubGVuZ3RoLGE9MTthPG87KXtmb3Iobj1hLHI9ZVthXTtuJiZ0KGVbbi0xXSxyKT4wOyllW25dPWVbLS1uXTtuIT09YSsrJiYoZVtuXT1yKX1yZXR1cm4gZX0sVU89ZnVuY3Rpb24oZSx0LHIsbil7Zm9yKHZhciBvPXQubGVuZ3RoLGE9ci5sZW5ndGgsaT0wLHM9MDtpPG98fHM8YTspZVtpK3NdPWk8byYmczxhP24odFtpXSxyW3NdKTw9MD90W2krK106cltzKytdOmk8bz90W2krK106cltzKytdO3JldHVybiBlfSx6Tz1DbyxNTz1mdCxITz1jcixXTz1QdCxWTz1PdCxHTz1GTyxLTz15aSxKTz1JbSxZTz1faSxaTz1pcCxRTz1pcyxYTz1CbSxlVD1UdCx0VD1acixyVD1RbixuVD1iYSxvVD1hbyxhVD1ucixpVD0kYSxzVD1HYSxsVD1xdCxjVD1sZixwVD14aCxkVD1WbSx1VD1OTyxoVD1mbigiaXRlcmF0b3IiKSxmVD1RTy5zZXQsbVQ9UU8uZ2V0dGVyRm9yKCJVUkxTZWFyY2hQYXJhbXMiKSx5VD1RTy5nZXR0ZXJGb3IoIlVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yIiksZ1Q9SE8oImZldGNoIiksdlQ9SE8oIlJlcXVlc3QiKSxiVD1ITygiSGVhZGVycyIpLHhUPXZUJiZ2VC5wcm90b3R5cGUsd1Q9YlQmJmJULnByb3RvdHlwZSwkVD1NTy5SZWdFeHAsa1Q9TU8uVHlwZUVycm9yLFNUPU1PLmRlY29kZVVSSUNvbXBvbmVudCxBVD1NTy5lbmNvZGVVUklDb21wb25lbnQsRVQ9Vk8oIiIuY2hhckF0KSxPVD1WTyhbXS5qb2luKSxUVD1WTyhbXS5wdXNoKSxDVD1WTygiIi5yZXBsYWNlKSxqVD1WTyhbXS5zaGlmdCksSVQ9Vk8oW10uc3BsaWNlKSxfVD1WTygiIi5zcGxpdCksUFQ9Vk8oIiIuc2xpY2UpLFJUPS9cKy9nLExUPUFycmF5KDQpLEZUPWZ1bmN0aW9uKGUpe3JldHVybiBMVFtlLTFdfHwoTFRbZS0xXT0kVCgiKCg/OiVbXFxkYS1mXXsyfSl7IitlKyJ9KSIsImdpIikpfSxEVD1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIFNUKGUpfWNhdGNoKHQpe3JldHVybiBlfX0sQlQ9ZnVuY3Rpb24oZSl7dmFyIHQ9Q1QoZSxSVCwiICIpLHI9NDt0cnl7cmV0dXJuIFNUKHQpfWNhdGNoKGUpe2Zvcig7cjspdD1DVCh0LEZUKHItLSksRFQpO3JldHVybiB0fX0sTlQ9L1shJygpfl18JTIwL2cscVQ9eyIhIjoiJTIxIiwiJyI6IiUyNyIsIigiOiIlMjgiLCIpIjoiJTI5IiwifiI6IiU3RSIsIiUyMCI6IisifSxVVD1mdW5jdGlvbihlKXtyZXR1cm4gcVRbZV19LHpUPWZ1bmN0aW9uKGUpe3JldHVybiBDVChBVChlKSxOVCxVVCl9LE1UPVpPKChmdW5jdGlvbihlLHQpe2ZUKHRoaXMse3R5cGU6IlVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yIixpdGVyYXRvcjpjVChtVChlKS5lbnRyaWVzKSxraW5kOnR9KX0pLCJJdGVyYXRvciIsKGZ1bmN0aW9uKCl7dmFyIGU9eVQodGhpcyksdD1lLmtpbmQscj1lLml0ZXJhdG9yLm5leHQoKSxuPXIudmFsdWU7cmV0dXJuIHIuZG9uZXx8KHIudmFsdWU9ImtleXMiPT09dD9uLmtleToidmFsdWVzIj09PXQ/bi52YWx1ZTpbbi5rZXksbi52YWx1ZV0pLHJ9KSwhMCksSFQ9ZnVuY3Rpb24oZSl7dGhpcy5lbnRyaWVzPVtdLHRoaXMudXJsPW51bGwsdm9pZCAwIT09ZSYmKGFUKGUpP3RoaXMucGFyc2VPYmplY3QoZSk6dGhpcy5wYXJzZVF1ZXJ5KCJzdHJpbmciPT10eXBlb2YgZT8iPyI9PT1FVChlLDApP1BUKGUsMSk6ZTppVChlKSkpfTtIVC5wcm90b3R5cGU9e3R5cGU6IlVSTFNlYXJjaFBhcmFtcyIsYmluZFVSTDpmdW5jdGlvbihlKXt0aGlzLnVybD1lLHRoaXMudXBkYXRlKCl9LHBhcnNlT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixvLGEsaSxzLGw9cFQoZSk7aWYobClmb3Iocj0odD1jVChlLGwpKS5uZXh0OyEobj1XTyhyLHQpKS5kb25lOyl7aWYoYT0obz1jVChvVChuLnZhbHVlKSkpLm5leHQsKGk9V08oYSxvKSkuZG9uZXx8KHM9V08oYSxvKSkuZG9uZXx8IVdPKGEsbykuZG9uZSl0aHJvdyBrVCgiRXhwZWN0ZWQgc2VxdWVuY2Ugd2l0aCBsZW5ndGggMiIpO1RUKHRoaXMuZW50cmllcyx7a2V5OmlUKGkudmFsdWUpLHZhbHVlOmlUKHMudmFsdWUpfSl9ZWxzZSBmb3IodmFyIGMgaW4gZSl0VChlLGMpJiZUVCh0aGlzLmVudHJpZXMse2tleTpjLHZhbHVlOmlUKGVbY10pfSl9LHBhcnNlUXVlcnk6ZnVuY3Rpb24oZSl7aWYoZSlmb3IodmFyIHQscixuPV9UKGUsIiYiKSxvPTA7bzxuLmxlbmd0aDspKHQ9bltvKytdKS5sZW5ndGgmJihyPV9UKHQsIj0iKSxUVCh0aGlzLmVudHJpZXMse2tleTpCVChqVChyKSksdmFsdWU6QlQoT1QociwiPSIpKX0pKX0sc2VyaWFsaXplOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcy5lbnRyaWVzLHI9W10sbj0wO248dC5sZW5ndGg7KWU9dFtuKytdLFRUKHIselQoZS5rZXkpKyI9Iit6VChlLnZhbHVlKSk7cmV0dXJuIE9UKHIsIiYiKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5lbnRyaWVzLmxlbmd0aD0wLHRoaXMucGFyc2VRdWVyeSh0aGlzLnVybC5xdWVyeSl9LHVwZGF0ZVVSTDpmdW5jdGlvbigpe3RoaXMudXJsJiZ0aGlzLnVybC51cGRhdGUoKX19O3ZhciBXVD1mdW5jdGlvbigpe1hPKHRoaXMsVlQpO3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwO2ZUKHRoaXMsbmV3IEhUKGUpKX0sVlQ9V1QucHJvdG90eXBlO2lmKEpPKFZULHthcHBlbmQ6ZnVuY3Rpb24oZSx0KXtkVChhcmd1bWVudHMubGVuZ3RoLDIpO3ZhciByPW1UKHRoaXMpO1RUKHIuZW50cmllcyx7a2V5OmlUKGUpLHZhbHVlOmlUKHQpfSksci51cGRhdGVVUkwoKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe2RUKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PW1UKHRoaXMpLHI9dC5lbnRyaWVzLG49aVQoZSksbz0wO288ci5sZW5ndGg7KXJbb10ua2V5PT09bj9JVChyLG8sMSk6bysrO3QudXBkYXRlVVJMKCl9LGdldDpmdW5jdGlvbihlKXtkVChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgdD1tVCh0aGlzKS5lbnRyaWVzLHI9aVQoZSksbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0ua2V5PT09cilyZXR1cm4gdFtuXS52YWx1ZTtyZXR1cm4gbnVsbH0sZ2V0QWxsOmZ1bmN0aW9uKGUpe2RUKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PW1UKHRoaXMpLmVudHJpZXMscj1pVChlKSxuPVtdLG89MDtvPHQubGVuZ3RoO28rKyl0W29dLmtleT09PXImJlRUKG4sdFtvXS52YWx1ZSk7cmV0dXJuIG59LGhhczpmdW5jdGlvbihlKXtkVChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgdD1tVCh0aGlzKS5lbnRyaWVzLHI9aVQoZSksbj0wO248dC5sZW5ndGg7KWlmKHRbbisrXS5rZXk9PT1yKXJldHVybiEwO3JldHVybiExfSxzZXQ6ZnVuY3Rpb24oZSx0KXtkVChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgcixuPW1UKHRoaXMpLG89bi5lbnRyaWVzLGE9ITEsaT1pVChlKSxzPWlUKHQpLGw9MDtsPG8ubGVuZ3RoO2wrKykocj1vW2xdKS5rZXk9PT1pJiYoYT9JVChvLGwtLSwxKTooYT0hMCxyLnZhbHVlPXMpKTthfHxUVChvLHtrZXk6aSx2YWx1ZTpzfSksbi51cGRhdGVVUkwoKX0sc29ydDpmdW5jdGlvbigpe3ZhciBlPW1UKHRoaXMpO3VUKGUuZW50cmllcywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5rZXk+dC5rZXk/MTotMX0pKSxlLnVwZGF0ZVVSTCgpfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPW1UKHRoaXMpLmVudHJpZXMsbj1yVChlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKSxvPTA7bzxyLmxlbmd0aDspbigodD1yW28rK10pLnZhbHVlLHQua2V5LHRoaXMpfSxrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBNVCh0aGlzLCJrZXlzIil9LHZhbHVlczpmdW5jdGlvbigpe3JldHVybiBuZXcgTVQodGhpcywidmFsdWVzIil9LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE1UKHRoaXMsImVudHJpZXMiKX19LHtlbnVtZXJhYmxlOiEwfSksS08oVlQsaFQsVlQuZW50cmllcyx7bmFtZToiZW50cmllcyJ9KSxLTyhWVCwidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiBtVCh0aGlzKS5zZXJpYWxpemUoKX0pLHtlbnVtZXJhYmxlOiEwfSksWU8oV1QsIlVSTFNlYXJjaFBhcmFtcyIpLHpPKHtnbG9iYWw6ITAsZm9yY2VkOiFHT30se1VSTFNlYXJjaFBhcmFtczpXVH0pLCFHTyYmZVQoYlQpKXt2YXIgR1Q9Vk8od1QuaGFzKSxLVD1WTyh3VC5zZXQpLEpUPWZ1bmN0aW9uKGUpe2lmKGFUKGUpKXt2YXIgdCxyPWUuYm9keTtpZigiVVJMU2VhcmNoUGFyYW1zIj09PW5UKHIpKXJldHVybiB0PWUuaGVhZGVycz9uZXcgYlQoZS5oZWFkZXJzKTpuZXcgYlQsR1QodCwiY29udGVudC10eXBlIil8fEtUKHQsImNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Iiksc1QoZSx7Ym9keTpsVCgwLGlUKHIpKSxoZWFkZXJzOmxUKDAsdCl9KX1yZXR1cm4gZX07aWYoZVQoZ1QpJiZ6Tyh7Z2xvYmFsOiEwLGVudW1lcmFibGU6ITAsZm9yY2VkOiEwfSx7ZmV0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGdUKGUsYXJndW1lbnRzLmxlbmd0aD4xP0pUKGFyZ3VtZW50c1sxXSk6e30pfX0pLGVUKHZUKSl7dmFyIFlUPWZ1bmN0aW9uKGUpe3JldHVybiBYTyh0aGlzLHhUKSxuZXcgdlQoZSxhcmd1bWVudHMubGVuZ3RoPjE/SlQoYXJndW1lbnRzWzFdKTp7fSl9O3hULmNvbnN0cnVjdG9yPVlULFlULnByb3RvdHlwZT14VCx6Tyh7Z2xvYmFsOiEwLGZvcmNlZDohMH0se1JlcXVlc3Q6WVR9KX19Y29uc3QgWlQ9dXQoe2V4cG9ydHM6e319LmV4cG9ydHM9b3IuVVJMU2VhcmNoUGFyYW1zKTtmdW5jdGlvbiBRVChlLHQpe2Z1bmN0aW9uIHIoKXtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpOnRoaXMuc3RhY2s9KG5ldyBFcnJvcikuc3RhY2s7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspcltuXT1hcmd1bWVudHNbbl07dGhpcy5tZXNzYWdlPXJbMF0sdCYmdC5hcHBseSh0aGlzLHIpfXJldHVybiByLnByb3RvdHlwZT1uZXcgRXJyb3Isci5wcm90b3R5cGUubmFtZT1lLHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXIscn12YXIgWFQ9e2V4cG9ydHM6e319LGVDPVhULmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0QyhlKX07ZnVuY3Rpb24gdEMoZSl7dGhpcy52YWx1ZT1lfWZ1bmN0aW9uIHJDKGUsdCxyKXt2YXIgbj1bXSxvPVtdLGE9ITA7cmV0dXJuIGZ1bmN0aW9uIGUoaSl7dmFyIHM9cj9uQyhpKTppLGw9e30sYz0hMCxwPXtub2RlOnMsbm9kZV86aSxwYXRoOltdLmNvbmNhdChuKSxwYXJlbnQ6b1tvLmxlbmd0aC0xXSxwYXJlbnRzOm8sa2V5Om4uc2xpY2UoLTEpWzBdLGlzUm9vdDowPT09bi5sZW5ndGgsbGV2ZWw6bi5sZW5ndGgsY2lyY3VsYXI6bnVsbCx1cGRhdGU6ZnVuY3Rpb24oZSx0KXtwLmlzUm9vdHx8KHAucGFyZW50Lm5vZGVbcC5rZXldPWUpLHAubm9kZT1lLHQmJihjPSExKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe2RlbGV0ZSBwLnBhcmVudC5ub2RlW3Aua2V5XSxlJiYoYz0hMSl9LHJlbW92ZTpmdW5jdGlvbihlKXtpQyhwLnBhcmVudC5ub2RlKT9wLnBhcmVudC5ub2RlLnNwbGljZShwLmtleSwxKTpkZWxldGUgcC5wYXJlbnQubm9kZVtwLmtleV0sZSYmKGM9ITEpfSxrZXlzOm51bGwsYmVmb3JlOmZ1bmN0aW9uKGUpe2wuYmVmb3JlPWV9LGFmdGVyOmZ1bmN0aW9uKGUpe2wuYWZ0ZXI9ZX0scHJlOmZ1bmN0aW9uKGUpe2wucHJlPWV9LHBvc3Q6ZnVuY3Rpb24oZSl7bC5wb3N0PWV9LHN0b3A6ZnVuY3Rpb24oKXthPSExfSxibG9jazpmdW5jdGlvbigpe2M9ITF9fTtpZighYSlyZXR1cm4gcDtmdW5jdGlvbiBkKCl7aWYoIm9iamVjdCI9PXR5cGVvZiBwLm5vZGUmJm51bGwhPT1wLm5vZGUpe3Aua2V5cyYmcC5ub2RlXz09PXAubm9kZXx8KHAua2V5cz1vQyhwLm5vZGUpKSxwLmlzTGVhZj0wPT1wLmtleXMubGVuZ3RoO2Zvcih2YXIgZT0wO2U8by5sZW5ndGg7ZSsrKWlmKG9bZV0ubm9kZV89PT1pKXtwLmNpcmN1bGFyPW9bZV07YnJlYWt9fWVsc2UgcC5pc0xlYWY9ITAscC5rZXlzPW51bGw7cC5ub3RMZWFmPSFwLmlzTGVhZixwLm5vdFJvb3Q9IXAuaXNSb290fWQoKTt2YXIgdT10LmNhbGwocCxwLm5vZGUpO3JldHVybiB2b2lkIDAhPT11JiZwLnVwZGF0ZSYmcC51cGRhdGUodSksbC5iZWZvcmUmJmwuYmVmb3JlLmNhbGwocCxwLm5vZGUpLGM/KCJvYmplY3QiIT10eXBlb2YgcC5ub2RlfHxudWxsPT09cC5ub2RlfHxwLmNpcmN1bGFyfHwoby5wdXNoKHApLGQoKSxzQyhwLmtleXMsKGZ1bmN0aW9uKHQsbyl7bi5wdXNoKHQpLGwucHJlJiZsLnByZS5jYWxsKHAscC5ub2RlW3RdLHQpO3ZhciBhPWUocC5ub2RlW3RdKTtyJiZsQy5jYWxsKHAubm9kZSx0KSYmKHAubm9kZVt0XT1hLm5vZGUpLGEuaXNMYXN0PW89PXAua2V5cy5sZW5ndGgtMSxhLmlzRmlyc3Q9MD09byxsLnBvc3QmJmwucG9zdC5jYWxsKHAsYSksbi5wb3AoKX0pKSxvLnBvcCgpKSxsLmFmdGVyJiZsLmFmdGVyLmNhbGwocCxwLm5vZGUpLHApOnB9KGUpLm5vZGV9ZnVuY3Rpb24gbkMoZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZSl7dmFyIHQ7aWYoaUMoZSkpdD1bXTtlbHNlIGlmKCJbb2JqZWN0IERhdGVdIj09PWFDKGUpKXQ9bmV3IERhdGUoZS5nZXRUaW1lP2UuZ2V0VGltZSgpOmUpO2Vsc2UgaWYoIltvYmplY3QgUmVnRXhwXSI9PT1hQyhlKSl0PW5ldyBSZWdFeHAoZSk7ZWxzZSBpZihmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBFcnJvcl0iPT09YUMoZSl9KGUpKXQ9e21lc3NhZ2U6ZS5tZXNzYWdlfTtlbHNlIGlmKGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEJvb2xlYW5dIj09PWFDKGUpfShlKSl0PW5ldyBCb29sZWFuKGUpO2Vsc2UgaWYoZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgTnVtYmVyXSI9PT1hQyhlKX0oZSkpdD1uZXcgTnVtYmVyKGUpO2Vsc2UgaWYoZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgU3RyaW5nXSI9PT1hQyhlKX0oZSkpdD1uZXcgU3RyaW5nKGUpO2Vsc2UgaWYoT2JqZWN0LmNyZWF0ZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKXQ9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpO2Vsc2UgaWYoZS5jb25zdHJ1Y3Rvcj09PU9iamVjdCl0PXt9O2Vsc2V7dmFyIHI9ZS5jb25zdHJ1Y3RvciYmZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGV8fGUuX19wcm90b19ffHx7fSxuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT1yLHQ9bmV3IG59cmV0dXJuIHNDKG9DKGUpLChmdW5jdGlvbihyKXt0W3JdPWVbcl19KSksdH1yZXR1cm4gZX10Qy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnZhbHVlLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtpZighdHx8IWxDLmNhbGwodCxuKSl7dD12b2lkIDA7YnJlYWt9dD10W25dfXJldHVybiB0fSx0Qy5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnZhbHVlLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtpZighdHx8IWxDLmNhbGwodCxuKSlyZXR1cm4hMTt0PXRbbl19cmV0dXJuITB9LHRDLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy52YWx1ZSxuPTA7bjxlLmxlbmd0aC0xO24rKyl7dmFyIG89ZVtuXTtsQy5jYWxsKHIsbyl8fChyW29dPXt9KSxyPXJbb119cmV0dXJuIHJbZVtuXV09dCx0fSx0Qy5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKGUpe3JldHVybiByQyh0aGlzLnZhbHVlLGUsITApfSx0Qy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52YWx1ZT1yQyh0aGlzLnZhbHVlLGUsITEpLHRoaXMudmFsdWV9LHRDLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj0xPT09YXJndW1lbnRzLmxlbmd0aCxuPXI/dGhpcy52YWx1ZTp0O3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3RoaXMuaXNSb290JiZyfHwobj1lLmNhbGwodGhpcyxuLHQpKX0pKSxufSx0Qy5wcm90b3R5cGUucGF0aHM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLnB1c2godGhpcy5wYXRoKX0pKSxlfSx0Qy5wcm90b3R5cGUubm9kZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLnB1c2godGhpcy5ub2RlKX0pKSxlfSx0Qy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PVtdO3JldHVybiBmdW5jdGlvbiByKG4pe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKWlmKGVbb109PT1uKXJldHVybiB0W29dO2lmKCJvYmplY3QiPT10eXBlb2YgbiYmbnVsbCE9PW4pe3ZhciBhPW5DKG4pO3JldHVybiBlLnB1c2gobiksdC5wdXNoKGEpLHNDKG9DKG4pLChmdW5jdGlvbihlKXthW2VdPXIobltlXSl9KSksZS5wb3AoKSx0LnBvcCgpLGF9cmV0dXJuIG59KHRoaXMudmFsdWUpfTt2YXIgb0M9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKXQucHVzaChyKTtyZXR1cm4gdH07ZnVuY3Rpb24gYUMoZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX12YXIgaUM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0sc0M9ZnVuY3Rpb24oZSx0KXtpZihlLmZvckVhY2gpcmV0dXJuIGUuZm9yRWFjaCh0KTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0KGVbcl0scixlKX07c0Mob0ModEMucHJvdG90eXBlKSwoZnVuY3Rpb24oZSl7ZUNbZV09ZnVuY3Rpb24odCl7dmFyIHI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj1uZXcgdEModCk7cmV0dXJuIG5bZV0uYXBwbHkobixyKX19KSk7dmFyIGxDPU9iamVjdC5oYXNPd25Qcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCBpbiBlfSxjQz1bInByb3BlcnRpZXMiXSxwQz1bInByb3BlcnRpZXMiXSxkQz1bImRlZmluaXRpb25zIiwicGFyYW1ldGVycyIsInJlc3BvbnNlcyIsInNlY3VyaXR5RGVmaW5pdGlvbnMiLCJjb21wb25lbnRzL3NjaGVtYXMiLCJjb21wb25lbnRzL3Jlc3BvbnNlcyIsImNvbXBvbmVudHMvcGFyYW1ldGVycyIsImNvbXBvbmVudHMvc2VjdXJpdHlTY2hlbWVzIl0sdUM9WyJzY2hlbWEvZXhhbXBsZSIsIml0ZW1zL2V4YW1wbGUiXTtmdW5jdGlvbiBoQyhlKXt2YXIgdD1lW2UubGVuZ3RoLTFdLHI9ZVtlLmxlbmd0aC0yXSxuPWUuam9pbigiLyIpO3JldHVybiBjQy5pbmRleE9mKHQpPi0xJiYtMT09PXBDLmluZGV4T2Yocil8fGRDLmluZGV4T2Yobik+LTF8fHVDLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmluZGV4T2YoZSk+LTF9KSl9ZnVuY3Rpb24gZkMoZSx0KXt2YXIgcixuPVBmKGUuc3BsaXQoIiMiKSwyKSxvPW5bMF0sYT1uWzFdLGk9aHUucmVzb2x2ZShvfHwiIix0fHwiIik7cmV0dXJuIGE/UmIocj0iIi5jb25jYXQoaSwiIyIpKS5jYWxsKHIsYSk6aX12YXIgbUM9L14oW2Etel0rOlwvXC98XC9cLykvaSx5Qz1RVCgiSlNPTlJlZkVycm9yIiwoZnVuY3Rpb24oZSx0LHIpe3RoaXMub3JpZ2luYWxFcnJvcj1yLEhkKHRoaXMsdHx8e30pfSkpLGdDPXt9LHZDPW5ldyBQTyxiQz1bZnVuY3Rpb24oZSl7cmV0dXJuInBhdGhzIj09PWVbMF0mJiJyZXNwb25zZXMiPT09ZVszXSYmImV4YW1wbGVzIj09PWVbNV19LGZ1bmN0aW9uKGUpe3JldHVybiJwYXRocyI9PT1lWzBdJiYicmVzcG9uc2VzIj09PWVbM10mJiJjb250ZW50Ij09PWVbNV0mJiJleGFtcGxlIj09PWVbN119LGZ1bmN0aW9uKGUpe3JldHVybiJwYXRocyI9PT1lWzBdJiYicmVzcG9uc2VzIj09PWVbM10mJiJjb250ZW50Ij09PWVbNV0mJiJleGFtcGxlcyI9PT1lWzddJiYidmFsdWUiPT09ZVs5XX0sZnVuY3Rpb24oZSl7cmV0dXJuInBhdGhzIj09PWVbMF0mJiJyZXF1ZXN0Qm9keSI9PT1lWzNdJiYiY29udGVudCI9PT1lWzRdJiYiZXhhbXBsZSI9PT1lWzZdfSxmdW5jdGlvbihlKXtyZXR1cm4icGF0aHMiPT09ZVswXSYmInJlcXVlc3RCb2R5Ij09PWVbM10mJiJjb250ZW50Ij09PWVbNF0mJiJleGFtcGxlcyI9PT1lWzZdJiYidmFsdWUiPT09ZVs4XX0sZnVuY3Rpb24oZSl7cmV0dXJuInBhdGhzIj09PWVbMF0mJiJwYXJhbWV0ZXJzIj09PWVbMl0mJiJleGFtcGxlIj09PWVbNF19LGZ1bmN0aW9uKGUpe3JldHVybiJwYXRocyI9PT1lWzBdJiYicGFyYW1ldGVycyI9PT1lWzNdJiYiZXhhbXBsZSI9PT1lWzVdfSxmdW5jdGlvbihlKXtyZXR1cm4icGF0aHMiPT09ZVswXSYmInBhcmFtZXRlcnMiPT09ZVsyXSYmImV4YW1wbGVzIj09PWVbNF0mJiJ2YWx1ZSI9PT1lWzZdfSxmdW5jdGlvbihlKXtyZXR1cm4icGF0aHMiPT09ZVswXSYmInBhcmFtZXRlcnMiPT09ZVszXSYmImV4YW1wbGVzIj09PWVbNV0mJiJ2YWx1ZSI9PT1lWzddfSxmdW5jdGlvbihlKXtyZXR1cm4icGF0aHMiPT09ZVswXSYmInBhcmFtZXRlcnMiPT09ZVsyXSYmImNvbnRlbnQiPT09ZVs0XSYmImV4YW1wbGUiPT09ZVs2XX0sZnVuY3Rpb24oZSl7cmV0dXJuInBhdGhzIj09PWVbMF0mJiJwYXJhbWV0ZXJzIj09PWVbMl0mJiJjb250ZW50Ij09PWVbNF0mJiJleGFtcGxlcyI9PT1lWzZdJiYidmFsdWUiPT09ZVs4XX0sZnVuY3Rpb24oZSl7cmV0dXJuInBhdGhzIj09PWVbMF0mJiJwYXJhbWV0ZXJzIj09PWVbM10mJiJjb250ZW50Ij09PWVbNF0mJiJleGFtcGxlIj09PWVbN119LGZ1bmN0aW9uKGUpe3JldHVybiJwYXRocyI9PT1lWzBdJiYicGFyYW1ldGVycyI9PT1lWzNdJiYiY29udGVudCI9PT1lWzVdJiYiZXhhbXBsZXMiPT09ZVs3XSYmInZhbHVlIj09PWVbOV19XSx4Qz17a2V5OiIkcmVmIixwbHVnaW46ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG8sYT1uLmdldEluc3RhbmNlKCksaT1tUyhyKS5jYWxsKHIsMCwtMSk7aWYoIWhDKGkpJiYobz1pLCFiQy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZShvKX0pKSkpe3ZhciBzPW4uZ2V0Q29udGV4dChyKS5iYXNlRG9jO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbmV3IHlDKCIkcmVmOiBtdXN0IGJlIGEgc3RyaW5nIChKU09OLVJlZikiLHskcmVmOmUsYmFzZURvYzpzLGZ1bGxQYXRoOnJ9KTt2YXIgbCxjLHAsZD1TQyhlKSx1PWRbMF0saD1kWzFdfHwiIjt0cnl7bD1zfHx1PyRDKHUscyk6bnVsbH1jYXRjaCh0KXtyZXR1cm4ga0ModCx7cG9pbnRlcjpoLCRyZWY6ZSxiYXNlUGF0aDpsLGZ1bGxQYXRoOnJ9KX1pZihmdW5jdGlvbihlLHQscixuKXt2YXIgbyxhLGk9dkMuZ2V0KG4pO2l8fChpPXt9LHZDLnNldChuLGkpKTt2YXIgcyxsPTA9PT0ocz1yKS5sZW5ndGg/IiI6Ii8iLmNvbmNhdChUYihzKS5jYWxsKHMsakMpLmpvaW4oIi8iKSksYz1SYihvPSIiLmNvbmNhdCh0fHwiPHNwZWNtYXAtYmFzZT4iLCIjIikpLmNhbGwobyxlKSxwPWwucmVwbGFjZSgvYWxsT2ZcL1xkK1wvPy9nLCIiKTtpZih0PT09bi5jb250ZXh0VHJlZS5nZXQoW10pLmJhc2VEb2MmJklDKHAsZSkpcmV0dXJuITA7dmFyIGQ9IiIsdT1yLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBkPVJiKHQ9IiIuY29uY2F0KGQsIi8iKSkuY2FsbCh0LGpDKGUpKSxpW2RdJiZpW2RdLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBJQyhlLGMpfHxJQyhjLGUpfSkpfSkpO2lmKHUpcmV0dXJuITA7aVtwXT1SYihhPWlbcF18fFtdKS5jYWxsKGEsYyl9KGgsbCxpLG4pJiYhYS51c2VDaXJjdWxhclN0cnVjdHVyZXMpe3ZhciBmPWZDKGUsbCk7cmV0dXJuIGU9PT1mP251bGw6WUEucmVwbGFjZShyLGYpfWlmKG51bGw9PWw/KHA9VEMoaCksdm9pZCAwPT09KGM9bi5nZXQocCkpJiYoYz1uZXcgeUMoIkNvdWxkIG5vdCByZXNvbHZlIHJlZmVyZW5jZTogIi5jb25jYXQoZSkse3BvaW50ZXI6aCwkcmVmOmUsYmFzZURvYzpzLGZ1bGxQYXRoOnJ9KSkpOmM9bnVsbCE9KGM9QUMobCxoKSkubD9jLmw6Yy5jYXRjaCgoZnVuY3Rpb24odCl7dGhyb3cga0ModCx7cG9pbnRlcjpoLCRyZWY6ZSxiYXNlRG9jOnMsZnVsbFBhdGg6cn0pfSkpLGMgaW5zdGFuY2VvZiBFcnJvcilyZXR1cm5bWUEucmVtb3ZlKHIpLGNdO3ZhciBtPWZDKGUsbCkseT1ZQS5yZXBsYWNlKGksYyx7JCRyZWY6bX0pO2lmKGwmJmwhPT1zKXJldHVyblt5LFlBLmNvbnRleHQoaSx7YmFzZURvYzpsfSldO3RyeXtpZighZnVuY3Rpb24oZSx0KXt2YXIgcj1bZV07cmV0dXJuIHQucGF0aC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIucHVzaChlW3RdKSxlW3RdfSksZSksZnVuY3Rpb24gZSh0KXtyZXR1cm4gWUEuaXNPYmplY3QodCkmJihyLmluZGV4T2YodCk+PTB8fENiKHQpLnNvbWUoKGZ1bmN0aW9uKHIpe3JldHVybiBlKHRbcl0pfSkpKX0odC52YWx1ZSl9KG4uc3RhdGUseSl8fGEudXNlQ2lyY3VsYXJTdHJ1Y3R1cmVzKXJldHVybiB5fWNhdGNoKG8pe3JldHVybiBudWxsfX19fSx3Qz1IZCh4Qyx7ZG9jQ2FjaGU6Z0MsYWJzb2x1dGVpZnk6JEMsY2xlYXJDYWNoZTpmdW5jdGlvbihlKXt2b2lkIDAhPT1lP2RlbGV0ZSBnQ1tlXTpDYihnQykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZGVsZXRlIGdDW2VdfSkpfSxKU09OUmVmRXJyb3I6eUMsd3JhcEVycm9yOmtDLGdldERvYzpFQyxzcGxpdDpTQyxleHRyYWN0RnJvbURvYzpBQyxmZXRjaEpTT046ZnVuY3Rpb24oZSl7cmV0dXJuIGZldGNoKGUse2hlYWRlcnM6e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24veWFtbCJ9LGxvYWRTcGVjOiEwfSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dCgpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBjUy5sb2FkKGUpfSkpfSxleHRyYWN0Ok9DLGpzb25Qb2ludGVyVG9BcnJheTpUQyx1bmVzY2FwZUpzb25Qb2ludGVyVG9rZW46Q0N9KTtmdW5jdGlvbiAkQyhlLHQpe2lmKCFtQy50ZXN0KGUpKXt2YXIgcjtpZighdCl0aHJvdyBuZXcgeUMoUmIocj0iVHJpZWQgdG8gcmVzb2x2ZSBhIHJlbGF0aXZlIFVSTCwgd2l0aG91dCBoYXZpbmcgYSBiYXNlUGF0aC4gcGF0aDogJyIuY29uY2F0KGUsIicgYmFzZVBhdGg6ICciKSkuY2FsbChyLHQsIiciKSk7cmV0dXJuIGh1LnJlc29sdmUodCxlKX1yZXR1cm4gZX1mdW5jdGlvbiBrQyhlLHQpe3ZhciByLG47cmV0dXJuIHI9ZSYmZS5yZXNwb25zZSYmZS5yZXNwb25zZS5ib2R5P1JiKG49IiIuY29uY2F0KGUucmVzcG9uc2UuYm9keS5jb2RlLCIgIikpLmNhbGwobixlLnJlc3BvbnNlLmJvZHkubWVzc2FnZSk6ZS5tZXNzYWdlLG5ldyB5QygiQ291bGQgbm90IHJlc29sdmUgcmVmZXJlbmNlOiAiLmNvbmNhdChyKSx0LGUpfWZ1bmN0aW9uIFNDKGUpe3JldHVybihlKyIiKS5zcGxpdCgiIyIpfWZ1bmN0aW9uIEFDKGUsdCl7dmFyIHI9Z0NbZV07aWYociYmIVlBLmlzUHJvbWlzZShyKSl0cnl7dmFyIG49T0ModCxyKTtyZXR1cm4gSGQoSlMucmVzb2x2ZShuKSx7bDpufSl9Y2F0Y2goZSl7cmV0dXJuIEpTLnJlamVjdChlKX1yZXR1cm4gRUMoZSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIE9DKHQsZSl9KSl9ZnVuY3Rpb24gRUMoZSl7dmFyIHQ9Z0NbZV07cmV0dXJuIHQ/WUEuaXNQcm9taXNlKHQpP3Q6SlMucmVzb2x2ZSh0KTooZ0NbZV09d0MuZmV0Y2hKU09OKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBnQ1tlXT10LHR9KSksZ0NbZV0pfWZ1bmN0aW9uIE9DKGUsdCl7dmFyIHI9VEMoZSk7aWYoci5sZW5ndGg8MSlyZXR1cm4gdDt2YXIgbj1ZQS5nZXRJbih0LHIpO2lmKHZvaWQgMD09PW4pdGhyb3cgbmV3IHlDKCJDb3VsZCBub3QgcmVzb2x2ZSBwb2ludGVyOiAiLmNvbmNhdChlLCIgZG9lcyBub3QgZXhpc3QgaW4gZG9jdW1lbnQiKSx7cG9pbnRlcjplfSk7cmV0dXJuIG59ZnVuY3Rpb24gVEMoZSl7dmFyIHQ7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIkV4cGVjdGVkIGEgc3RyaW5nLCBnb3QgYSAiLmNvbmNhdChfZihlKSkpO3JldHVybiIvIj09PWVbMF0mJihlPWUuc3Vic3RyKDEpKSwiIj09PWU/W106VGIodD1lLnNwbGl0KCIvIikpLmNhbGwodCxDQyl9ZnVuY3Rpb24gQ0MoZSl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlP2U6bmV3IFpUKCI9Ii5jb25jYXQoZS5yZXBsYWNlKC9+MS9nLCIvIikucmVwbGFjZSgvfjAvZywifiIpKSkuZ2V0KCIiKX1mdW5jdGlvbiBqQyhlKXt2YXIgdCxyPW5ldyBaVChbWyIiLGUucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIildXSk7cmV0dXJuIG1TKHQ9ci50b1N0cmluZygpKS5jYWxsKHQsMSl9ZnVuY3Rpb24gSUMoZSx0KXtpZighKHI9dCl8fCIvIj09PXJ8fCIjIj09PXIpcmV0dXJuITA7dmFyIHIsbj1lLmNoYXJBdCh0Lmxlbmd0aCksbz1tUyh0KS5jYWxsKHQsLTEpO3JldHVybiAwPT09ZS5pbmRleE9mKHQpJiYoIW58fCIvIj09PW58fCIjIj09PW4pJiYiIyIhPT1vfWNvbnN0IF9DPXtrZXk6ImFsbE9mIixwbHVnaW46ZnVuY3Rpb24oZSx0LHIsbixvKXtpZighby5tZXRhfHwhby5tZXRhLiQkcmVmKXt2YXIgYT1tUyhyKS5jYWxsKHIsMCwtMSk7aWYoIWhDKGEpKXtpZighQXJyYXkuaXNBcnJheShlKSl7dmFyIGk9bmV3IFR5cGVFcnJvcigiYWxsT2YgbXVzdCBiZSBhbiBhcnJheSIpO3JldHVybiBpLmZ1bGxQYXRoPXIsaX12YXIgcz0hMSxsPW8udmFsdWU7aWYoYS5mb3JFYWNoKChmdW5jdGlvbihlKXtsJiYobD1sW2VdKX0pKSxsPVRkKHt9LGwpLDAhPT1DYihsKS5sZW5ndGgpe2RlbGV0ZSBsLmFsbE9mO3ZhciBjLHAsZD1bXTtyZXR1cm4gZC5wdXNoKG4ucmVwbGFjZShhLHt9KSksZS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2lmKCFuLmlzT2JqZWN0KGUpKXtpZihzKXJldHVybiBudWxsO3M9ITA7dmFyIG89bmV3IFR5cGVFcnJvcigiRWxlbWVudHMgaW4gYWxsT2YgbXVzdCBiZSBvYmplY3RzIik7cmV0dXJuIG8uZnVsbFBhdGg9cixkLnB1c2gobyl9ZC5wdXNoKG4ubWVyZ2VEZWVwKGEsZSkpO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci5zcGVjbWFwLG89ci5nZXRCYXNlVXJsRm9yTm9kZVBhdGgsYT12b2lkIDA9PT1vP2Z1bmN0aW9uKGUpe3ZhciByO3JldHVybiBuLmdldENvbnRleHQoUmIocj1bXSkuY2FsbChyLGZTKHQpLGZTKGUpKSkuYmFzZURvY306byxpPXIudGFyZ2V0S2V5cyxzPXZvaWQgMD09PWk/WyIkcmVmIiwiJCRyZWYiXTppLGw9W107cmV0dXJuIFhULmV4cG9ydHMoZSkuZm9yRWFjaCgoZnVuY3Rpb24oKXtpZihHdihzKS5jYWxsKHMsdGhpcy5rZXkpJiYic3RyaW5nIj09dHlwZW9mIHRoaXMubm9kZSl7dmFyIGU9dGhpcy5wYXRoLHI9UmIodCkuY2FsbCh0LHRoaXMucGF0aCksbz1mQyh0aGlzLm5vZGUsYShlKSk7bC5wdXNoKG4ucmVwbGFjZShyLG8pKX19KSksbH0oZSxtUyhyKS5jYWxsKHIsMCwtMSkse2dldEJhc2VVcmxGb3JOb2RlUGF0aDpmdW5jdGlvbihlKXt2YXIgbztyZXR1cm4gbi5nZXRDb250ZXh0KFJiKG89W10pLmNhbGwobyxmUyhyKSxbdF0sZlMoZSkpKS5iYXNlRG9jfSxzcGVjbWFwOm59KTtkLnB1c2guYXBwbHkoZCxmUyhpKSl9KSksbC5leGFtcGxlJiZkLnB1c2gobi5yZW1vdmUoUmIoYz1bXSkuY2FsbChjLGEsImV4YW1wbGUiKSkpLGQucHVzaChuLm1lcmdlRGVlcChhLGwpKSxsLiQkcmVmfHxkLnB1c2gobi5yZW1vdmUoUmIocD1bXSkuY2FsbChwLGEsIiQkcmVmIikpKSxkfX19fX0sUEM9e2tleToicGFyYW1ldGVycyIscGx1Z2luOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoKXt2YXIgbz1IZChbXSxlKSxhPW1TKHIpLmNhbGwociwwLC0xKSxpPVRkKHt9LFlBLmdldEluKG4uc3BlYyxhKSk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXt0cnl7b1t0XS5kZWZhdWx0PW4ucGFyYW1ldGVyTWFjcm8oaSxlKX1jYXRjaChlKXt2YXIgYT1uZXcgRXJyb3IoZSk7cmV0dXJuIGEuZnVsbFBhdGg9cixhfX0pKSxZQS5yZXBsYWNlKHIsbyl9cmV0dXJuIFlBLnJlcGxhY2UocixlKX19LFJDPXtrZXk6InByb3BlcnRpZXMiLHBsdWdpbjpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1UZCh7fSxlKTtmb3IodmFyIGEgaW4gZSl0cnl7b1thXS5kZWZhdWx0PW4ubW9kZWxQcm9wZXJ0eU1hY3JvKG9bYV0pfWNhdGNoKGUpe3ZhciBpPW5ldyBFcnJvcihlKTtyZXR1cm4gaS5mdWxsUGF0aD1yLGl9cmV0dXJuIFlBLnJlcGxhY2UocixvKX19O3ZhciBMQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7QlModGhpcyxlKSx0aGlzLnJvb3Q9RkModHx8e30pfXJldHVybiBxUyhlLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXRQYXJlbnQoZSwhMCk7aWYocil7dmFyIG49ZVtlLmxlbmd0aC0xXSxvPXIuY2hpbGRyZW47b1tuXT9EQyhvW25dLHQscik6b1tuXT1GQyh0LHIpfWVsc2UgREModGhpcy5yb290LHQsbnVsbCl9fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKChlPWV8fFtdKS5sZW5ndGg8MSlyZXR1cm4gdGhpcy5yb290LnZhbHVlO2Zvcih2YXIgdCxyLG49dGhpcy5yb290LG89MDtvPGUubGVuZ3RoJiYocj1lW29dLCh0PW4uY2hpbGRyZW4pW3JdKTtvKz0xKW49dFtyXTtyZXR1cm4gbiYmbi5wcm90b1ZhbHVlfX0se2tleToiZ2V0UGFyZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiFlfHxlLmxlbmd0aDwxP251bGw6ZS5sZW5ndGg8Mj90aGlzLnJvb3Q6bVMoZSkuY2FsbChlLDAsLTEpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm4gZTt2YXIgbj1lLmNoaWxkcmVuO3JldHVybiFuW3JdJiZ0JiYobltyXT1GQyhudWxsLGUpKSxuW3JdfSksdGhpcy5yb290KX19XSksZX0oKTtmdW5jdGlvbiBGQyhlLHQpe3JldHVybiBEQyh7Y2hpbGRyZW46e319LGUsdCl9ZnVuY3Rpb24gREMoZSx0LHIpe3JldHVybiBlLnZhbHVlPXR8fHt9LGUucHJvdG9WYWx1ZT1yP1RkKFRkKHt9LHIucHJvdG9WYWx1ZSksZS52YWx1ZSk6ZS52YWx1ZSxDYihlLmNoaWxkcmVuKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lLmNoaWxkcmVuW3RdO2UuY2hpbGRyZW5bdF09REMocixyLnZhbHVlLGUpfSkpLGV9dmFyIEJDPWZ1bmN0aW9uKCl7fSxOQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIHIsbixvPXRoaXM7QlModGhpcyxlKSxIZCh0aGlzLHtzcGVjOiIiLGRlYnVnTGV2ZWw6ImluZm8iLHBsdWdpbnM6W10scGx1Z2luSGlzdG9yeTp7fSxlcnJvcnM6W10sbXV0YXRpb25zOltdLHByb21pc2VkUGF0Y2hlczpbXSxzdGF0ZTp7fSxwYXRjaGVzOltdLGNvbnRleHQ6e30sY29udGV4dFRyZWU6bmV3IExDLHNob3dEZWJ1ZzohMSxhbGxQYXRjaGVzOltdLHBsdWdpblByb3A6InNwZWNNYXAiLGxpYk1ldGhvZHM6SGQoT2JqZWN0LmNyZWF0ZSh0aGlzKSxZQSx7Z2V0SW5zdGFuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gb319KSxhbGxvd01ldGFQYXRjaGVzOiExfSx0KSx0aGlzLmdldD10aGlzLl9nZXQuYmluZCh0aGlzKSx0aGlzLmdldENvbnRleHQ9dGhpcy5fZ2V0Q29udGV4dC5iaW5kKHRoaXMpLHRoaXMuaGFzUnVuPXRoaXMuX2hhc1J1bi5iaW5kKHRoaXMpLHRoaXMud3JhcHBlZFBsdWdpbnM9V2Iocj1UYihuPXRoaXMucGx1Z2lucykuY2FsbChuLHRoaXMud3JhcFBsdWdpbi5iaW5kKHRoaXMpKSkuY2FsbChyLFlBLmlzRnVuY3Rpb24pLHRoaXMucGF0Y2hlcy5wdXNoKFlBLmFkZChbXSx0aGlzLnNwZWMpKSx0aGlzLnBhdGNoZXMucHVzaChZQS5jb250ZXh0KFtdLHRoaXMuY29udGV4dCkpLHRoaXMudXBkYXRlUGF0Y2hlcyh0aGlzLnBhdGNoZXMpfXJldHVybiBxUyhlLFt7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5kZWJ1Z0xldmVsPT09ZSl7Zm9yKHZhciB0LHI9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShyPjE/ci0xOjApLG89MTtvPHI7bysrKW5bby0xXT1hcmd1bWVudHNbb107KHQ9Y29uc29sZSkubG9nLmFwcGx5KHQsbil9fX0se2tleToidmVyYm9zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoInZlcmJvc2UiPT09dGhpcy5kZWJ1Z0xldmVsKXtmb3IodmFyIHQscixuPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkobj4xP24tMTowKSxhPTE7YTxuO2ErKylvW2EtMV09YXJndW1lbnRzW2FdOyh0PWNvbnNvbGUpLmxvZy5hcHBseSh0LFJiKHI9WyJbIi5jb25jYXQoZSwiXSAgICIpXSkuY2FsbChyLG8pKX19fSx7a2V5OiJ3cmFwUGx1Z2luIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByLG4sbyxhPXRoaXMucGF0aERpc2NyaW1pbmF0b3IsaT1udWxsO3JldHVybiBlW3RoaXMucGx1Z2luUHJvcF0/KGk9ZSxyPWVbdGhpcy5wbHVnaW5Qcm9wXSk6WUEuaXNGdW5jdGlvbihlKT9yPWU6WUEuaXNPYmplY3QoZSkmJihuPWUsbz1mdW5jdGlvbihlLHQpe3JldHVybiFBcnJheS5pc0FycmF5KGUpfHxlLmV2ZXJ5KChmdW5jdGlvbihlLHIpe3JldHVybiBlPT09dFtyXX0pKX0scj1fdi5tYXJrKChmdW5jdGlvbiBlKHQscil7dmFyIGkscyxsLGMscCxkO3JldHVybiBfdi53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpkPWZ1bmN0aW9uKGUsdCxsKXt2YXIgYyxwLHUsaCxmLG0seSxnLHYsYix4LHcsJDtyZXR1cm4gX3Yud3JhcCgoZnVuY3Rpb24oaSl7Zm9yKDs7KXN3aXRjaChpLnByZXY9aS5uZXh0KXtjYXNlIDA6aWYoWUEuaXNPYmplY3QoZSkpe2kubmV4dD02O2JyZWFrfWlmKG4ua2V5IT09dFt0Lmxlbmd0aC0xXSl7aS5uZXh0PTQ7YnJlYWt9cmV0dXJuIGkubmV4dD00LG4ucGx1Z2luKGUsbi5rZXksdCxyKTtjYXNlIDQ6aS5uZXh0PTMwO2JyZWFrO2Nhc2UgNjpjPXQubGVuZ3RoLTEscD10W2NdLHU9dC5pbmRleE9mKCJwcm9wZXJ0aWVzIiksaD0icHJvcGVydGllcyI9PT1wJiZjPT09dSxmPXIuYWxsb3dNZXRhUGF0Y2hlcyYmc1tlLiQkcmVmXSxtPTAseT1DYihlKTtjYXNlIDEyOmlmKCEobTx5Lmxlbmd0aCkpe2kubmV4dD0zMDticmVha31pZihnPXlbbV0sdj1lW2ddLGI9UmIodCkuY2FsbCh0LGcpLHg9WUEuaXNPYmplY3Qodiksdz1lLiQkcmVmLGYpe2kubmV4dD0yMjticmVha31pZigheCl7aS5uZXh0PTIyO2JyZWFrfXJldHVybiByLmFsbG93TWV0YVBhdGNoZXMmJncmJihzW3ddPSEwKSxpLmRlbGVnYXRlWWllbGQoZCh2LGIsbCksInQwIiwyMik7Y2FzZSAyMjppZihofHxnIT09bi5rZXkpe2kubmV4dD0yNzticmVha31pZigkPW8oYSx0KSxhJiYhJCl7aS5uZXh0PTI3O2JyZWFrfXJldHVybiBpLm5leHQ9Mjcsbi5wbHVnaW4odixnLGIscixsKTtjYXNlIDI3Om0rKyxpLm5leHQ9MTI7YnJlYWs7Y2FzZSAzMDpjYXNlImVuZCI6cmV0dXJuIGkuc3RvcCgpfX0pLGkpfSxpPV92Lm1hcmsoZCkscz17fSxsPUNmKFdiKHQpLmNhbGwodCxZQS5pc0FkZGl0aXZlTXV0YXRpb24pKSxlLnByZXY9NCxsLnMoKTtjYXNlIDY6aWYoKGM9bC5uKCkpLmRvbmUpe2UubmV4dD0xMTticmVha31yZXR1cm4gcD1jLnZhbHVlLGUuZGVsZWdhdGVZaWVsZChkKHAudmFsdWUscC5wYXRoLHApLCJ0MCIsOSk7Y2FzZSA5OmUubmV4dD02O2JyZWFrO2Nhc2UgMTE6ZS5uZXh0PTE2O2JyZWFrO2Nhc2UgMTM6ZS5wcmV2PTEzLGUudDE9ZS5jYXRjaCg0KSxsLmUoZS50MSk7Y2FzZSAxNjpyZXR1cm4gZS5wcmV2PTE2LGwuZigpLGUuZmluaXNoKDE2KTtjYXNlIDE5OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSxudWxsLFtbNCwxMywxNiwxOV1dKX0pKSksSGQoci5iaW5kKGkpLHtwbHVnaW5OYW1lOmUubmFtZXx8dCxpc0dlbmVyYXRvcjpZQS5pc0dlbmVyYXRvcihyKX0pfX0se2tleToibmV4dFBsdWdpbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXM7cmV0dXJuIEtTKGU9dGhpcy53cmFwcGVkUGx1Z2lucykuY2FsbChlLChmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRNdXRhdGlvbnNGb3JQbHVnaW4oZSkubGVuZ3RoPjB9KSl9fSx7a2V5OiJuZXh0UHJvbWlzZWRQYXRjaCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtpZih0aGlzLnByb21pc2VkUGF0Y2hlcy5sZW5ndGg+MClyZXR1cm4gSlMucmFjZShUYihlPXRoaXMucHJvbWlzZWRQYXRjaGVzKS5jYWxsKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlfSkpKX19LHtrZXk6ImdldFBsdWdpbkhpc3RvcnkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29uc3RydWN0b3IuZ2V0UGx1Z2luTmFtZShlKTtyZXR1cm4gdGhpcy5wbHVnaW5IaXN0b3J5W3RdfHxbXX19LHtrZXk6ImdldFBsdWdpblJ1bkNvdW50Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRQbHVnaW5IaXN0b3J5KGUpLmxlbmd0aH19LHtrZXk6ImdldFBsdWdpbkhpc3RvcnlUaXAiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0UGx1Z2luSGlzdG9yeShlKTtyZXR1cm4gdCYmdFt0Lmxlbmd0aC0xXXx8e319fSx7a2V5OiJnZXRQbHVnaW5NdXRhdGlvbkluZGV4Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFBsdWdpbkhpc3RvcnlUaXAoZSkubXV0YXRpb25JbmRleDtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQ/LTE6dH19LHtrZXk6InVwZGF0ZVBsdWdpbkhpc3RvcnkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5jb25zdHJ1Y3Rvci5nZXRQbHVnaW5OYW1lKGUpO3RoaXMucGx1Z2luSGlzdG9yeVtyXT10aGlzLnBsdWdpbkhpc3Rvcnlbcl18fFtdLHRoaXMucGx1Z2luSGlzdG9yeVtyXS5wdXNoKHQpfX0se2tleToidXBkYXRlUGF0Y2hlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztZQS5ub3JtYWxpemVBcnJheShlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgRXJyb3IpdC5lcnJvcnMucHVzaChlKTtlbHNlIHRyeXtpZighWUEuaXNPYmplY3QoZSkpcmV0dXJuIHZvaWQgdC5kZWJ1ZygidXBkYXRlUGF0Y2hlcyIsIkdvdCBhIG5vbi1vYmplY3QgcGF0Y2giLGUpO2lmKHQuc2hvd0RlYnVnJiZ0LmFsbFBhdGNoZXMucHVzaChlKSxZQS5pc1Byb21pc2UoZS52YWx1ZSkpcmV0dXJuIHQucHJvbWlzZWRQYXRjaGVzLnB1c2goZSksdm9pZCB0LnByb21pc2VkUGF0Y2hUaGVuKGUpO2lmKFlBLmlzQ29udGV4dFBhdGNoKGUpKXJldHVybiB2b2lkIHQuc2V0Q29udGV4dChlLnBhdGgsZS52YWx1ZSk7aWYoWUEuaXNNdXRhdGlvbihlKSlyZXR1cm4gdm9pZCB0LnVwZGF0ZU11dGF0aW9ucyhlKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpLHQuZXJyb3JzLnB1c2goZSl9fSkpfX0se2tleToidXBkYXRlTXV0YXRpb25zIix2YWx1ZTpmdW5jdGlvbihlKXsib2JqZWN0Ij09PV9mKGUudmFsdWUpJiYhQXJyYXkuaXNBcnJheShlLnZhbHVlKSYmdGhpcy5hbGxvd01ldGFQYXRjaGVzJiYoZS52YWx1ZT1UZCh7fSxlLnZhbHVlKSk7dmFyIHQ9WUEuYXBwbHlQYXRjaCh0aGlzLnN0YXRlLGUse2FsbG93TWV0YVBhdGNoZXM6dGhpcy5hbGxvd01ldGFQYXRjaGVzfSk7dCYmKHRoaXMubXV0YXRpb25zLnB1c2goZSksdGhpcy5zdGF0ZT10KX19LHtrZXk6InJlbW92ZVByb21pc2VkUGF0Y2giLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcy5wcm9taXNlZFBhdGNoZXMuaW5kZXhPZihlKTtyPDA/dGhpcy5kZWJ1ZygiVHJpZWQgdG8gcmVtb3ZlIGEgcHJvbWlzZWRQYXRjaCB0aGF0IGlzbid0IHRoZXJlISIpOnVBKHQ9dGhpcy5wcm9taXNlZFBhdGNoZXMpLmNhbGwodCxyLDEpfX0se2tleToicHJvbWlzZWRQYXRjaFRoZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUudmFsdWU9ZS52YWx1ZS50aGVuKChmdW5jdGlvbihyKXt2YXIgbj1UZChUZCh7fSxlKSx7fSx7dmFsdWU6cn0pO3QucmVtb3ZlUHJvbWlzZWRQYXRjaChlKSx0LnVwZGF0ZVBhdGNoZXMobil9KSkuY2F0Y2goKGZ1bmN0aW9uKHIpe3QucmVtb3ZlUHJvbWlzZWRQYXRjaChlKSx0LnVwZGF0ZVBhdGNoZXMocil9KSksZS52YWx1ZX19LHtrZXk6ImdldE11dGF0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gZT1lfHwwLCJudW1iZXIiIT10eXBlb2YgdCYmKHQ9dGhpcy5tdXRhdGlvbnMubGVuZ3RoKSxtUyhyPXRoaXMubXV0YXRpb25zKS5jYWxsKHIsZSx0KX19LHtrZXk6ImdldEN1cnJlbnRNdXRhdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TXV0YXRpb25zRm9yUGx1Z2luKHRoaXMuZ2V0Q3VycmVudFBsdWdpbigpKX19LHtrZXk6ImdldE11dGF0aW9uc0ZvclBsdWdpbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRQbHVnaW5NdXRhdGlvbkluZGV4KGUpO3JldHVybiB0aGlzLmdldE11dGF0aW9ucyh0KzEpfX0se2tleToiZ2V0Q3VycmVudFBsdWdpbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50UGx1Z2lufX0se2tleToiZ2V0TGliIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpYk1ldGhvZHN9fSx7a2V5OiJfZ2V0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gWUEuZ2V0SW4odGhpcy5zdGF0ZSxlKX19LHtrZXk6Il9nZXRDb250ZXh0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb250ZXh0VHJlZS5nZXQoZSl9fSx7a2V5OiJzZXRDb250ZXh0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNvbnRleHRUcmVlLnNldChlLHQpfX0se2tleToiX2hhc1J1biIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0UGx1Z2luUnVuQ291bnQodGhpcy5nZXRDdXJyZW50UGx1Z2luKCkpPihlfHwwKX19LHtrZXk6ImRpc3BhdGNoIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxyPXRoaXMsbj10aGlzLm5leHRQbHVnaW4oKTtpZighbil7dmFyIG89dGhpcy5uZXh0UHJvbWlzZWRQYXRjaCgpO2lmKG8pcmV0dXJuIG8udGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNwYXRjaCgpfSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiB0LmRpc3BhdGNoKCl9KSk7dmFyIGE9e3NwZWM6dGhpcy5zdGF0ZSxlcnJvcnM6dGhpcy5lcnJvcnN9O3JldHVybiB0aGlzLnNob3dEZWJ1ZyYmKGEucGF0Y2hlcz10aGlzLmFsbFBhdGNoZXMpLEpTLnJlc29sdmUoYSl9aWYoci5wbHVnaW5Db3VudD1yLnBsdWdpbkNvdW50fHx7fSxyLnBsdWdpbkNvdW50W25dPShyLnBsdWdpbkNvdW50W25dfHwwKSsxLHIucGx1Z2luQ291bnRbbl0+MTAwKXJldHVybiBKUy5yZXNvbHZlKHtzcGVjOnIuc3RhdGUsZXJyb3JzOlJiKGU9ci5lcnJvcnMpLmNhbGwoZSxuZXcgRXJyb3IoIldlJ3ZlIHJlYWNoZWQgYSBoYXJkIGxpbWl0IG9mICIuY29uY2F0KDEwMCwiIHBsdWdpbiBydW5zIikpKX0pO2lmKG4hPT10aGlzLmN1cnJlbnRQbHVnaW4mJnRoaXMucHJvbWlzZWRQYXRjaGVzLmxlbmd0aCl7dmFyIGkscz1UYihpPXRoaXMucHJvbWlzZWRQYXRjaGVzKS5jYWxsKGksKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlfSkpO3JldHVybiBKUy5hbGwoVGIocykuY2FsbChzLChmdW5jdGlvbihlKXtyZXR1cm4gZS50aGVuKEJDLEJDKX0pKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNwYXRjaCgpfSkpfXJldHVybiBmdW5jdGlvbigpe3IuY3VycmVudFBsdWdpbj1uO3ZhciBlPXIuZ2V0Q3VycmVudE11dGF0aW9ucygpLHQ9ci5tdXRhdGlvbnMubGVuZ3RoLTE7dHJ5e2lmKG4uaXNHZW5lcmF0b3Ipe3ZhciBvLGE9Q2YobihlLHIuZ2V0TGliKCkpKTt0cnl7Zm9yKGEucygpOyEobz1hLm4oKSkuZG9uZTspbChvLnZhbHVlKX1jYXRjaChlKXthLmUoZSl9ZmluYWxseXthLmYoKX19ZWxzZSBsKG4oZSxyLmdldExpYigpKSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKSxsKFtIZChPYmplY3QuY3JlYXRlKGUpLHtwbHVnaW46bn0pXSl9ZmluYWxseXtyLnVwZGF0ZVBsdWdpbkhpc3Rvcnkobix7bXV0YXRpb25JbmRleDp0fSl9cmV0dXJuIHIuZGlzcGF0Y2goKX0oKTtmdW5jdGlvbiBsKGUpe2UmJihlPVlBLmZ1bGx5Tm9ybWFsaXplQXJyYXkoZSksci51cGRhdGVQYXRjaGVzKGUsbikpfX19XSxbe2tleToiZ2V0UGx1Z2luTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGx1Z2luTmFtZX19LHtrZXk6ImdldFBhdGNoZXNPZlR5cGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFdiKGUpLmNhbGwoZSx0KX19XSksZX0oKSxxQz17cmVmczp3QyxhbGxPZjpfQyxwYXJhbWV0ZXJzOlBDLHByb3BlcnRpZXM6UkN9LFVDPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcucHJvdG90eXBlLnRvTG93ZXJDYXNlLmNhbGwoZSl9LHpDPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1teXHddL2dpLCJfIil9O2Z1bmN0aW9uIE1DKGUpe3ZhciB0PWUub3BlbmFwaTtyZXR1cm4hIXQmJnV1KHQpLmNhbGwodCwiMyIpfWZ1bmN0aW9uIEhDKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiIiLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LG89bi52Mk9wZXJhdGlvbklkQ29tcGF0aWJpbGl0eU1vZGU7aWYoIWV8fCJvYmplY3QiIT09X2YoZSkpcmV0dXJuIG51bGw7dmFyIGE9KGUub3BlcmF0aW9uSWR8fCIiKS5yZXBsYWNlKC9ccy9nLCIiKTtyZXR1cm4gYS5sZW5ndGg/ekMoZS5vcGVyYXRpb25JZCk6V0ModCxyLHt2Mk9wZXJhdGlvbklkQ29tcGF0aWJpbGl0eU1vZGU6b30pfWZ1bmN0aW9uIFdDKGUsdCl7dmFyIHIsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbz1uLnYyT3BlcmF0aW9uSWRDb21wYXRpYmlsaXR5TW9kZTtpZihvKXt2YXIgYSxpLHM9UmIoYT0iIi5jb25jYXQodC50b0xvd2VyQ2FzZSgpLCJfIikpLmNhbGwoYSxlKS5yZXBsYWNlKC9bXHMhQCMkJV4mKigpXys9W3tcXX07Ojw+fC4vPyxcXCciIi1dL2csIl8iKTtyZXR1cm4ocz1zfHxSYihpPSIiLmNvbmNhdChlLnN1YnN0cmluZygxKSwiXyIpKS5jYWxsKGksdCkpLnJlcGxhY2UoLygoXyl7Mix9KS9nLCJfIikucmVwbGFjZSgvXihfKSovZywiIikucmVwbGFjZSgvKFtfXSkqJC9nLCIiKX1yZXR1cm4gUmIocj0iIi5jb25jYXQoVUModCkpKS5jYWxsKHIsekMoZSkpfWZ1bmN0aW9uIFZDKGUsdCl7dmFyIHI7cmV0dXJuIFJiKHI9IiIuY29uY2F0KFVDKHQpLCItIikpLmNhbGwocixlKX1mdW5jdGlvbiBHQyhlLHQpe3JldHVybiBlJiZlLnBhdGhzP0tDKGUsKGZ1bmN0aW9uKGUpe3ZhciByPWUucGF0aE5hbWUsbj1lLm1ldGhvZCxvPWUub3BlcmF0aW9uO2lmKCFvfHwib2JqZWN0IiE9PV9mKG8pKXJldHVybiExO3ZhciBhPW8ub3BlcmF0aW9uSWQ7cmV0dXJuW0hDKG8scixuKSxWQyhyLG4pLGFdLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlPT09dH0pKX0pLCEwKXx8bnVsbDpudWxsfWZ1bmN0aW9uIEtDKGUsdCxyKXtpZighZXx8Im9iamVjdCIhPT1fZihlKXx8IWUucGF0aHN8fCJvYmplY3QiIT09X2YoZS5wYXRocykpcmV0dXJuIG51bGw7dmFyIG49ZS5wYXRocztmb3IodmFyIG8gaW4gbilmb3IodmFyIGEgaW4gbltvXSlpZigiUEFSQU1FVEVSUyIhPT1hLnRvVXBwZXJDYXNlKCkpe3ZhciBpPW5bb11bYV07aWYoaSYmIm9iamVjdCI9PT1fZihpKSl7dmFyIHM9e3NwZWM6ZSxwYXRoTmFtZTpvLG1ldGhvZDphLnRvVXBwZXJDYXNlKCksb3BlcmF0aW9uOml9LGw9dChzKTtpZihyJiZsKXJldHVybiBzfX19ZnVuY3Rpb24gSkMoZSl7dmFyIHQ9ZS5zcGVjLHI9dC5wYXRocyxuPXt9O2lmKCFyfHx0LiQkbm9ybWFsaXplZClyZXR1cm4gZTtmb3IodmFyIG8gaW4gcil7dmFyIGEsaT1yW29dO2lmKG51bGwhPWkmJkd2KGE9WyJvYmplY3QiLCJmdW5jdGlvbiJdKS5jYWxsKGEsX2YoaSkpKXt2YXIgcz1pLnBhcmFtZXRlcnMsbD1mdW5jdGlvbihlKXt2YXIgcixhPWlbZV07aWYobnVsbD09YXx8IUd2KHI9WyJvYmplY3QiLCJmdW5jdGlvbiJdKS5jYWxsKHIsX2YoYSkpKXJldHVybiJjb250aW51ZSI7dmFyIGw9SEMoYSxvLGUpO2lmKGwpe25bbF0/bltsXS5wdXNoKGEpOm5bbF09W2FdO3ZhciBjPW5bbF07aWYoYy5sZW5ndGg+MSljLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7dmFyIHI7ZS5wPWUucHx8ZS5vcGVyYXRpb25JZCxlLm9wZXJhdGlvbklkPVJiKHI9IiIuY29uY2F0KGwpKS5jYWxsKHIsdCsxKX0pKTtlbHNlIGlmKHZvaWQgMCE9PWEub3BlcmF0aW9uSWQpe3ZhciBwPWNbMF07cC5wPXAucHx8YS5vcGVyYXRpb25JZCxwLm9wZXJhdGlvbklkPWx9fWlmKCJwYXJhbWV0ZXJzIiE9PWUpe3ZhciBkPVtdLHU9e307Zm9yKHZhciBoIGluIHQpInByb2R1Y2VzIiE9PWgmJiJjb25zdW1lcyIhPT1oJiYic2VjdXJpdHkiIT09aHx8KHVbaF09dFtoXSxkLnB1c2godSkpO2lmKHMmJih1LnBhcmFtZXRlcnM9cyxkLnB1c2godSkpLGQubGVuZ3RoKXt2YXIgZixtPUNmKGQpO3RyeXtmb3IobS5zKCk7IShmPW0ubigpKS5kb25lOyl7dmFyIHk9Zi52YWx1ZTtmb3IodmFyIGcgaW4geSlpZihhW2ddKXtpZigicGFyYW1ldGVycyI9PT1nKXt2YXIgdixiPUNmKHlbZ10pO3RyeXt2YXIgeD1mdW5jdGlvbigpe3ZhciBlPXYudmFsdWU7YVtnXS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lJiZ0Lm5hbWU9PT1lLm5hbWV8fHQuJHJlZiYmdC4kcmVmPT09ZS4kcmVmfHx0LiQkcmVmJiZ0LiQkcmVmPT09ZS4kJHJlZnx8dD09PWV9KSl8fGFbZ10ucHVzaChlKX07Zm9yKGIucygpOyEodj1iLm4oKSkuZG9uZTspeCgpfWNhdGNoKGUpe2IuZShlKX1maW5hbGx5e2IuZigpfX19ZWxzZSBhW2ddPXlbZ119fWNhdGNoKGUpe20uZShlKX1maW5hbGx5e20uZigpfX19fTtmb3IodmFyIGMgaW4gaSlsKGMpfX1yZXR1cm4gdC4kJG5vcm1hbGl6ZWQ9ITAsZX1mdW5jdGlvbiBZQyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10LnJlcXVlc3RJbnRlcmNlcHRvcixuPXQucmVzcG9uc2VJbnRlcmNlcHRvcixvPWUud2l0aENyZWRlbnRpYWxzPyJpbmNsdWRlIjoic2FtZS1vcmlnaW4iO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh7dXJsOnQsbG9hZFNwZWM6ITAscmVxdWVzdEludGVyY2VwdG9yOnIscmVzcG9uc2VJbnRlcmNlcHRvcjpuLGhlYWRlcnM6e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24veWFtbCJ9LGNyZWRlbnRpYWxzOm99KS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5fSkpfX1mdW5jdGlvbiBaQyhlKXt2YXIgdD1lLmZldGNoLHI9ZS5zcGVjLG49ZS51cmwsbz1lLm1vZGUsYT1lLmFsbG93TWV0YVBhdGNoZXMsaT12b2lkIDA9PT1hfHxhLHM9ZS5wYXRoRGlzY3JpbWluYXRvcixsPWUubW9kZWxQcm9wZXJ0eU1hY3JvLGM9ZS5wYXJhbWV0ZXJNYWNybyxwPWUucmVxdWVzdEludGVyY2VwdG9yLGQ9ZS5yZXNwb25zZUludGVyY2VwdG9yLHU9ZS5za2lwTm9ybWFsaXphdGlvbixoPWUudXNlQ2lyY3VsYXJTdHJ1Y3R1cmVzLGY9ZS5odHRwLG09ZS5iYXNlRG9jO3JldHVybiBtPW18fG4sZj10fHxmfHwkUyxyP3kocik6WUMoZix7cmVxdWVzdEludGVyY2VwdG9yOnAscmVzcG9uc2VJbnRlcmNlcHRvcjpkfSkobSkudGhlbih5KTtmdW5jdGlvbiB5KGUpe20mJihxQy5yZWZzLmRvY0NhY2hlW21dPWUpLHFDLnJlZnMuZmV0Y2hKU09OPVlDKGYse3JlcXVlc3RJbnRlcmNlcHRvcjpwLHJlc3BvbnNlSW50ZXJjZXB0b3I6ZH0pO3ZhciB0LHIsbj1bcUMucmVmc107cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGMmJm4ucHVzaChxQy5wYXJhbWV0ZXJzKSwiZnVuY3Rpb24iPT10eXBlb2YgbCYmbi5wdXNoKHFDLnByb3BlcnRpZXMpLCJzdHJpY3QiIT09byYmbi5wdXNoKHFDLmFsbE9mKSwodD17c3BlYzplLGNvbnRleHQ6e2Jhc2VEb2M6bX0scGx1Z2luczpuLGFsbG93TWV0YVBhdGNoZXM6aSxwYXRoRGlzY3JpbWluYXRvcjpzLHBhcmFtZXRlck1hY3JvOmMsbW9kZWxQcm9wZXJ0eU1hY3JvOmwsdXNlQ2lyY3VsYXJTdHJ1Y3R1cmVzOmh9LG5ldyBOQyh0KS5kaXNwYXRjaCgpKS50aGVuKHU/KHI9anYoX3YubWFyaygoZnVuY3Rpb24gZSh0KXtyZXR1cm4gX3Yud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHQpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTpKQyl9fXZhciBRQz1BcnJheS5pc0FycmF5LFhDPSJvYmplY3QiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwmJmdsb2JhbC5PYmplY3Q9PT1PYmplY3QmJmdsb2JhbCxlaj0ib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLHRqPVhDfHxlanx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKSxyaj10ai5TeW1ib2wsbmo9cmosb2o9T2JqZWN0LnByb3RvdHlwZSxhaj1vai5oYXNPd25Qcm9wZXJ0eSxpaj1vai50b1N0cmluZyxzaj1uaj9uai50b1N0cmluZ1RhZzp2b2lkIDAsbGo9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxjaj1mdW5jdGlvbihlKXt2YXIgdD1hai5jYWxsKGUsc2opLHI9ZVtzal07dHJ5e2Vbc2pdPXZvaWQgMDt2YXIgbj0hMH1jYXRjaChlKXt9dmFyIG89aWouY2FsbChlKTtyZXR1cm4gbiYmKHQ/ZVtzal09cjpkZWxldGUgZVtzal0pLG99LHBqPXJqP3JqLnRvU3RyaW5nVGFnOnZvaWQgMCxkaj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA9PT1lPyJbb2JqZWN0IFVuZGVmaW5lZF0iOiJbb2JqZWN0IE51bGxdIjpwaiYmcGogaW4gT2JqZWN0KGUpP2NqKGUpOmZ1bmN0aW9uKGUpe3JldHVybiBsai5jYWxsKGUpfShlKX0sdWo9ZGosaGo9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfHxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmIm9iamVjdCI9PXR5cGVvZiBlfShlKSYmIltvYmplY3QgU3ltYm9sXSI9PXVqKGUpfSxmaj1RQyxtaj1oaix5aj0vXC58XFsoPzpbXltcXV0qfChbIiddKSg/Oig/IVwxKVteXFxdfFxcLikqP1wxKVxdLyxnaj0vXlx3KiQvLHZqPWZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybiBudWxsIT1lJiYoIm9iamVjdCI9PXR8fCJmdW5jdGlvbiI9PXQpfSxiaj1kaix4aj12aix3aj10ai5pLCRqPWZ1bmN0aW9uKCl7dmFyIGU9L1teLl0rJC8uZXhlYyh3aiYmd2oua2V5cyYmd2oua2V5cy5JRV9QUk9UT3x8IiIpO3JldHVybiBlPyJTeW1ib2woc3JjKV8xLiIrZToiIn0oKSxraj1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsU2o9ZnVuY3Rpb24oZSl7aWYoIXhqKGUpKXJldHVybiExO3ZhciB0PWJqKGUpO3JldHVybiJbb2JqZWN0IEZ1bmN0aW9uXSI9PXR8fCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSI9PXR8fCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dIj09dHx8IltvYmplY3QgUHJveHldIj09dH0sQWo9ZnVuY3Rpb24oZSl7cmV0dXJuISEkaiYmJGogaW4gZX0sRWo9dmosT2o9L15cW29iamVjdCAuKz9Db25zdHJ1Y3RvclxdJC8sVGo9RnVuY3Rpb24ucHJvdG90eXBlLENqPU9iamVjdC5wcm90b3R5cGUsamo9VGoudG9TdHJpbmcsSWo9Q2ouaGFzT3duUHJvcGVydHksX2o9UmVnRXhwKCJeIitqai5jYWxsKElqKS5yZXBsYWNlKC9bXFxeJC4qKz8oKVtcXXt9fF0vZywiXFwkJiIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFwoKXwgZm9yIC4rPyg/PVxcXF0pL2csIiQxLio/IikrIiQiKSxQaj1mdW5jdGlvbihlKXtyZXR1cm4hKCFFaihlKXx8QWooZSkpJiYoU2ooZSk/X2o6T2opLnRlc3QoZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSl7dHJ5e3JldHVybiBrai5jYWxsKGUpfWNhdGNoKGUpe310cnl7cmV0dXJuIGUrIiJ9Y2F0Y2goZSl7fX1yZXR1cm4iIn0oZSkpfSxSaj1mdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWU/dm9pZCAwOmVbdF19KGUsdCk7cmV0dXJuIFBqKHIpP3I6dm9pZCAwfSxMaj1SaihPYmplY3QsImNyZWF0ZSIpLEZqPUxqLERqPUxqLEJqPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTmo9TGoscWo9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxVaj1Maix6aj1mdW5jdGlvbigpe3RoaXMudj1Gaj9GaihudWxsKTp7fSx0aGlzLnNpemU9MH0sTWo9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oYXMoZSkmJmRlbGV0ZSB0aGlzLnZbZV07cmV0dXJuIHRoaXMuc2l6ZS09dD8xOjAsdH0sSGo9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy52O2lmKERqKXt2YXIgcj10W2VdO3JldHVybiJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fIj09PXI/dm9pZCAwOnJ9cmV0dXJuIEJqLmNhbGwodCxlKT90W2VdOnZvaWQgMH0sV2o9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy52O3JldHVybiBOaj92b2lkIDAhPT10W2VdOnFqLmNhbGwodCxlKX0sVmo9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnY7cmV0dXJuIHRoaXMuc2l6ZSs9dGhpcy5oYXMoZSk/MDoxLHJbZV09VWomJnZvaWQgMD09PXQ/Il9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18iOnQsdGhpc307ZnVuY3Rpb24gR2ooZSl7dmFyIHQ9LTEscj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8cjspe3ZhciBuPWVbdF07dGhpcy5zZXQoblswXSxuWzFdKX19R2oucHJvdG90eXBlLmNsZWFyPXpqLEdqLnByb3RvdHlwZS5kZWxldGU9TWosR2oucHJvdG90eXBlLmdldD1IaixHai5wcm90b3R5cGUuaGFzPVdqLEdqLnByb3RvdHlwZS5zZXQ9Vmo7dmFyIEtqPUdqLEpqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10fHxlIT1lJiZ0IT10fSxZaj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KWlmKEpqKGVbcl1bMF0sdCkpcmV0dXJuIHI7cmV0dXJuLTF9LFpqPVlqLFFqPUFycmF5LnByb3RvdHlwZS5zcGxpY2UsWGo9WWosZUk9WWosdEk9WWosckk9ZnVuY3Rpb24oKXt0aGlzLnY9W10sdGhpcy5zaXplPTB9LG5JPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudixyPVpqKHQsZSk7cmV0dXJuIShyPDB8fChyPT10Lmxlbmd0aC0xP3QucG9wKCk6UWouY2FsbCh0LHIsMSksLS10aGlzLnNpemUsMCkpfSxvST1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnYscj1Yaih0LGUpO3JldHVybiByPDA/dm9pZCAwOnRbcl1bMV19LGFJPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy52LG49dEkocixlKTtyZXR1cm4gbjwwPygrK3RoaXMuc2l6ZSxyLnB1c2goW2UsdF0pKTpyW25dWzFdPXQsdGhpc307ZnVuY3Rpb24gaUkoZSl7dmFyIHQ9LTEscj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8cjspe3ZhciBuPWVbdF07dGhpcy5zZXQoblswXSxuWzFdKX19aUkucHJvdG90eXBlLmNsZWFyPXJJLGlJLnByb3RvdHlwZS5kZWxldGU9bkksaUkucHJvdG90eXBlLmdldD1vSSxpSS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBlSSh0aGlzLnYsZSk+LTF9LGlJLnByb3RvdHlwZS5zZXQ9YUk7dmFyIHNJPWlJLGxJPVJqKHRqLCJNYXAiKSxjST1LaixwST1zSSxkST1sSSx1ST1mdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4ic3RyaW5nIj09dHx8Im51bWJlciI9PXR8fCJzeW1ib2wiPT10fHwiYm9vbGVhbiI9PXQ/Il9fcHJvdG9fXyIhPT1lOm51bGw9PT1lfSxoST1mdW5jdGlvbihlLHQpe3ZhciByPWUudjtyZXR1cm4gdUkodCk/clsic3RyaW5nIj09dHlwZW9mIHQ/InN0cmluZyI6Imhhc2giXTpyLm1hcH0sZkk9aEksbUk9aEkseUk9aEksZ0k9aEksdkk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1nSSh0aGlzLGUpLG49ci5zaXplO3JldHVybiByLnNldChlLHQpLHRoaXMuc2l6ZSs9ci5zaXplPT1uPzA6MSx0aGlzfTtmdW5jdGlvbiBiSShlKXt2YXIgdD0tMSxyPW51bGw9PWU/MDplLmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrdDxyOyl7dmFyIG49ZVt0XTt0aGlzLnNldChuWzBdLG5bMV0pfX1iSS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLnY9e2hhc2g6bmV3IGNJLG1hcDpuZXcoZEl8fHBJKSxzdHJpbmc6bmV3IGNJfX0sYkkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD1mSSh0aGlzLGUpLmRlbGV0ZShlKTtyZXR1cm4gdGhpcy5zaXplLT10PzE6MCx0fSxiSS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBtSSh0aGlzLGUpLmdldChlKX0sYkkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4geUkodGhpcyxlKS5oYXMoZSl9LGJJLnByb3RvdHlwZS5zZXQ9dkk7dmFyIHhJPWJJO2Z1bmN0aW9uIHdJKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGV8fG51bGwhPXQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIkV4cGVjdGVkIGEgZnVuY3Rpb24iKTt2YXIgcj1mdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50cyxvPXQ/dC5hcHBseSh0aGlzLG4pOm5bMF0sYT1yLmNhY2hlO2lmKGEuaGFzKG8pKXJldHVybiBhLmdldChvKTt2YXIgaT1lLmFwcGx5KHRoaXMsbik7cmV0dXJuIHIuY2FjaGU9YS5zZXQobyxpKXx8YSxpfTtyZXR1cm4gci5jYWNoZT1uZXcod0kuQ2FjaGV8fHhJKSxyfXdJLkNhY2hlPXhJO3ZhciAkST13SSxrST0vW14uW1xdXSt8XFsoPzooLT9cZCsoPzpcLlxkKyk/KXwoWyInXSkoKD86KD8hXDIpW15cXF18XFwuKSo/KVwyKVxdfCg/PSg/OlwufFxbXF0pKD86XC58XFtcXXwkKSkvZyxTST0vXFwoXFwpPy9nLEFJPWZ1bmN0aW9uKGUpe3ZhciB0PSRJKChmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gNDY9PT1lLmNoYXJDb2RlQXQoMCkmJnQucHVzaCgiIiksZS5yZXBsYWNlKGtJLChmdW5jdGlvbihlLHIsbixvKXt0LnB1c2gobj9vLnJlcGxhY2UoU0ksIiQxIik6cnx8ZSl9KSksdH0pLChmdW5jdGlvbihlKXtyZXR1cm4gNTAwPT09ci5zaXplJiZyLmNsZWFyKCksZX0pKSxyPXQuY2FjaGU7cmV0dXJuIHR9KCksRUk9QUksT0k9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGgsbz1BcnJheShuKTsrK3I8bjspb1tyXT10KGVbcl0scixlKTtyZXR1cm4gb30sVEk9UUMsQ0k9aGosakk9cmo/cmoucHJvdG90eXBlOnZvaWQgMCxJST1qST9qSS50b1N0cmluZzp2b2lkIDAsX0k9ZnVuY3Rpb24gZSh0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYoVEkodCkpcmV0dXJuIE9JKHQsZSkrIiI7aWYoQ0kodCkpcmV0dXJuIElJP0lJLmNhbGwodCk6IiI7dmFyIHI9dCsiIjtyZXR1cm4iMCI9PXImJjEvdD09LTEvMD8iLTAiOnJ9LFBJPVFDLFJJPWZ1bmN0aW9uKGUsdCl7aWYoZmooZSkpcmV0dXJuITE7dmFyIHI9dHlwZW9mIGU7cmV0dXJuISgibnVtYmVyIiE9ciYmInN5bWJvbCIhPXImJiJib29sZWFuIiE9ciYmbnVsbCE9ZSYmIW1qKGUpKXx8Z2oudGVzdChlKXx8IXlqLnRlc3QoZSl8fG51bGwhPXQmJmUgaW4gT2JqZWN0KHQpfSxMST1FSSxGST1oaixEST1mdW5jdGlvbihlLHQpe3JldHVybiBQSShlKT9lOlJJKGUsdCk/W2VdOkxJKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOl9JKGUpfShlKSl9LEJJPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZXx8RkkoZSkpcmV0dXJuIGU7dmFyIHQ9ZSsiIjtyZXR1cm4iMCI9PXQmJjEvZT09LTEvMD8iLTAiOnR9LE5JPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj0odD1ESSh0LGUpKS5sZW5ndGg7bnVsbCE9ZSYmcjxuOyllPWVbQkkodFtyKytdKV07cmV0dXJuIHImJnI9PW4/ZTp2b2lkIDB9LHFJPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1udWxsPT1lP3ZvaWQgMDpOSShlLHQpO3JldHVybiB2b2lkIDA9PT1uP3I6bn07ZnVuY3Rpb24gVUkoKXtyZXR1cm4gVUk9anYoX3YubWFyaygoZnVuY3Rpb24gZSh0LHIpe3ZhciBuLG8sYSxpLHMsbCxjLHAsZCx1LGgsZixtPWFyZ3VtZW50cztyZXR1cm4gX3Yud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIG49bS5sZW5ndGg+MiYmdm9pZCAwIT09bVsyXT9tWzJdOnt9LG89bi5yZXR1cm5FbnRpcmVUcmVlLGE9bi5iYXNlRG9jLGk9bi5yZXF1ZXN0SW50ZXJjZXB0b3Iscz1uLnJlc3BvbnNlSW50ZXJjZXB0b3IsbD1uLnBhcmFtZXRlck1hY3JvLGM9bi5tb2RlbFByb3BlcnR5TWFjcm8scD1uLnVzZUNpcmN1bGFyU3RydWN0dXJlcyxkPXtwYXRoRGlzY3JpbWluYXRvcjpyLGJhc2VEb2M6YSxyZXF1ZXN0SW50ZXJjZXB0b3I6aSxyZXNwb25zZUludGVyY2VwdG9yOnMscGFyYW1ldGVyTWFjcm86bCxtb2RlbFByb3BlcnR5TWFjcm86Yyx1c2VDaXJjdWxhclN0cnVjdHVyZXM6cH0sdT1KQyh7c3BlYzp0fSksaD11LnNwZWMsZS5uZXh0PTYsWkMoVGQoVGQoe30sZCkse30se3NwZWM6aCxhbGxvd01ldGFQYXRjaGVzOiEwLHNraXBOb3JtYWxpemF0aW9uOiEwfSkpO2Nhc2UgNjpyZXR1cm4gZj1lLnNlbnQsIW8mJkFycmF5LmlzQXJyYXkocikmJnIubGVuZ3RoJiYoZi5zcGVjPXFJKGYuc3BlYyxyKXx8bnVsbCksZS5hYnJ1cHQoInJldHVybiIsZik7Y2FzZSA5OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpLFVJLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgekk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sTUk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGVjLHI9ZS5jYixuPXZvaWQgMD09PXI/ekk6cixvPWUuZGVmYXVsdFRhZyxhPXZvaWQgMD09PW8/ImRlZmF1bHQiOm8saT1lLnYyT3BlcmF0aW9uSWRDb21wYXRpYmlsaXR5TW9kZSxzPXt9LGw9e307cmV0dXJuIEtDKHQsKGZ1bmN0aW9uKGUpe3ZhciByLG89ZS5wYXRoTmFtZSxjPWUubWV0aG9kLHA9ZS5vcGVyYXRpb247KHAudGFncz8ocj1wLnRhZ3MsQXJyYXkuaXNBcnJheShyKT9yOltyXSk6W2FdKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe2xbZV09bFtlXXx8e307dmFyIHIsYT1sW2VdLGQ9SEMocCxvLGMse3YyT3BlcmF0aW9uSWRDb21wYXRpYmlsaXR5TW9kZTppfSksdT1uKHtzcGVjOnQscGF0aE5hbWU6byxtZXRob2Q6YyxvcGVyYXRpb246cCxvcGVyYXRpb25JZDpkfSk7aWYoc1tkXSlzW2RdKz0xLGFbUmIocj0iIi5jb25jYXQoZCkpLmNhbGwocixzW2RdKV09dTtlbHNlIGlmKHZvaWQgMCE9PWFbZF0pe3ZhciBoLGYsbT1zW2RdfHwxO3NbZF09bSsxLGFbUmIoaD0iIi5jb25jYXQoZCkpLmNhbGwoaCxzW2RdKV09dTt2YXIgeT1hW2RdO2RlbGV0ZSBhW2RdLGFbUmIoZj0iIi5jb25jYXQoZCkpLmNhbGwoZixtKV09eX1lbHNlIGFbZF09dX19KSl9KSksbH0sSEk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByPXQucGF0aE5hbWUsbj10Lm1ldGhvZCxvPXQub3BlcmF0aW9uSWQ7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPWUucmVxdWVzdEludGVyY2VwdG9yLHM9ZS5yZXNwb25zZUludGVyY2VwdG9yLGw9ZS51c2VyRmV0Y2g7cmV0dXJuIGUuZXhlY3V0ZShUZCh7c3BlYzplLnNwZWMscmVxdWVzdEludGVyY2VwdG9yOmkscmVzcG9uc2VJbnRlcmNlcHRvcjpzLHVzZXJGZXRjaDpsLHBhdGhOYW1lOnIsbWV0aG9kOm4scGFyYW1ldGVyczp0LG9wZXJhdGlvbklkOm99LGEpKX19fSxXST1DbyxWST1Wby5pbmRleE9mLEdJPVVwLEtJPU90KFtdLmluZGV4T2YpLEpJPSEhS0kmJjEvS0koWzFdLDEsLTApPDAsWUk9R0koImluZGV4T2YiKTtXSSh7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOkpJfHwhWUl9LHtpbmRleE9mOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBKST9LSSh0aGlzLGUsdCl8fDA6VkkodGhpcyxlLHQpfX0pO3ZhciBaST1zYygiQXJyYXkiKS5pbmRleE9mLFFJPXByLFhJPVpJLGVfPUFycmF5LnByb3RvdHlwZTtjb25zdCB0Xz11dCh7ZXhwb3J0czp7fX0uZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2Y7cmV0dXJuIGU9PT1lX3x8UUkoZV8sZSkmJnQ9PT1lXy5pbmRleE9mP1hJOnR9KTt2YXIgcl89ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXJ8fHt9LG89bi5lbmNvZGV8fGFfO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIm9wdGlvbiBlbmNvZGUgaXMgaW52YWxpZCIpO2lmKCFvXy50ZXN0KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IG5hbWUgaXMgaW52YWxpZCIpO3ZhciBhPW8odCk7aWYoYSYmIW9fLnRlc3QoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiYXJndW1lbnQgdmFsIGlzIGludmFsaWQiKTt2YXIgaSxzPWUrIj0iK2E7aWYobnVsbCE9bi5tYXhBZ2Upe3ZhciBsPW4ubWF4QWdlLTA7aWYoaXNOYU4obCl8fCFpc0Zpbml0ZShsKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb24gbWF4QWdlIGlzIGludmFsaWQiKTtzKz0iOyBNYXgtQWdlPSIrTWF0aC5mbG9vcihsKX1pZihuLmRvbWFpbil7aWYoIW9fLnRlc3Qobi5kb21haW4pKXRocm93IG5ldyBUeXBlRXJyb3IoIm9wdGlvbiBkb21haW4gaXMgaW52YWxpZCIpO3MrPSI7IERvbWFpbj0iK24uZG9tYWlufWlmKG4ucGF0aCl7aWYoIW9fLnRlc3Qobi5wYXRoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb24gcGF0aCBpcyBpbnZhbGlkIik7cys9IjsgUGF0aD0iK24ucGF0aH1pZihuLmV4cGlyZXMpe3ZhciBjPW4uZXhwaXJlcztpZihpPWMsISgiW29iamVjdCBEYXRlXSI9PT1uXy5jYWxsKGkpfHxpIGluc3RhbmNlb2YgRGF0ZSl8fGlzTmFOKGMudmFsdWVPZigpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb24gZXhwaXJlcyBpcyBpbnZhbGlkIik7cys9IjsgRXhwaXJlcz0iK2MudG9VVENTdHJpbmcoKX1pZihuLmh0dHBPbmx5JiYocys9IjsgSHR0cE9ubHkiKSxuLnNlY3VyZSYmKHMrPSI7IFNlY3VyZSIpLG4ucHJpb3JpdHkpc3dpdGNoKCJzdHJpbmciPT10eXBlb2Ygbi5wcmlvcml0eT9uLnByaW9yaXR5LnRvTG93ZXJDYXNlKCk6bi5wcmlvcml0eSl7Y2FzZSJsb3ciOnMrPSI7IFByaW9yaXR5PUxvdyI7YnJlYWs7Y2FzZSJtZWRpdW0iOnMrPSI7IFByaW9yaXR5PU1lZGl1bSI7YnJlYWs7Y2FzZSJoaWdoIjpzKz0iOyBQcmlvcml0eT1IaWdoIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIm9wdGlvbiBwcmlvcml0eSBpcyBpbnZhbGlkIil9aWYobi5zYW1lU2l0ZSlzd2l0Y2goInN0cmluZyI9PXR5cGVvZiBuLnNhbWVTaXRlP24uc2FtZVNpdGUudG9Mb3dlckNhc2UoKTpuLnNhbWVTaXRlKXtjYXNlITA6cys9IjsgU2FtZVNpdGU9U3RyaWN0IjticmVhaztjYXNlImxheCI6cys9IjsgU2FtZVNpdGU9TGF4IjticmVhaztjYXNlInN0cmljdCI6cys9IjsgU2FtZVNpdGU9U3RyaWN0IjticmVhaztjYXNlIm5vbmUiOnMrPSI7IFNhbWVTaXRlPU5vbmUiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigib3B0aW9uIHNhbWVTaXRlIGlzIGludmFsaWQiKX1yZXR1cm4gc30sbl89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxvXz0vXltcdTAwMDlcdTAwMjAtXHUwMDdlXHUwMDgwLVx1MDBmZl0rJC87ZnVuY3Rpb24gYV8oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX1mdW5jdGlvbiBpXyhlKXtyZXR1cm4iW29iamVjdCBPYmplY3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBzXyhlKXt2YXIgdCxyO3JldHVybiExIT09aV8oZSkmJih2b2lkIDA9PT0odD1lLmNvbnN0cnVjdG9yKXx8ITEhPT1pXyhyPXQucHJvdG90eXBlKSYmITEhPT1yLmhhc093blByb3BlcnR5KCJpc1Byb3RvdHlwZU9mIikpfWNvbnN0IGxfPXtib2R5OmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxLHI9ZS52YWx1ZTt0LmJvZHk9cn0saGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxLHI9ZS5wYXJhbWV0ZXIsbj1lLnZhbHVlO3QuaGVhZGVycz10LmhlYWRlcnN8fHt9LHZvaWQgMCE9PW4mJih0LmhlYWRlcnNbci5uYW1lXT1uKX0scXVlcnk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXEscj1lLnZhbHVlLG49ZS5wYXJhbWV0ZXI7aWYodC5xdWVyeT10LnF1ZXJ5fHx7fSwhMT09PXImJiJib29sZWFuIj09PW4udHlwZSYmKHI9ImZhbHNlIiksMD09PXImJlsibnVtYmVyIiwiaW50ZWdlciJdLmluZGV4T2Yobi50eXBlKT4tMSYmKHI9IjAiKSxyKXQucXVlcnlbbi5uYW1lXT17Y29sbGVjdGlvbkZvcm1hdDpuLmNvbGxlY3Rpb25Gb3JtYXQsdmFsdWU6cn07ZWxzZSBpZihuLmFsbG93RW1wdHlWYWx1ZSYmdm9pZCAwIT09cil7dmFyIG89bi5uYW1lO3QucXVlcnlbb109dC5xdWVyeVtvXXx8e30sdC5xdWVyeVtvXS5hbGxvd0VtcHR5VmFsdWU9ITB9fSxwYXRoOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxLHI9ZS52YWx1ZSxuPWUucGFyYW1ldGVyO3QudXJsPXQudXJsLnNwbGl0KCJ7Ii5jb25jYXQobi5uYW1lLCJ9IikpLmpvaW4oZW5jb2RlVVJJQ29tcG9uZW50KHIpKX0sZm9ybURhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXEscj1lLnZhbHVlLG49ZS5wYXJhbWV0ZXI7KHJ8fG4uYWxsb3dFbXB0eVZhbHVlKSYmKHQuZm9ybT10LmZvcm18fHt9LHQuZm9ybVtuLm5hbWVdPXt2YWx1ZTpyLGFsbG93RW1wdHlWYWx1ZTpuLmFsbG93RW1wdHlWYWx1ZSxjb2xsZWN0aW9uRm9ybWF0Om4uY29sbGVjdGlvbkZvcm1hdH0pfX07ZnVuY3Rpb24gY18oZSx0KXtyZXR1cm4gR3YodCkuY2FsbCh0LCJhcHBsaWNhdGlvbi9qc29uIik/InN0cmluZyI9PXR5cGVvZiBlP2U6JGIoZSk6ZS50b1N0cmluZygpfXZhciBwXz1bImFjY2VwdCIsImF1dGhvcml6YXRpb24iLCJjb250ZW50LXR5cGUiXTtjb25zdCBkXz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwscGF0aDpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcSxyPWUudmFsdWUsbj1lLnBhcmFtZXRlcixvPW4ubmFtZSxhPW4uc3R5bGUsaT1uLmV4cGxvZGUscz1uLmNvbnRlbnQ7aWYocyl7dmFyIGw9Q2IocylbMF07dC51cmw9dC51cmwuc3BsaXQoInsiLmNvbmNhdChvLCJ9IikpLmpvaW4odlMoY18ocixsKSx7ZXNjYXBlOiEwfSkpfWVsc2V7dmFyIGM9YlMoe2tleTpuLm5hbWUsdmFsdWU6cixzdHlsZTphfHwic2ltcGxlIixleHBsb2RlOml8fCExLGVzY2FwZTohMH0pO3QudXJsPXQudXJsLnNwbGl0KCJ7Ii5jb25jYXQobywifSIpKS5qb2luKGMpfX0scXVlcnk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXEscj1lLnZhbHVlLG49ZS5wYXJhbWV0ZXI7aWYodC5xdWVyeT10LnF1ZXJ5fHx7fSxuLmNvbnRlbnQpe3ZhciBvPUNiKG4uY29udGVudClbMF07dC5xdWVyeVtuLm5hbWVdPWNfKHIsbyl9ZWxzZSBpZighMT09PXImJihyPSJmYWxzZSIpLDA9PT1yJiYocj0iMCIpLHIpe3ZhciBhPW4uc3R5bGUsaT1uLmV4cGxvZGUscz1uLmFsbG93UmVzZXJ2ZWQ7dC5xdWVyeVtuLm5hbWVdPXt2YWx1ZTpyLHNlcmlhbGl6YXRpb25PcHRpb246e3N0eWxlOmEsZXhwbG9kZTppLGFsbG93UmVzZXJ2ZWQ6c319fWVsc2UgaWYobi5hbGxvd0VtcHR5VmFsdWUmJnZvaWQgMCE9PXIpe3ZhciBsPW4ubmFtZTt0LnF1ZXJ5W2xdPXQucXVlcnlbbF18fHt9LHQucXVlcnlbbF0uYWxsb3dFbXB0eVZhbHVlPSEwfX0saGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxLHI9ZS5wYXJhbWV0ZXIsbj1lLnZhbHVlO2lmKHQuaGVhZGVycz10LmhlYWRlcnN8fHt9LCEocF8uaW5kZXhPZihyLm5hbWUudG9Mb3dlckNhc2UoKSk+LTEpKWlmKHIuY29udGVudCl7dmFyIG89Q2Ioci5jb250ZW50KVswXTt0LmhlYWRlcnNbci5uYW1lXT1jXyhuLG8pfWVsc2Ugdm9pZCAwIT09biYmKHQuaGVhZGVyc1tyLm5hbWVdPWJTKHtrZXk6ci5uYW1lLHZhbHVlOm4sc3R5bGU6ci5zdHlsZXx8InNpbXBsZSIsZXhwbG9kZTp2b2lkIDAhPT1yLmV4cGxvZGUmJnIuZXhwbG9kZSxlc2NhcGU6ITF9KSl9LGNvb2tpZTpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcSxyPWUucGFyYW1ldGVyLG49ZS52YWx1ZTt0LmhlYWRlcnM9dC5oZWFkZXJzfHx7fTt2YXIgbz1fZihuKTtpZihyLmNvbnRlbnQpe3ZhciBhLGk9Q2Ioci5jb250ZW50KVswXTt0LmhlYWRlcnMuQ29va2llPVJiKGE9IiIuY29uY2F0KHIubmFtZSwiPSIpKS5jYWxsKGEsY18obixpKSl9ZWxzZSBpZigidW5kZWZpbmVkIiE9PW8pe3ZhciBzPSJvYmplY3QiPT09byYmIUFycmF5LmlzQXJyYXkobikmJnIuZXhwbG9kZT8iIjoiIi5jb25jYXQoci5uYW1lLCI9Iik7dC5oZWFkZXJzLkNvb2tpZT1zK2JTKHtrZXk6ci5uYW1lLHZhbHVlOm4sZXNjYXBlOiExLHN0eWxlOnIuc3R5bGV8fCJmb3JtIixleHBsb2RlOnZvaWQgMCE9PXIuZXhwbG9kZSYmci5leHBsb2RlfSl9fX0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pKTtDbyh7Z2xvYmFsOiEwfSx7Z2xvYmFsVGhpczpmdH0pO2NvbnN0IHVfPXV0KHtleHBvcnRzOnt9fS5leHBvcnRzPXtleHBvcnRzOnt9fS5leHBvcnRzPWZ0KTt2YXIgaF89KHZvaWQgMCE9PXVfP3VfOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOndpbmRvdykuYnRvYTt2YXIgZl89WyJodHRwIiwiZmV0Y2giLCJzcGVjIiwib3BlcmF0aW9uSWQiLCJwYXRoTmFtZSIsIm1ldGhvZCIsInBhcmFtZXRlcnMiLCJzZWN1cml0aWVzIl0sbV89ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpbXX0seV89UVQoIk9wZXJhdGlvbk5vdEZvdW5kRXJyb3IiLChmdW5jdGlvbihlLHQscil7dGhpcy5vcmlnaW5hbEVycm9yPXIsSGQodGhpcyx0fHx7fSl9KSksZ189e2J1aWxkUmVxdWVzdDp2X307ZnVuY3Rpb24gdl8oZSl7dmFyIHQscixuPWUuc3BlYyxvPWUub3BlcmF0aW9uSWQsYT1lLnJlc3BvbnNlQ29udGVudFR5cGUsaT1lLnNjaGVtZSxzPWUucmVxdWVzdEludGVyY2VwdG9yLGw9ZS5yZXNwb25zZUludGVyY2VwdG9yLGM9ZS5jb250ZXh0VXJsLHA9ZS51c2VyRmV0Y2gsZD1lLnNlcnZlcix1PWUuc2VydmVyVmFyaWFibGVzLGg9ZS5odHRwLGY9ZS5zaWduYWwsbT1lLnBhcmFtZXRlcnMseT1lLnBhcmFtZXRlckJ1aWxkZXJzLGc9TUMobik7eXx8KHk9Zz9kXzpsXyk7dmFyIHY9e3VybDoiIixjcmVkZW50aWFsczpoJiZoLndpdGhDcmVkZW50aWFscz8iaW5jbHVkZSI6InNhbWUtb3JpZ2luIixoZWFkZXJzOnt9LGNvb2tpZXM6e319O2YmJih2LnNpZ25hbD1mKSxzJiYodi5yZXF1ZXN0SW50ZXJjZXB0b3I9cyksbCYmKHYucmVzcG9uc2VJbnRlcmNlcHRvcj1sKSxwJiYodi51c2VyRmV0Y2g9cCk7dmFyIGI9R0MobixvKTtpZighYil0aHJvdyBuZXcgeV8oIk9wZXJhdGlvbiAiLmNvbmNhdChvLCIgbm90IGZvdW5kIikpO3ZhciB4PWIub3BlcmF0aW9uLHc9dm9pZCAwPT09eD97fTp4LCQ9Yi5tZXRob2Qsaz1iLnBhdGhOYW1lO2lmKHYudXJsKz14Xyh7c3BlYzpuLHNjaGVtZTppLGNvbnRleHRVcmw6YyxzZXJ2ZXI6ZCxzZXJ2ZXJWYXJpYWJsZXM6dSxwYXRoTmFtZTprLG1ldGhvZDokfSksIW8pcmV0dXJuIGRlbGV0ZSB2LmNvb2tpZXMsdjt2LnVybCs9ayx2Lm1ldGhvZD0iIi5jb25jYXQoJCkudG9VcHBlckNhc2UoKSxtPW18fHt9O3ZhciBTPW4ucGF0aHNba118fHt9O2EmJih2LmhlYWRlcnMuYWNjZXB0PWEpO3ZhciBBPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLmluXXx8KHRbZS5pbl09e30pLHRbZS5pbl1bZS5uYW1lXT1lfSkpO3ZhciByPVtdO3JldHVybiBDYih0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtDYih0W2VdKS5mb3JFYWNoKChmdW5jdGlvbihuKXtyLnB1c2godFtlXVtuXSl9KSl9KSkscn0oUmIodD1SYihyPVtdKS5jYWxsKHIsbV8ody5wYXJhbWV0ZXJzKSkpLmNhbGwodCxtXyhTLnBhcmFtZXRlcnMpKSk7QS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdCxyLG8sYSxpPXlbZS5pbl07aWYoImJvZHkiPT09ZS5pbiYmZS5zY2hlbWEmJmUuc2NoZW1hLnByb3BlcnRpZXMmJih0PW0pLHZvaWQgMD09PSh0PWUmJmUubmFtZSYmbVtlLm5hbWVdKSl0PWUmJmUubmFtZSYmbVtSYihyPSIiLmNvbmNhdChlLmluLCIuIikpLmNhbGwocixlLm5hbWUpXTtlbHNlIGlmKChvPWUubmFtZSxhPUEsV2IoYSkuY2FsbChhLChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09b30pKSkubGVuZ3RoPjEpe3ZhciBzO2NvbnNvbGUud2FybihSYihzPSJQYXJhbWV0ZXIgJyIuY29uY2F0KGUubmFtZSwiJyBpcyBhbWJpZ3VvdXMgYmVjYXVzZSB0aGUgZGVmaW5lZCBzcGVjIGhhcyBtb3JlIHRoYW4gb25lIHBhcmFtZXRlciB3aXRoIHRoZSBuYW1lOiAnIikpLmNhbGwocyxlLm5hbWUsIicgYW5kIHRoZSBwYXNzZWQtaW4gcGFyYW1ldGVyIHZhbHVlcyBkaWQgbm90IGRlZmluZSBhbiAnaW4nIHZhbHVlLiIpKX1pZihudWxsIT09dCl7aWYodm9pZCAwIT09ZS5kZWZhdWx0JiZ2b2lkIDA9PT10JiYodD1lLmRlZmF1bHQpLHZvaWQgMD09PXQmJmUucmVxdWlyZWQmJiFlLmFsbG93RW1wdHlWYWx1ZSl0aHJvdyBuZXcgRXJyb3IoIlJlcXVpcmVkIHBhcmFtZXRlciAiLmNvbmNhdChlLm5hbWUsIiBpcyBub3QgcHJvdmlkZWQiKSk7aWYoZyYmZS5zY2hlbWEmJiJvYmplY3QiPT09ZS5zY2hlbWEudHlwZSYmInN0cmluZyI9PXR5cGVvZiB0KXRyeXt0PUpTT04ucGFyc2UodCl9Y2F0Y2gobyl7dGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgcGFyc2Ugb2JqZWN0IHBhcmFtZXRlciB2YWx1ZSBzdHJpbmcgYXMgSlNPTiIpfWkmJmkoe3JlcTp2LHBhcmFtZXRlcjplLHZhbHVlOnQsb3BlcmF0aW9uOncsc3BlYzpufSl9fSkpO3ZhciBFPVRkKFRkKHt9LGUpLHt9LHtvcGVyYXRpb246d30pO2lmKCh2PWc/ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG8sYSxpLHMsbCxjLHAsZCx1LGgsZixtPWUub3BlcmF0aW9uLHk9ZS5yZXF1ZXN0Qm9keSxnPWUuc2VjdXJpdGllcyx2PWUuc3BlYyxiPWUuYXR0YWNoQ29udGVudFR5cGVGb3JFbXB0eVBheWxvYWQseD1lLnJlcXVlc3RDb250ZW50VHlwZTthPXZvaWQgMD09PShvPShyPXtyZXF1ZXN0OnQsc2VjdXJpdGllczpnLG9wZXJhdGlvbjptLHNwZWM6dn0pLnNlY3VyaXRpZXMpP3t9Om8scz12b2lkIDA9PT0oaT1yLm9wZXJhdGlvbik/e306aSxsPXIuc3BlYyxjPVRkKHt9LG49ci5yZXF1ZXN0KSxwPWEuYXV0aG9yaXplZCxkPXZvaWQgMD09PXA/e306cCx1PXMuc2VjdXJpdHl8fGwuc2VjdXJpdHl8fFtdLGg9ZCYmISFDYihkKS5sZW5ndGgsZj1xSShsLFsiY29tcG9uZW50cyIsInNlY3VyaXR5U2NoZW1lcyJdKXx8e30sYy5oZWFkZXJzPWMuaGVhZGVyc3x8e30sYy5xdWVyeT1jLnF1ZXJ5fHx7fSx0PUNiKGEpLmxlbmd0aCYmaCYmdSYmKCFBcnJheS5pc0FycmF5KHMuc2VjdXJpdHkpfHxzLnNlY3VyaXR5Lmxlbmd0aCk/KHUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Q2IoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZFtlXSxyPWZbZV07aWYodCl7dmFyIG49dC52YWx1ZXx8dCxvPXIudHlwZTtpZih0KWlmKCJhcGlLZXkiPT09bykicXVlcnkiPT09ci5pbiYmKGMucXVlcnlbci5uYW1lXT1uKSwiaGVhZGVyIj09PXIuaW4mJihjLmhlYWRlcnNbci5uYW1lXT1uKSwiY29va2llIj09PXIuaW4mJihjLmNvb2tpZXNbci5uYW1lXT1uKTtlbHNlIGlmKCJodHRwIj09PW8pe2lmKC9eYmFzaWMkL2kudGVzdChyLnNjaGVtZSkpe3ZhciBhLGk9bi51c2VybmFtZXx8IiIscz1uLnBhc3N3b3JkfHwiIixsPWhfKFJiKGE9IiIuY29uY2F0KGksIjoiKSkuY2FsbChhLHMpKTtjLmhlYWRlcnMuQXV0aG9yaXphdGlvbj0iQmFzaWMgIi5jb25jYXQobCl9L15iZWFyZXIkL2kudGVzdChyLnNjaGVtZSkmJihjLmhlYWRlcnMuQXV0aG9yaXphdGlvbj0iQmVhcmVyICIuY29uY2F0KG4pKX1lbHNlIGlmKCJvYXV0aDIiPT09b3x8Im9wZW5JZENvbm5lY3QiPT09byl7dmFyIHAsdT10LnRva2VufHx7fSxoPXVbclsieC10b2tlbk5hbWUiXXx8ImFjY2Vzc190b2tlbiJdLG09dS50b2tlbl90eXBlO20mJiJiZWFyZXIiIT09bS50b0xvd2VyQ2FzZSgpfHwobT0iQmVhcmVyIiksYy5oZWFkZXJzLkF1dGhvcml6YXRpb249UmIocD0iIi5jb25jYXQobSwiICIpKS5jYWxsKHAsaCl9fX0pKX0pKSxjKTpuO3ZhciB3PW0ucmVxdWVzdEJvZHl8fHt9LCQ9Q2Iody5jb250ZW50fHx7fSksaz14JiYkLmluZGV4T2YoeCk+LTE7aWYoeXx8Yil7aWYoeCYmayl0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPXg7ZWxzZSBpZigheCl7dmFyIFM9JFswXTtTJiYodC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT1TLHg9Uyl9fWVsc2UgeCYmayYmKHQuaGVhZGVyc1siQ29udGVudC1UeXBlIl09eCk7aWYoIWUucmVzcG9uc2VDb250ZW50VHlwZSYmbS5yZXNwb25zZXMpe3ZhciBBLEU9V2IoQT1IYihtLnJlc3BvbnNlcykpLmNhbGwoQSwoZnVuY3Rpb24oZSl7dmFyIHQ9UGYoZSwyKSxyPXRbMF0sbj10WzFdLG89cGFyc2VJbnQociwxMCk7cmV0dXJuIG8+PTIwMCYmbzwzMDAmJnNfKG4uY29udGVudCl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPVBmKHQsMilbMV07cmV0dXJuIFJiKGUpLmNhbGwoZSxDYihyLmNvbnRlbnQpKX0pLFtdKTtFLmxlbmd0aD4wJiYodC5oZWFkZXJzLmFjY2VwdD1FLmpvaW4oIiwgIikpfWlmKHkpaWYoeCl7aWYoJC5pbmRleE9mKHgpPi0xKWlmKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiPT09eHx8Im11bHRpcGFydC9mb3JtLWRhdGEiPT09eClpZigib2JqZWN0Ij09PV9mKHkpKXt2YXIgTz0ody5jb250ZW50W3hdfHx7fSkuZW5jb2Rpbmd8fHt9O3QuZm9ybT17fSxDYih5KS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmZvcm1bZV09e3ZhbHVlOnlbZV0sZW5jb2Rpbmc6T1tlXXx8e319fSkpfWVsc2UgdC5mb3JtPXk7ZWxzZSB0LmJvZHk9eX1lbHNlIHQuYm9keT15O3JldHVybiB0fShFLHYpOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixvLGEsaSxzLGwsYyxwLGQsdSxoLGYsbSx5LGcsdixiPWUuc3BlYyx4PWUub3BlcmF0aW9uLHc9ZS5zZWN1cml0aWVzLCQ9ZS5yZXF1ZXN0Q29udGVudFR5cGUsaz1lLnJlc3BvbnNlQ29udGVudFR5cGUsUz1lLmF0dGFjaENvbnRlbnRUeXBlRm9yRW1wdHlQYXlsb2FkO2lmKHM9dm9pZCAwPT09KGk9KG89e3JlcXVlc3Q6dCxzZWN1cml0aWVzOncsb3BlcmF0aW9uOngsc3BlYzpifSkuc2VjdXJpdGllcyk/e306aSxjPXZvaWQgMD09PShsPW8ub3BlcmF0aW9uKT97fTpsLHA9by5zcGVjLGQ9VGQoe30sYT1vLnJlcXVlc3QpLHU9cy5hdXRob3JpemVkLGg9dm9pZCAwPT09dT97fTp1LGY9cy5zcGVjU2VjdXJpdHksbT12b2lkIDA9PT1mP1tdOmYseT1jLnNlY3VyaXR5fHxtLGc9aCYmISFDYihoKS5sZW5ndGgsdj1wLnNlY3VyaXR5RGVmaW5pdGlvbnMsZC5oZWFkZXJzPWQuaGVhZGVyc3x8e30sZC5xdWVyeT1kLnF1ZXJ5fHx7fSwodD1DYihzKS5sZW5ndGgmJmcmJnkmJighQXJyYXkuaXNBcnJheShjLnNlY3VyaXR5KXx8Yy5zZWN1cml0eS5sZW5ndGgpPyh5LmZvckVhY2goKGZ1bmN0aW9uKGUpe0NiKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWhbZV07aWYodCl7dmFyIHI9dC50b2tlbixuPXQudmFsdWV8fHQsbz12W2VdLGE9by50eXBlLGk9b1sieC10b2tlbk5hbWUiXXx8ImFjY2Vzc190b2tlbiIscz1yJiZyW2ldLGw9ciYmci50b2tlbl90eXBlO2lmKHQpaWYoImFwaUtleSI9PT1hKXt2YXIgYz0icXVlcnkiPT09by5pbj8icXVlcnkiOiJoZWFkZXJzIjtkW2NdPWRbY118fHt9LGRbY11bby5uYW1lXT1ufWVsc2UgaWYoImJhc2ljIj09PWEpaWYobi5oZWFkZXIpZC5oZWFkZXJzLmF1dGhvcml6YXRpb249bi5oZWFkZXI7ZWxzZXt2YXIgcCx1PW4udXNlcm5hbWV8fCIiLGY9bi5wYXNzd29yZHx8IiI7bi5iYXNlNjQ9aF8oUmIocD0iIi5jb25jYXQodSwiOiIpKS5jYWxsKHAsZikpLGQuaGVhZGVycy5hdXRob3JpemF0aW9uPSJCYXNpYyAiLmNvbmNhdChuLmJhc2U2NCl9ZWxzZSBpZigib2F1dGgyIj09PWEmJnMpe3ZhciBtO2w9bCYmImJlYXJlciIhPT1sLnRvTG93ZXJDYXNlKCk/bDoiQmVhcmVyIixkLmhlYWRlcnMuYXV0aG9yaXphdGlvbj1SYihtPSIiLmNvbmNhdChsLCIgIikpLmNhbGwobSxzKX19fSkpfSkpLGQpOmEpLmJvZHl8fHQuZm9ybXx8UylpZigkKXQuaGVhZGVyc1siQ29udGVudC1UeXBlIl09JDtlbHNlIGlmKEFycmF5LmlzQXJyYXkoeC5jb25zdW1lcykpe3ZhciBBPVBmKHguY29uc3VtZXMsMSk7dC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT1BWzBdfWVsc2UgaWYoQXJyYXkuaXNBcnJheShiLmNvbnN1bWVzKSl7dmFyIEU9UGYoYi5jb25zdW1lcywxKTt0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPUVbMF19ZWxzZSB4LnBhcmFtZXRlcnMmJldiKHI9eC5wYXJhbWV0ZXJzKS5jYWxsKHIsKGZ1bmN0aW9uKGUpe3JldHVybiJmaWxlIj09PWUudHlwZX0pKS5sZW5ndGg/dC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSI6eC5wYXJhbWV0ZXJzJiZXYihuPXgucGFyYW1ldGVycykuY2FsbChuLChmdW5jdGlvbihlKXtyZXR1cm4iZm9ybURhdGEiPT09ZS5pbn0pKS5sZW5ndGgmJih0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTtlbHNlIGlmKCQpe3ZhciBPLFQsQz14LnBhcmFtZXRlcnMmJldiKE89eC5wYXJhbWV0ZXJzKS5jYWxsKE8sKGZ1bmN0aW9uKGUpe3JldHVybiJib2R5Ij09PWUuaW59KSkubGVuZ3RoPjAsaj14LnBhcmFtZXRlcnMmJldiKFQ9eC5wYXJhbWV0ZXJzKS5jYWxsKFQsKGZ1bmN0aW9uKGUpe3JldHVybiJmb3JtRGF0YSI9PT1lLmlufSkpLmxlbmd0aD4wOyhDfHxqKSYmKHQuaGVhZGVyc1siQ29udGVudC1UeXBlIl09JCl9cmV0dXJuIWsmJkFycmF5LmlzQXJyYXkoeC5wcm9kdWNlcykmJngucHJvZHVjZXMubGVuZ3RoPjAmJih0LmhlYWRlcnMuYWNjZXB0PXgucHJvZHVjZXMuam9pbigiLCAiKSksdH0oRSx2KSkuY29va2llcyYmQ2Iodi5jb29raWVzKS5sZW5ndGgpe3ZhciBPPUNiKHYuY29va2llcykucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPXYuY29va2llc1t0XTtyZXR1cm4gZSsoZT8iJiI6IiIpK3JfKHQscil9KSwiIik7di5oZWFkZXJzLkNvb2tpZT1PfXJldHVybiB2LmNvb2tpZXMmJmRlbGV0ZSB2LmNvb2tpZXMsRFModiksdn12YXIgYl89ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC9cVy9nLCIiKTpudWxsfTtmdW5jdGlvbiB4XyhlKXtyZXR1cm4gTUMoZS5zcGVjKT9mdW5jdGlvbihlKXt2YXIgdD1lLnNwZWMscj1lLnBhdGhOYW1lLG49ZS5tZXRob2Qsbz1lLnNlcnZlcixhPWUuY29udGV4dFVybCxpPWUuc2VydmVyVmFyaWFibGVzLHM9dm9pZCAwPT09aT97fTppLGw9cUkodCxbInBhdGhzIixyLChufHwiIikudG9Mb3dlckNhc2UoKSwic2VydmVycyJdKXx8cUkodCxbInBhdGhzIixyLCJzZXJ2ZXJzIl0pfHxxSSh0LFsic2VydmVycyJdKSxjPSIiLHA9bnVsbDtpZihvJiZsJiZsLmxlbmd0aCl7dmFyIGQ9VGIobCkuY2FsbChsLChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmx9KSk7ZC5pbmRleE9mKG8pPi0xJiYoYz1vLHA9bFtkLmluZGV4T2YobyldKX1pZighYyYmbCYmbC5sZW5ndGgpe2M9bFswXS51cmw7dmFyIHU9UGYobCwxKTtwPXVbMF19Yy5pbmRleE9mKCJ7Iik+LTEmJmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPVtdLG49L3soW159XSspfS9nO3Q9bi5leGVjKGUpOylyLnB1c2godFsxXSk7cmV0dXJuIHJ9KGMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHAudmFyaWFibGVzJiZwLnZhcmlhYmxlc1tlXSl7dmFyIHQ9cC52YXJpYWJsZXNbZV0scj1zW2VdfHx0LmRlZmF1bHQsbj1uZXcgUmVnRXhwKCJ7Ii5jb25jYXQoZSwifSIpLCJnIik7Yz1jLnJlcGxhY2UobixyKX19KSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsdCxyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToiIixuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiIixvPXImJm4/aHUucGFyc2UoaHUucmVzb2x2ZShuLHIpKTpodS5wYXJzZShyKSxhPWh1LnBhcnNlKG4pLGk9Yl8oby5wcm90b2NvbCl8fGJfKGEucHJvdG9jb2wpfHwiIixzPW8uaG9zdHx8YS5ob3N0LGw9by5wYXRobmFtZXx8IiI7cmV0dXJuIi8iPT09KGU9aSYmcz9SYih0PSIiLmNvbmNhdChpLCI6Ly8iKSkuY2FsbCh0LHMrbCk6bClbZS5sZW5ndGgtMV0/bVMoZSkuY2FsbChlLDAsLTEpOmV9KGMsYSl9KGUpOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1lLnNwZWMsbz1lLnNjaGVtZSxhPWUuY29udGV4dFVybCxpPXZvaWQgMD09PWE/IiI6YSxzPWh1LnBhcnNlKGkpLGw9QXJyYXkuaXNBcnJheShuLnNjaGVtZXMpP24uc2NoZW1lc1swXTpudWxsLGM9b3x8bHx8Yl8ocy5wcm90b2NvbCl8fCJodHRwIixwPW4uaG9zdHx8cy5ob3N0fHwiIixkPW4uYmFzZVBhdGh8fCIiO3JldHVybiIvIj09PSh0PWMmJnA/UmIocj0iIi5jb25jYXQoYywiOi8vIikpLmNhbGwocixwK2QpOmQpW3QubGVuZ3RoLTFdP21TKHQpLmNhbGwodCwwLC0xKTp0fShlKX1mdW5jdGlvbiB3XyhlKXt2YXIgdD10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKCJzdHJpbmciPT10eXBlb2YgZT9yLnVybD1lOnI9ZSwhKHRoaXMgaW5zdGFuY2VvZiB3XykpcmV0dXJuIG5ldyB3XyhyKTtIZCh0aGlzLHIpO3ZhciBuPXRoaXMucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGlzYWJsZUludGVyZmFjZXN8fEhkKHQsd18ubWFrZUFwaXNUYWdPcGVyYXRpb24odCkpLHR9KSk7cmV0dXJuIG4uY2xpZW50PXRoaXMsbn1mdW5jdGlvbiAkXyhlKXtjb25zdCB0PShlPWUucmVwbGFjZSgiW10iLCJBcnJheSIpKS5zcGxpdCgiLyIpO3JldHVybiB0WzBdPXRbMF0ucmVwbGFjZSgvW15BLVphLXowLTlfXC1cLl0rfFxzKy9nbSwiXyIpLHQuam9pbigiLyIpfXdfLmh0dHA9JFMsd18ubWFrZUh0dHA9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPXJ8fGZ1bmN0aW9uKGUpe3JldHVybiBlfSx0PXR8fGZ1bmN0aW9uKGUpe3JldHVybiBlfSxmdW5jdGlvbihuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4mJihuPXt1cmw6bn0pLHdTLm1lcmdlSW5RdWVyeU9yRm9ybShuKSxuPXQobikscihlKG4pKX19LmJpbmQobnVsbCx3Xy5odHRwKSx3Xy5yZXNvbHZlPVpDLHdfLnJlc29sdmVTdWJ0cmVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFVJLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sd18uZXhlY3V0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLmh0dHAscj1lLmZldGNoLG49ZS5zcGVjLG89ZS5vcGVyYXRpb25JZCxhPWUucGF0aE5hbWUsaT1lLm1ldGhvZCxzPWUucGFyYW1ldGVycyxsPWUuc2VjdXJpdGllcyxjPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixuLG89ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4sbz17fSxhPXNhKGUpO2ZvcihuPTA7bjxhLmxlbmd0aDtuKyspcj1hW25dLHRfKHQpLmNhbGwodCxyKT49MHx8KG9bcl09ZVtyXSk7cmV0dXJuIG99KGUsdCk7aWYoZWMpe3ZhciBhPWVjKGUpO2ZvcihuPTA7bjxhLmxlbmd0aDtuKyspcj1hW25dLHRfKHQpLmNhbGwodCxyKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscikmJihvW3JdPWVbcl0pfXJldHVybiBvfShlLGZfKSxwPXR8fHJ8fCRTO2EmJmkmJiFvJiYobz1WQyhhLGkpKTt2YXIgZD1nXy5idWlsZFJlcXVlc3QoVGQoe3NwZWM6bixvcGVyYXRpb25JZDpvLHBhcmFtZXRlcnM6cyxzZWN1cml0aWVzOmwsaHR0cDpwfSxjKSk7cmV0dXJuIGQuYm9keSYmKHNfKGQuYm9keSl8fEFycmF5LmlzQXJyYXkoZC5ib2R5KSkmJihkLmJvZHk9JGIoZC5ib2R5KSkscChkKX0sd18uc2VyaWFsaXplUmVzPUVTLHdfLnNlcmlhbGl6ZUhlYWRlcnM9VFMsd18uY2xlYXJDYWNoZT1mdW5jdGlvbigpe3FDLnJlZnMuY2xlYXJDYWNoZSgpfSx3Xy5tYWtlQXBpc1RhZ09wZXJhdGlvbj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PUhJKGUpO3JldHVybnthcGlzOk1JKHt2Mk9wZXJhdGlvbklkQ29tcGF0aWJpbGl0eU1vZGU6ZS52Mk9wZXJhdGlvbklkQ29tcGF0aWJpbGl0eU1vZGUsc3BlYzplLnNwZWMsY2I6dH0pfX0sd18uYnVpbGRSZXF1ZXN0PXZfLHdfLmhlbHBlcnM9e29wSWQ6SEN9LHdfLmdldEJhc2VVcmw9eF8sd18ucHJvdG90eXBlPXtodHRwOiRTLGV4ZWN1dGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlEZWZhdWx0cygpLHdfLmV4ZWN1dGUoVGQoe3NwZWM6dGhpcy5zcGVjLGh0dHA6dGhpcy5odHRwLHNlY3VyaXRpZXM6e2F1dGhvcml6ZWQ6dGhpcy5hdXRob3JpemF0aW9uc30sY29udGV4dFVybDoic3RyaW5nIj09dHlwZW9mIHRoaXMudXJsP3RoaXMudXJsOnZvaWQgMCxyZXF1ZXN0SW50ZXJjZXB0b3I6dGhpcy5yZXF1ZXN0SW50ZXJjZXB0b3J8fG51bGwscmVzcG9uc2VJbnRlcmNlcHRvcjp0aGlzLnJlc3BvbnNlSW50ZXJjZXB0b3J8fG51bGx9LGUpKX0scmVzb2x2ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHdfLnJlc29sdmUoVGQoe3NwZWM6dGhpcy5zcGVjLHVybDp0aGlzLnVybCxodHRwOnRoaXMuaHR0cHx8dGhpcy5mZXRjaCxhbGxvd01ldGFQYXRjaGVzOnRoaXMuYWxsb3dNZXRhUGF0Y2hlcyx1c2VDaXJjdWxhclN0cnVjdHVyZXM6dGhpcy51c2VDaXJjdWxhclN0cnVjdHVyZXMscmVxdWVzdEludGVyY2VwdG9yOnRoaXMucmVxdWVzdEludGVyY2VwdG9yfHxudWxsLHJlc3BvbnNlSW50ZXJjZXB0b3I6dGhpcy5yZXNwb25zZUludGVyY2VwdG9yfHxudWxsLHNraXBOb3JtYWxpemF0aW9uOnRoaXMuc2tpcE5vcm1hbGl6YXRpb258fCExfSx0KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGUub3JpZ2luYWxTcGVjPWUuc3BlYyxlLnNwZWM9dC5zcGVjLGUuZXJyb3JzPXQuZXJyb3JzLGV9KSl9fSx3Xy5wcm90b3R5cGUuYXBwbHlEZWZhdWx0cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3BlYyx0PXRoaXMudXJsO2lmKHQmJnV1KHQpLmNhbGwodCwiaHR0cCIpKXt2YXIgcj1odS5wYXJzZSh0KTtlLmhvc3R8fChlLmhvc3Q9ci5ob3N0KSxlLnNjaGVtZXN8fChlLnNjaGVtZXM9W3IucHJvdG9jb2wucmVwbGFjZSgiOiIsIiIpXSksZS5iYXNlUGF0aHx8KGUuYmFzZVBhdGg9Ii8iKX19LHdfLmhlbHBlcnM7Y29uc3Qga189e3BhcmFtZXRlclR5cGVQcm9wZXJ0aWVzOlsiZm9ybWF0IiwibWluaW11bSIsIm1heGltdW0iLCJleGNsdXNpdmVNaW5pbXVtIiwiZXhjbHVzaXZlTWF4aW11bSIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsIm11bHRpcGxlT2YiLCJtaW5JdGVtcyIsIm1heEl0ZW1zIiwidW5pcXVlSXRlbXMiLCJtaW5Qcm9wZXJ0aWVzIiwibWF4UHJvcGVydGllcyIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwicGF0dGVybiIsImVudW0iLCJkZWZhdWx0Il0sYXJyYXlQcm9wZXJ0aWVzOlsiaXRlbXMiLCJtaW5JdGVtcyIsIm1heEl0ZW1zIiwidW5pcXVlSXRlbXMiXSxodHRwTWV0aG9kczpbImdldCIsInBvc3QiLCJwdXQiLCJkZWxldGUiLCJwYXRjaCIsImhlYWQiLCJvcHRpb25zIiwidHJhY2UiXSx1bmlxdWVPbmx5OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5pbmRleE9mKGUpPT09dH0sY3JlYXRlSGFzaDpmdW5jdGlvbihlKXtsZXQgdCxyPTA7aWYoMD09PWUubGVuZ3RoKXJldHVybiByO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQ9ZS5jaGFyQ29kZUF0KG4pLHI9KHI8PDUpLXIrdCxyfD0wO3JldHVybiByfSxzYW5pdGlzZTokXyxzYW5pdGlzZUFsbDpmdW5jdGlvbihlKXtyZXR1cm4gJF8oZS5zcGxpdCgiLyIpLmpvaW4oIl8iKSl9LGNhbWVsaXplOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fIFwvXC5dKC4pL2csKChlLHQpPT50LnRvVXBwZXJDYXNlKCkpKX0sY2xvbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpfSxjaXJjdWxhckNsb25lOmZ1bmN0aW9uIGUodCxyPW51bGwpe2lmKHJ8fChyPW5ldyBXZWFrTWFwKSxPYmplY3QodCkhPT10fHx0IGluc3RhbmNlb2YgRnVuY3Rpb24pcmV0dXJuIHQ7aWYoci5oYXModCkpcmV0dXJuIHIuZ2V0KHQpO2xldCBuO3RyeXtuPW5ldyB0LmNvbnN0cnVjdG9yfWNhdGNoKGUpe249T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpfXJldHVybiByLnNldCh0LG4pLE9iamVjdC5hc3NpZ24obiwuLi5PYmplY3Qua2V5cyh0KS5tYXAoKG49Pih7W25dOmUodFtuXSxyKX0pKSkpfX07ZnVuY3Rpb24gU18oKXtyZXR1cm57ZGVwdGg6MCxzZWVuOm5ldyBXZWFrTWFwLHRvcDohMCxjb21iaW5lOiExLGFsbG93UmVmU2libGluZ3M6ITF9fWNvbnN0IEFfPWZ1bmN0aW9uIGUodCxyLG4sbyl7aWYodm9pZCAwPT09bi5kZXB0aCYmKG49U18oKSksbnVsbD09dClyZXR1cm4gdDtpZihuLmNvbWJpbmUmJih0LmFsbE9mJiZBcnJheS5pc0FycmF5KHQuYWxsT2YpJiYxPT09dC5hbGxPZi5sZW5ndGgmJmRlbGV0ZSh0PXsuLi50LmFsbE9mWzBdLC4uLnR9KT8uYWxsT2YsdD8uYW55T2YmJkFycmF5LmlzQXJyYXkodC5hbnlPZikmJjE9PT10LmFueU9mLmxlbmd0aCYmZGVsZXRlKHQ9ey4uLnQuYW55T2ZbMF0sLi4udH0pPy5hbnlPZix0Py5vbmVPZiYmQXJyYXkuaXNBcnJheSh0Lm9uZU9mKSYmMT09PXQub25lT2YubGVuZ3RoJiZkZWxldGUodD17Li4udC5vbmVPZlswXSwuLi50fSk/Lm9uZU9mKSxvKHQscixuKSxuLnNlZW4uaGFzKHQpKXJldHVybiB0O2lmKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQmJm4uc2Vlbi5zZXQodCwhMCksbi50b3A9ITEsbi5kZXB0aCsrLHZvaWQgMCE9PXQ/Lml0ZW1zJiYobi5wcm9wZXJ0eT0iaXRlbXMiLGUodC5pdGVtcyx0LG4sbykpLHQ/LmFkZGl0aW9uYWxJdGVtcyYmIm9iamVjdCI9PXR5cGVvZiB0LmFkZGl0aW9uYWxJdGVtcyYmKG4ucHJvcGVydHk9ImFkZGl0aW9uYWxJdGVtcyIsZSh0LmFkZGl0aW9uYWxJdGVtcyx0LG4sbykpLHQ/LmFkZGl0aW9uYWxQcm9wZXJ0aWVzJiYib2JqZWN0Ij09dHlwZW9mIHQuYWRkaXRpb25hbFByb3BlcnRpZXMmJihuLnByb3BlcnR5PSJhZGRpdGlvbmFsUHJvcGVydGllcyIsZSh0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzLHQsbixvKSksdD8ucHJvcGVydGllcylmb3IoY29uc3QgciBpbiB0LnByb3BlcnRpZXMpe2NvbnN0IGE9dC5wcm9wZXJ0aWVzW3JdO24ucHJvcGVydHk9YHByb3BlcnRpZXMvJHtyfWAsZShhLHQsbixvKX1pZih0Py5wYXR0ZXJuUHJvcGVydGllcylmb3IoY29uc3QgciBpbiB0LnBhdHRlcm5Qcm9wZXJ0aWVzKXtjb25zdCBhPXQucGF0dGVyblByb3BlcnRpZXNbcl07bi5wcm9wZXJ0eT1gcGF0dGVyblByb3BlcnRpZXMvJHtyfWAsZShhLHQsbixvKX1pZih0Py5hbGxPZilmb3IoY29uc3QgciBpbiB0LmFsbE9mKXtjb25zdCBhPXQuYWxsT2Zbcl07bi5wcm9wZXJ0eT1gYWxsT2YvJHtyfWAsZShhLHQsbixvKX1pZih0Py5hbnlPZilmb3IoY29uc3QgciBpbiB0LmFueU9mKXtjb25zdCBhPXQuYW55T2Zbcl07bi5wcm9wZXJ0eT1gYW55T2YvJHtyfWAsZShhLHQsbixvKX1pZih0Py5vbmVPZilmb3IoY29uc3QgciBpbiB0Lm9uZU9mKXtjb25zdCBhPXQub25lT2Zbcl07bi5wcm9wZXJ0eT1gb25lT2YvJHtyfWAsZShhLHQsbixvKX1yZXR1cm4gdD8ubm90JiYobi5wcm9wZXJ0eT0ibm90IixlKHQubm90LHQsbixvKSksbi5kZXB0aC0tLHR9O2Z1bmN0aW9uIEVfKGUsdCxyKXtpZih0fHwodD17ZGVwdGg6MH0pLHQuZGVwdGh8fCh0PXtwYXRoOiIjIixkZXB0aDowLHBrZXk6IiIscGFyZW50Ont9LHBheWxvYWQ6e30sc2VlbjpuZXcgV2Vha01hcCxpZGVudGl0eTohMSxpZGVudGl0eURldGVjdGlvbjohMSwuLi50fSksIm9iamVjdCIhPXR5cGVvZiBlKXJldHVybjtjb25zdCBuPXQucGF0aDtmb3IoY29uc3QgbyBpbiBlKXtpZih0LmtleT1vLHQucGF0aD1gJHt0LnBhdGh9LyR7ZW5jb2RlVVJJQ29tcG9uZW50KG8pfWAsdC5pZGVudGl0eVBhdGg9dC5zZWVuLmdldChlW29dKSx0LmlkZW50aXR5PXZvaWQgMCE9PXQuaWRlbnRpdHlQYXRoLGUuaGFzT3duUHJvcGVydHkobykmJnIoZSxvLHQpLCJvYmplY3QiPT10eXBlb2YgZVtvXSYmIXQuaWRlbnRpdHkpe3QuaWRlbnRpdHlEZXRlY3Rpb24mJiFBcnJheS5pc0FycmF5KGVbb10pJiZudWxsIT09ZVtvXSYmdC5zZWVuLnNldChlW29dLHQucGF0aCk7Y29uc3Qgbj17fTtuLnBhcmVudD1lLG4ucGF0aD10LnBhdGgsbi5kZXB0aD10LmRlcHRoP3QuZGVwdGgrMToxLG4ucGtleT1vLG4ucGF5bG9hZD10LnBheWxvYWQsbi5zZWVuPXQuc2VlbixuLmlkZW50aXR5PSExLG4uaWRlbnRpdHlEZXRlY3Rpb249dC5pZGVudGl0eURldGVjdGlvbixFXyhlW29dLG4scil9dC5wYXRoPW59fWxldCBPXztmdW5jdGlvbiBUXyhlLHQpe2Zvcihjb25zdCByIGluIGUpci5zdGFydHNXaXRoKCJ4LSIpJiYhci5zdGFydHNXaXRoKCJ4LXMybyIpJiYodFtyXT1lW3JdKX1mdW5jdGlvbiBDXyhlLHQpe0FfKGUse30se30sKChlLHIpPT57IWZ1bmN0aW9uKGUpe2lmKGVbIngtcmVxdWlyZWQiXSYmQXJyYXkuaXNBcnJheShlWyJ4LXJlcXVpcmVkIl0pJiYoZS5yZXF1aXJlZHx8KGUucmVxdWlyZWQ9W10pLGUucmVxdWlyZWQ9ZS5yZXF1aXJlZC5jb25jYXQoZVsieC1yZXF1aXJlZCJdKSxkZWxldGUgZVsieC1yZXF1aXJlZCJdKSxlWyJ4LWFueU9mIl0mJihlLmFueU9mPWVbIngtYW55T2YiXSxkZWxldGUgZVsieC1hbnlPZiJdKSxlWyJ4LW9uZU9mIl0mJihlLm9uZU9mPWVbIngtb25lT2YiXSxkZWxldGUgZVsieC1vbmVPZiJdKSxlWyJ4LW5vdCJdJiYoZS5ub3Q9ZVsieC1ub3QiXSxkZWxldGUgZVsieC1ub3QiXSksImJvb2xlYW4iPT10eXBlb2YgZVsieC1udWxsYWJsZSJdJiYoZS5udWxsYWJsZT1lWyJ4LW51bGxhYmxlIl0sZGVsZXRlIGVbIngtbnVsbGFibGUiXSksIm9iamVjdCI9PXR5cGVvZiBlWyJ4LWRpc2NyaW1pbmF0b3IiXSYmInN0cmluZyI9PXR5cGVvZiBlWyJ4LWRpc2NyaW1pbmF0b3IiXS5wcm9wZXJ0eU5hbWUpe2UuZGlzY3JpbWluYXRvcj1lWyJ4LWRpc2NyaW1pbmF0b3IiXSxkZWxldGUgZVsieC1kaXNjcmltaW5hdG9yIl07Zm9yKGNvbnN0IHQgaW4gZS5kaXNjcmltaW5hdG9yLm1hcHBpbmcpe2NvbnN0IHI9ZS5kaXNjcmltaW5hdG9yLm1hcHBpbmdbdF07ci5zdGFydHNXaXRoKCIjL2RlZmluaXRpb25zLyIpJiYoZS5kaXNjcmltaW5hdG9yLm1hcHBpbmdbdF09ci5yZXBsYWNlKCIjL2RlZmluaXRpb25zLyIsIiMvY29tcG9uZW50cy9zY2hlbWFzLyIpKX19fShlKSxmdW5jdGlvbihlLHQscil7aWYoZS5udWxsYWJsZSYmci5wYXRjaGVzKyssZS5kaXNjcmltaW5hdG9yJiYic3RyaW5nIj09dHlwZW9mIGUuZGlzY3JpbWluYXRvciYmKGUuZGlzY3JpbWluYXRvcj17cHJvcGVydHlOYW1lOmUuZGlzY3JpbWluYXRvcn0pLGUuaXRlbXMmJkFycmF5LmlzQXJyYXkoZS5pdGVtcykmJigwPT09ZS5pdGVtcy5sZW5ndGg/ZS5pdGVtcz17fToxPT09ZS5pdGVtcy5sZW5ndGg/ZS5pdGVtcz1lLml0ZW1zWzBdOmUuaXRlbXM9e2FueU9mOmUuaXRlbXN9KSxlLnR5cGUmJkFycmF5LmlzQXJyYXkoZS50eXBlKSl7aWYoci5wYXRjaGVzKyssci53YXJuaW5ncy5wdXNoKCIoUGF0Y2hhYmxlKSBzY2hlbWEgdHlwZSBtdXN0IG5vdCBiZSBhbiBhcnJheSIpLDA9PT1lLnR5cGUubGVuZ3RoKWRlbGV0ZSBlLnR5cGU7ZWxzZXtlLm9uZU9mfHwoZS5vbmVPZj1bXSk7Zm9yKGNvbnN0IHQgb2YgZS50eXBlKXtjb25zdCByPXt9O2lmKCJudWxsIj09PXQpZS5udWxsYWJsZT0hMDtlbHNle3IudHlwZT10O2Zvcihjb25zdCB0IG9mIGtfLmFycmF5UHJvcGVydGllcyl2b2lkIDAhPT1lLnByb3AmJihyW3RdPWVbdF0sZGVsZXRlIGVbdF0pfXIudHlwZSYmZS5vbmVPZi5wdXNoKHIpfWRlbGV0ZSBlLnR5cGUsMD09PWUub25lT2YubGVuZ3RoP2RlbGV0ZSBlLm9uZU9mOmUub25lT2YubGVuZ3RoPDImJihlLnR5cGU9ZS5vbmVPZlswXS50eXBlLE9iamVjdC5rZXlzKGUub25lT2ZbMF0pLmxlbmd0aD4xJiYoci5wYXRjaGVzKyssci53YXJuaW5ncy5wdXNoKCJMb3N0IHByb3BlcnRpZXMgZnJvbSBvbmVPZiIpKSxkZWxldGUgZS5vbmVPZil9ZS50eXBlJiZBcnJheS5pc0FycmF5KGUudHlwZSkmJjE9PT1lLnR5cGUubGVuZ3RoJiYoZS50eXBlPWUudHlwZVswXSl9ZS50eXBlJiYibnVsbCI9PT1lLnR5cGUmJihkZWxldGUgZS50eXBlLGUubnVsbGFibGU9ITApLCJhcnJheSIhPT1lLnR5cGV8fGUuaXRlbXN8fChlLml0ZW1zPXt9KSwiZmlsZSI9PT1lLnR5cGUmJihlLnR5cGU9InN0cmluZyIsZS5mb3JtYXQ9ImJpbmFyeSIpLCJib29sZWFuIj09dHlwZW9mIGUucmVxdWlyZWQmJihlLnJlcXVpcmVkJiZlLm5hbWUmJih2b2lkIDA9PT10LnJlcXVpcmVkJiYodC5yZXF1aXJlZD1bXSksQXJyYXkuaXNBcnJheSh0LnJlcXVpcmVkKSYmdC5yZXF1aXJlZC5wdXNoKGUubmFtZSkpLGRlbGV0ZSBlLnJlcXVpcmVkKSxlLnhtbCYmInN0cmluZyI9PXR5cGVvZiBlLnhtbC5uYW1lc3BhY2UmJihlLnhtbC5uYW1lc3BhY2V8fGRlbGV0ZSBlLnhtbC5uYW1lc3BhY2UpLGUuYWxsb3dFbXB0eVZhbHVlJiYoZGVsZXRlIGUuYWxsb3dFbXB0eVZhbHVlLHIucGF0Y2hlcysrLHIud2FybmluZ3MucHVzaCgiKFBhdGNoYWJsZSk6IGRlbGV0ZWQgc2NoZW1hLmFsbG93RW1wdHlWYWx1ZSIpKX0oZSxyLHQpfSkpfWZ1bmN0aW9uIGpfKGUpe2Zvcihjb25zdCB0IGluIGUpZm9yKGNvbnN0IHIgaW4gZVt0XSl7Y29uc3Qgbj1rXy5zYW5pdGlzZShyKTtyIT09biYmKGVbdF1bbl09ZVt0XVtyXSxkZWxldGUgZVt0XVtyXSl9fWZ1bmN0aW9uIElfKGUsdCl7aWYoImJhc2ljIj09PWUudHlwZSYmKGUudHlwZT0iaHR0cCIsZS5zY2hlbWU9ImJhc2ljIiksIm9hdXRoMiI9PT1lLnR5cGUpe2NvbnN0IHI9e307bGV0IG49ZS5mbG93OyJhcHBsaWNhdGlvbiI9PT1lLmZsb3cmJihuPSJjbGllbnRDcmVkZW50aWFscyIpLCJhY2Nlc3NDb2RlIj09PWUuZmxvdyYmKG49ImF1dGhvcml6YXRpb25Db2RlIiksInN0cmluZyI9PXR5cGVvZiBlLmF1dGhvcml6YXRpb25VcmwmJihyLmF1dGhvcml6YXRpb25Vcmw9ZS5hdXRob3JpemF0aW9uVXJsLnNwbGl0KCI/IilbMF0udHJpbSgpfHwiLyIpLCJzdHJpbmciPT10eXBlb2YgZS50b2tlblVybCYmKHIudG9rZW5Vcmw9ZS50b2tlblVybC5zcGxpdCgiPyIpWzBdLnRyaW0oKXx8Ii8iKSxyLnNjb3Blcz1lLnNjb3Blc3x8e30sZS5mbG93cz17fSxlLmZsb3dzW25dPXIsZGVsZXRlIGUuZmxvdyxkZWxldGUgZS5hdXRob3JpemF0aW9uVXJsLGRlbGV0ZSBlLnRva2VuVXJsLGRlbGV0ZSBlLnNjb3BlcyxlLm5hbWUmJihkZWxldGUgZS5uYW1lLHQucGF0Y2hlcysrLHQud2FybmluZ3MucHVzaCgiKFBhdGNoYWJsZSkgb2F1dGgyIHNlY3VyaXR5U2NoZW1lcyBzaG91bGQgbm90IGhhdmUgbmFtZSBwcm9wZXJ0eSIpKX19ZnVuY3Rpb24gX18oZSl7cmV0dXJuIGUmJiFlWyJ4LXMyby1kZWxldGUiXX1mdW5jdGlvbiBQXyhlLHQpe2lmKGUudHlwZSYmIWUuc2NoZW1hJiYoZS5zY2hlbWE9e30pLGUudHlwZSYmKGUuc2NoZW1hLnR5cGU9ZS50eXBlKSxlLml0ZW1zJiYiYXJyYXkiIT09ZS5pdGVtcy50eXBlKXtpZihlLml0ZW1zLmNvbGxlY3Rpb25Gb3JtYXQhPT1lLmNvbGxlY3Rpb25Gb3JtYXQpcmV0dXJuIHQuZXJyQ291bnQrKyx2b2lkIHQuZXJyb3JzLnB1c2goe21lc3NhZ2U6Ik5lc3RlZCBjb2xsZWN0aW9uRm9ybWF0cyBhcmUgbm90IHN1cHBvcnRlZCIscG9pbnRlcjoiLy4uLi9yZXNwb25zZXMvaGVhZGVyIn0pO2RlbGV0ZSBlLml0ZW1zLmNvbGxlY3Rpb25Gb3JtYXR9ImFycmF5Ij09PWUudHlwZT8oInNzdiI9PT1lLmNvbGxlY3Rpb25Gb3JtYXQ/KHQucGF0Y2hlcysrLHQud2FybmluZ3MucHVzaCgiY29sbGVjdGlvbkZvcm1hdDpzc3YgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBmb3IgaGVhZGVycyIpKToicGlwZXMiPT09ZS5jb2xsZWN0aW9uRm9ybWF0Pyh0LnBhdGNoZXMrKyx0Lndhcm5pbmdzLnB1c2goImNvbGxlY3Rpb25Gb3JtYXQ6cGlwZXMgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBmb3IgaGVhZGVycyIpKToibXVsdGkiPT09ZS5jb2xsZWN0aW9uRm9ybWF0P2UuZXhwbG9kZT0hMDoidHN2Ij09PWUuY29sbGVjdGlvbkZvcm1hdD8oZVsieC1jb2xsZWN0aW9uRm9ybWF0Il09InRzdiIsdC5wYXRjaGVzKyssdC53YXJuaW5ncy5wdXNoKCJjb2xsZWN0aW9uRm9ybWF0OnRzdiBpcyBubyBsb25nZXIgc3VwcG9ydGVkIikpOmUuc3R5bGU9InNpbXBsZSIsZGVsZXRlIGUuY29sbGVjdGlvbkZvcm1hdCk6ZS5jb2xsZWN0aW9uRm9ybWF0JiYoZGVsZXRlIGUuY29sbGVjdGlvbkZvcm1hdCx0LnBhdGNoZXMrKyx0Lndhcm5pbmdzLnB1c2goIihQYXRjaGFibGUpIGNvbGxlY3Rpb25Gb3JtYXQgaXMgb25seSBhcHBsaWNhYmxlIHRvIGhlYWRlci50eXBlIGFycmF5IikpLGRlbGV0ZSBlLnR5cGU7Zm9yKGNvbnN0IHQgb2Yga18ucGFyYW1ldGVyVHlwZVByb3BlcnRpZXMpdm9pZCAwIT09ZVt0XSYmKGUuc2NoZW1hW3RdPWVbdF0sZGVsZXRlIGVbdF0pO2Zvcihjb25zdCB0IG9mIGtfLmFycmF5UHJvcGVydGllcyl2b2lkIDAhPT1lW3RdJiYoZS5zY2hlbWFbdF09ZVt0XSxkZWxldGUgZVt0XSl9ZnVuY3Rpb24gUl8oZSx0LHIsbixvLGEsaSl7Y29uc3Qgcz17fTtsZXQgbCxjPSEwO3QmJnQuY29uc3VtZXMmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zdW1lcyYmKHQuY29uc3VtZXM9W3QuY29uc3VtZXNdLGkucGF0Y2hlcysrLGkud2FybmluZ3MucHVzaCgiKFBhdGNoYWJsZSkgb3BlcmF0aW9uLmNvbnN1bWVzIG11c3QgYmUgYW4gYXJyYXkiKSksQXJyYXkuaXNBcnJheShhLmNvbnN1bWVzKXx8ZGVsZXRlIGEuY29uc3VtZXM7Y29uc3QgcD0oKHQ/dC5jb25zdW1lczpudWxsKXx8YS5jb25zdW1lc3x8W10pLmZpbHRlcihrXy51bmlxdWVPbmx5KTtpZihlJiYoZS5uYW1lfHxlLmluKSl7ImJvb2xlYW4iPT10eXBlb2YgZVsieC1kZXByZWNhdGVkIl0mJihlLmRlcHJlY2F0ZWQ9ZVsieC1kZXByZWNhdGVkIl0sZGVsZXRlIGVbIngtZGVwcmVjYXRlZCJdKSx2b2lkIDAhPT1lWyJ4LWV4YW1wbGUiXSYmKGUuZXhhbXBsZT1lWyJ4LWV4YW1wbGUiXSxkZWxldGUgZVsieC1leGFtcGxlIl0pLCJib2R5Ij09PWUuaW58fGUudHlwZXx8KGUudHlwZT0ic3RyaW5nIixpLnBhdGNoZXMrKyxpLndhcm5pbmdzLnB1c2goIihQYXRjaGFibGUpIHBhcmFtZXRlci50eXBlIGlzIG1hbmRhdG9yeSBmb3Igbm9uLWJvZHkgcGFyYW1ldGVycyIpKSwiZmlsZSI9PT1lLnR5cGUmJihlWyJ4LXMyby1vcmlnaW5hbFR5cGUiXT1lLnR5cGUsbD1lLnR5cGUpLG51bGw9PT1lLmRlc2NyaXB0aW9uJiZkZWxldGUgZS5kZXNjcmlwdGlvbjtsZXQgdD1lLmNvbGxlY3Rpb25Gb3JtYXQ7aWYoImFycmF5IiE9PWUudHlwZXx8dHx8KHQ9ImNzdiIpLHQmJigiYXJyYXkiIT09ZS50eXBlJiYoZGVsZXRlIGUuY29sbGVjdGlvbkZvcm1hdCxpLnBhdGNoZXMrKyxpLndhcm5pbmdzLnB1c2goIihQYXRjaGFibGUpIGNvbGxlY3Rpb25Gb3JtYXQgaXMgb25seSBhcHBsaWNhYmxlIHRvIHBhcmFtLnR5cGUgYXJyYXkiKSksImNzdiIhPT10fHwicXVlcnkiIT09ZS5pbiYmImNvb2tpZSIhPT1lLmlufHwoZS5zdHlsZT0iZm9ybSIsZS5leHBsb2RlPSExKSwiY3N2IiE9PXR8fCJwYXRoIiE9PWUuaW4mJiJoZWFkZXIiIT09ZS5pbnx8KGUuc3R5bGU9InNpbXBsZSIpLCJzc3YiPT09dCYmKCJxdWVyeSI9PT1lLmluP2Uuc3R5bGU9InNwYWNlRGVsaW1pdGVkIjppLndhcm5pbmdzLnB1c2goYCR7ZS5uYW1lfSBjb2xsZWN0aW9uRm9ybWF0OnNzdiBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGV4Y2VwdCBmb3IgaW46cXVlcnkgcGFyYW1ldGVyc2ApKSwicGlwZXMiPT09dCYmKCJxdWVyeSI9PT1lLmluP2Uuc3R5bGU9InBpcGVEZWxpbWl0ZWQiOmkud2FybmluZ3MucHVzaChgJHtlLm5hbWV9IGNvbGxlY3Rpb25Gb3JtYXQ6cGlwZXMgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBleGNlcHQgZm9yIGluOnF1ZXJ5IHBhcmFtZXRlcnNgKSksIm11bHRpIj09PXQmJihlLmV4cGxvZGU9ITApLCJ0c3YiPT09dCYmKGkud2FybmluZ3MucHVzaCgiY29sbGVjdGlvbkZvcm1hdDp0c3YgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpLGVbIngtY29sbGVjdGlvbkZvcm1hdCJdPSJ0c3YiKSxkZWxldGUgZS5jb2xsZWN0aW9uRm9ybWF0KSxlLnR5cGUmJiJib2R5IiE9PWUudHlwZSYmImZvcm1EYXRhIiE9PWUuaW4paWYoZS5pdGVtcyYmZS5zY2hlbWEpaS53YXJuaW5ncy5wdXNoKGAke2UubmFtZX0gcGFyYW1ldGVyIGhhcyBhcnJheSxpdGVtcyBhbmQgc2NoZW1hYCk7ZWxzZXtlLnNjaGVtYSYmaS5wYXRjaGVzKyssZS5zY2hlbWEmJiJvYmplY3QiPT10eXBlb2YgZS5zY2hlbWF8fChlLnNjaGVtYT17fSksZS5zY2hlbWEudHlwZT1lLnR5cGUsZS5pdGVtcyYmKGUuc2NoZW1hLml0ZW1zPWUuaXRlbXMsZGVsZXRlIGUuaXRlbXMsRV8oZS5zY2hlbWEuaXRlbXMsbnVsbCwoKHIsbik9PnsiY29sbGVjdGlvbkZvcm1hdCI9PT1uJiYic3RyaW5nIj09dHlwZW9mIHJbbl0mJih0JiZyW25dIT09dCYmaS53YXJuaW5ncy5wdXNoKGAke2UubmFtZX0gTmVzdGVkIGNvbGxlY3Rpb25Gb3JtYXRzIGFyZSBub3Qgc3VwcG9ydGVkYCksZGVsZXRlIHJbbl0pfSkpKTtmb3IoY29uc3QgdCBvZiBrXy5wYXJhbWV0ZXJUeXBlUHJvcGVydGllcyl2b2lkIDAhPT1lW3RdJiYoZS5zY2hlbWFbdF09ZVt0XSksZGVsZXRlIGVbdF19ZS5zY2hlbWEmJkNfKGUuc2NoZW1hLGkpLGVbIngtbXMtc2tpcC11cmwtZW5jb2RpbmciXSYmInF1ZXJ5Ij09PWUuaW4mJihlLmFsbG93UmVzZXJ2ZWQ9ITAsZGVsZXRlIGVbIngtbXMtc2tpcC11cmwtZW5jb2RpbmciXSl9aWYoZSYmImZvcm1EYXRhIj09PWUuaW4pe2M9ITEscy5jb250ZW50PXt9O2xldCB0PSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiO2lmKHAubGVuZ3RoJiZwLmluZGV4T2YoIm11bHRpcGFydC9mb3JtLWRhdGEiKT49MCYmKHQ9Im11bHRpcGFydC9mb3JtLWRhdGEiKSxzLmNvbnRlbnRbdF09e30sZS5zY2hlbWEpcy5jb250ZW50W3RdLnNjaGVtYT1lLnNjaGVtYTtlbHNle3MuY29udGVudFt0XS5zY2hlbWE9e30scy5jb250ZW50W3RdLnNjaGVtYS50eXBlPSJvYmplY3QiLHMuY29udGVudFt0XS5zY2hlbWEucHJvcGVydGllcz17fSxzLmNvbnRlbnRbdF0uc2NoZW1hLnByb3BlcnRpZXNbZS5uYW1lXT17fTtjb25zdCByPXMuY29udGVudFt0XS5zY2hlbWEsbj1zLmNvbnRlbnRbdF0uc2NoZW1hLnByb3BlcnRpZXNbZS5uYW1lXTtlLmRlc2NyaXB0aW9uJiYobi5kZXNjcmlwdGlvbj1lLmRlc2NyaXB0aW9uKSxlLmV4YW1wbGUmJihuLmV4YW1wbGU9ZS5leGFtcGxlKSxlLnR5cGUmJihuLnR5cGU9ZS50eXBlKTtmb3IoY29uc3QgdCBvZiBrXy5wYXJhbWV0ZXJUeXBlUHJvcGVydGllcyl2b2lkIDAhPT1lW3RdJiYoblt0XT1lW3RdKTshMD09PWUucmVxdWlyZWQmJihyLnJlcXVpcmVkfHwoci5yZXF1aXJlZD1bXSksci5yZXF1aXJlZC5wdXNoKGUubmFtZSkscy5yZXF1aXJlZD0hMCksdm9pZCAwIT09ZS5kZWZhdWx0JiYobi5kZWZhdWx0PWUuZGVmYXVsdCksbi5wcm9wZXJ0aWVzJiYobi5wcm9wZXJ0aWVzPWUucHJvcGVydGllcyksZS5hbGxPZiYmKG4uYWxsT2Y9ZS5hbGxPZiksImFycmF5Ij09PWUudHlwZSYmZS5pdGVtcyYmKG4uaXRlbXM9ZS5pdGVtcyxuLml0ZW1zLmNvbGxlY3Rpb25Gb3JtYXQmJmRlbGV0ZSBuLml0ZW1zLmNvbGxlY3Rpb25Gb3JtYXQpLCJmaWxlIiE9PWwmJiJmaWxlIiE9PWVbIngtczJvLW9yaWdpbmFsVHlwZSJdfHwobi50eXBlPSJzdHJpbmciLG4uZm9ybWF0PSJiaW5hcnkiKSxUXyhlLG4pfX1lbHNlIGUmJiJmaWxlIj09PWUudHlwZSYmKGUucmVxdWlyZWQmJihzLnJlcXVpcmVkPWUucmVxdWlyZWQpLHMuY29udGVudD17fSxzLmNvbnRlbnRbImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSJdPXt9LHMuY29udGVudFsiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIl0uc2NoZW1hPXt9LHMuY29udGVudFsiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIl0uc2NoZW1hLnR5cGU9InN0cmluZyIscy5jb250ZW50WyJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iXS5zY2hlbWEuZm9ybWF0PSJiaW5hcnkiLFRfKGUscykpO2lmKGUmJiJib2R5Ij09PWUuaW4pe3MuY29udGVudD17fSxlLm5hbWUmJihzWyJ4LXMyby1uYW1lIl09KHQmJnQub3BlcmF0aW9uSWQ/a18uc2FuaXRpc2VBbGwodC5vcGVyYXRpb25JZCk6IiIpK2tfLmNhbWVsaXplKGBfJHtlLm5hbWV9YCkpLGUuZGVzY3JpcHRpb24mJihzLmRlc2NyaXB0aW9uPWUuZGVzY3JpcHRpb24pLGUucmVxdWlyZWQmJihzLnJlcXVpcmVkPWUucmVxdWlyZWQpLHAubGVuZ3RofHxwLnB1c2goImFwcGxpY2F0aW9uL2pzb24iKTtmb3IoY29uc3QgdCBvZiBwKXMuY29udGVudFt0XT17fSxzLmNvbnRlbnRbdF0uc2NoZW1hPWtfLmNsb25lKGUuc2NoZW1hfHx7fSksQ18ocy5jb250ZW50W3RdLnNjaGVtYSxpKTtUXyhlLHMpfWlmKE9iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiYoZVsieC1zMm8tZGVsZXRlIl09ITAsdCkpaWYodC5yZXF1ZXN0Qm9keSYmYyl7dC5yZXF1ZXN0Qm9keVsieC1zMm8tb3ZlcmxvYWRlZCJdPSEwO2NvbnN0IGU9dC5vcGVyYXRpb25JZHx8bztpLndhcm5pbmdzLnB1c2goYE9wZXJhdGlvbiAke2V9IGhhcyBtdWx0aXBsZSByZXF1ZXN0Qm9kaWVzYCl9ZWxzZSB0LnJlcXVlc3RCb2R5fHwodD1mdW5jdGlvbihlLHQpe2NvbnN0IHI9e307Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXMoZSkpcltuXT1lW25dLCJwYXJhbWV0ZXJzIj09PW4mJihyLnJlcXVlc3RCb2R5PXt9LHQucmJuYW1lJiYoclt0LnJibmFtZV09IiIpKTtyZXR1cm4gci5yZXF1ZXN0Qm9keT17fSxyfSh0LGkpLHJbbl09dCksdC5yZXF1ZXN0Qm9keS5jb250ZW50JiZ0LnJlcXVlc3RCb2R5LmNvbnRlbnRbIm11bHRpcGFydC9mb3JtLWRhdGEiXSYmdC5yZXF1ZXN0Qm9keS5jb250ZW50WyJtdWx0aXBhcnQvZm9ybS1kYXRhIl0uc2NoZW1hJiZ0LnJlcXVlc3RCb2R5LmNvbnRlbnRbIm11bHRpcGFydC9mb3JtLWRhdGEiXS5zY2hlbWEucHJvcGVydGllcyYmcy5jb250ZW50WyJtdWx0aXBhcnQvZm9ybS1kYXRhIl0mJnMuY29udGVudFsibXVsdGlwYXJ0L2Zvcm0tZGF0YSJdLnNjaGVtYSYmcy5jb250ZW50WyJtdWx0aXBhcnQvZm9ybS1kYXRhIl0uc2NoZW1hLnByb3BlcnRpZXM/KHQucmVxdWVzdEJvZHkuY29udGVudFsibXVsdGlwYXJ0L2Zvcm0tZGF0YSJdLnNjaGVtYS5wcm9wZXJ0aWVzPU9iamVjdC5hc3NpZ24odC5yZXF1ZXN0Qm9keS5jb250ZW50WyJtdWx0aXBhcnQvZm9ybS1kYXRhIl0uc2NoZW1hLnByb3BlcnRpZXMscy5jb250ZW50WyJtdWx0aXBhcnQvZm9ybS1kYXRhIl0uc2NoZW1hLnByb3BlcnRpZXMpLHQucmVxdWVzdEJvZHkuY29udGVudFsibXVsdGlwYXJ0L2Zvcm0tZGF0YSJdLnNjaGVtYS5yZXF1aXJlZD0odC5yZXF1ZXN0Qm9keS5jb250ZW50WyJtdWx0aXBhcnQvZm9ybS1kYXRhIl0uc2NoZW1hLnJlcXVpcmVkfHxbXSkuY29uY2F0KHMuY29udGVudFsibXVsdGlwYXJ0L2Zvcm0tZGF0YSJdLnNjaGVtYS5yZXF1aXJlZHx8W10pLHQucmVxdWVzdEJvZHkuY29udGVudFsibXVsdGlwYXJ0L2Zvcm0tZGF0YSJdLnNjaGVtYS5yZXF1aXJlZC5sZW5ndGh8fGRlbGV0ZSB0LnJlcXVlc3RCb2R5LmNvbnRlbnRbIm11bHRpcGFydC9mb3JtLWRhdGEiXS5zY2hlbWEucmVxdWlyZWQpOnQucmVxdWVzdEJvZHkuY29udGVudCYmdC5yZXF1ZXN0Qm9keS5jb250ZW50WyJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiXSYmdC5yZXF1ZXN0Qm9keS5jb250ZW50WyJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiXS5zY2hlbWEmJnQucmVxdWVzdEJvZHkuY29udGVudFsiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIl0uc2NoZW1hLnByb3BlcnRpZXMmJnMuY29udGVudFsiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIl0mJnMuY29udGVudFsiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIl0uc2NoZW1hJiZzLmNvbnRlbnRbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJdLnNjaGVtYS5wcm9wZXJ0aWVzPyh0LnJlcXVlc3RCb2R5LmNvbnRlbnRbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJdLnNjaGVtYS5wcm9wZXJ0aWVzPU9iamVjdC5hc3NpZ24odC5yZXF1ZXN0Qm9keS5jb250ZW50WyJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiXS5zY2hlbWEucHJvcGVydGllcyxzLmNvbnRlbnRbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJdLnNjaGVtYS5wcm9wZXJ0aWVzKSx0LnJlcXVlc3RCb2R5LmNvbnRlbnRbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJdLnNjaGVtYS5yZXF1aXJlZD0odC5yZXF1ZXN0Qm9keS5jb250ZW50WyJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiXS5zY2hlbWEucmVxdWlyZWR8fFtdKS5jb25jYXQocy5jb250ZW50WyJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiXS5zY2hlbWEucmVxdWlyZWR8fFtdKSx0LnJlcXVlc3RCb2R5LmNvbnRlbnRbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJdLnNjaGVtYS5yZXF1aXJlZC5sZW5ndGh8fGRlbGV0ZSB0LnJlcXVlc3RCb2R5LmNvbnRlbnRbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJdLnNjaGVtYS5yZXF1aXJlZCk6KHQucmVxdWVzdEJvZHk9T2JqZWN0LmFzc2lnbih0LnJlcXVlc3RCb2R5LHMpLHQucmVxdWVzdEJvZHlbIngtczJvLW5hbWUiXXx8dC5vcGVyYXRpb25JZCYmKHQucmVxdWVzdEJvZHlbIngtczJvLW5hbWUiXT1rXy5zYW5pdGlzZUFsbCh0Lm9wZXJhdGlvbklkKSkpO2lmKGUmJiFlWyJ4LXMyby1kZWxldGUiXSl7ZGVsZXRlIGUudHlwZTtmb3IoY29uc3QgdCBvZiBrXy5wYXJhbWV0ZXJUeXBlUHJvcGVydGllcylkZWxldGUgZVt0XTsicGF0aCIhPT1lLmlufHx2b2lkIDAhPT1lLnJlcXVpcmVkJiYhMD09PWUucmVxdWlyZWR8fChlLnJlcXVpcmVkPSEwLGkucGF0Y2hlcysrLGkud2FybmluZ3MucHVzaChgKFBhdGNoYWJsZSkgcGF0aCBwYXJhbWV0ZXJzIG11c3QgYmUgcmVxdWlyZWQ6dHJ1ZSBbJHtlLm5hbWV9IGluICR7b31dYCkpfXJldHVybiB0fWZ1bmN0aW9uIExfKGUsdCxyLG4pe2lmKCFlKXJldHVybiExO2lmKGUuZGVzY3JpcHRpb258fCJvYmplY3QiIT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKXx8KG4ucGF0Y2hlcysrLG4ud2FybmluZ3MucHVzaCgiKFBhdGNoYWJsZSkgcmVzcG9uc2UuZGVzY3JpcHRpb24gaXMgbWFuZGF0b3J5IikpLHZvaWQgMCE9PWUuc2NoZW1hKXtDXyhlLnNjaGVtYSxuKSx0JiZ0LnByb2R1Y2VzJiYic3RyaW5nIj09dHlwZW9mIHQucHJvZHVjZXMmJih0LnByb2R1Y2VzPVt0LnByb2R1Y2VzXSxuLnBhdGNoZXMrKyxuLndhcm5pbmdzLnB1c2goIihQYXRjaGFibGUpIG9wZXJhdGlvbi5wcm9kdWNlcyBtdXN0IGJlIGFuIGFycmF5IikpLHIucHJvZHVjZXMmJiFBcnJheS5pc0FycmF5KHIucHJvZHVjZXMpJiZkZWxldGUgci5wcm9kdWNlcztjb25zdCBvPSgodD90LnByb2R1Y2VzOm51bGwpfHxyLnByb2R1Y2VzfHxbXSkuZmlsdGVyKGtfLnVuaXF1ZU9ubHkpO28ubGVuZ3RofHxvLnB1c2goIiovKiIpLGUuY29udGVudD17fTtmb3IoY29uc3QgdCBvZiBvKXtpZihlLmNvbnRlbnRbdF09e30sZS5jb250ZW50W3RdLnNjaGVtYT1rXy5jbG9uZShlLnNjaGVtYSksZS5leGFtcGxlcyYmZS5leGFtcGxlc1t0XSl7Y29uc3Qgcj17fTtyLnZhbHVlPWUuZXhhbXBsZXNbdF0sZS5jb250ZW50W3RdLmV4YW1wbGVzPXt9LGUuY29udGVudFt0XS5leGFtcGxlcy5yZXNwb25zZT1yLGRlbGV0ZSBlLmV4YW1wbGVzW3RdfSJmaWxlIj09PWUuY29udGVudFt0XS5zY2hlbWEudHlwZSYmKGUuY29udGVudFt0XS5zY2hlbWE9e3R5cGU6InN0cmluZyIsZm9ybWF0OiJiaW5hcnkifSl9ZGVsZXRlIGUuc2NoZW1hfWZvcihjb25zdCB0IGluIGUuZXhhbXBsZXMpZS5jb250ZW50fHwoZS5jb250ZW50PXt9KSxlLmNvbnRlbnRbdF18fChlLmNvbnRlbnRbdF09e30pLGUuY29udGVudFt0XS5leGFtcGxlcz17fSxlLmNvbnRlbnRbdF0uZXhhbXBsZXMucmVzcG9uc2U9e30sZS5jb250ZW50W3RdLmV4YW1wbGVzLnJlc3BvbnNlLnZhbHVlPWUuZXhhbXBsZXNbdF07aWYoZGVsZXRlIGUuZXhhbXBsZXMsZS5oZWFkZXJzKWZvcihjb25zdCB0IGluIGUuaGVhZGVycykic3RhdHVzIGNvZGUiPT09dC50b0xvd2VyQ2FzZSgpPyhkZWxldGUgZS5oZWFkZXJzW3RdLG4ucGF0Y2hlcysrLG4ud2FybmluZ3MucHVzaCgnKFBhdGNoYWJsZSkgIlN0YXR1cyBDb2RlIiBpcyBub3QgYSB2YWxpZCBoZWFkZXInKSk6UF8oZS5oZWFkZXJzW3RdLG4pfWZ1bmN0aW9uIEZfKGUsdCxyLG4sbyl7Zm9yKGNvbnN0IGEgaW4gZSl7Y29uc3QgaT1lW2FdO2kmJmlbIngtdHJhY2UiXSYmIm9iamVjdCI9PXR5cGVvZiBpWyJ4LXRyYWNlIl0mJihpLnRyYWNlPWlbIngtdHJhY2UiXSxkZWxldGUgaVsieC10cmFjZSJdKSxpJiZpWyJ4LXN1bW1hcnkiXSYmInN0cmluZyI9PXR5cGVvZiBpWyJ4LXN1bW1hcnkiXSYmKGkuc3VtbWFyeT1pWyJ4LXN1bW1hcnkiXSxkZWxldGUgaVsieC1zdW1tYXJ5Il0pLGkmJmlbIngtZGVzY3JpcHRpb24iXSYmInN0cmluZyI9PXR5cGVvZiBpWyJ4LWRlc2NyaXB0aW9uIl0mJihpLmRlc2NyaXB0aW9uPWlbIngtZGVzY3JpcHRpb24iXSxkZWxldGUgaVsieC1kZXNjcmlwdGlvbiJdKSxpJiZpWyJ4LXNlcnZlcnMiXSYmQXJyYXkuaXNBcnJheShpWyJ4LXNlcnZlcnMiXSkmJihpLnNlcnZlcnM9aVsieC1zZXJ2ZXJzIl0sZGVsZXRlIGlbIngtc2VydmVycyJdKTtmb3IoY29uc3QgZSBpbiBpKWlmKGtfLmh0dHBNZXRob2RzLmluZGV4T2YoZSk+PTB8fCJ4LWFtYXpvbi1hcGlnYXRld2F5LWFueS1tZXRob2QiPT09ZSl7bGV0IHM9aVtlXTtpZihzJiZzLnBhcmFtZXRlcnMmJkFycmF5LmlzQXJyYXkocy5wYXJhbWV0ZXJzKSl7aWYoaS5wYXJhbWV0ZXJzKWZvcihjb25zdCB0IG9mIGkucGFyYW1ldGVycylzLnBhcmFtZXRlcnMuZmluZCgoZT0+ZS5uYW1lPT09dC5uYW1lJiZlLmluPT09dC5pbikpfHwiZm9ybURhdGEiIT09dC5pbiYmImJvZHkiIT09dC5pbiYmImZpbGUiIT09dC50eXBlfHwocz1SXyh0LHMsaSxlLGEsbyxyKSk7Zm9yKGNvbnN0IHQgb2Ygcy5wYXJhbWV0ZXJzKXM9Ul8odCxzLGksZSxgJHtlfTogJHthfWAsbyxyKTtzLnBhcmFtZXRlcnMmJihzLnBhcmFtZXRlcnM9cy5wYXJhbWV0ZXJzLmZpbHRlcihfXykpfWlmKHMmJnMuc2VjdXJpdHkmJmpfKHMuc2VjdXJpdHkpLCJvYmplY3QiPT10eXBlb2Ygcyl7aWYoIXMucmVzcG9uc2VzKXtjb25zdCBlPXtkZXNjcmlwdGlvbjoiRGVmYXVsdCByZXNwb25zZSJ9O3MucmVzcG9uc2VzPXtkZWZhdWx0OmV9fWZvcihjb25zdCBlIGluIHMucmVzcG9uc2VzKUxfKHMucmVzcG9uc2VzW2VdLHMsbyxyKX1pZihzJiZzWyJ4LXNlcnZlcnMiXSYmQXJyYXkuaXNBcnJheShzWyJ4LXNlcnZlcnMiXSkpcy5zZXJ2ZXJzPXNbIngtc2VydmVycyJdLGRlbGV0ZSBzWyJ4LXNlcnZlcnMiXTtlbHNlIGlmKHMmJnMuc2NoZW1lcyYmcy5zY2hlbWVzLmxlbmd0aClmb3IoY29uc3QgZSBvZiBzLnNjaGVtZXMpaWYoKCFvLnNjaGVtZXN8fG8uc2NoZW1lcy5pbmRleE9mKGUpPDApJiYocy5zZXJ2ZXJzfHwocy5zZXJ2ZXJzPVtdKSxBcnJheS5pc0FycmF5KG8uc2VydmVycykpKWZvcihjb25zdCBlIG9mIG8uc2VydmVycyl7Y29uc3QgdD1rXy5jbG9uZShlKTtzLnNlcnZlcnMucHVzaCh0KX1pZihzKXtpZihkZWxldGUgcy5jb25zdW1lcyxkZWxldGUgcy5wcm9kdWNlcyxkZWxldGUgcy5zY2hlbWVzLHNbIngtbXMtZXhhbXBsZXMiXSl7Zm9yKGNvbnN0IGUgaW4gc1sieC1tcy1leGFtcGxlcyJdKXtjb25zdCB0PXNbIngtbXMtZXhhbXBsZXMiXVtlXSxyPWtfLnNhbml0aXNlQWxsKGUpO2lmKHQucGFyYW1ldGVycylmb3IoY29uc3QgciBpbiB0LnBhcmFtZXRlcnMpe2NvbnN0IG49dC5wYXJhbWV0ZXJzW3JdO2Zvcihjb25zdCB0IG9mKHMucGFyYW1ldGVyc3x8W10pLmNvbmNhdChpLnBhcmFtZXRlcnN8fFtdKSl0Lm5hbWUhPT1yfHx0LmV4YW1wbGV8fCh0LmV4YW1wbGVzfHwodC5leGFtcGxlcz17fSksdC5leGFtcGxlc1tlXT17dmFsdWU6bn0pfWlmKHQucmVzcG9uc2VzKWZvcihjb25zdCBuIGluIHQucmVzcG9uc2VzKXtpZih0LnJlc3BvbnNlc1tuXS5oZWFkZXJzKWZvcihjb25zdCBlIGluIHQucmVzcG9uc2VzW25dLmhlYWRlcnMpe2NvbnN0IHI9dC5yZXNwb25zZXNbbl0uaGVhZGVyc1tlXTtmb3IoY29uc3QgdCBpbiBzLnJlc3BvbnNlc1tuXS5oZWFkZXJzKXQ9PT1lJiYocy5yZXNwb25zZXNbbl0uaGVhZGVyc1t0XS5leGFtcGxlPXIpfWlmKHQucmVzcG9uc2VzW25dLmJvZHkmJihvLmNvbXBvbmVudHMuZXhhbXBsZXNbcl09e3ZhbHVlOmtfLmNsb25lKHQucmVzcG9uc2VzW25dLmJvZHkpfSxzLnJlc3BvbnNlc1tuXSYmcy5yZXNwb25zZXNbbl0uY29udGVudCkpZm9yKGNvbnN0IHQgaW4gcy5yZXNwb25zZXNbbl0uY29udGVudCl7Y29uc3Qgbz1zLnJlc3BvbnNlc1tuXS5jb250ZW50W3RdO28uZXhhbXBsZXN8fChvLmV4YW1wbGVzPXt9KSxvLmV4YW1wbGVzW2VdPXskcmVmOmAjL2NvbXBvbmVudHMvZXhhbXBsZXMvJHtyfWB9fX19ZGVsZXRlIHNbIngtbXMtZXhhbXBsZXMiXX1pZihzLnBhcmFtZXRlcnMmJjA9PT1zLnBhcmFtZXRlcnMubGVuZ3RoJiZkZWxldGUgcy5wYXJhbWV0ZXJzLHMucmVxdWVzdEJvZHkpe2NvbnN0IHI9cy5vcGVyYXRpb25JZD9rXy5zYW5pdGlzZUFsbChzLm9wZXJhdGlvbklkKTprXy5jYW1lbGl6ZShrXy5zYW5pdGlzZUFsbChlK2EpKSxvPWtfLnNhbml0aXNlKHMucmVxdWVzdEJvZHlbIngtczJvLW5hbWUiXXx8cnx8IiIpO2RlbGV0ZSBzLnJlcXVlc3RCb2R5WyJ4LXMyby1uYW1lIl07Y29uc3QgaT1KU09OLnN0cmluZ2lmeShzLnJlcXVlc3RCb2R5KSxsPWtfLmNyZWF0ZUhhc2goaSk7aWYoIW5bbF0pe2NvbnN0IGU9e307ZS5uYW1lPW8sZS5ib2R5PXMucmVxdWVzdEJvZHksZS5yZWZzPVtdLG5bbF09ZX1jb25zdCBjPWAjLyR7dH0vJHtlbmNvZGVVUklDb21wb25lbnQoYSl9LyR7ZX0vcmVxdWVzdEJvZHlgO25bbF0ucmVmcy5wdXNoKGMpfX19aWYoaSYmaS5wYXJhbWV0ZXJzKXtmb3IoY29uc3QgZSBpbiBpLnBhcmFtZXRlcnMpUl8oaS5wYXJhbWV0ZXJzW2VdLG51bGwsaSxudWxsLGEsbyxyKTtBcnJheS5pc0FycmF5KGkucGFyYW1ldGVycykmJihpLnBhcmFtZXRlcnM9aS5wYXJhbWV0ZXJzLmZpbHRlcihfXykpfX19ZnVuY3Rpb24gRF8oZSl7cmV0dXJuIGUmJmUudXJsJiYic3RyaW5nIj09dHlwZW9mIGUudXJsPyhlLnVybD1lLnVybC5zcGxpdCgie3siKS5qb2luKCJ7IiksZS51cmw9ZS51cmwuc3BsaXQoIn19Iikuam9pbigifSIpLGUudXJsLnJlcGxhY2UoL1x7KC4rPylcfS9nLCgodCxyKT0+e2UudmFyaWFibGVzfHwoZS52YXJpYWJsZXM9e30pLGUudmFyaWFibGVzW3JdPXtkZWZhdWx0OiJ1bmtub3duIn19KSksZSk6ZX1mdW5jdGlvbiBCXyhlLHQpe3ZvaWQgMCE9PWUuaW5mbyYmbnVsbCE9PWUuaW5mb3x8KGUuaW5mbz17dmVyc2lvbjoiIix0aXRsZToiIn0sdC5wYXRjaGVzKyssdC53YXJuaW5ncy5wdXNoKCIoUGF0Y2hhYmxlKSBpbmZvIG9iamVjdCBpcyBtYW5kYXRvcnkiKSksKCJvYmplY3QiIT10eXBlb2YgZS5pbmZvfHxBcnJheS5pc0FycmF5KGUuaW5mbykpJiYodC5lcnJDb3VudCsrLHQuZXJyb3JzLnB1c2goe21lc3NhZ2U6ImluZm8gbXVzdCBiZSBhbiBvYmplY3QiLHBvaW50ZXI6Ii9pbmZvIn0pKSxlLmluZm8mJih2b2lkIDA9PT1lLmluZm8udGl0bGUmJih0LnBhdGNoZXMrKyxlLmluZm8udGl0bGU9IiIsdC53YXJuaW5ncy5wdXNoKHttZXNzYWdlOiIoUGF0Y2hhYmxlKSBpbmZvLnRpdGxlIGNhbm5vdCBiZSBudWxsIixwb2ludGVyOiIvaW5mby90aXRsZSIscGF0Y2hhYmxlOiEwfSkpLHZvaWQgMD09PWUuaW5mby52ZXJzaW9uPyh0LnBhdGNoZXMrKyxlLmluZm8udmVyc2lvbj0iIix0Lndhcm5pbmdzLnB1c2goIihQYXRjaGFibGUpIGluZm8udmVyc2lvbiBjYW5ub3QgYmUgbnVsbCIpKToic3RyaW5nIiE9dHlwZW9mIGUuaW5mby52ZXJzaW9uJiYodC5wYXRjaGVzKyssZS5pbmZvLnZlcnNpb249ZS5pbmZvLnZlcnNpb24udG9TdHJpbmcoKSx0Lndhcm5pbmdzLnB1c2goIihQYXRjaGFibGUpIGluZm8udmVyc2lvbiBtdXN0IGJlIGEgc3RyaW5nIikpKX1mdW5jdGlvbiBOXyhlLHQpe2UucGF0aHN8fCh0LnBhdGNoZXMrKyxlLnBhdGhzPXt9LHQud2FybmluZ3MucHVzaCgiKFBhdGNoYWJsZSkgcGF0aHMgb2JqZWN0IGlzIG1hbmRhdG9yeSIpKX1mdW5jdGlvbiBxXyhlPXt9KXtjb25zdCB0PXtvcmlnaW5hbDplLG9wZW5hcGk6e30scGF0Y2hlczowLHdhcm5pbmdzOltdLGVyckNvdW50OjAsZXJyb3JzOltdfTtpZihlLm9wZW5hcGkmJiJzdHJpbmciPT10eXBlb2YgZS5vcGVuYXBpJiZlLm9wZW5hcGkuc3RhcnRzV2l0aCgiMy4iKSlyZXR1cm4gdC5vcGVuYXBpPWtfLmNpcmN1bGFyQ2xvbmUoZSksQl8odC5vcGVuYXBpLHQpLE5fKHQub3BlbmFwaSx0KSx0O2lmKCIyLjAiIT09ZS5zd2FnZ2VyKXJldHVybiB0LmVyckNvdW50KyssdC5lcnJvcnMucHVzaCh7bWVzc2FnZTpgVW5zdXBwb3J0ZWQgc3dhZ2dlci9PcGVuQVBJIHZlcnNpb246ICR7ZS5vcGVuYXBpP2Uub3BlbmFwaTplLnN3YWdnZXJ9YCxwb2ludGVyOiIvc3dhZ2dlciJ9KSx0O2lmKHQub3BlbmFwaT1rXy5jaXJjdWxhckNsb25lKGUpLHQub3BlbmFwaS5vcGVuYXBpPSIzLjAuMCIsZGVsZXRlIHQub3BlbmFwaS5zd2FnZ2VyLEVfKHQub3BlbmFwaSx7fSwoKGUsdCxyKT0+e251bGw9PT1lW3RdJiYhdC5zdGFydHNXaXRoKCJ4LSIpJiYiZGVmYXVsdCIhPT10JiZyLnBhdGguaW5kZXhPZigiL2V4YW1wbGUiKTwwJiZkZWxldGUgZVt0XX0pKSxlLmhvc3QpKGUuc2NoZW1lc3x8W10pLmZvckVhY2goKHI9Pntjb25zdCBuPXt9LG89KGUuYmFzZVBhdGh8fCIiKS5yZXBsYWNlKC9cLyQvLCIiKTtuLnVybD1gJHtyP2Ake3J9OmA6IiJ9Ly8ke2UuaG9zdH0ke299YCxEXyhuKSx0Lm9wZW5hcGkuc2VydmVyc3x8KHQub3BlbmFwaS5zZXJ2ZXJzPVtdKSx0Lm9wZW5hcGkuc2VydmVycy5wdXNoKG4pfSkpO2Vsc2UgaWYoZS5iYXNlUGF0aCl7Y29uc3Qgcj17fTtyLnVybD1lLmJhc2VQYXRoLERfKHIpLHQub3BlbmFwaS5zZXJ2ZXJzfHwodC5vcGVuYXBpLnNlcnZlcnM9W10pLHQub3BlbmFwaS5zZXJ2ZXJzLnB1c2gocil9aWYoZGVsZXRlIHQub3BlbmFwaS5ob3N0LGRlbGV0ZSB0Lm9wZW5hcGkuYmFzZVBhdGgsZVsieC1tcy1wYXJhbWV0ZXJpemVkLWhvc3QiXSl7Y29uc3Qgcj1lWyJ4LW1zLXBhcmFtZXRlcml6ZWQtaG9zdCJdLG49e307bi51cmw9ci5ob3N0VGVtcGxhdGUrKGUuYmFzZVBhdGg/ZS5iYXNlUGF0aDoiIiksbi52YXJpYWJsZXM9e307Y29uc3Qgbz1uLnVybC5tYXRjaCgvXHtcdytcfS9nKTtmb3IoY29uc3QgZSBpbiByLnBhcmFtZXRlcnMpe2NvbnN0IHQ9ci5wYXJhbWV0ZXJzW2VdO2Uuc3RhcnRzV2l0aCgieC0iKXx8KGRlbGV0ZSB0LnJlcXVpcmVkLGRlbGV0ZSB0LnR5cGUsZGVsZXRlIHQuaW4sdm9pZCAwPT09dC5kZWZhdWx0JiYodC5lbnVtP3QuZGVmYXVsdD10LmVudW1bMF06dC5kZWZhdWx0PSJub25lIiksdC5uYW1lfHwodC5uYW1lPW9bZV0ucmVwbGFjZSgieyIsIiIpLnJlcGxhY2UoIn0iLCIiKSksbi52YXJpYWJsZXNbdC5uYW1lXT10LGRlbGV0ZSB0Lm5hbWUpfXQub3BlbmFwaS5zZXJ2ZXJzfHwodC5vcGVuYXBpLnNlcnZlcnM9W10pLCExPT09ci51c2VTY2hlbWVQcmVmaXg/dC5vcGVuYXBpLnNlcnZlcnMucHVzaChuKTplLnNjaGVtZXMuZm9yRWFjaCgoZT0+e3Qub3BlbmFwaS5zZXJ2ZXJzLnB1c2goey4uLm4sdXJsOmAke2V9Oi8vJHtuLnVybH1gfSl9KSksZGVsZXRlIHQub3BlbmFwaVsieC1tcy1wYXJhbWV0ZXJpemVkLWhvc3QiXX1yZXR1cm4gQl8odC5vcGVuYXBpLHQpLE5fKHQub3BlbmFwaSx0KSwic3RyaW5nIj09dHlwZW9mIHQub3BlbmFwaS5jb25zdW1lcyYmKHQub3BlbmFwaS5jb25zdW1lcz1bdC5vcGVuYXBpLmNvbnN1bWVzXSksInN0cmluZyI9PXR5cGVvZiB0Lm9wZW5hcGkucHJvZHVjZXMmJih0Lm9wZW5hcGkucHJvZHVjZXM9W3Qub3BlbmFwaS5wcm9kdWNlc10pLHQub3BlbmFwaS5jb21wb25lbnRzPXt9LHQub3BlbmFwaVsieC1jYWxsYmFja3MiXSYmKHQub3BlbmFwaS5jb21wb25lbnRzLmNhbGxiYWNrcz10Lm9wZW5hcGlbIngtY2FsbGJhY2tzIl0sZGVsZXRlIHQub3BlbmFwaVsieC1jYWxsYmFja3MiXSksdC5vcGVuYXBpLmNvbXBvbmVudHMuZXhhbXBsZXM9e30sdC5vcGVuYXBpLmNvbXBvbmVudHMuaGVhZGVycz17fSx0Lm9wZW5hcGlbIngtbGlua3MiXSYmKHQub3BlbmFwaS5jb21wb25lbnRzLmxpbmtzPXQub3BlbmFwaVsieC1saW5rcyJdLGRlbGV0ZSB0Lm9wZW5hcGlbIngtbGlua3MiXSksdC5vcGVuYXBpLmNvbXBvbmVudHMucGFyYW1ldGVycz10Lm9wZW5hcGkucGFyYW1ldGVyc3x8e30sdC5vcGVuYXBpLmNvbXBvbmVudHMucmVzcG9uc2VzPXQub3BlbmFwaS5yZXNwb25zZXN8fHt9LHQub3BlbmFwaS5jb21wb25lbnRzLnJlcXVlc3RCb2RpZXM9e30sdC5vcGVuYXBpLmNvbXBvbmVudHMuc2VjdXJpdHlTY2hlbWVzPXQub3BlbmFwaS5zZWN1cml0eURlZmluaXRpb25zfHx7fSx0Lm9wZW5hcGkuY29tcG9uZW50cy5zY2hlbWFzPXQub3BlbmFwaS5kZWZpbml0aW9uc3x8e30sZGVsZXRlIHQub3BlbmFwaS5kZWZpbml0aW9ucyxkZWxldGUgdC5vcGVuYXBpLnJlc3BvbnNlcyxkZWxldGUgdC5vcGVuYXBpLnBhcmFtZXRlcnMsZGVsZXRlIHQub3BlbmFwaS5zZWN1cml0eURlZmluaXRpb25zLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5vcGVuYXBpLHI9e307T189e3NjaGVtYXM6e319LHQuc2VjdXJpdHkmJmpfKHQuc2VjdXJpdHkpO2Zvcihjb25zdCByIGluIHQuY29tcG9uZW50cy5zZWN1cml0eVNjaGVtZXMpe2NvbnN0IG49a18uc2FuaXRpc2Uocik7aWYociE9PW4pe2lmKHQuY29tcG9uZW50cy5zZWN1cml0eVNjaGVtZXNbbl0pcmV0dXJuIGUuZXJyQ291bnQrKyxlLmVycm9ycy5wdXNoKHttZXNzYWdlOmBEdXBsaWNhdGUgc2FuaXRpc2VkIHNlY3VyaXR5U2NoZW1lIG5hbWUgJHtufWAscG9pbnRlcjpgL2NvbXBvbmVudHMvc2VjdXJpdHlTY2hlbWVzLyR7bn1gfSksZTt0LmNvbXBvbmVudHMuc2VjdXJpdHlTY2hlbWVzW25dPXQuY29tcG9uZW50cy5zZWN1cml0eVNjaGVtZXNbcl0sZGVsZXRlIHQuY29tcG9uZW50cy5zZWN1cml0eVNjaGVtZXNbcl19SV8odC5jb21wb25lbnRzLnNlY3VyaXR5U2NoZW1lc1tuXSxlKX1mb3IoY29uc3QgciBpbiB0LmNvbXBvbmVudHMuc2NoZW1hcyl7Y29uc3Qgbj1rXy5zYW5pdGlzZUFsbChyKTtsZXQgbz0wO2lmKHIhPT1uKXtmb3IoO3QuY29tcG9uZW50cy5zY2hlbWFzW24rb107KW89bz8rK286Mjt0LmNvbXBvbmVudHMuc2NoZW1hc1tuK29dPXQuY29tcG9uZW50cy5zY2hlbWFzW3JdLGRlbGV0ZSB0LmNvbXBvbmVudHMuc2NoZW1hc1tyXX1PXy5zY2hlbWFzW3JdPW4rbyxDXyh0LmNvbXBvbmVudHMuc2NoZW1hc1tgJHtufSR7b31gXSxlKX1mb3IoY29uc3QgciBpbiB0LmNvbXBvbmVudHMucGFyYW1ldGVycyl7Y29uc3Qgbj1rXy5zYW5pdGlzZShyKTtpZihyIT09bil7aWYodC5jb21wb25lbnRzLnBhcmFtZXRlcnNbbl0pcmV0dXJuIGUuZXJyQ291bnQrKyxlLmVycm9ycy5wdXNoKHttZXNzYWdlOmBEdXBsaWNhdGUgc2FuaXRpc2VkIHBhcmFtZXRlciBuYW1lICR7bn1gLHBvaW50ZXI6YC9jb21wb25lbnRzL3BhcmFtZXRlcnMvJHtufWB9KSxlO3QuY29tcG9uZW50cy5wYXJhbWV0ZXJzW25dPXQuY29tcG9uZW50cy5wYXJhbWV0ZXJzW3JdLGRlbGV0ZSB0LmNvbXBvbmVudHMucGFyYW1ldGVyc1tyXX1SXyh0LmNvbXBvbmVudHMucGFyYW1ldGVyc1tuXSxudWxsLG51bGwsbnVsbCxuLHQsZSl9Zm9yKGNvbnN0IHIgaW4gdC5jb21wb25lbnRzLnJlc3BvbnNlcyl7Y29uc3Qgbj1rXy5zYW5pdGlzZShyKTtpZihyIT09bil7aWYodC5jb21wb25lbnRzLnJlc3BvbnNlc1tuXSlyZXR1cm4gZS5lcnJDb3VudCsrLGUuZXJyb3JzLnB1c2goe21lc3NhZ2U6YER1cGxpY2F0ZSBzYW5pdGlzZWQgcmVzcG9uc2UgbmFtZSAke259YCxwb2ludGVyOmAvY29tcG9uZW50cy9yZXNwb25zZXMvJHtufWB9KSxlO3QuY29tcG9uZW50cy5yZXNwb25zZXNbbl09dC5jb21wb25lbnRzLnJlc3BvbnNlc1tyXSxkZWxldGUgdC5jb21wb25lbnRzLnJlc3BvbnNlc1tyXX1jb25zdCBvPXQuY29tcG9uZW50cy5yZXNwb25zZXNbbl07aWYoTF8obyxudWxsLHQsZSksby5oZWFkZXJzKWZvcihjb25zdCB0IGluIG8uaGVhZGVycykic3RhdHVzIGNvZGUiPT09dC50b0xvd2VyQ2FzZSgpPyhkZWxldGUgby5oZWFkZXJzW3RdLGUucGF0Y2hlcysrLGUud2FybmluZ3MucHVzaCgnKFBhdGNoYWJsZSkgIlN0YXR1cyBDb2RlIiBpcyBub3QgYSB2YWxpZCBoZWFkZXInKSk6UF8oby5oZWFkZXJzW3RdLGUpfWZvcihjb25zdCBlIGluIHQuY29tcG9uZW50cy5yZXF1ZXN0Qm9kaWVzKXtjb25zdCBuPXQuY29tcG9uZW50cy5yZXF1ZXN0Qm9kaWVzW2VdLG89SlNPTi5zdHJpbmdpZnkobiksYT1rXy5jcmVhdGVIYXNoKG8pLGk9e307aS5uYW1lPWUsaS5ib2R5PW4saS5yZWZzPVtdLHJbYV09aX1GXyh0LnBhdGhzLCJwYXRocyIsZSxyLHQpLHRbIngtbXMtcGF0aHMiXSYmRl8odFsieC1tcy1wYXRocyJdLCJ4LW1zLXBhdGhzIixlLHIsdCk7Zm9yKGNvbnN0IGUgaW4gdC5jb21wb25lbnRzLnBhcmFtZXRlcnMpdC5jb21wb25lbnRzLnBhcmFtZXRlcnNbZV1bIngtczJvLWRlbGV0ZSJdJiZkZWxldGUgdC5jb21wb25lbnRzLnBhcmFtZXRlcnNbZV07cmV0dXJuIGRlbGV0ZSB0LmNvbnN1bWVzLGRlbGV0ZSB0LnByb2R1Y2VzLGRlbGV0ZSB0LnNjaGVtZXMsdC5jb21wb25lbnRzLnJlcXVlc3RCb2RpZXM9e30sdC5jb21wb25lbnRzLnJlc3BvbnNlcyYmMD09PU9iamVjdC5rZXlzKHQuY29tcG9uZW50cy5yZXNwb25zZXMpLmxlbmd0aCYmZGVsZXRlIHQuY29tcG9uZW50cy5yZXNwb25zZXMsdC5jb21wb25lbnRzLnBhcmFtZXRlcnMmJjA9PT1PYmplY3Qua2V5cyh0LmNvbXBvbmVudHMucGFyYW1ldGVycykubGVuZ3RoJiZkZWxldGUgdC5jb21wb25lbnRzLnBhcmFtZXRlcnMsdC5jb21wb25lbnRzLmV4YW1wbGVzJiYwPT09T2JqZWN0LmtleXModC5jb21wb25lbnRzLmV4YW1wbGVzKS5sZW5ndGgmJmRlbGV0ZSB0LmNvbXBvbmVudHMuZXhhbXBsZXMsdC5jb21wb25lbnRzLnJlcXVlc3RCb2RpZXMmJjA9PT1PYmplY3Qua2V5cyh0LmNvbXBvbmVudHMucmVxdWVzdEJvZGllcykubGVuZ3RoJiZkZWxldGUgdC5jb21wb25lbnRzLnJlcXVlc3RCb2RpZXMsdC5jb21wb25lbnRzLnNlY3VyaXR5U2NoZW1lcyYmMD09PU9iamVjdC5rZXlzKHQuY29tcG9uZW50cy5zZWN1cml0eVNjaGVtZXMpLmxlbmd0aCYmZGVsZXRlIHQuY29tcG9uZW50cy5zZWN1cml0eVNjaGVtZXMsdC5jb21wb25lbnRzLmhlYWRlcnMmJjA9PT1PYmplY3Qua2V5cyh0LmNvbXBvbmVudHMuaGVhZGVycykubGVuZ3RoJiZkZWxldGUgdC5jb21wb25lbnRzLmhlYWRlcnMsdC5jb21wb25lbnRzLnNjaGVtYXMmJjA9PT1PYmplY3Qua2V5cyh0LmNvbXBvbmVudHMuc2NoZW1hcykubGVuZ3RoJiZkZWxldGUgdC5jb21wb25lbnRzLnNjaGVtYXMsdC5jb21wb25lbnRzJiYwPT09T2JqZWN0LmtleXModC5jb21wb25lbnRzKS5sZW5ndGgmJmRlbGV0ZSB0LmNvbXBvbmVudHMsZX0odCl9ZnVuY3Rpb24gVV8oZSl7cmV0dXJuIGUub2smJmUudGV4dCYmZS5wYXJzZUVycm9yJiYiWUFNTEV4Y2VwdGlvbiI9PT1lLnBhcnNlRXJyb3IubmFtZSYmKCFlLmhlYWRlcnNbImNvbnRlbnQtdHlwZSJdfHxlLmhlYWRlcnNbImNvbnRlbnQtdHlwZSJdLm1hdGNoKCJ0ZXh0L3BsYWluIikpJiYoZS5ib2R5PWUudGV4dCksZX1jb25zdCB6Xz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGFzeW5jIHQ9Pnt0cnl7Y29uc3Qgcj1hd2FpdCB3Xy5yZXNvbHZlKGUsVV8pO2lmKHIuZXJyb3JzJiZyLmVycm9ycy5sZW5ndGg+MCl0KHIpO2Vsc2V7ci5zcGVjLm9wZW5hcGkmJihyLnJlc29sdmVkU3BlYz1yLnNwZWMsdChyKSk7Y29uc3QgZT1xXyhyLnNwZWMpO2UuZXJyb3JzJiZlLmVycm9ycy5sZW5ndGg+MCYmKEFycmF5LmlzQXJyYXkoci5lcnJvcnMpP3IuZXJyb3JzLmNvbmNhdChyLmVycm9ycyk6ci5lcnJvcnM9ZS5lcnJvcnMpLGUud2FybmluZ3MmJmUud2FybmluZ3MubGVuZ3RoPjAmJihyLndhcm5pbmdzPWUud2FybmluZ3MpLHIucmVzb2x2ZWRTcGVjPXIuc3BlYyxyLnNwZWM9ZS5vcGVuYXBpLHQocil9fWNhdGNoKGUpe3QoZSl9fSkpfTthc3luYyBmdW5jdGlvbiBNXyhlLHQ9ITEscj0hMSxuPSIiLG89IiIsYT0iIixpPSIiLHM9IiIpe3ZhciBsLGM7bGV0IHA7dHJ5e3ZhciBkLHU7bGV0IHQ7aWYodGhpcy5yZXF1ZXN0VXBkYXRlKCksdD0ic3RyaW5nIj09dHlwZW9mIGU/YXdhaXQgel8oe3VybDplLGFsbG93TWV0YVBhdGNoZXM6ITF9KTphd2FpdCB6Xyh7c3BlYzplLGFsbG93TWV0YVBhdGNoZXM6ITF9KSxhd2FpdCBpdCgwKSxudWxsIT09KGQ9dC5yZXNvbHZlZFNwZWMpJiZ2b2lkIDAhPT1kJiZkLmpzb25TY2hlbWFWaWV3ZXImJm51bGwhPT0odT10LnJlc29sdmVkU3BlYykmJnZvaWQgMCE9PXUmJnUuc2NoZW1hQW5kRXhhbXBsZXMpe3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoImJlZm9yZS1yZW5kZXIiLHtkZXRhaWw6e3NwZWM6dC5yZXNvbHZlZFNwZWN9fSkpO2NvbnN0IGU9T2JqZWN0LmVudHJpZXModC5yZXNvbHZlZFNwZWMuc2NoZW1hQW5kRXhhbXBsZXMpLm1hcCgoZT0+KHtzaG93OiEwLGV4cGFuZGVkOiEwLHNlbGVjdGVkRXhhbXBsZTpudWxsLG5hbWU6ZVswXSxlbGVtZW50SWQ6ZVswXS5yZXBsYWNlKG90LCItIiksLi4uZVsxXX0pKSk7cmV0dXJue3NwZWNMb2FkRXJyb3I6ITEsaXNTcGVjTG9hZGluZzohMSxpbmZvOnQucmVzb2x2ZWRTcGVjLmluZm8sc2NoZW1hQW5kRXhhbXBsZXM6ZX19dmFyIGgsZixtLHk7aWYoIXQuc3BlY3x8ISh0LnNwZWMuY29tcG9uZW50c3x8dC5zcGVjLmluZm98fHQuc3BlYy5zZXJ2ZXJzfHx0LnNwZWMudGFnc3x8dC5zcGVjLnBhdGhzKSlyZXR1cm4gY29uc29sZS5pbmZvKCJSYXBpRG9jOiAlYyBUaGVyZSB3YXMgYW4gaXNzdWUgd2hpbGUgcGFyc2luZyB0aGUgc3BlYyAlbyAiLCJjb2xvcjpvcmFuZ2VyZWQiLHQpLHtzcGVjTG9hZEVycm9yOiEwLGlzU3BlY0xvYWRpbmc6ITEsaW5mbzp7dGl0bGU6IkVycm9yIGxvYWRpbmcgdGhlIHNwZWMiLGRlc2NyaXB0aW9uOm51bGwhPT0oaD10LnJlc3BvbnNlKSYmdm9pZCAwIT09aCYmaC51cmw/YCR7bnVsbD09PShmPXQucmVzcG9uc2UpfHx2b2lkIDA9PT1mP3ZvaWQgMDpmLnVybH0g4pSDICR7bnVsbD09PShtPXQucmVzcG9uc2UpfHx2b2lkIDA9PT1tP3ZvaWQgMDptLnN0YXR1c30gICR7bnVsbD09PSh5PXQucmVzcG9uc2UpfHx2b2lkIDA9PT15P3ZvaWQgMDp5LnN0YXR1c1RleHR9YDoiVW5hYmxlIHRvIGxvYWQgdGhlIFNwZWMiLHZlcnNpb246IiAifSx0YWdzOltdfTtwPXQuc3BlYyx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJiZWZvcmUtcmVuZGVyIix7ZGV0YWlsOntzcGVjOnB9fSkpfWNhdGNoKGUpe2NvbnNvbGUuaW5mbygiUmFwaURvYzogJWMgVGhlcmUgd2FzIGFuIGlzc3VlIHdoaWxlIHBhcnNpbmcgdGhlIHNwZWMgJW8gIiwiY29sb3I6b3JhbmdlcmVkIixlKX1jb25zdCBnPWZ1bmN0aW9uKGUsdCxyPSExLG49ITEpe2NvbnN0IG89WyJnZXQiLCJwdXQiLCJwb3N0IiwiZGVsZXRlIiwicGF0Y2giLCJoZWFkIiwib3B0aW9ucyJdLGE9ZS50YWdzJiZBcnJheS5pc0FycmF5KGUudGFncyk/ZS50YWdzLm1hcCgoZT0+KHtzaG93OiEwLGVsZW1lbnRJZDpgdGFnLS0ke2UubmFtZS5yZXBsYWNlKG90LCItIil9YCxuYW1lOmUubmFtZSxkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9ufHwiIixoZWFkZXJzOmUuZGVzY3JpcHRpb24/SF8oZS5kZXNjcmlwdGlvbik6W10scGF0aHM6W10sZXhwYW5kZWQ6ITEhPT1lWyJ4LXRhZy1leHBhbmRlZCJdfSkpKTpbXSxpPWUucGF0aHN8fHt9O2lmKGUud2ViaG9va3MpZm9yKGNvbnN0W3Qscl1vZiBPYmplY3QuZW50cmllcyhlLndlYmhvb2tzKSlyLl90eXBlPSJ3ZWJob29rIixpW3RdPXI7Zm9yKGNvbnN0IHQgaW4gaSl7Y29uc3Qgbj1pW3RdLnBhcmFtZXRlcnMscz17c2VydmVyczppW3RdLnNlcnZlcnN8fFtdLHBhcmFtZXRlcnM6aVt0XS5wYXJhbWV0ZXJzfHxbXX0sbD0id2ViaG9vayI9PT1pW3RdLl90eXBlO28uZm9yRWFjaCgobz0+e2lmKGlbdF1bb10pe2NvbnN0IGk9ZS5wYXRoc1t0XVtvXSxjPWkudGFnc3x8W107aWYoMD09PWMubGVuZ3RoKWlmKHIpe2NvbnN0IGU9dC5yZXBsYWNlKC9eXC8rfFwvKyQvZywiIikscj1lLmluZGV4T2YoIi8iKTstMT09PXI/Yy5wdXNoKGUpOmMucHVzaChlLnN1YnN0cigwLHIpKX1lbHNlIGMucHVzaCgiR2VuZXJhbCDipoIiKTtjLmZvckVhY2goKHI9PntsZXQgYyxwO3ZhciBkLHU7KGUudGFncyYmKHA9ZS50YWdzLmZpbmQoKGU9PmUubmFtZS50b0xvd2VyQ2FzZSgpPT09ci50b0xvd2VyQ2FzZSgpKSkpLGM9YS5maW5kKChlPT5lLm5hbWU9PT1yKSksYyl8fChjPXtzaG93OiEwLGVsZW1lbnRJZDpgdGFnLS0ke3IucmVwbGFjZShvdCwiLSIpfWAsbmFtZTpyLGRlc2NyaXB0aW9uOihudWxsPT09KGQ9cCl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuZGVzY3JpcHRpb24pfHwiIixoZWFkZXJzOm51bGwhPT0odT1wKSYmdm9pZCAwIT09dSYmdS5kZXNjcmlwdGlvbj9IXyhwLmRlc2NyaXB0aW9uKTpbXSxwYXRoczpbXSxleHBhbmRlZDohcHx8ITEhPT1wWyJ4LXRhZy1leHBhbmRlZCJdfSxhLnB1c2goYykpO2xldCBoPShpLnN1bW1hcnl8fGkuZGVzY3JpcHRpb258fGAke28udG9VcHBlckNhc2UoKX0gJHt0fWApLnRyaW0oKTtoLmxlbmd0aD4xMDAmJihbaF09aC5zcGxpdCgvWy58IXw/XVxzfFtccj9cbl0vKSk7bGV0IGY9W107aWYoZj1uP2kucGFyYW1ldGVycz9uLmZpbHRlcigoZT0+e2lmKCFpLnBhcmFtZXRlcnMuc29tZSgodD0+ZS5uYW1lPT09dC5uYW1lJiZlLmluPT09dC5pbikpKXJldHVybiBlfSkpLmNvbmNhdChpLnBhcmFtZXRlcnMpOm4uc2xpY2UoMCk6aS5wYXJhbWV0ZXJzP2kucGFyYW1ldGVycy5zbGljZSgwKTpbXSxpLmNhbGxiYWNrcylmb3IoY29uc3RbZSx0XW9mIE9iamVjdC5lbnRyaWVzKGkuY2FsbGJhY2tzKSl7Y29uc3Qgcj1PYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKGU9PiJvYmplY3QiPT10eXBlb2YgZVsxXSkpfHxbXTtpLmNhbGxiYWNrc1tlXT1PYmplY3QuZnJvbUVudHJpZXMocil9Yy5wYXRocy5wdXNoKHtzaG93OiEwLGV4cGFuZGVkOiExLGlzV2ViaG9vazpsLGV4cGFuZGVkQXRMZWFzdE9uY2U6ITEsc3VtbWFyeTppLnN1bW1hcnl8fCIiLGRlc2NyaXB0aW9uOmkuZGVzY3JpcHRpb258fCIiLGV4dGVybmFsRG9jczppLmV4dGVybmFsRG9jcyxzaG9ydFN1bW1hcnk6aCxtZXRob2Q6byxwYXRoOnQsb3BlcmF0aW9uSWQ6aS5vcGVyYXRpb25JZCxlbGVtZW50SWQ6YCR7b30tJHt0LnJlcGxhY2Uob3QsIi0iKX1gLHNlcnZlcnM6aS5zZXJ2ZXJzP3Muc2VydmVycy5jb25jYXQoaS5zZXJ2ZXJzKTpzLnNlcnZlcnMscGFyYW1ldGVyczpmLHJlcXVlc3RCb2R5OmkucmVxdWVzdEJvZHkscmVzcG9uc2VzOmkucmVzcG9uc2VzLGNhbGxiYWNrczppLmNhbGxiYWNrcyxkZXByZWNhdGVkOmkuZGVwcmVjYXRlZCxzZWN1cml0eTppLnNlY3VyaXR5LHhCYWRnZXM6aVsieC1iYWRnZXMiXXx8dm9pZCAwLHhDb2RlU2FtcGxlczppWyJ4LWNvZGVTYW1wbGVzIl18fGlbIngtY29kZS1zYW1wbGVzIl18fCIifSl9KSl9fSkpfWNvbnN0IHM9YS5maWx0ZXIoKGU9PmUucGF0aHMmJmUucGF0aHMubGVuZ3RoPjApKTtyZXR1cm4gcy5mb3JFYWNoKChlPT57Im1ldGhvZCI9PT10P2UucGF0aHMuc29ydCgoKGUsdCk9Pm8uaW5kZXhPZihlLm1ldGhvZCkudG9TdHJpbmcoKS5sb2NhbGVDb21wYXJlKG8uaW5kZXhPZih0Lm1ldGhvZCkpKSk6InN1bW1hcnkiPT09dD9lLnBhdGhzLnNvcnQoKChlLHQpPT5lLnNob3J0U3VtbWFyeS5sb2NhbGVDb21wYXJlKHQuc2hvcnRTdW1tYXJ5KSkpOiJwYXRoIj09PXQmJmUucGF0aHMuc29ydCgoKGUsdCk9PmUucGF0aC5sb2NhbGVDb21wYXJlKHQucGF0aCkpKSxlLmZpcnN0UGF0aElkPWUucGF0aHNbMF0uZWxlbWVudElkfSkpLG4/cy5zb3J0KCgoZSx0KT0+ZS5uYW1lLmxvY2FsZUNvbXBhcmUodC5uYW1lKSkpOnN9KHAsbix0LHIpLHY9ZnVuY3Rpb24oZSl7aWYoIWUuY29tcG9uZW50cylyZXR1cm5bXTtjb25zdCB0PVtdO2Zvcihjb25zdCByIGluIGUuY29tcG9uZW50cyl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgdCBpbiBlLmNvbXBvbmVudHNbcl0pe2NvbnN0IG89e3Nob3c6ITAsaWQ6YCR7ci50b0xvd2VyQ2FzZSgpfS0ke3QudG9Mb3dlckNhc2UoKX1gLnJlcGxhY2Uob3QsIi0iKSxuYW1lOnQsY29tcG9uZW50OmUuY29tcG9uZW50c1tyXVt0XX07bi5wdXNoKG8pfWxldCBvPXIsYT1yO3N3aXRjaChyKXtjYXNlInNjaGVtYXMiOmE9IlNjaGVtYXMiLG89IlNjaGVtYXMgYWxsb3dzIHRoZSBkZWZpbml0aW9uIG9mIGlucHV0IGFuZCBvdXRwdXQgZGF0YSB0eXBlcy4gVGhlc2UgdHlwZXMgY2FuIGJlIG9iamVjdHMsIGJ1dCBhbHNvIHByaW1pdGl2ZXMgYW5kIGFycmF5cy4iO2JyZWFrO2Nhc2UicmVzcG9uc2VzIjphPSJSZXNwb25zZXMiLG89IkRlc2NyaWJlcyByZXNwb25zZXMgZnJvbSBhbiBBUEkgT3BlcmF0aW9uLCBpbmNsdWRpbmcgZGVzaWduLXRpbWUsIHN0YXRpYyBsaW5rcyB0byBvcGVyYXRpb25zIGJhc2VkIG9uIHRoZSByZXNwb25zZS4iO2JyZWFrO2Nhc2UicGFyYW1ldGVycyI6YT0iUGFyYW1ldGVycyIsbz0iRGVzY3JpYmVzIG9wZXJhdGlvbiBwYXJhbWV0ZXJzLiBBIHVuaXF1ZSBwYXJhbWV0ZXIgaXMgZGVmaW5lZCBieSBhIGNvbWJpbmF0aW9uIG9mIGEgbmFtZSBhbmQgbG9jYXRpb24uIjticmVhaztjYXNlImV4YW1wbGVzIjphPSJFeGFtcGxlcyIsbz0iTGlzdCBvZiBFeGFtcGxlcyBmb3Igb3BlcmF0aW9ucywgY2FuIGJlIHJlcXVlc3RzLCByZXNwb25zZXMgYW5kIG9iamVjdHMgZXhhbXBsZXMuIjticmVhaztjYXNlInJlcXVlc3RCb2RpZXMiOmE9IlJlcXVlc3QgQm9kaWVzIixvPSJEZXNjcmliZXMgY29tbW9uIHJlcXVlc3QgYm9kaWVzIHRoYXQgYXJlIHVzZWQgYWNyb3NzIHRoZSBBUEkgb3BlcmF0aW9ucy4iO2JyZWFrO2Nhc2UiaGVhZGVycyI6YT0iSGVhZGVycyIsbz0nSGVhZGVycyBmb2xsb3dzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIFBhcmFtZXRlcnMgYnV0IHRoZXkgYXJlIGV4cGxpY2l0bHkgaW4gImhlYWRlciInO2JyZWFrO2Nhc2Uic2VjdXJpdHlTY2hlbWVzIjphPSJTZWN1cml0eSBTY2hlbWVzIixvPSJEZWZpbmVzIGEgc2VjdXJpdHkgc2NoZW1lIHRoYXQgY2FuIGJlIHVzZWQgYnkgdGhlIG9wZXJhdGlvbnMuIFN1cHBvcnRlZCBzY2hlbWVzIGFyZSBIVFRQIGF1dGhlbnRpY2F0aW9uLCBhbiBBUEkga2V5IChlaXRoZXIgYXMgYSBoZWFkZXIsIGEgY29va2llIHBhcmFtZXRlciBvciBhcyBhIHF1ZXJ5IHBhcmFtZXRlciksIE9BdXRoMidzIGNvbW1vbiBmbG93cyhpbXBsaWNpdCwgcGFzc3dvcmQsIGNsaWVudCBjcmVkZW50aWFscyBhbmQgYXV0aG9yaXphdGlvbiBjb2RlKSBhcyBkZWZpbmVkIGluIFJGQzY3NDksIGFuZCBPcGVuSUQgQ29ubmVjdCBEaXNjb3ZlcnkuIjticmVhaztjYXNlImxpbmtzIjphPSJMaW5rcyIsbz0iTGlua3MgcmVwcmVzZW50IGEgcG9zc2libGUgZGVzaWduLXRpbWUgbGluayBmb3IgYSByZXNwb25zZS4gVGhlIHByZXNlbmNlIG9mIGEgbGluayBkb2VzIG5vdCBndWFyYW50ZWUgdGhlIGNhbGxlcidzIGFiaWxpdHkgdG8gc3VjY2Vzc2Z1bGx5IGludm9rZSBpdCwgcmF0aGVyIGl0IHByb3ZpZGVzIGEga25vd24gcmVsYXRpb25zaGlwIGFuZCB0cmF2ZXJzYWwgbWVjaGFuaXNtIGJldHdlZW4gcmVzcG9uc2VzIGFuZCBvdGhlciBvcGVyYXRpb25zLiI7YnJlYWs7Y2FzZSJjYWxsYmFja3MiOmE9IkNhbGxiYWNrcyIsbz0iQSBtYXAgb2YgcG9zc2libGUgb3V0LW9mIGJhbmQgY2FsbGJhY2tzIHJlbGF0ZWQgdG8gdGhlIHBhcmVudCBvcGVyYXRpb24uIEVhY2ggdmFsdWUgaW4gdGhlIG1hcCBpcyBhIFBhdGggSXRlbSBPYmplY3QgdGhhdCBkZXNjcmliZXMgYSBzZXQgb2YgcmVxdWVzdHMgdGhhdCBtYXkgYmUgaW5pdGlhdGVkIGJ5IHRoZSBBUEkgcHJvdmlkZXIgYW5kIHRoZSBleHBlY3RlZCByZXNwb25zZXMuIFRoZSBrZXkgdmFsdWUgdXNlZCB0byBpZGVudGlmeSB0aGUgcGF0aCBpdGVtIG9iamVjdCBpcyBhbiBleHByZXNzaW9uLCBldmFsdWF0ZWQgYXQgcnVudGltZSwgdGhhdCBpZGVudGlmaWVzIGEgVVJMIHRvIHVzZSBmb3IgdGhlIGNhbGxiYWNrIG9wZXJhdGlvbi4iO2JyZWFrO2RlZmF1bHQ6YT1yLG89cn1jb25zdCBpPXtzaG93OiEwLG5hbWU6YSxkZXNjcmlwdGlvbjpvLHN1YkNvbXBvbmVudHM6bn07dC5wdXNoKGkpfXJldHVybiB0fHxbXX0ocCksYj1udWxsIT09KGw9cC5pbmZvKSYmdm9pZCAwIT09bCYmbC5kZXNjcmlwdGlvbj9IXyhwLmluZm8uZGVzY3JpcHRpb24pOltdLHg9W107aWYobnVsbCE9PShjPXAuY29tcG9uZW50cykmJnZvaWQgMCE9PWMmJmMuc2VjdXJpdHlTY2hlbWVzKXtjb25zdCBlPW5ldyBTZXQ7T2JqZWN0LmVudHJpZXMocC5jb21wb25lbnRzLnNlY3VyaXR5U2NoZW1lcykuZm9yRWFjaCgodD0+e2lmKCFlLmhhcyh0WzBdKSl7ZS5hZGQodFswXSk7Y29uc3Qgcj17c2VjdXJpdHlTY2hlbWVJZDp0WzBdLC4uLnRbMV19O3IudmFsdWU9IiIsci5maW5hbEtleVZhbHVlPSIiLCJhcGlLZXkiPT09dFsxXS50eXBlfHwiaHR0cCI9PT10WzFdLnR5cGU/KHIuaW49dFsxXS5pbnx8ImhlYWRlciIsci5uYW1lPXRbMV0ubmFtZXx8IkF1dGhvcml6YXRpb24iLHIudXNlcj0iIixyLnBhc3N3b3JkPSIiKToib2F1dGgyIj09PXRbMV0udHlwZSYmKHIuaW49ImhlYWRlciIsci5uYW1lPSJBdXRob3JpemF0aW9uIixyLmNsaWVudElkPSIiLHIuY2xpZW50U2VjcmV0PSIiKSx4LnB1c2gocil9fSkpfW8mJmEmJmkmJngucHVzaCh7c2VjdXJpdHlTY2hlbWVJZDphdCxkZXNjcmlwdGlvbjoiYXBpLWtleSBwcm92aWRlZCBpbiByYXBpZG9jIGVsZW1lbnQgYXR0cmlidXRlcyIsdHlwZToiYXBpS2V5IixvQXV0aEZsb3c6IiIsbmFtZTpvLGluOmEsdmFsdWU6aSxmaW5hbEtleVZhbHVlOml9KSx4LmZvckVhY2goKGU9PnsiaHR0cCI9PT1lLnR5cGU/ZS50eXBlRGlzcGxheT0iYmFzaWMiPT09ZS5zY2hlbWU/IkhUVFAgQmFzaWMiOiJIVFRQIEJlYXJlciI6ImFwaUtleSI9PT1lLnR5cGU/ZS50eXBlRGlzcGxheT1gQVBJIEtleSAoJHtlLm5hbWV9KWA6Im9hdXRoMiI9PT1lLnR5cGU/ZS50eXBlRGlzcGxheT1gT0F1dGggKCR7ZS5zZWN1cml0eVNjaGVtZUlkfSlgOmUudHlwZURpc3BsYXk9ZS50eXBlfHwiTm9uZSJ9KSk7bGV0IHc9W107cC5zZXJ2ZXJzJiZBcnJheS5pc0FycmF5KHAuc2VydmVycyk/KHAuc2VydmVycy5mb3JFYWNoKChlPT57bGV0IHQ9ZS51cmwudHJpbSgpO3Quc3RhcnRzV2l0aCgiaHR0cCIpfHx0LnN0YXJ0c1dpdGgoIi8vIil8fHQuc3RhcnRzV2l0aCgieyIpfHx3aW5kb3cubG9jYXRpb24ub3JpZ2luLnN0YXJ0c1dpdGgoImh0dHAiKSYmKGUudXJsPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4rZS51cmwsdD1lLnVybCksZS52YXJpYWJsZXMmJk9iamVjdC5lbnRyaWVzKGUudmFyaWFibGVzKS5mb3JFYWNoKChlPT57Y29uc3Qgcj1uZXcgUmVnRXhwKGB7JHtlWzBdfX1gLCJnIik7dD10LnJlcGxhY2UocixlWzFdLmRlZmF1bHR8fCIiKSxlWzFdLnZhbHVlPWVbMV0uZGVmYXVsdHx8IiJ9KSksZS5jb21wdXRlZFVybD10fSkpLHMmJnAuc2VydmVycy5wdXNoKHt1cmw6cyxjb21wdXRlZFVybDpzfSkpOnM/cC5zZXJ2ZXJzPVt7dXJsOnMsY29tcHV0ZWRVcmw6c31dOndpbmRvdy5sb2NhdGlvbi5vcmlnaW4uc3RhcnRzV2l0aCgiaHR0cCIpP3Auc2VydmVycz1be3VybDp3aW5kb3cubG9jYXRpb24ub3JpZ2luLGNvbXB1dGVkVXJsOndpbmRvdy5sb2NhdGlvbi5vcmlnaW59XTpwLnNlcnZlcnM9W3t1cmw6Imh0dHA6Ly9sb2NhbGhvc3QiLGNvbXB1dGVkVXJsOiJodHRwOi8vbG9jYWxob3N0In1dLHc9cC5zZXJ2ZXJzO3JldHVybntzcGVjTG9hZEVycm9yOiExLGlzU3BlY0xvYWRpbmc6ITEsaW5mbzpwLmluZm8saW5mb0Rlc2NyaXB0aW9uSGVhZGVyczpiLHRhZ3M6Zyxjb21wb25lbnRzOnYsZXh0ZXJuYWxEb2NzOnAuZXh0ZXJuYWxEb2NzLHNlY3VyaXR5U2NoZW1lczp4LHNlcnZlcnM6d319ZnVuY3Rpb24gSF8oZSl7Y29uc3QgdD1XZS5sZXhlcihlKS5maWx0ZXIoKGU9PiJoZWFkaW5nIj09PWUudHlwZSYmZS5kZXB0aDw9MikpO3JldHVybiB0fHxbXX1jb25zdCBXXz0xLFZfPTIsR189MyxLXz00LEpfPWU9PiguLi50KT0+KHtfJGxpdERpcmVjdGl2ZSQ6ZSx2YWx1ZXM6dH0pO2NsYXNzIFlfe2NvbnN0cnVjdG9yKGUpe31nZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0uXyRBVX1fJEFUKGUsdCxyKXt0aGlzLl8kQ3Q9ZSx0aGlzLl8kQU09dCx0aGlzLl8kQ2k9cn1fJEFTKGUsdCl7cmV0dXJuIHRoaXMudXBkYXRlKGUsdCl9dXBkYXRlKGUsdCl7cmV0dXJuIHRoaXMucmVuZGVyKC4uLnQpfX1jbGFzcyBaXyBleHRlbmRzIFlfe2NvbnN0cnVjdG9yKGUpe2lmKHN1cGVyKGUpLHRoaXMuaXQ9eixlLnR5cGUhPT1WXyl0aHJvdyBFcnJvcih0aGlzLmNvbnN0cnVjdG9yLmRpcmVjdGl2ZU5hbWUrIigpIGNhbiBvbmx5IGJlIHVzZWQgaW4gY2hpbGQgYmluZGluZ3MiKX1yZW5kZXIoZSl7aWYoZT09PXp8fG51bGw9PWUpcmV0dXJuIHRoaXMuX3Q9dm9pZCAwLHRoaXMuaXQ9ZTtpZihlPT09VSlyZXR1cm4gZTtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgRXJyb3IodGhpcy5jb25zdHJ1Y3Rvci5kaXJlY3RpdmVOYW1lKyIoKSBjYWxsZWQgd2l0aCBhIG5vbi1zdHJpbmcgdmFsdWUiKTtpZihlPT09dGhpcy5pdClyZXR1cm4gdGhpcy5fdDt0aGlzLml0PWU7Y29uc3QgdD1bZV07cmV0dXJuIHQucmF3PXQsdGhpcy5fdD17XyRsaXRUeXBlJDp0aGlzLmNvbnN0cnVjdG9yLnJlc3VsdFR5cGUsc3RyaW5nczp0LHZhbHVlczpbXX19fVpfLmRpcmVjdGl2ZU5hbWU9InVuc2FmZUhUTUwiLFpfLnJlc3VsdFR5cGU9MTtjb25zdCBRXz1KXyhaXyk7dmFyIFhfPXIoNzY0KS5sVztjb25zdCBlUD0icmFwaWRvYyI7ZnVuY3Rpb24gdFAoZSx0PSIiLHI9IiIsbj0iIil7dmFyIG8sYTtjb25zdCBpPW51bGw9PT0obz10aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmZpbmQoKHQ9PnQuc2VjdXJpdHlTY2hlbWVJZD09PWUpKTtpZighaSlyZXR1cm4hMTtsZXQgcz0iIjtpZigiYmFzaWMiPT09KG51bGw9PT0oYT1pLnNjaGVtZSl8fHZvaWQgMD09PWE/dm9pZCAwOmEudG9Mb3dlckNhc2UoKSkpdCYmKHM9YEJhc2ljICR7WF8uZnJvbShgJHt0fToke3J9YCwidXRmOCIpLnRvU3RyaW5nKCJiYXNlNjQiKX1gKTtlbHNlIGlmKG4pe3ZhciBsO2kudmFsdWU9bixzPWAkeyJiZWFyZXIiPT09KG51bGw9PT0obD1pLnNjaGVtZSl8fHZvaWQgMD09PWw/dm9pZCAwOmwudG9Mb3dlckNhc2UoKSk/IkJlYXJlciAiOiIifSR7bn1gfXJldHVybiEhcyYmKGkuZmluYWxLZXlWYWx1ZT1zLHRoaXMucmVxdWVzdFVwZGF0ZSgpLCEwKX1mdW5jdGlvbiByUCgpe3ZhciBlO251bGw9PT0oZT10aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXMpfHx2b2lkIDA9PT1lfHxlLmZvckVhY2goKGU9PntlLnVzZXI9IiIsZS5wYXNzd29yZD0iIixlLnZhbHVlPSIiLGUuZmluYWxLZXlWYWx1ZT0iIn0pKSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1mdW5jdGlvbiBuUCgpe3JldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGVQKSl8fHt9fWZ1bmN0aW9uIG9QKGUpe2xvY2FsU3RvcmFnZS5zZXRJdGVtKGVQLEpTT04uc3RyaW5naWZ5KGUpKX1mdW5jdGlvbiBhUCgpe2NvbnN0IGU9blAuY2FsbCh0aGlzKTtPYmplY3QudmFsdWVzKGUpLmZvckVhY2goKGU9Pnt0UC5jYWxsKHRoaXMsZS5zZWN1cml0eVNjaGVtZUlkLGUudXNlcm5hbWUsZS5wYXNzd29yZCxlLnZhbHVlKX0pKX1mdW5jdGlvbiBpUChlKXtsZXQgdD0iIjtjb25zdCByPXRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5maW5kKCh0PT50LnNlY3VyaXR5U2NoZW1lSWQ9PT1lKSk7aWYocil7Y29uc3Qgbj10aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoYHNlY3VyaXR5LXNjaGVtZS0ke2V9YCk7aWYobil7aWYoci50eXBlJiZyLnNjaGVtZSYmImh0dHAiPT09ci50eXBlJiYiYmFzaWMiPT09ci5zY2hlbWUudG9Mb3dlckNhc2UoKSl7Y29uc3QgdD1uLnF1ZXJ5U2VsZWN0b3IoIi5hcGkta2V5LXVzZXIiKS52YWx1ZS50cmltKCkscj1uLnF1ZXJ5U2VsZWN0b3IoIi5hcGkta2V5LXBhc3N3b3JkIikudmFsdWUudHJpbSgpO3RQLmNhbGwodGhpcyxlLHQscil9ZWxzZSB0PW4ucXVlcnlTZWxlY3RvcigiLmFwaS1rZXktaW5wdXQiKS52YWx1ZS50cmltKCksdFAuY2FsbCh0aGlzLGUsIiIsIiIsdCk7aWYoInRydWUiPT09dGhpcy5wZXJzaXN0QXV0aCl7Y29uc3QgdD1uUC5jYWxsKHRoaXMpO3RbZV09cixvUC5jYWxsKHRoaXMsdCl9fX19ZnVuY3Rpb24gc1AoZSx0LHI9IkJlYXJlciIpe2NvbnN0IG49dGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLmZpbmQoKHQ9PnQuc2VjdXJpdHlTY2hlbWVJZD09PWUpKTtuLmZpbmFsS2V5VmFsdWU9YCR7ImJlYXJlciI9PT1yLnRvTG93ZXJDYXNlKCk/IkJlYXJlciI6Im1hYyI9PT1yLnRvTG93ZXJDYXNlKCk/Ik1BQyI6cn0gJHt0fWAsdGhpcy5yZXF1ZXN0VXBkYXRlKCl9YXN5bmMgZnVuY3Rpb24gbFAoZSx0LHIsbixvLGEsaSxzLGw9ImhlYWRlciIsYz1udWxsLHA9bnVsbCxkPW51bGwpe2NvbnN0IHU9cz9zLnF1ZXJ5U2VsZWN0b3IoIi5vYXV0aC1yZXNwLWRpc3BsYXkiKTp2b2lkIDAsaD1uZXcgVVJMU2VhcmNoUGFyYW1zLGY9bmV3IEhlYWRlcnM7aC5hcHBlbmQoImdyYW50X3R5cGUiLG8pLCJhdXRob3JpemF0aW9uX2NvZGUiPT09byYmKGguYXBwZW5kKCJjbGllbnRfaWQiLHQpLGguYXBwZW5kKCJjbGllbnRfc2VjcmV0IixyKSksImNsaWVudF9jcmVkZW50aWFscyIhPT1vJiYicGFzc3dvcmQiIT09byYmaC5hcHBlbmQoInJlZGlyZWN0X3VyaSIsbiksYSYmKGguYXBwZW5kKCJjb2RlIixhKSxoLmFwcGVuZCgiY29kZV92ZXJpZmllciIsIjczMURCMUMzRjdFQTUzM0I4NUUyOTQ5MkQyNkFBLTEyMzQ1Njc4OTAtMTIzNDU2Nzg5MCIpKSwiaGVhZGVyIj09PWw/Zi5zZXQoIkF1dGhvcml6YXRpb24iLGBCYXNpYyAke1hfLmZyb20oYCR7dH06JHtyfWAsInV0ZjgiKS50b1N0cmluZygiYmFzZTY0Iil9YCk6KGguYXBwZW5kKCJjbGllbnRfaWQiLHQpLGguYXBwZW5kKCJjbGllbnRfc2VjcmV0IixyKSksInBhc3N3b3JkIj09PW8mJihoLmFwcGVuZCgidXNlcm5hbWUiLHApLGguYXBwZW5kKCJwYXNzd29yZCIsZCkpLGMmJmguYXBwZW5kKCJzY29wZSIsYyk7dHJ5e2NvbnN0IHQ9YXdhaXQgZmV0Y2goZSx7bWV0aG9kOiJQT1NUIixoZWFkZXJzOmYsYm9keTpofSkscj1hd2FpdCB0Lmpzb24oKTtpZighdC5vaylyZXR1cm4gdSYmKHUuaW5uZXJIVE1MPWA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tcmVkKSI+JHtyLmVycm9yX2Rlc2NyaXB0aW9ufHxyLmVycm9yX2Rlc2NyaXB0aW9ufHwiVW5hYmxlIHRvIGdldCBhY2Nlc3MgdG9rZW4ifTwvc3Bhbj5gKSwhMTtpZihyLnRva2VuX3R5cGUmJnIuYWNjZXNzX3Rva2VuKXJldHVybiBzUC5jYWxsKHRoaXMsaSxyLmFjY2Vzc190b2tlbixyLnRva2VuX3R5cGUpLHUmJih1LmlubmVySFRNTD0nPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLWdyZWVuKSI+QWNjZXNzIFRva2VuIFJlY2VpdmVkPC9zcGFuPicpLCEwfWNhdGNoKGUpe3JldHVybiB1JiYodS5pbm5lckhUTUw9JzxzcGFuIHN0eWxlPSJjb2xvcjp2YXIoLS1yZWQpIj5GYWlsZWQgdG8gZ2V0IGFjY2VzcyB0b2tlbjwvc3Bhbj4nKSwhMX19YXN5bmMgZnVuY3Rpb24gY1AoZSx0LHIsbixvLGEsaSxzLGwsYyl7c2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgid2luTWVzc2FnZUV2ZW50QWN0aXZlIiksdC5jbG9zZSgpLGUuZGF0YS5mYWtlfHwoZS5kYXRhfHxjb25zb2xlLndhcm4oIlJhcGlEb2M6IFJlY2VpdmVkIG5vIGRhdGEgd2l0aCBhdXRob3JpemF0aW9uIG1lc3NhZ2UiKSxlLmRhdGEuZXJyb3ImJmNvbnNvbGUud2FybigiUmFwaURvYzogRXJyb3Igd2hpbGUgcmVjZWl2aW5nIGRhdGEiKSxlLmRhdGEmJigiY29kZSI9PT1lLmRhdGEucmVzcG9uc2VUeXBlP2xQLmNhbGwodGhpcyxyLG4sbyxhLGksZS5kYXRhLmNvZGUsbCxjLHMpOiJ0b2tlbiI9PT1lLmRhdGEucmVzcG9uc2VUeXBlJiZzUC5jYWxsKHRoaXMsbCxlLmRhdGEuYWNjZXNzX3Rva2VuLGUuZGF0YS50b2tlbl90eXBlKSkpfWFzeW5jIGZ1bmN0aW9uIHBQKGUsdCxyLG4sbyl7Y29uc3QgYT1vLnRhcmdldC5jbG9zZXN0KCIub2F1dGgtZmxvdyIpLGk9YS5xdWVyeVNlbGVjdG9yKCIub2F1dGgtY2xpZW50LWlkIik/YS5xdWVyeVNlbGVjdG9yKCIub2F1dGgtY2xpZW50LWlkIikudmFsdWUudHJpbSgpOiIiLHM9YS5xdWVyeVNlbGVjdG9yKCIub2F1dGgtY2xpZW50LXNlY3JldCIpP2EucXVlcnlTZWxlY3RvcigiLm9hdXRoLWNsaWVudC1zZWNyZXQiKS52YWx1ZS50cmltKCk6IiIsbD1hLnF1ZXJ5U2VsZWN0b3IoIi5hcGkta2V5LXVzZXIiKT9hLnF1ZXJ5U2VsZWN0b3IoIi5hcGkta2V5LXVzZXIiKS52YWx1ZS50cmltKCk6IiIsYz1hLnF1ZXJ5U2VsZWN0b3IoIi5hcGkta2V5LXBhc3N3b3JkIik/YS5xdWVyeVNlbGVjdG9yKCIuYXBpLWtleS1wYXNzd29yZCIpLnZhbHVlLnRyaW0oKToiIixwPWEucXVlcnlTZWxlY3RvcigiLm9hdXRoLXNlbmQtY2xpZW50LXNlY3JldC1pbiIpP2EucXVlcnlTZWxlY3RvcigiLm9hdXRoLXNlbmQtY2xpZW50LXNlY3JldC1pbiIpLnZhbHVlLnRyaW0oKToiaGVhZGVyIixkPVsuLi5hLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zY29wZS1jaGVja2JveDpjaGVja2VkIildLHU9YS5xdWVyeVNlbGVjdG9yKGAjJHtlfS1wa2NlYCksaD1gJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLDkpfXJhbmRvbSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiw5KX1gLGY9YCR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiw5KX1yYW5kb20ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsOSl9YCxtPW5ldyBVUkwoYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0ke3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zdWJzdHJpbmcoMCx3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubGFzdEluZGV4T2YoIi8iKSl9LyR7dGhpcy5vYXV0aFJlY2VpdmVyfWApO2xldCB5LGc9IiIsdj0iIjtpZihbLi4uYS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5vYXV0aC1yZXNwLWRpc3BsYXkiKV0uZm9yRWFjaCgoZT0+e2UuaW5uZXJIVE1MPSIifSkpLCJhdXRob3JpemF0aW9uQ29kZSI9PT10fHwiaW1wbGljaXQiPT09dCl7Y29uc3Qgbz1uZXcgVVJMKHIpOyJhdXRob3JpemF0aW9uQ29kZSI9PT10PyhnPSJhdXRob3JpemF0aW9uX2NvZGUiLHY9ImNvZGUiKToiaW1wbGljaXQiPT09dCYmKHY9InRva2VuIik7Y29uc3QgbD1uZXcgVVJMU2VhcmNoUGFyYW1zKG8uc2VhcmNoKSxjPWQubWFwKChlPT5lLnZhbHVlKSkuam9pbigiICIpO2MmJmwuc2V0KCJzY29wZSIsYyksbC5zZXQoImNsaWVudF9pZCIsaSksbC5zZXQoInJlZGlyZWN0X3VyaSIsbS50b1N0cmluZygpKSxsLnNldCgicmVzcG9uc2VfdHlwZSIsdiksbC5zZXQoInN0YXRlIixoKSxsLnNldCgibm9uY2UiLGYpLHUmJnUuY2hlY2tlZCYmKGwuc2V0KCJjb2RlX2NoYWxsZW5nZSIsIjRGYXRWREJKS1BBbzRKZ0xMYWFRRk1VY1FQbjVDclBSdkxsYW9iOVBUWWMiKSxsLnNldCgiY29kZV9jaGFsbGVuZ2VfbWV0aG9kIiwiUzI1NiIpKSxsLnNldCgic2hvd19kaWFsb2ciLCEwKSxvLnNlYXJjaD1sLnRvU3RyaW5nKCksInRydWUiPT09c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgid2luTWVzc2FnZUV2ZW50QWN0aXZlIikmJndpbmRvdy5wb3N0TWVzc2FnZSh7ZmFrZTohMH0sdGhpcyksc2V0VGltZW91dCgoKCk9Pnt5PXdpbmRvdy5vcGVuKG8udG9TdHJpbmcoKSkseT8oc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgid2luTWVzc2FnZUV2ZW50QWN0aXZlIiwidHJ1ZSIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwodD0+Y1AuY2FsbCh0aGlzLHQseSxuLGkscyxtLnRvU3RyaW5nKCksZyxwLGUsYSkpLHtvbmNlOiEwfSkpOmNvbnNvbGUuZXJyb3IoYFJhcGlEb2M6IFVuYWJsZSB0byBvcGVuICR7by50b1N0cmluZygpfSBpbiBhIG5ldyB3aW5kb3dgKX0pLDEwKX1lbHNlIGlmKCJjbGllbnRDcmVkZW50aWFscyI9PT10KXtnPSJjbGllbnRfY3JlZGVudGlhbHMiO2NvbnN0IHQ9ZC5tYXAoKGU9PmUudmFsdWUpKS5qb2luKCIgIik7bFAuY2FsbCh0aGlzLG4saSxzLG0udG9TdHJpbmcoKSxnLCIiLGUsYSxwLHQpfWVsc2UgaWYoInBhc3N3b3JkIj09PXQpe2c9InBhc3N3b3JkIjtjb25zdCB0PWQubWFwKChlPT5lLnZhbHVlKSkuam9pbigiICIpO2xQLmNhbGwodGhpcyxuLGkscyxtLnRvU3RyaW5nKCksZywiIixlLGEscCx0LGwsYyl9fWZ1bmN0aW9uIGRQKGUsdCxyLG4sbyxhPVtdLGk9ImhlYWRlciIpe2xldHthdXRob3JpemF0aW9uVXJsOnMsdG9rZW5Vcmw6bCxyZWZyZXNoVXJsOmN9PW87Y29uc3QgcD1vWyJ4LXBrY2Utb25seSJdfHwhMSxkPWU9PmUuaW5kZXhPZigiOi8vIik+MHx8MD09PWUuaW5kZXhPZigiLy8iKSx1PW5ldyBVUkwodGhpcy5zZWxlY3RlZFNlcnZlci5jb21wdXRlZFVybCkub3JpZ2luO2xldCBoO3JldHVybiBjJiYhZChjKSYmKGM9YCR7dX0vJHtjLnJlcGxhY2UoL15cLy8sIiIpfWApLGwmJiFkKGwpJiYobD1gJHt1fS8ke2wucmVwbGFjZSgvXlwvLywiIil9YCkscyYmIWQocykmJihzPWAke3V9LyR7cy5yZXBsYWNlKC9eXC8vLCIiKX1gKSxoPSJhdXRob3JpemF0aW9uQ29kZSI9PT1lPyJBdXRob3JpemF0aW9uIENvZGUgRmxvdyI6ImNsaWVudENyZWRlbnRpYWxzIj09PWU/IkNsaWVudCBDcmVkZW50aWFscyBGbG93IjoiaW1wbGljaXQiPT09ZT8iSW1wbGljaXQgRmxvdyI6InBhc3N3b3JkIj09PWU/IlBhc3N3b3JkIEZsb3ciOmUscWAKICAgIDxkaXYgY2xhc3M9Im9hdXRoLWZsb3cgJHtlfSIgc3R5bGU9InBhZGRpbmc6IDEycHggMDsgbWFyZ2luLWJvdHRvbToxMnB4OyI+CiAgICAgIDxkaXYgY2xhc3M9InRpbnktdGl0bGUgdXBwZXIiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjhweDsiPiR7aH08L2Rpdj4KICAgICAgJHtzP3FgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo1cHgiPjxzcGFuIHN0eWxlPSJ3aWR0aDo3NXB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij5BdXRoIFVSTDwvc3Bhbj4gPHNwYW4gY2xhc3M9Im1vbm8tZm9udCI+ICR7c30gPC9zcGFuPjwvZGl2PmA6IiJ9CiAgICAgICR7bD9xYDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206NXB4Ij48c3BhbiBzdHlsZT0id2lkdGg6NzVweDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyI+VG9rZW4gVVJMPC9zcGFuPiA8c3BhbiBjbGFzcz0ibW9uby1mb250Ij4ke2x9PC9zcGFuPjwvZGl2PmA6IiJ9CiAgICAgICR7Yz9xYDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206NXB4Ij48c3BhbiBzdHlsZT0id2lkdGg6NzVweDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyI+UmVmcmVzaCBVUkw8L3NwYW4+IDxzcGFuIGNsYXNzPSJtb25vLWZvbnQiPiR7Y308L3NwYW4+PC9kaXY+YDoiIn0KICAgICAgJHsiYXV0aG9yaXphdGlvbkNvZGUiPT09ZXx8ImNsaWVudENyZWRlbnRpYWxzIj09PWV8fCJpbXBsaWNpdCI9PT1lfHwicGFzc3dvcmQiPT09ZT9xYAogICAgICAgICAgJHtvLnNjb3Blcz9xYAogICAgICAgICAgICAgIDxzcGFuPiBTY29wZXMgPC9zcGFuPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ICJvYXV0aC1zY29wZXMiIHBhcnQ9InNlY3Rpb24tYXV0aC1zY29wZXMiIHN0eWxlID0gIndpZHRoOjEwMCU7IGRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOyBmbGV4LXdyYXA6d3JhcDsgbWFyZ2luOjAgMCAxMHB4IDI0cHgiPgogICAgICAgICAgICAgICAgJHtPYmplY3QuZW50cmllcyhvLnNjb3BlcykubWFwKCgodCxyKT0+cWAKICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibS1jaGVja2JveCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBwYXJ0PSJjaGVja2JveCBjaGVja2JveC1hdXRoLXNjb3BlIiBjbGFzcz0ic2NvcGUtY2hlY2tib3giIGlkPSIke259JHtlfSR7cn0iID9jaGVja2VkPSIke2EuaW5jbHVkZXModFswXSl9IiB2YWx1ZT0iJHt0WzBdfSI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iJHtufSR7ZX0ke3J9IiBzdHlsZT0ibWFyZ2luLWxlZnQ6NXB4OyBjdXJzb3I6cG9pbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9uby1mb250Ij4ke3RbMF19PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAke3RbMF0hPT10WzFdP2AgLSAke3RbMV18fCIifWA6IiJ9CiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgKSl9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA6IiJ9CiAgICAgICAgICAkeyJwYXNzd29yZCI9PT1lP3FgCiAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luOjVweCAwIj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZSA9ICIiIHBsYWNlaG9sZGVyPSJ1c2VybmFtZSIgc3BlbGxjaGVjaz0iZmFsc2UiIGNsYXNzPSJvYXV0aDIgJHtlfSAke259IGFwaS1rZXktdXNlciIgcGFydD0idGV4dGJveCB0ZXh0Ym94LXVzZXJuYW1lIj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgdmFsdWUgPSAiIiBwbGFjZWhvbGRlcj0icGFzc3dvcmQiIHNwZWxsY2hlY2s9ImZhbHNlIiBjbGFzcz0ib2F1dGgyICR7ZX0gJHtufSBhcGkta2V5LXBhc3N3b3JkIiBzdHlsZSA9ICJtYXJnaW46MCA1cHg7IiBwYXJ0PSJ0ZXh0Ym94IHRleHRib3gtcGFzc3dvcmQiPgogICAgICAgICAgICAgIDwvZGl2PmA6IiJ9CiAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAkeyJhdXRob3JpemF0aW9uQ29kZSI9PT1lP3FgCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW46IDE2cHggMCA0cHgiPgogICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIHBhcnQ9ImNoZWNrYm94IGNoZWNrYm94LWF1dGgtc2NvcGUiIGlkPSIke259LXBrY2UiIGNoZWNrZWQgP2Rpc2FibGVkPSR7cH0+CiAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IiR7bn0tcGtjZSIgc3R5bGU9Im1hcmdpbjowIDE2cHggMCA0cHg7IGxpbmUtaGVpZ2h0OjI0cHg7IGN1cnNvcjpwb2ludGVyIj4KICAgICAgICAgICAgICAgICAgIFNlbmQgUHJvb2YgS2V5IGZvciBDb2RlIEV4Y2hhbmdlIChQS0NFKQogICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgYDoiIn0KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHBhcnQ9InRleHRib3ggdGV4dGJveC1hdXRoLWNsaWVudC1pZCIgdmFsdWUgPSAiJHt0fHwiIn0iIHBsYWNlaG9sZGVyPSJjbGllbnQtaWQiIHNwZWxsY2hlY2s9ImZhbHNlIiBjbGFzcz0ib2F1dGgyICR7ZX0gJHtufSBvYXV0aC1jbGllbnQtaWQiPgogICAgICAgICAgICAkeyJhdXRob3JpemF0aW9uQ29kZSI9PT1lfHwiY2xpZW50Q3JlZGVudGlhbHMiPT09ZXx8InBhc3N3b3JkIj09PWU/cWAKICAgICAgICAgICAgICAgIDxpbnB1dAogICAgICAgICAgICAgICAgICB0eXBlPSJwYXNzd29yZCIgcGFydD0idGV4dGJveCB0ZXh0Ym94LWF1dGgtY2xpZW50LXNlY3JldCIKICAgICAgICAgICAgICAgICAgdmFsdWUgPSAiJHtyfHwiIn0iIHBsYWNlaG9sZGVyPSJjbGllbnQtc2VjcmV0IiBzcGVsbGNoZWNrPSJmYWxzZSIKICAgICAgICAgICAgICAgICAgY2xhc3M9Im9hdXRoMiAke2V9ICR7bn0KICAgICAgICAgICAgICAgICAgb2F1dGgtY2xpZW50LXNlY3JldCIKICAgICAgICAgICAgICAgICAgc3R5bGUgPSAibWFyZ2luOjAgNXB4OyR7cD8iZGlzcGxheTpub25lOyI6IiJ9IgogICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgPHNlbGVjdCBzdHlsZT0ibWFyZ2luLXJpZ2h0OjVweDske3A/ImRpc3BsYXk6bm9uZTsiOiIifSIgY2xhc3M9IiR7ZX0gJHtufSBvYXV0aC1zZW5kLWNsaWVudC1zZWNyZXQtaW4iPgogICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlID0gJ2hlYWRlcicgLnNlbGVjdGVkID0gJHsiaGVhZGVyIj09PWl9ID4gQXV0aG9yaXphdGlvbiBIZWFkZXIgPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWUgPSAncmVxdWVzdC1ib2R5JyAuc2VsZWN0ZWQgPSAkeyJyZXF1ZXN0LWJvZHkiPT09aX0+IFJlcXVlc3QgQm9keSA8L29wdGlvbj4KICAgICAgICAgICAgICAgIDwvc2VsZWN0PmA6IiJ9CiAgICAgICAgICAgICR7ImF1dGhvcml6YXRpb25Db2RlIj09PWV8fCJjbGllbnRDcmVkZW50aWFscyI9PT1lfHwiaW1wbGljaXQiPT09ZXx8InBhc3N3b3JkIj09PWU/cWAKICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im0tYnRuIHRoaW4tYm9yZGVyIiBwYXJ0PSJidG4gYnRuLW91dGxpbmUiCiAgICAgICAgICAgICAgICAgIEBjbGljaz0iJHt0PT57cFAuY2FsbCh0aGlzLG4sZSxzLGwsdCl9fSIKICAgICAgICAgICAgICAgID4gR0VUIFRPS0VOIDwvYnV0dG9uPmA6IiJ9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im9hdXRoLXJlc3AtZGlzcGxheSByZWQtdGV4dCBzbWFsbC1mb250LXNpemUiPjwvZGl2PgogICAgICAgICAgYDoiIn0KICAgIDwvZGl2PgogIGB9ZnVuY3Rpb24gdVAoZSl7dmFyIHQ7Y29uc3Qgcj1udWxsPT09KHQ9dGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5maW5kKCh0PT50LnNlY3VyaXR5U2NoZW1lSWQ9PT1lKSk7aWYoci51c2VyPSIiLHIucGFzc3dvcmQ9IiIsci52YWx1ZT0iIixyLmZpbmFsS2V5VmFsdWU9IiIsInRydWUiPT09dGhpcy5wZXJzaXN0QXV0aCl7Y29uc3QgZT1uUC5jYWxsKHRoaXMpO2RlbGV0ZSBlW3Iuc2VjdXJpdHlTY2hlbWVJZF0sb1AuY2FsbCh0aGlzLGUpfXRoaXMucmVxdWVzdFVwZGF0ZSgpfWZ1bmN0aW9uIGhQKCl7dmFyIGU7aWYoIXRoaXMucmVzb2x2ZWRTcGVjKXJldHVybiIiO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcyl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZmlsdGVyKChlPT5lLmZpbmFsS2V5VmFsdWUpKTtyZXR1cm4gdD9xYAogIDxzZWN0aW9uIGlkPSdhdXRoJyBwYXJ0PSJzZWN0aW9uLWF1dGgiIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7IGRpcmVjdGlvbjpsdHI7IG1hcmdpbi10b3A6MjRweDsgbWFyZ2luLWJvdHRvbToyNHB4OyIgY2xhc3MgPSAnb2JzZXJ2ZS1tZSAkeyJyZWFkIGZvY3VzZWQiLmluY2x1ZGVzKHRoaXMucmVuZGVyU3R5bGUpPyJzZWN0aW9uLWdhcC0tcmVhZC1tb2RlIjoic2VjdGlvbi1nYXAgIn0nPgogICAgPGRpdiBjbGFzcz0nc3ViLXRpdGxlIHJlZ3VsYXItZm9udCc+IEFVVEhFTlRJQ0FUSU9OIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9InNtYWxsLWZvbnQtc2l6ZSIgc3R5bGU9ImRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWluLWhlaWdodDozMHB4Ij4KICAgICAgJHt0Lmxlbmd0aD4wP3FgCiAgICAgICAgICA8ZGl2IGNsYXNzPSJibHVlLXRleHQiPiAke3QubGVuZ3RofSBBUEkga2V5IGFwcGxpZWQgPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OjEiPjwvZGl2PgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibS1idG4gdGhpbi1ib3JkZXIiIHBhcnQ9ImJ0biBidG4tb3V0bGluZSIgQGNsaWNrPSR7KCk9PntyUC5jYWxsKHRoaXMpfX0+Q0xFQVIgQUxMIEFQSSBLRVlTPC9idXR0b24+YDpxYDxkaXYgY2xhc3M9InJlZC10ZXh0Ij5ObyBBUEkga2V5IGFwcGxpZWQ8L2Rpdj5gfQogICAgPC9kaXY+CiAgICAke3RoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcyYmdGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLmxlbmd0aD4wP3FgCiAgICAgICAgPHRhYmxlIHJvbGU9InByZXNlbnRhdGlvbiIgaWQ9ImF1dGgtdGFibGUiIGNsYXNzPSdtLXRhYmxlIHBhZGRlZC0xMicgc3R5bGU9IndpZHRoOjEwMCU7Ij4KICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLm1hcCgoZT0+cWAKICAgICAgICAgICAgPHRyIGlkPSJzZWN1cml0eS1zY2hlbWUtJHtlLnNlY3VyaXR5U2NoZW1lSWR9IiBjbGFzcz0iJHtlLnR5cGUudG9Mb3dlckNhc2UoKX0iPgogICAgICAgICAgICAgIDx0ZCBzdHlsZT0ibWF4LXdpZHRoOjUwMHB4OyBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkOyI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJsaW5lLWhlaWdodDoyOHB4OyBtYXJnaW4tYm90dG9tOjVweDsiPgogICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZDsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKSI+JHtlLnR5cGVEaXNwbGF5fTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgJHtlLmZpbmFsS2V5VmFsdWU/cWAKICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdibHVlLXRleHQnPiAgJHtlLmZpbmFsS2V5VmFsdWU/IktleSBBcHBsaWVkIjoiIn0gPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibS1idG4gdGhpbi1ib3JkZXIgc21hbGwiIHBhcnQ9ImJ0biBidG4tb3V0bGluZSIgQGNsaWNrPSR7KCk9Pnt1UC5jYWxsKHRoaXMsZS5zZWN1cml0eVNjaGVtZUlkKX19PlJFTU9WRTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgYDoiIn0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgJHtlLmRlc2NyaXB0aW9uP3FgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibS1tYXJrZG93biI+CiAgICAgICAgICAgICAgICAgICAgICAke1FfKFdlKGUuZGVzY3JpcHRpb258fCIiKSl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDoiIn0KCiAgICAgICAgICAgICAgICAkeyJhcGlrZXkiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCl8fCJodHRwIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpJiYiYmVhcmVyIj09PWUuc2NoZW1lLnRvTG93ZXJDYXNlKCk/cWAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjVweCI+CiAgICAgICAgICAgICAgICAgICAgICAkeyJhcGlrZXkiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCk/cWBTZW5kIDxjb2RlPiR7ZS5uYW1lfTwvY29kZT4gaW4gPGNvZGU+JHtlLmlufTwvY29kZT5gOnFgU2VuZCA8Y29kZT5BdXRob3JpemF0aW9uPC9jb2RlPiBpbiA8Y29kZT5oZWFkZXI8L2NvZGU+IGNvbnRhaW5pbmcgdGhlIHdvcmQgPGNvZGU+QmVhcmVyPC9jb2RlPiBmb2xsb3dlZCBieSBhIHNwYWNlIGFuZCBhIFRva2VuIFN0cmluZy5gfQogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1heC1oZWlnaHQ6MjhweDsiPgogICAgICAgICAgICAgICAgICAgICAgJHsiY29va2llIiE9PWUuaW4/cWAKICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZSA9ICJ0ZXh0IiB2YWx1ZSA9ICIke2UudmFsdWV9IiBjbGFzcz0iJHtlLnR5cGV9ICR7ZS5zZWN1cml0eVNjaGVtZUlkfSBhcGkta2V5LWlucHV0IiBwbGFjZWhvbGRlciA9ICJhcGktdG9rZW4iIHNwZWxsY2hlY2sgPSAiZmFsc2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im0tYnRuIHRoaW4tYm9yZGVyIiBzdHlsZSA9ICJtYXJnaW4tbGVmdDo1cHg7IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9ICJidG4gYnRuLW91dGxpbmUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9IiR7dD0+e2lQLmNhbGwodGhpcyxlLnNlY3VyaXR5U2NoZW1lSWQsdCl9fSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2UuZmluYWxLZXlWYWx1ZT8iVVBEQVRFIjoiU0VUIn0KICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5gOnFgPHNwYW4gY2xhc3M9ImdyYXktdGV4dCIgc3R5bGU9ImZvbnQtc2l6ZTo6dmFyKC0tZm9udC1zaXplLXNtYWxsKSI+IGNvb2tpZXMgY2Fubm90IGJlIHNldCBmcm9tIGhlcmU8L3NwYW4+YH0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOiIifQogICAgICAgICAgICAgICAgJHsiaHR0cCI9PT1lLnR5cGUudG9Mb3dlckNhc2UoKSYmImJhc2ljIj09PWUuc2NoZW1lLnRvTG93ZXJDYXNlKCk/cWAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjVweCI+CiAgICAgICAgICAgICAgICAgICAgICBTZW5kIDxjb2RlPkF1dGhvcml6YXRpb248L2NvZGU+IGluIDxjb2RlPmhlYWRlcjwvY29kZT4gY29udGFpbmluZyB0aGUgd29yZCA8Y29kZT5CYXNpYzwvY29kZT4gZm9sbG93ZWQgYnkgYSBzcGFjZSBhbmQgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgPGNvZGU+dXNlcm5hbWU6cGFzc3dvcmQ8L2NvZGU+LgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgdmFsdWUgPSAiJHtlLnVzZXJ9IiBwbGFjZWhvbGRlcj0idXNlcm5hbWUiIHNwZWxsY2hlY2s9ImZhbHNlIiBjbGFzcz0iJHtlLnR5cGV9ICR7ZS5zZWN1cml0eVNjaGVtZUlkfSBhcGkta2V5LXVzZXIiIHN0eWxlPSJ3aWR0aDoxMDBweCI+CiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIHZhbHVlID0gIiR7ZS5wYXNzd29yZH0iIHBsYWNlaG9sZGVyPSJwYXNzd29yZCIgc3BlbGxjaGVjaz0iZmFsc2UiIGNsYXNzPSIke2UudHlwZX0gJHtlLnNlY3VyaXR5U2NoZW1lSWR9IGFwaS1rZXktcGFzc3dvcmQiIHN0eWxlID0gIndpZHRoOjEwMHB4OyBtYXJnaW46MCA1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im0tYnRuIHRoaW4tYm9yZGVyIgogICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9IiR7dD0+e2lQLmNhbGwodGhpcyxlLnNlY3VyaXR5U2NoZW1lSWQsdCl9fSIKICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9ICJidG4gYnRuLW91dGxpbmUiCiAgICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICAgICR7ZS5maW5hbEtleVZhbHVlPyJVUERBVEUiOiJTRVQifQogICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDoiIn0KICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAkeyJvYXV0aDIiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCk/cWAKICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJib3JkZXI6bm9uZTsgcGFkZGluZy1sZWZ0OjQ4cHgiPgogICAgICAgICAgICAgICAgICAgICR7T2JqZWN0LmtleXMoZS5mbG93cykubWFwKCh0PT5kUC5jYWxsKHRoaXMsdCxlLmZsb3dzW3RdWyJ4LWNsaWVudC1pZCJdfHxlWyJ4LWNsaWVudC1pZCJdfHwiIixlLmZsb3dzW3RdWyJ4LWNsaWVudC1zZWNyZXQiXXx8ZVsieC1jbGllbnQtc2VjcmV0Il18fCIiLGUuc2VjdXJpdHlTY2hlbWVJZCxlLmZsb3dzW3RdLGUuZmxvd3NbdF1bIngtZGVmYXVsdC1zY29wZXMiXXx8ZVsieC1kZWZhdWx0LXNjb3BlcyJdLGUuZmxvd3NbdF1bIngtcmVjZWl2ZS10b2tlbi1pbiJdfHxlWyJ4LXJlY2VpdmUtdG9rZW4taW4iXSkpKX0KICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICBgOiIifQogICAgICAgICAgYCkpfQogICAgICAgIDwvdGFibGU+YDoiIn0KICAgIDxzbG90IG5hbWU9ImF1dGgiPjwvc2xvdD4KICA8L3NlY3Rpb24+CmA6dm9pZCAwfWZ1bmN0aW9uIGZQKGUpe2lmKHRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcyYmZSl7Y29uc3QgdD1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT8wPT09ZS5sZW5ndGg/IiI6KGUuZm9yRWFjaCgoZT0+e2NvbnN0IHI9W10sbj1bXTswPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoP3QucHVzaCh7c2VjdXJpdHlUeXBlczoiTm9uZSIsc2VjdXJpdHlEZWZzOltdfSk6KE9iamVjdC5rZXlzKGUpLmZvckVhY2goKHQ9PntsZXQgbz0iIjtjb25zdCBhPXRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5maW5kKChlPT5lLnNlY3VyaXR5U2NoZW1lSWQ9PT10KSk7ZVt0XSYmQXJyYXkuaXNBcnJheShlW3RdKSYmKG89ZVt0XS5qb2luKCIsICIpKSxhJiYobi5wdXNoKGEudHlwZURpc3BsYXkpLHIucHVzaCh7Li4uYSxzY29wZXM6b30pKX0pKSx0LnB1c2goe3NlY3VyaXR5VHlwZXM6bi5sZW5ndGg+MT9gJHtuWzBdfSArICR7bi5sZW5ndGgtMX0gbW9yZWA6blswXSxzZWN1cml0eURlZnM6cn0pKX0pKSxxYDxkaXYgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyB0b3A6M3B4OyByaWdodDoycHg7IGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpOyBsaW5lLWhlaWdodDogMS41OyI+CiAgICAgIDxkaXYgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlOyBkaXNwbGF5OmZsZXg7IG1pbi13aWR0aDozNTBweDsgbWF4LXdpZHRoOjcwMHB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+CiAgICAgICAgPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6dmFyKC0tZmczKSI+IDxyZWN0IHg9IjUiIHk9IjExIiB3aWR0aD0iMTQiIGhlaWdodD0iMTAiIHJ4PSIyIiAvPiA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE2IiByPSIxIiAvPiA8cGF0aCBkPSJNOCAxMXYtNGE0IDQgMCAwIDEgOCAwdjQiIC8+PC9zdmc+CiAgICAgICAgICAke3QubWFwKCgoZSx0KT0+cWAKICAgICAgICAgICR7ZS5zZWN1cml0eVR5cGVzP3FgCiAgICAgICAgICAgICAgJHswIT09dD9xYDxkaXYgc3R5bGU9InBhZGRpbmc6M3B4IDRweDsiPiBPUiA8L2Rpdj5gOiIifQogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvb2x0aXAiPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZSA9ICJwYWRkaW5nOjJweCA0cHg7IHdoaXRlLXNwYWNlOm5vd3JhcDsgdGV4dC1vdmVyZmxvdzplbGxpcHNpczttYXgtd2lkdGg6MTUwcHg7IG92ZXJmbG93OmhpZGRlbjsiPgogICAgICAgICAgICAgICAgICAkeyJ0cnVlIj09PXRoaXMudXBkYXRlUm91dGUmJiJ0cnVlIj09PXRoaXMuYWxsb3dBdXRoZW50aWNhdGlvbj9xYDxhIHBhcnQ9ImFuY2hvciBhbmNob3Itb3BlcmF0aW9uLXNlY3VyaXR5IiBocmVmPSIjYXV0aCI+ICR7ZS5zZWN1cml0eVR5cGVzfSA8L2E+YDpxYCR7ZS5zZWN1cml0eVR5cGVzfWB9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvb2x0aXAtdGV4dCIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyBjb2xvcjogdmFyKC0tZmcpOyB0b3A6MjZweDsgcmlnaHQ6MDsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO3BhZGRpbmc6MnB4IDRweDsgZGlzcGxheTpibG9jazsiPgogICAgICAgICAgICAgICAgICAke2Uuc2VjdXJpdHlEZWZzLmxlbmd0aD4xP3FgPGRpdj5SZXF1aXJlcyA8Yj5hbGw8L2I+IG9mIHRoZSBmb2xsb3dpbmcgPC9kaXY+YDoiIn0KICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZy1sZWZ0OiA4cHgiPgogICAgICAgICAgICAgICAgICAgICR7ZS5zZWN1cml0eURlZnMubWFwKCgodCxyKT0+e2NvbnN0IG49cWAkeyIiIT09dC5zY29wZXM/cWAKICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+UmVxdWlyZWQgc2NvcGVzOjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxici8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tbGVmdDo4cHgiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Quc2NvcGVzLnNwbGl0KCIsIikubWFwKCgoZSx0KT0+cWAkezA9PT10PyIiOiLilIMifTxzcGFuPiR7ZX08L3NwYW4+YCkpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDoiIn1gO3JldHVybiBxYAogICAgICAgICAgICAgICAgICAgICAgJHsib2F1dGgyIj09PXQudHlwZT9xYAogICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Uuc2VjdXJpdHlEZWZzLmxlbmd0aD4xP3FgPGI+JHtyKzF9LjwvYj4gJm5ic3A7YDoiTmVlZHMifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgT0F1dGggVG9rZW4gPHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OnZhcigtLWZvbnQtbW9ubyk7IGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOyI+JHt0LnNlY3VyaXR5U2NoZW1lSWR9PC9zcGFuPiBpbiA8Yj5BdXRob3JpemF0aW9uIGhlYWRlcjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7bn0KICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOiJodHRwIj09PXQudHlwZT9xYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtlLnNlY3VyaXR5RGVmcy5sZW5ndGg+MT9xYDxiPiR7cisxfS48L2I+ICZuYnNwO2A6cWBSZXF1aXJlc2B9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ImJhc2ljIj09PXQuc2NoZW1lPyJCYXNlIDY0IGVuY29kZWQgdXNlcm5hbWU6cGFzc3dvcmQiOiJCZWFyZXIgVG9rZW4ifSBpbiA8Yj5BdXRob3JpemF0aW9uIGhlYWRlcjwvYj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtufQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDpxYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtlLnNlY3VyaXR5RGVmcy5sZW5ndGg+MT9xYDxiPiR7cisxfS48L2I+ICZuYnNwO2A6cWBSZXF1aXJlc2B9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRva2VuIGluIDxiPiR7dC5uYW1lfSAke3QuaW59PC9iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke259CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gfWB9KSl9CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA6IiJ9CiAgICAgICAgYCkpfQogICAgICA8L2Rpdj4KICAgIGApOiIifXJldHVybiIifWZ1bmN0aW9uIG1QKGUpe3JldHVybiBxYAogIDxzZWN0aW9uIGNsYXNzPSJ0YWJsZS10aXRsZSIgc3R5bGU9Im1hcmdpbi10b3A6MjRweDsiPkNPREUgU0FNUExFUzwvZGl2PgogIDxkaXYgY2xhc3M9InRhYi1wYW5lbCBjb2wiCiAgICBAY2xpY2s9IiR7ZT0+e2lmKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoInRhYi1idG4iKSlyZXR1cm47Y29uc3QgdD1lLnRhcmdldC5kYXRhc2V0LnRhYixyPVsuLi5lLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvckFsbCgiLnRhYi1idG4iKV0sbj1bLi4uZS5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoIi50YWItY29udGVudCIpXTtyLmZvckVhY2goKGU9PmUuY2xhc3NMaXN0W2UuZGF0YXNldC50YWI9PT10PyJhZGQiOiJyZW1vdmUiXSgiYWN0aXZlIikpKSxuLmZvckVhY2goKGU9PntlLnN0eWxlLmRpc3BsYXk9ZS5kYXRhc2V0LnRhYj09PXQ/ImJsb2NrIjoibm9uZSJ9KSl9fSI+CiAgICA8ZGl2IGNsYXNzPSJ0YWItYnV0dG9ucyByb3ciIHN0eWxlPSJ3aWR0aDoxMDA7IG92ZXJmbG93Ij4KICAgICAgJHtlLm1hcCgoKGUsdCk9PnFgPGJ1dHRvbiBjbGFzcz0idGFiLWJ0biAkezA9PT10PyJhY3RpdmUiOiIifSIgZGF0YS10YWIgPSAnJHtlLmxhbmd9JHt0fSc+ICR7ZS5sYWJlbHx8ZS5sYW5nfSA8L2J1dHRvbj5gKSl9CiAgICA8L2Rpdj4KICAgICR7ZS5tYXAoKChlLHQpPT57dmFyIHIsbixvO3JldHVybiBxYAogICAgICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCBtLW1hcmtkb3duIiBzdHlsZT0gImRpc3BsYXk6JHswPT09dD8iYmxvY2siOiJub25lIn0iIGRhdGEtdGFiID0gJyR7ZS5sYW5nfSR7dH0nPgogICAgICAgIDxidXR0b24gY2xhc3M9InRvb2xiYXItYnRuIiBzdHlsZSA9ICJwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjEycHg7IHJpZ2h0OjhweCIgQGNsaWNrPScke3Q9PntzdChlLnNvdXJjZSx0KX19Jz4gQ29weSA8L2J1dHRvbj4KICAgICAgICA8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZSI+JHtHZSgpLmxhbmd1YWdlc1tudWxsPT09KHI9ZS5sYW5nKXx8dm9pZCAwPT09cj92b2lkIDA6ci50b0xvd2VyQ2FzZSgpXT9RXyhHZSgpLmhpZ2hsaWdodChlLnNvdXJjZSxHZSgpLmxhbmd1YWdlc1tudWxsPT09KG49ZS5sYW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi50b0xvd2VyQ2FzZSgpXSxudWxsPT09KG89ZS5sYW5nKXx8dm9pZCAwPT09bz92b2lkIDA6by50b0xvd2VyQ2FzZSgpKSk6ZS5zb3VyY2V9PC9jb2RlPjwvcHJlPgogICAgICA8L2Rpdj5gfSkpfQogIDwvZGl2PiAgCiAgPC9zZWN0aW9uPmB9ZnVuY3Rpb24geVAoZSl7cmV0dXJuIHFgCiAgICA8ZGl2IGNsYXNzPSJyZXEtcmVzLXRpdGxlIiBzdHlsZT0ibWFyZ2luLXRvcDoxMnB4Ij5DQUxMQkFDS1M8L2Rpdj4KICAgICR7T2JqZWN0LmVudHJpZXMoZSkubWFwKChlPT5xYAogICAgICA8ZGl2IGNsYXNzPSJ0aW55LXRpdGxlIiBzdHlsZT0icGFkZGluZzogMTJweDsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpIj4gCiAgICAgICAgJHtlWzBdfQogICAgICAgICR7T2JqZWN0LmVudHJpZXMoZVsxXSkubWFwKChlPT5xYAogICAgICAgICAgPGRpdiBjbGFzcz0ibW9uby1mb250IHNtYWxsLWZvbnQtc2l6ZSIgc3R5bGU9ImRpc3BsYXk6ZmxleDsgbWFyZ2luLWxlZnQ6MTZweDsiPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJ3aWR0aDoxMDAlIj4gCiAgICAgICAgICAgICAgJHtPYmplY3QuZW50cmllcyhlWzFdKS5tYXAoKHQ9Pnt2YXIgcixuLG87cmV0dXJuIHFgCiAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjEycHg7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRob2QgbWV0aG9kLWZnICR7dFswXX0iIHN0eWxlPSJ3aWR0aDo3MHB4OyBib3JkZXI6bm9uZTsgbWFyZ2luOjA7IHBhZGRpbmc6MDsgbGluZS1oZWlnaHQ6MjBweDsgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO3RleHQtYWxpZ246bGVmdCI+IAogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToyMHB4OyI+ICYjeDI5NDQ7IDwvc3Bhbj4gCiAgICAgICAgICAgICAgICAgICAgICAke3RbMF19IAogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJsaW5lLWhlaWdodDoyMHB4OyB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7Ij4ke2VbMF19IDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPC9kaXY+ICAKICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nZXhwYW5kZWQtcmVxLXJlc3AtY29udGFpbmVyJz4KICAgICAgICAgICAgICAgICAgICA8YXBpLXJlcXVlc3QKICAgICAgICAgICAgICAgICAgICAgIGNsYXNzID0gIiR7dGhpcy5yZW5kZXJTdHlsZX0tbW9kZSBjYWxsYmFjayIgIAogICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSAid2lkdGg6MTAwJTsiCiAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9ICJ0cnVlIgogICAgICAgICAgICAgICAgICAgICAgbWV0aG9kID0gIiR7dFswXXx8IiJ9IiwgCiAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gIiR7ZVswXXx8IiJ9IiAKICAgICAgICAgICAgICAgICAgICAgIC5wYXJhbWV0ZXJzID0gIiR7KG51bGw9PT0ocj10WzFdKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wYXJhbWV0ZXJzKXx8IiJ9IiAKICAgICAgICAgICAgICAgICAgICAgIC5yZXF1ZXN0X2JvZHkgPSAiJHsobnVsbD09PShuPXRbMV0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJlcXVlc3RCb2R5KXx8IiJ9IgogICAgICAgICAgICAgICAgICAgICAgZmlsbC1yZXF1ZXN0LWZpZWxkcy13aXRoLWV4YW1wbGUgPSAiJHt0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGV9IgogICAgICAgICAgICAgICAgICAgICAgYWxsb3ctdHJ5ID0gImZhbHNlIgogICAgICAgICAgICAgICAgICAgICAgcmVuZGVyLXN0eWxlPSIke3RoaXMucmVuZGVyU3R5bGV9IiAKICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1zdHlsZSA9ICIke3RoaXMuc2NoZW1hU3R5bGV9IgogICAgICAgICAgICAgICAgICAgICAgYWN0aXZlLXNjaGVtYS10YWIgPSAiJHt0aGlzLmRlZmF1bHRTY2hlbWFUYWJ9IgogICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9ICIke3RoaXMuc2NoZW1hRXhwYW5kTGV2ZWx9IgogICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gIiR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkfSIKICAgICAgICAgICAgICAgICAgICAgIGFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlID0gIiR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfSIKICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9ICJmYWxzZSIKICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSAiJHsibmV2ZXIiPT09dGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5PyJmYWxzZSI6InRydWUifSIKICAgICAgICAgICAgICAgICAgICAgIGZldGNoLWNyZWRlbnRpYWxzID0gIiR7dGhpcy5mZXRjaENyZWRlbnRpYWxzfSIKICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gIndyYXAtcmVxdWVzdC1idG46d3JhcC1yZXF1ZXN0LWJ0biwgYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1vdXRsaW5lOmJ0bi1vdXRsaW5lLCBidG4tdHJ5OmJ0bi10cnksIGJ0bi1jbGVhcjpidG4tY2xlYXIsIGJ0bi1jbGVhci1yZXNwOmJ0bi1jbGVhci1yZXNwLAogICAgICAgICAgICAgICAgICAgICAgICBmaWxlLWlucHV0OmZpbGUtaW5wdXQsIHRleHRib3g6dGV4dGJveCwgdGV4dGJveC1wYXJhbTp0ZXh0Ym94LXBhcmFtLCB0ZXh0YXJlYTp0ZXh0YXJlYSwgdGV4dGFyZWEtcGFyYW06dGV4dGFyZWEtcGFyYW0sIAogICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6YW5jaG9yLCBhbmNob3ItcGFyYW0tZXhhbXBsZTphbmNob3ItcGFyYW0tZXhhbXBsZSwgc2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGUiCiAgICAgICAgICAgICAgICAgICAgICA+IDwvYXBpLXJlcXVlc3Q+CgogICAgICAgICAgICAgICAgICAgIDxhcGktcmVzcG9uc2UKICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0gIndpZHRoOjEwMCU7IgogICAgICAgICAgICAgICAgICAgICAgY2xhc3MgPSAiJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlIgogICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSAidHJ1ZSIKICAgICAgICAgICAgICAgICAgICAgIC5yZXNwb25zZXM9IiR7bnVsbD09PShvPXRbMV0pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnJlc3BvbnNlc30iCiAgICAgICAgICAgICAgICAgICAgICByZW5kZXItc3R5bGU9IiR7dGhpcy5yZW5kZXJTdHlsZX0iCiAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtc3R5bGU9IiR7dGhpcy5zY2hlbWFTdHlsZX0iCiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmUtc2NoZW1hLXRhYiA9ICIke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn0iCiAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH0iCiAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgICAgICAgICAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSAiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9IgogICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gIiR7Im5ldmVyIj09PXRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5PyJmYWxzZSI6InRydWUifSIKICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSAiZmFsc2UiCiAgICAgICAgICAgICAgICAgICAgICBleHBvcnRwYXJ0cyA9ICJidG46YnRuLCBidG4tcmVzcG9uc2Utc3RhdHVzOmJ0bi1yZXNwb25zZS1zdGF0dXMsIGJ0bi1zZWxlY3RlZC1yZXNwb25zZS1zdGF0dXM6YnRuLXNlbGVjdGVkLXJlc3BvbnNlLXN0YXR1cywgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1jb3B5OmJ0bi1jb3B5LAogICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGUiCiAgICAgICAgICAgICAgICAgICAgPiA8L2FwaS1yZXNwb25zZT4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4gIAogICAgICAgICAgICAgIGB9KSl9CiAgICAgICAgICAgIDwvZGl2PiAgCiAgICAgICAgICA8L2Rpdj4gIAogICAgICAgIGApKX0KICAgICAgPC9kaXY+ICAKICAgIGApKX0KICBgfWNvbnN0IGdQPXt9LHZQPUpfKGNsYXNzIGV4dGVuZHMgWV97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMub3Q9Z1B9cmVuZGVyKGUsdCl7cmV0dXJuIHQoKX11cGRhdGUoZSxbdCxyXSl7aWYoQXJyYXkuaXNBcnJheSh0KSl7aWYoQXJyYXkuaXNBcnJheSh0aGlzLm90KSYmdGhpcy5vdC5sZW5ndGg9PT10Lmxlbmd0aCYmdC5ldmVyeSgoKGUsdCk9PmU9PT10aGlzLm90W3RdKSkpcmV0dXJuIFV9ZWxzZSBpZih0aGlzLm90PT09dClyZXR1cm4gVTtyZXR1cm4gdGhpcy5vdD1BcnJheS5pc0FycmF5KHQpP0FycmF5LmZyb20odCk6dCx0aGlzLnJlbmRlcih0LHIpfX0pLHtJOmJQfT1yZSx4UD17fSx3UD1KXyhjbGFzcyBleHRlbmRzIFlfe2NvbnN0cnVjdG9yKGUpe2lmKHN1cGVyKGUpLGUudHlwZSE9PUdfJiZlLnR5cGUhPT1XXyYmZS50eXBlIT09S18pdGhyb3cgRXJyb3IoIlRoZSBgbGl2ZWAgZGlyZWN0aXZlIGlzIG5vdCBhbGxvd2VkIG9uIGNoaWxkIG9yIGV2ZW50IGJpbmRpbmdzIik7aWYoIShlPT52b2lkIDA9PT1lLnN0cmluZ3MpKGUpKXRocm93IEVycm9yKCJgbGl2ZWAgYmluZGluZ3MgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uIil9cmVuZGVyKGUpe3JldHVybiBlfXVwZGF0ZShlLFt0XSl7aWYodD09PVV8fHQ9PT16KXJldHVybiB0O2NvbnN0IHI9ZS5lbGVtZW50LG49ZS5uYW1lO2lmKGUudHlwZT09PUdfKXtpZih0PT09cltuXSlyZXR1cm4gVX1lbHNlIGlmKGUudHlwZT09PUtfKXtpZighIXQ9PT1yLmhhc0F0dHJpYnV0ZShuKSlyZXR1cm4gVX1lbHNlIGlmKGUudHlwZT09PVdfJiZyLmdldEF0dHJpYnV0ZShuKT09PXQrIiIpcmV0dXJuIFU7cmV0dXJuKChlLHQ9eFApPT57ZS5fJEFIPXR9KShlKSx0fX0pO3ZhciAkUD1yKDEzMSksa1A9ci5uKCRQKTtjb25zdCBTUD1jYAouYm9yZGVyLXRvcCB7CiAgYm9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKfQouYm9yZGVyewogIGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsKfQoubGlnaHQtYm9yZGVyewogIGJvcmRlcjoxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTsKICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsKfQoucGFkLTgtMTZ7CiAgcGFkZGluZzogOHB4IDE2cHg7Cn0KLnBhZC10b3AtOHsKICBwYWRkaW5nLXRvcDogOHB4Owp9Ci5tYXItdG9wLTh7CiAgbWFyZ2luLXRvcDogOHB4Owp9CmA7ZnVuY3Rpb24gQVAoZSl7cmV0dXJuIHZvaWQgMD09PWU/IiI6bnVsbD09PWU/Im51bGwiOiIiPT09ZT8i4oiFIjoiYm9vbGVhbiI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGU/YCR7ZX1gOkFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoKGU9Pm51bGw9PT1lPyJudWxsIjoiIj09PWU/IuKIhSI6ZS50b1N0cmluZygpLnJlcGxhY2UoL14gK3wgKyQvZywoZT0+IuKXjyIucmVwZWF0KGUubGVuZ3RoKSkpfHwiIikpLmpvaW4oIiwgIik6ZS50b1N0cmluZygpLnJlcGxhY2UoL14gK3wgKyQvZywoZT0+IuKXjyIucmVwZWF0KGUubGVuZ3RoKSkpfHwiIn1mdW5jdGlvbiBFUChlKXtpZighZSlyZXR1cm47bGV0IHQ9IiIscj0iIjtpZihlLiRyZWYpe2NvbnN0IHI9ZS4kcmVmLmxhc3RJbmRleE9mKCIvIik7dD1ge3JlY3Vyc2l2ZTogJHtlLiRyZWYuc3Vic3RyaW5nKHIrMSl9fSBgfWVsc2UgZS50eXBlPyh0PUFycmF5LmlzQXJyYXkoZS50eXBlKT9lLnR5cGUuam9pbigyPT09ZS5sZW5ndGg/IiBvciAiOiLilIMiKTplLnR5cGUsKGUuZm9ybWF0fHxlLmVudW18fGUuY29uc3QpJiYodD10LnJlcGxhY2UoInN0cmluZyIsZS5lbnVtPyJlbnVtIjplLmNvbnN0PyJjb25zdCI6ZS5mb3JtYXQpKSxlLm51bGxhYmxlJiYodCs9IuKUg251bGwiKSk6dD1lLmNvbnN0PyJjb25zdCI6MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aD8iYW55Ijoie21pc3NpbmctdHlwZS1pbmZvfSI7Y29uc3Qgbj17dHlwZTp0LGZvcm1hdDplLmZvcm1hdHx8IiIscGF0dGVybjplLnBhdHRlcm4mJiFlLmVudW0/ZS5wYXR0ZXJuOiIiLHJlYWRPcldyaXRlT25seTplLnJlYWRPbmx5PyLwn4aBIjplLndyaXRlT25seT8i8J+GhiI6IiIsZGVwcmVjYXRlZDplLmRlcHJlY2F0ZWQ/IuKdjCI6IiIsZXhhbXBsZXM6ZS5leGFtcGxlc3x8ZS5leGFtcGxlLGRlZmF1bHQ6QVAoZS5kZWZhdWx0KSxkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9ufHwiIixjb25zdHJhaW46IiIsYWxsb3dlZFZhbHVlczoiIixhcnJheVR5cGU6IiIsaHRtbDoiIn07aWYoIntyZWN1cnNpdmV9Ij09PW4udHlwZT9uLmRlc2NyaXB0aW9uPWUuJHJlZi5zdWJzdHJpbmcoZS4kcmVmLmxhc3RJbmRleE9mKCIvIikrMSk6InttaXNzaW5nLXR5cGUtaW5mb30iIT09bi50eXBlJiYiYW55IiE9PW4udHlwZXx8KG4uZGVzY3JpcHRpb249bi5kZXNjcmlwdGlvbnx8IiIpLG4uYWxsb3dlZFZhbHVlcz1lLmNvbnN0P2UuY29uc3Q6QXJyYXkuaXNBcnJheShlLmVudW0pP2UuZW51bS5tYXAoKGU9PkFQKGUpKSkuam9pbigi4pSDIik6IiIsImFycmF5Ij09PXQmJmUuaXRlbXMpe3ZhciBvLGE7Y29uc3QgdD1udWxsPT09KG89ZS5pdGVtcyl8fHZvaWQgMD09PW8/dm9pZCAwOm8udHlwZSxyPUFQKGUuaXRlbXMuZGVmYXVsdCk7bi5hcnJheVR5cGU9YCR7ZS50eXBlfSBvZiAke0FycmF5LmlzQXJyYXkodCk/dC5qb2luKCIiKTp0fWAsbi5kZWZhdWx0PXIsbi5hbGxvd2VkVmFsdWVzPWUuaXRlbXMuY29uc3Q/ZS5jb25zdDpBcnJheS5pc0FycmF5KG51bGw9PT0oYT1lLml0ZW1zKXx8dm9pZCAwPT09YT92b2lkIDA6YS5lbnVtKT9lLml0ZW1zLmVudW0ubWFwKChlPT5BUChlKSkpLmpvaW4oIuKUgyIpOiIifXJldHVybiB0Lm1hdGNoKC9pbnRlZ2VyfG51bWJlci9nKSYmKHZvaWQgMD09PWUubWluaW11bSYmdm9pZCAwPT09ZS5leGNsdXNpdmVNaW5pbXVtfHwocis9dm9pZCAwIT09ZS5taW5pbXVtP2BNaW4gJHtlLm1pbmltdW19YDpgTW9yZSB0aGFuICR7ZS5leGNsdXNpdmVNaW5pbXVtfWApLHZvaWQgMD09PWUubWF4aW11bSYmdm9pZCAwPT09ZS5leGNsdXNpdmVNYXhpbXVtfHwocis9dm9pZCAwIT09ZS5tYXhpbXVtP2Ake3I/IuKUgyI6IiJ9TWF4ICR7ZS5tYXhpbXVtfWA6YCR7cj8i4pSDIjoiIn1MZXNzIHRoYW4gJHtlLmV4Y2x1c2l2ZU1heGltdW19YCksdm9pZCAwIT09ZS5tdWx0aXBsZU9mJiYocis9YCR7cj8i4pSDIjoiIn0gbXVsdGlwbGUgb2YgJHtlLm11bHRpcGxlT2Z9YCkpLHQubWF0Y2goL3N0cmluZy9nKSYmKHZvaWQgMCE9PWUubWluTGVuZ3RoJiZ2b2lkIDAhPT1lLm1heExlbmd0aD9yKz1gJHtyPyLilIMiOiIifSR7ZS5taW5MZW5ndGh9IHRvICR7ZS5tYXhMZW5ndGh9IGNoYXJzYDp2b2lkIDAhPT1lLm1pbkxlbmd0aD9yKz1gJHtyPyLilIMiOiIifU1pbiAke2UubWluTGVuZ3RofSBjaGFyc2A6dm9pZCAwIT09ZS5tYXhMZW5ndGgmJihyKz1gTWF4ICR7cj8i4pSDIjoiIn0ke2UubWF4TGVuZ3RofSBjaGFyc2ApKSxuLmNvbnN0cmFpbj1yLG4uaHRtbD1gJHtuLnR5cGV9fnx+JHtuLnJlYWRPcldyaXRlT25seX1+fH4ke24uY29uc3RyYWlufX58fiR7bi5kZWZhdWx0fX58fiR7bi5hbGxvd2VkVmFsdWVzfX58fiR7bi5wYXR0ZXJufX58fiR7bi5kZXNjcmlwdGlvbn1+fH4ke2UudGl0bGV8fCIifX58fiR7bi5kZXByZWNhdGVkPyJkZXByZWNhdGVkIjoiIn1gLG59ZnVuY3Rpb24gT1AoZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlP3tFeGFtcGxlOnt2YWx1ZTpgJHtlfWB9fToiIj09PWU/e0V4YW1wbGU6e3ZhbHVlOiIifX06ZT97RXhhbXBsZTp7dmFsdWU6ZX19OmV9ZnVuY3Rpb24gVFAoZSx0PSJzdHJpbmciKXtpZighZSlyZXR1cm57ZXhhbXBsZVZhbDoiIixleGFtcGxlTGlzdDpbXX07aWYoZS5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7Y29uc3QgdD1PYmplY3QudmFsdWVzKGUpLmZpbHRlcigoZT0+ITEhPT1lWyJ4LWV4YW1wbGUtc2hvdy12YWx1ZSJdKSkubWFwKChlPT4oe3ZhbHVlOiJib29sZWFuIj09dHlwZW9mIGUudmFsdWV8fCJudW1iZXIiPT10eXBlb2YgZS52YWx1ZT9gJHtlLnZhbHVlfWA6ZS52YWx1ZXx8IiIscHJpbnRhYmxlVmFsdWU6QVAoZS52YWx1ZSksc3VtbWFyeTplLnN1bW1hcnl8fCIiLGRlc2NyaXB0aW9uOmUuZGVzY3JpcHRpb258fCIifSkpKTtyZXR1cm57ZXhhbXBsZVZhbDp0Lmxlbmd0aD4wP3RbMF0udmFsdWUudG9TdHJpbmcoKToiIixleGFtcGxlTGlzdDp0fX1pZihBcnJheS5pc0FycmF5KGUpfHwoZT1lP1tlXTpbXSksMD09PWUubGVuZ3RoKXJldHVybntleGFtcGxlVmFsOiIiLGV4YW1wbGVMaXN0OltdfTtpZigiYXJyYXkiPT09dCl7Y29uc3RbdF09ZSxyPWUubWFwKChlPT4oe3ZhbHVlOmUscHJpbnRhYmxlVmFsdWU6QVAoZSl9KSkpO3JldHVybntleGFtcGxlVmFsOnQsZXhhbXBsZUxpc3Q6cn19Y29uc3Qgcj1lWzBdLnRvU3RyaW5nKCksbj1lLm1hcCgoZT0+KHt2YWx1ZTplLnRvU3RyaW5nKCkscHJpbnRhYmxlVmFsdWU6QVAoZSl9KSkpO3JldHVybntleGFtcGxlVmFsOnIsZXhhbXBsZUxpc3Q6bn19ZnVuY3Rpb24gQ1AoZSl7Y29uc3QgdD1lLmV4YW1wbGVzP2UuZXhhbXBsZXNbMF06bnVsbD09PWUuZXhhbXBsZT9udWxsOmUuZXhhbXBsZXx8dm9pZCAwO2lmKCIiPT09dClyZXR1cm4iIjtpZihudWxsPT09dClyZXR1cm4gbnVsbDtpZigwPT09dClyZXR1cm4gMDtpZighMT09PXQpcmV0dXJuITE7aWYodCBpbnN0YW5jZW9mIERhdGUpc3dpdGNoKGUuZm9ybWF0LnRvTG93ZXJDYXNlKCkpe2Nhc2UiZGF0ZSI6cmV0dXJuIHQudG9JU09TdHJpbmcoKS5zcGxpdCgiVCIpWzBdO2Nhc2UidGltZSI6cmV0dXJuIHQudG9JU09TdHJpbmcoKS5zcGxpdCgiVCIpWzFdO2RlZmF1bHQ6cmV0dXJuIHQudG9JU09TdHJpbmcoKX1pZih0KXJldHVybiB0O2lmKDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgpcmV0dXJuIG51bGw7aWYoZS4kcmVmKXJldHVybiBlLiRyZWY7aWYoITE9PT1lLmNvbnN0fHwwPT09ZS5jb25zdHx8bnVsbD09PWUuY29uc3R8fCIiPT09ZS5jb25zdClyZXR1cm4gZS5jb25zdDtpZihlLmNvbnN0KXJldHVybiBlLmNvbnN0O2NvbnN0IHI9QXJyYXkuaXNBcnJheShlLnR5cGUpP2UudHlwZVswXTplLnR5cGU7aWYoIXIpcmV0dXJuIj8iO2lmKHIubWF0Y2goL15pbnRlZ2VyfF5udW1iZXIvZykpe2NvbnN0IHQ9TnVtYmVyLmlzTmFOKE51bWJlcihlLm11bHRpcGxlT2YpKT92b2lkIDA6TnVtYmVyKGUubXVsdGlwbGVPZiksbj1OdW1iZXIuaXNOYU4oTnVtYmVyKGUubWF4aW11bSkpP3ZvaWQgMDpOdW1iZXIoZS5tYXhpbXVtKSxvPU51bWJlci5pc05hTihOdW1iZXIoZS5taW5pbXVtKSk/TnVtYmVyLmlzTmFOKE51bWJlcihlLmV4Y2x1c2l2ZU1pbmltdW0pKT9ufHwwOk51bWJlcihlLmV4Y2x1c2l2ZU1pbmltdW0pKyhyLnN0YXJ0c1dpdGgoImludGVnZXIiKT8xOi4wMDEpOk51bWJlcihlLm1pbmltdW0pO3JldHVybiB0P3Q+PW8/dDpvJXQ9PTA/bzpNYXRoLmNlaWwoby90KSp0Om99aWYoci5tYXRjaCgvXmJvb2xlYW4vZykpcmV0dXJuITE7aWYoci5tYXRjaCgvXm51bGwvZykpcmV0dXJuIG51bGw7aWYoci5tYXRjaCgvXnN0cmluZy9nKSl7aWYoZS5lbnVtKXJldHVybiBlLmVudW1bMF07aWYoZS5jb25zdClyZXR1cm4gZS5jb25zdDtpZihlLnBhdHRlcm4pcmV0dXJuIGUucGF0dGVybjtpZighZS5mb3JtYXQpe2NvbnN0IHQ9TnVtYmVyLmlzTmFOKGUubWluTGVuZ3RoKT92b2lkIDA6TnVtYmVyKGUubWluTGVuZ3RoKSxyPU51bWJlci5pc05hTihlLm1heExlbmd0aCk/dm9pZCAwOk51bWJlcihlLm1heExlbmd0aCksbj10fHwocj42PzY6cnx8dm9pZCAwKTtyZXR1cm4gbj8iQSIucmVwZWF0KG4pOiJzdHJpbmcifXtjb25zdCB0PWAke0RhdGUubm93KCkudG9TdHJpbmcoMTYpfSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygxNil9MGAucmVwZWF0KDE2KTtzd2l0Y2goZS5mb3JtYXQudG9Mb3dlckNhc2UoKSl7Y2FzZSJ1cmwiOmNhc2UidXJpIjpyZXR1cm4iaHR0cDovL2V4YW1wbGUuY29tIjtjYXNlImRhdGUiOnJldHVybiBuZXcgRGF0ZSgwKS50b0lTT1N0cmluZygpLnNwbGl0KCJUIilbMF07Y2FzZSJ0aW1lIjpyZXR1cm4gbmV3IERhdGUoMCkudG9JU09TdHJpbmcoKS5zcGxpdCgiVCIpWzFdO2Nhc2UiZGF0ZS10aW1lIjpyZXR1cm4gbmV3IERhdGUoMCkudG9JU09TdHJpbmcoKTtjYXNlImR1cmF0aW9uIjpyZXR1cm4iUDNZNk00RFQxMkgzME01UyI7Y2FzZSJlbWFpbCI6Y2FzZSJpZG4tZW1haWwiOnJldHVybiJ1c2VyQGV4YW1wbGUuY29tIjtjYXNlImhvc3RuYW1lIjpjYXNlImlkbi1ob3N0bmFtZSI6cmV0dXJuInd3dy5leGFtcGxlLmNvbSI7Y2FzZSJpcHY0IjpyZXR1cm4iMTk4LjUxLjEwMC40MiI7Y2FzZSJpcHY2IjpyZXR1cm4iMjAwMTowZGI4OjViOTY6MDAwMDowMDAwOjQyNmY6OGUxNzo2NDJhIjtjYXNlInV1aWQiOnJldHVyblt0LnN1YnN0cigwLDgpLHQuc3Vic3RyKDgsNCksYDQwMDAtOCR7dC5zdWJzdHIoMTMsMyl9YCx0LnN1YnN0cigxNiwxMildLmpvaW4oIi0iKTtkZWZhdWx0OnJldHVybiIifX19cmV0dXJuIj8ifWZ1bmN0aW9uIGpQKGUsdD0xKXtjb25zdCByPSIgICIucmVwZWF0KHQpO2xldCBuPSIiO2lmKDE9PT10JiYib2JqZWN0IiE9dHlwZW9mIGUpcmV0dXJuYFxuJHtyfSR7ZS50b1N0cmluZygpfWA7Zm9yKGNvbnN0IG8gaW4gZSl7Y29uc3QgYT1lW29dWyI6OlhNTF9UQUciXXx8bztsZXQgaT0iIjtpPUFycmF5LmlzQXJyYXkoZVtvXSk/YVswXVsiOjpYTUxfVEFHIl18fGAke299YDphLG8uc3RhcnRzV2l0aCgiOjoiKXx8KG49QXJyYXkuaXNBcnJheShlW29dKXx8Im9iamVjdCI9PXR5cGVvZiBlW29dP2Ake259XG4ke3J9PCR7aX0+JHtqUChlW29dLHQrMSl9XG4ke3J9PC8ke2l9PmA6YCR7bn1cbiR7cn08JHtpfT4ke2Vbb10udG9TdHJpbmcoKX08LyR7aX0+YCl9cmV0dXJuIG59ZnVuY3Rpb24gSVAoZSx0KXt2YXIgcixuO2lmKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQpe3ZhciBvLGE7aWYoZS50aXRsZSYmKHRbIjo6VElUTEUiXT1lLnRpdGxlKSxlLmRlc2NyaXB0aW9uJiYodFsiOjpERVNDUklQVElPTiJdPWUuZGVzY3JpcHRpb24pLG51bGwhPT0ocj1lLnhtbCkmJnZvaWQgMCE9PXImJnIubmFtZSl0WyI6OlhNTF9UQUciXT1udWxsPT09KG89ZS54bWwpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm5hbWU7aWYobnVsbCE9PShuPWUueG1sKSYmdm9pZCAwIT09biYmbi53cmFwcGVkKXRbIjo6WE1MX1dSQVAiXT1udWxsPT09KGE9ZS54bWwpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLndyYXBwZWQudG9TdHJpbmcoKX19ZnVuY3Rpb24gX1AoZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZSl7ZGVsZXRlIGVbIjo6VElUTEUiXSxkZWxldGUgZVsiOjpERVNDUklQVElPTiJdLGRlbGV0ZSBlWyI6OlhNTF9UQUciXSxkZWxldGUgZVsiOjpYTUxfV1JBUCJdO2Zvcihjb25zdCB0IGluIGUpX1AoZVt0XSl9fWZ1bmN0aW9uIFBQKGUsdCxyKXtmb3IoY29uc3QgbiBpbiB0KXRbbl1bcl09ZX1mdW5jdGlvbiBSUChlLHQscil7bGV0IG49MDtjb25zdCBvPXt9O2Zvcihjb25zdCBhIGluIGUpe2Zvcihjb25zdCBpIGluIHIpaWYob1tgZXhhbXBsZS0ke259YF09ey4uLmVbYV19LG9bYGV4YW1wbGUtJHtufWBdW3RdPXJbaV0sbisrLG4+PTEwKWJyZWFrO2lmKG4+PTEwKWJyZWFrfXJldHVybiBvfWZ1bmN0aW9uIExQKGUsdD17fSl7bGV0IHI9e307aWYoZSl7aWYoZS5hbGxPZil7dmFyIG4sbztjb25zdCBhPXt9O2lmKCEoMSE9PWUuYWxsT2YubGVuZ3RofHxudWxsIT09KG49ZS5hbGxPZlswXSkmJnZvaWQgMCE9PW4mJm4ucHJvcGVydGllc3x8bnVsbCE9PShvPWUuYWxsT2ZbMF0pJiZ2b2lkIDAhPT1vJiZvLml0ZW1zKSl7aWYoZS5hbGxPZlswXS4kcmVmKXJldHVybiJ7ICB9IjtpZihlLmFsbE9mWzBdLnJlYWRPbmx5JiZ0LmluY2x1ZGVSZWFkT25seSl7cmV0dXJuIENQKGUuYWxsT2ZbMF0pfXJldHVybn1lLmFsbE9mLmZvckVhY2goKGU9PntpZigib2JqZWN0Ij09PWUudHlwZXx8ZS5wcm9wZXJ0aWVzfHxlLmFsbE9mfHxlLmFueU9mfHxlLm9uZU9mKXtjb25zdCByPUxQKGUsdCk7T2JqZWN0LmFzc2lnbihhLHIpfWVsc2UgaWYoImFycmF5Ij09PWUudHlwZXx8ZS5pdGVtcyl7Y29uc3Qgcj1bTFAoZSx0KV07T2JqZWN0LmFzc2lnbihhLHIpfWVsc2V7aWYoIWUudHlwZSlyZXR1cm4iIjt7Y29uc3QgdD1gcHJvcCR7T2JqZWN0LmtleXMoYSkubGVuZ3RofWA7YVt0XT1DUChlKX19fSkpLHI9YX1lbHNlIGlmKGUub25lT2Ype2NvbnN0IG49e307aWYoZS5wcm9wZXJ0aWVzKWZvcihjb25zdCByIGluIGUucHJvcGVydGllcyl7dmFyIGE7ZS5wcm9wZXJ0aWVzW3JdLnByb3BlcnRpZXN8fG51bGwhPT0oYT1lLnByb3BlcnRpZXNbcl0ucHJvcGVydGllcykmJnZvaWQgMCE9PWEmJmEuaXRlbXM/bltyXT1MUChlLnByb3BlcnRpZXNbcl0sdCk6bltyXT1DUChlLnByb3BlcnRpZXNbcl0pfWlmKGUub25lT2YubGVuZ3RoPjApe2xldCBvPTA7Zm9yKGNvbnN0IGEgaW4gZS5vbmVPZil7Y29uc3QgaT1MUChlLm9uZU9mW2FdLHQpO2Zvcihjb25zdCB0IGluIGkpe2xldCBzO2lmKE9iamVjdC5rZXlzKG4pLmxlbmd0aD4wKXtpZihudWxsPT09aVt0XXx8Im9iamVjdCIhPXR5cGVvZiBpW3RdKWNvbnRpbnVlO3M9T2JqZWN0LmFzc2lnbihpW3RdLG4pfWVsc2Ugcz1pW3RdO3JbYGV4YW1wbGUtJHtvfWBdPXMsSVAoZS5vbmVPZlthXSxyW2BleGFtcGxlLSR7b31gXSksbysrfX19fWVsc2UgaWYoZS5hbnlPZil7bGV0IG47aWYoIm9iamVjdCI9PT1lLnR5cGV8fGUucHJvcGVydGllcyl7bj17ImV4YW1wbGUtMCI6e319O2Zvcihjb25zdCByIGluIGUucHJvcGVydGllcyl7aWYoZS5leGFtcGxlKXtuPWU7YnJlYWt9ZS5wcm9wZXJ0aWVzW3JdLmRlcHJlY2F0ZWQmJiF0LmluY2x1ZGVEZXByZWNhdGVkfHwoZS5wcm9wZXJ0aWVzW3JdLnJlYWRPbmx5JiYhdC5pbmNsdWRlUmVhZE9ubHl8fGUucHJvcGVydGllc1tyXS53cml0ZU9ubHkmJiF0LmluY2x1ZGVXcml0ZU9ubHl8fChuPVJQKG4scixMUChlLnByb3BlcnRpZXNbcl0sdCkpKSl9fWxldCBvPTA7Zm9yKGNvbnN0IGEgaW4gZS5hbnlPZil7Y29uc3QgaT1MUChlLmFueU9mW2FdLHQpO2Zvcihjb25zdCB0IGluIGkpe2lmKHZvaWQgMCE9PW4pZm9yKGNvbnN0IGUgaW4gbilyW2BleGFtcGxlLSR7b31gXT17Li4ubltlXSwuLi5pW3RdfTtlbHNlIHJbYGV4YW1wbGUtJHtvfWBdPWlbdF07SVAoZS5hbnlPZlthXSxyW2BleGFtcGxlLSR7b31gXSksbysrfX19ZWxzZSBpZigib2JqZWN0Ij09PWUudHlwZXx8ZS5wcm9wZXJ0aWVzKWlmKHJbImV4YW1wbGUtMCJdPXt9LElQKGUsclsiZXhhbXBsZS0wIl0pLGUuZXhhbXBsZSlyWyJleGFtcGxlLTAiXT1lLmV4YW1wbGU7ZWxzZSBmb3IoY29uc3QgbiBpbiBlLnByb3BlcnRpZXMpe3ZhciBpLHMsbCxjLHAsZCx1O2lmKG51bGw9PT0oaT1lLnByb3BlcnRpZXNbbl0pfHx2b2lkIDA9PT1pfHwhaS5kZXByZWNhdGVkfHx0LmluY2x1ZGVEZXByZWNhdGVkKWlmKG51bGw9PT0ocz1lLnByb3BlcnRpZXNbbl0pfHx2b2lkIDA9PT1zfHwhcy5yZWFkT25seXx8dC5pbmNsdWRlUmVhZE9ubHkpaWYobnVsbD09PShsPWUucHJvcGVydGllc1tuXSl8fHZvaWQgMD09PWx8fCFsLndyaXRlT25seXx8dC5pbmNsdWRlV3JpdGVPbmx5KWlmKCJhcnJheSI9PT0obnVsbD09PShjPWUucHJvcGVydGllc1tuXSl8fHZvaWQgMD09PWM/dm9pZCAwOmMudHlwZSl8fG51bGwhPT0ocD1lLnByb3BlcnRpZXNbbl0pJiZ2b2lkIDAhPT1wJiZwLml0ZW1zKWlmKGUucHJvcGVydGllc1tuXS5leGFtcGxlKVBQKGUucHJvcGVydGllc1tuXS5leGFtcGxlLHIsbik7ZWxzZSBpZihudWxsIT09KGQ9ZS5wcm9wZXJ0aWVzW25dKSYmdm9pZCAwIT09ZCYmbnVsbCE9PSh1PWQuaXRlbXMpJiZ2b2lkIDAhPT11JiZ1LmV4YW1wbGUpUFAoW2UucHJvcGVydGllc1tuXS5pdGVtcy5leGFtcGxlXSxyLG4pO2Vsc2V7Y29uc3Qgbz1MUChlLnByb3BlcnRpZXNbbl0uaXRlbXMsdCk7aWYodC51c2VYbWxUYWdGb3JQcm9wKXt2YXIgaCxmO2NvbnN0IHQ9KG51bGw9PT0oaD1lLnByb3BlcnRpZXNbbl0ueG1sKXx8dm9pZCAwPT09aD92b2lkIDA6aC5uYW1lKXx8bjtpZihudWxsIT09KGY9ZS5wcm9wZXJ0aWVzW25dLnhtbCkmJnZvaWQgMCE9PWYmJmYud3JhcHBlZCl7cj1SUChyLHQsSlNPTi5wYXJzZShgeyAiJHt0fSIgOiB7ICIke3R9IiA6ICR7SlNPTi5zdHJpbmdpZnkob1siZXhhbXBsZS0wIl0pfSB9IH1gKSl9ZWxzZSByPVJQKHIsdCxvKX1lbHNle2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gbyllW3RdPVtvW3RdXTtyPVJQKHIsbixlKX19ZWxzZSByPVJQKHIsbixMUChlLnByb3BlcnRpZXNbbl0sdCkpfWVsc2V7aWYoImFycmF5IiE9PWUudHlwZSYmIWUuaXRlbXMpcmV0dXJueyJleGFtcGxlLTAiOkNQKGUpfTt2YXIgbTtpZihlLml0ZW1zfHxlLmV4YW1wbGUpaWYoZS5leGFtcGxlKXJbImV4YW1wbGUtMCJdPWUuZXhhbXBsZTtlbHNlIGlmKG51bGwhPT0obT1lLml0ZW1zKSYmdm9pZCAwIT09bSYmbS5leGFtcGxlKXJbImV4YW1wbGUtMCJdPVtlLml0ZW1zLmV4YW1wbGVdO2Vsc2V7Y29uc3Qgbj1MUChlLml0ZW1zLHQpO2xldCBvPTA7Zm9yKGNvbnN0IHQgaW4gbilyW2BleGFtcGxlLSR7b31gXT1bblt0XV0sSVAoZS5pdGVtcyxyW2BleGFtcGxlLSR7b31gXSksbysrfWVsc2UgclsiZXhhbXBsZS0wIl09W119cmV0dXJuIHJ9fWZ1bmN0aW9uIEZQKGUsdD0wKXt2YXIgcjtsZXQgbj0oZS5kZXNjcmlwdGlvbnx8ZS50aXRsZSkmJihlLm1pbkl0ZW1zfHxlLm1heEl0ZW1zKT8nPHNwYW4gY2xhc3M9ImRlc2NyLWV4cGFuZC10b2dnbGUiPuKelDwvc3Bhbj4nOiIiO2lmKGUudGl0bGU/bj1lLmRlc2NyaXB0aW9uP2Ake259IDxiPiR7ZS50aXRsZX06PC9iPiAke2UuZGVzY3JpcHRpb259PGJyLz5gOmAke259ICR7ZS50aXRsZX08YnIvPmA6ZS5kZXNjcmlwdGlvbiYmKG49YCR7bn0gJHtlLmRlc2NyaXB0aW9ufTxici8+YCksZS5taW5JdGVtcyYmKG49YCR7bn0gPGI+TWluIEl0ZW1zOjwvYj4gJHtlLm1pbkl0ZW1zfWApLGUubWF4SXRlbXMmJihuPWAke259IDxiPk1heCBJdGVtczo8L2I+ICR7ZS5tYXhJdGVtc31gKSx0PjAmJm51bGwhPT0ocj1lLml0ZW1zKSYmdm9pZCAwIT09ciYmci5kZXNjcmlwdGlvbil7bGV0IHQ9IiI7ZS5pdGVtcy5taW5Qcm9wZXJ0aWVzJiYodD1gPGI+TWluIFByb3BlcnRpZXM6PC9iPiAke2UuaXRlbXMubWluUHJvcGVydGllc31gKSxlLml0ZW1zLm1heFByb3BlcnRpZXMmJih0PWAke3R9IDxiPk1heCBQcm9wZXJ0aWVzOjwvYj4gJHtlLml0ZW1zLm1heFByb3BlcnRpZXN9YCksbj1gJHtufSDirpUgJHt0fSBbICR7ZS5pdGVtcy5kZXNjcmlwdGlvbn0gXSBgfXJldHVybiBufWZ1bmN0aW9uIERQKGUsdCxyPTAsbj0iIil7aWYoZSl7aWYoZS5hbGxPZil7Y29uc3Qgbj17fTtpZigxPT09ZS5hbGxPZi5sZW5ndGgmJiFlLmFsbE9mWzBdLnByb3BlcnRpZXMmJiFlLmFsbE9mWzBdLml0ZW1zKXtyZXR1cm5gJHtFUChlLmFsbE9mWzBdKS5odG1sfWB9ZS5hbGxPZi5tYXAoKChlLHQpPT57aWYoIm9iamVjdCI9PT1lLnR5cGV8fGUucHJvcGVydGllc3x8ZS5hbGxPZnx8ZS5hbnlPZnx8ZS5vbmVPZil7Y29uc3Qgbz0oZS5hbnlPZnx8ZS5vbmVPZikmJnQ+MD90OiIiLGE9RFAoZSx7fSxyKzEsbyk7T2JqZWN0LmFzc2lnbihuLGEpfWVsc2UgaWYoImFycmF5Ij09PWUudHlwZXx8ZS5pdGVtcyl7Y29uc3QgdD1EUChlLHt9LHIrMSk7T2JqZWN0LmFzc2lnbihuLHQpfWVsc2V7aWYoIWUudHlwZSlyZXR1cm4iIjt7Y29uc3QgdD1gcHJvcCR7T2JqZWN0LmtleXMobikubGVuZ3RofWAscj1FUChlKTtuW3RdPWAke3IuaHRtbH1gfX19KSksdD1ufWVsc2UgaWYoZS5hbnlPZnx8ZS5vbmVPZil7aWYodFsiOjpkZXNjcmlwdGlvbiJdPWUuZGVzY3JpcHRpb258fCIiLCJvYmplY3QiPT09ZS50eXBlfHxlLnByb3BlcnRpZXMpe3RbIjo6ZGVzY3JpcHRpb24iXT1lLmRlc2NyaXB0aW9ufHwiIix0WyI6OnR5cGUiXT0ib2JqZWN0Ijtmb3IoY29uc3QgbiBpbiBlLnByb3BlcnRpZXMpZS5yZXF1aXJlZCYmZS5yZXF1aXJlZC5pbmNsdWRlcyhuKT90W2Ake259KmBdPURQKGUucHJvcGVydGllc1tuXSx7fSxyKzEpOnRbbl09RFAoZS5wcm9wZXJ0aWVzW25dLHt9LHIrMSl9Y29uc3Qgbz17fSxhPWUuYW55T2Y/ImFueU9mIjoib25lT2YiO2VbYV0uZm9yRWFjaCgoKGUsdCk9PntpZigib2JqZWN0Ij09PWUudHlwZXx8ZS5wcm9wZXJ0aWVzfHxlLmFsbE9mfHxlLmFueU9mfHxlLm9uZU9mKXtjb25zdCByPURQKGUse30pO29bYDo6T1BUSU9OfiR7dCsxfSR7ZS50aXRsZT9gfiR7ZS50aXRsZX1gOiIifWBdPXIsb1tgOjpPUFRJT05+JHt0KzF9JHtlLnRpdGxlP2B+JHtlLnRpdGxlfWA6IiJ9YF1bIjo6cmVhZHdyaXRlIl09IiIsb1siOjp0eXBlIl09Inh4eC1vZi1vcHRpb24ifWVsc2UgaWYoImFycmF5Ij09PWUudHlwZXx8ZS5pdGVtcyl7Y29uc3Qgcj1EUChlLHt9KTtvW2A6Ok9QVElPTn4ke3QrMX0ke2UudGl0bGU/YH4ke2UudGl0bGV9YDoiIn1gXT1yLG9bYDo6T1BUSU9OfiR7dCsxfSR7ZS50aXRsZT9gfiR7ZS50aXRsZX1gOiIifWBdWyI6OnJlYWR3cml0ZSJdPSIiLG9bIjo6dHlwZSJdPSJ4eHgtb2YtYXJyYXkifWVsc2V7Y29uc3Qgcj1gOjpPUFRJT05+JHt0KzF9JHtlLnRpdGxlP2B+JHtlLnRpdGxlfWA6IiJ9YDtvW3JdPWAke0VQKGUpLmh0bWx9YCxvWyI6OnR5cGUiXT0ieHh4LW9mLW9wdGlvbiJ9fSkpLHRbZS5hbnlPZj9gOjpBTll+T0YgJHtufWA6YDo6T05Ffk9GICR7bn1gXT1vLHRbIjo6dHlwZSJdPSJvYmplY3QifWVsc2UgaWYoQXJyYXkuaXNBcnJheShlLnR5cGUpKXtjb25zdCBuPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpLGk9W10scz1bXTtsZXQgbDt2YXIgbztpZihuLnR5cGUuZm9yRWFjaCgoZT0+e3ZhciB0LHI7ZS5tYXRjaCgvaW50ZWdlcnxudW1iZXJ8c3RyaW5nfG51bGx8Ym9vbGVhbi9nKT9pLnB1c2goZSk6ImFycmF5Ij09PWUmJiJzdHJpbmciPT10eXBlb2YobnVsbD09PSh0PW4uaXRlbXMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnR5cGUpJiZudWxsIT09KHI9bi5pdGVtcykmJnZvaWQgMCE9PXImJnIudHlwZS5tYXRjaCgvaW50ZWdlcnxudW1iZXJ8c3RyaW5nfG51bGx8Ym9vbGVhbi9nKT8ic3RyaW5nIj09PW4uaXRlbXMudHlwZSYmbi5pdGVtcy5mb3JtYXQ/aS5wdXNoKGBbJHtuLml0ZW1zLmZvcm1hdH1dYCk6aS5wdXNoKGBbJHtuLml0ZW1zLnR5cGV9XWApOnMucHVzaChlKX0pKSxpLmxlbmd0aD4wKWlmKG4udHlwZT1pLmpvaW4oMj09PWkubGVuZ3RoPyIgb3IgIjoi4pSDIiksbD1FUChuKSwwPT09cy5sZW5ndGgpcmV0dXJuYCR7KG51bGw9PT0obz1sKXx8dm9pZCAwPT09bz92b2lkIDA6by5odG1sKXx8IiJ9YDtpZihzLmxlbmd0aD4wKXt2YXIgYTt0WyI6OnR5cGUiXT0ib2JqZWN0Ijtjb25zdCBvPXsiOjp0eXBlIjoieHh4LW9mLW9wdGlvbiJ9O3MuZm9yRWFjaCgoKHQsYSk9PntpZigibnVsbCI9PT10KW9bYDo6T1BUSU9OfiR7YSsxfWBdPSJOVUxMfnx+fnx+fnx+fnx+fnx+fnx+fnx+fnx+IjtlbHNlIGlmKCJpbnRlZ2VyLCBudW1iZXIsIHN0cmluZywgYm9vbGVhbiwiLmluY2x1ZGVzKGAke3R9LGApKXtuLnR5cGU9QXJyYXkuaXNBcnJheSh0KT90LmpvaW4oIuKUgyIpOnQ7Y29uc3QgZT1FUChuKTtvW2A6Ok9QVElPTn4ke2ErMX1gXT1lLmh0bWx9ZWxzZSBpZigib2JqZWN0Ij09PXQpe2NvbnN0IHQ9eyI6OnRpdGxlIjplLnRpdGxlfHwiIiwiOjpkZXNjcmlwdGlvbiI6ZS5kZXNjcmlwdGlvbnx8IiIsIjo6dHlwZSI6Im9iamVjdCIsIjo6ZGVwcmVjYXRlZCI6ZS5kZXByZWNhdGVkfHwhMX07Zm9yKGNvbnN0IG4gaW4gZS5wcm9wZXJ0aWVzKWUucmVxdWlyZWQmJmUucmVxdWlyZWQuaW5jbHVkZXMobik/dFtgJHtufSpgXT1EUChlLnByb3BlcnRpZXNbbl0se30scisxKTp0W25dPURQKGUucHJvcGVydGllc1tuXSx7fSxyKzEpO29bYDo6T1BUSU9OfiR7YSsxfWBdPXR9ZWxzZSJhcnJheSI9PT10JiYob1tgOjpPUFRJT05+JHthKzF9YF09eyI6OnRpdGxlIjplLnRpdGxlfHwiIiwiOjpkZXNjcmlwdGlvbiI6ZS5kZXNjcmlwdGlvbnx8IiIsIjo6dHlwZSI6ImFycmF5IiwiOjpwcm9wcyI6RFAoZS5pdGVtcyx7fSxyKzEpfSl9KSksb1tgOjpPUFRJT05+JHtzLmxlbmd0aCsxfWBdPShudWxsPT09KGE9bCl8fHZvaWQgMD09PWE/dm9pZCAwOmEuaHRtbCl8fCIiLHRbIjo6T05Ffk9GIl09b319ZWxzZSBpZigib2JqZWN0Ij09PWUudHlwZXx8ZS5wcm9wZXJ0aWVzKXt0WyI6OnRpdGxlIl09ZS50aXRsZXx8IiIsdFsiOjpkZXNjcmlwdGlvbiJdPUZQKGUsciksdFsiOjp0eXBlIl09Im9iamVjdCIsKEFycmF5LmlzQXJyYXkoZS50eXBlKSYmZS50eXBlLmluY2x1ZGVzKCJudWxsIil8fGUubnVsbGFibGUpJiYodFsiOjpkYXRhVHlwZUxhYmVsIl09Im9iamVjdCBvciBudWxsIiksdFsiOjpkZXByZWNhdGVkIl09ZS5kZXByZWNhdGVkfHwhMSx0WyI6OnJlYWR3cml0ZSJdPWUucmVhZE9ubHk/InJlYWRvbmx5IjplLndyaXRlT25seT8id3JpdGVvbmx5IjoiIjtmb3IoY29uc3QgbiBpbiBlLnByb3BlcnRpZXMpZS5yZXF1aXJlZCYmZS5yZXF1aXJlZC5pbmNsdWRlcyhuKT90W2Ake259KmBdPURQKGUucHJvcGVydGllc1tuXSx7fSxyKzEpOnRbbl09RFAoZS5wcm9wZXJ0aWVzW25dLHt9LHIrMSk7Zm9yKGNvbnN0IG4gaW4gZS5wYXR0ZXJuUHJvcGVydGllcyl0W2BbcGF0dGVybjogJHtufV1gXT1EUChlLnBhdHRlcm5Qcm9wZXJ0aWVzW25dLHQscisxKTtlLmFkZGl0aW9uYWxQcm9wZXJ0aWVzJiYodFsiW2FueS1rZXldIl09RFAoZS5hZGRpdGlvbmFsUHJvcGVydGllcyx7fSkpfWVsc2V7aWYoImFycmF5IiE9PWUudHlwZSYmIWUuaXRlbXMpe2NvbnN0IHQ9RVAoZSk7cmV0dXJuIG51bGwhPXQmJnQuaHRtbD9gJHt0Lmh0bWx9YDoiIn12YXIgaTt0WyI6OnRpdGxlIl09ZS50aXRsZXx8IiIsdFsiOjpkZXNjcmlwdGlvbiJdPUZQKGUsciksdFsiOjp0eXBlIl09ImFycmF5IiwoQXJyYXkuaXNBcnJheShlLnR5cGUpJiZlLnR5cGUuaW5jbHVkZXMoIm51bGwiKXx8ZS5udWxsYWJsZSkmJih0WyI6OmRhdGFUeXBlTGFiZWwiXT0iYXJyYXkgb3IgbnVsbCIpLHRbIjo6ZGVwcmVjYXRlZCJdPWUuZGVwcmVjYXRlZHx8ITEsdFsiOjpyZWFkd3JpdGUiXT1lLnJlYWRPbmx5PyJyZWFkb25seSI6ZS53cml0ZU9ubHk/IndyaXRlb25seSI6IiIsbnVsbCE9PShpPWUuaXRlbXMpJiZ2b2lkIDAhPT1pJiZpLml0ZW1zJiYodFsiOjphcnJheS10eXBlIl09ZS5pdGVtcy5pdGVtcy50eXBlKSx0WyI6OnByb3BzIl09RFAoZS5pdGVtcyx7fSxyKzEpfXJldHVybiB0fX1mdW5jdGlvbiBCUChlLHQscj0iIixuPSIiLG89ITAsYT0hMCxpPSJqc29uIixzPSExKXtjb25zdCBsPVtdO2lmKHIpZm9yKGNvbnN0IGUgaW4gcil7bGV0IG49IiIsbz0ianNvbiI7aWYobnVsbCE9dCYmdC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJqc29uIikpe2lmKCJ0ZXh0Ij09PWkpbj0ic3RyaW5nIj09dHlwZW9mIHJbZV0udmFsdWU/cltlXS52YWx1ZTpKU09OLnN0cmluZ2lmeShyW2VdLnZhbHVlLHZvaWQgMCwyKSxvPSJ0ZXh0IjtlbHNlIGlmKG49cltlXS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIHJbZV0udmFsdWUpdHJ5e2NvbnN0IHQ9cltlXS52YWx1ZTtuPUpTT04ucGFyc2UodCksbz0ianNvbiJ9Y2F0Y2godCl7bz0idGV4dCIsbj1yW2VdLnZhbHVlfX1lbHNlIG49cltlXS52YWx1ZSxvPSJ0ZXh0IjtsLnB1c2goe2V4YW1wbGVJZDplLGV4YW1wbGVTdW1tYXJ5OnJbZV0uc3VtbWFyeXx8ZSxleGFtcGxlRGVzY3JpcHRpb246cltlXS5kZXNjcmlwdGlvbnx8IiIsZXhhbXBsZVR5cGU6dCxleGFtcGxlVmFsdWU6bixleGFtcGxlRm9ybWF0Om99KX1lbHNlIGlmKG4pe2xldCBlPSIiLHI9Impzb24iO2lmKG51bGwhPXQmJnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygianNvbiIpKXtpZigidGV4dCI9PT1pKWU9InN0cmluZyI9PXR5cGVvZiBuP246SlNPTi5zdHJpbmdpZnkobix2b2lkIDAsMikscj0idGV4dCI7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIG4pZT1uLHI9Impzb24iO2Vsc2UgaWYoInN0cmluZyI9PXR5cGVvZiBuKXRyeXtlPUpTT04ucGFyc2Uobikscj0ianNvbiJ9Y2F0Y2godCl7cj0idGV4dCIsZT1ufX1lbHNlIGU9bixyPSJ0ZXh0IjtsLnB1c2goe2V4YW1wbGVJZDoiRXhhbXBsZSIsZXhhbXBsZVN1bW1hcnk6IiIsZXhhbXBsZURlc2NyaXB0aW9uOiIiLGV4YW1wbGVUeXBlOnQsZXhhbXBsZVZhbHVlOmUsZXhhbXBsZUZvcm1hdDpyfSl9aWYoMD09PWwubGVuZ3RofHwhMD09PXMpaWYoZSlpZihlLmV4YW1wbGUpbC5wdXNoKHtleGFtcGxlSWQ6IkV4YW1wbGUiLGV4YW1wbGVTdW1tYXJ5OiIiLGV4YW1wbGVEZXNjcmlwdGlvbjoiIixleGFtcGxlVHlwZTp0LGV4YW1wbGVWYWx1ZTplLmV4YW1wbGUsZXhhbXBsZUZvcm1hdDpudWxsIT10JiZ0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoImpzb24iKSYmIm9iamVjdCI9PXR5cGVvZiBlLmV4YW1wbGU/Impzb24iOiJ0ZXh0In0pO2Vsc2UgaWYobnVsbCE9dCYmdC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJqc29uIil8fG51bGwhPXQmJnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygidGV4dCIpfHxudWxsIT10JiZ0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIiovKiIpfHxudWxsIT10JiZ0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoInhtbCIpKXtsZXQgcj0iIixuPSIiLHM9IiIsZD0iIjt2YXIgYyxwO2lmKG51bGwhPXQmJnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygieG1sIikpcj1udWxsIT09KGM9ZS54bWwpJiZ2b2lkIDAhPT1jJiZjLm5hbWU/YDwke2UueG1sLm5hbWV9ICR7ZS54bWwubmFtZXNwYWNlP2B4bWxucz0iJHtlLnhtbC5uYW1lc3BhY2V9ImA6IiJ9PmA6Ijxyb290PiIsbj1udWxsIT09KHA9ZS54bWwpJiZ2b2lkIDAhPT1wJiZwLm5hbWU/YDwvJHtlLnhtbC5uYW1lfT5gOiI8L3Jvb3Q+IixzPSJ0ZXh0IjtlbHNlIHM9aTtjb25zdCB1PUxQKGUse2luY2x1ZGVSZWFkT25seTpvLGluY2x1ZGVXcml0ZU9ubHk6YSxkZXByZWNhdGVkOiEwLHVzZVhtbFRhZ0ZvclByb3A6bnVsbD09dD92b2lkIDA6dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJ4bWwiKX0pO2xldCBoPTA7Zm9yKGNvbnN0IGUgaW4gdSl7aWYoIXVbZV0pY29udGludWU7Y29uc3Qgbz11W2VdWyI6OlRJVExFIl18fCJFeGFtcGxlICIrICsraCxhPXVbZV1bIjo6REVTQ1JJUFRJT04iXXx8IiI7bnVsbCE9dCYmdC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCJ4bWwiKT9kPWA8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/PlxuJHtyfSR7alAodVtlXSwxKX1cbiR7bn1gOihfUCh1W2VdKSxkPSJ0ZXh0Ij09PWk/SlNPTi5zdHJpbmdpZnkodVtlXSxudWxsLDIpOnVbZV0pLGwucHVzaCh7ZXhhbXBsZUlkOmUsZXhhbXBsZVN1bW1hcnk6byxleGFtcGxlRGVzY3JpcHRpb246YSxleGFtcGxlVHlwZTp0LGV4YW1wbGVGb3JtYXQ6cyxleGFtcGxlVmFsdWU6ZH0pfX1lbHNlIG51bGwhPXQmJnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygiam9zZSIpP2wucHVzaCh7ZXhhbXBsZUlkOiJFeGFtcGxlIixleGFtcGxlU3VtbWFyeToiQmFzZTY0IEVuY29kZWQiLGV4YW1wbGVEZXNjcmlwdGlvbjoiIixleGFtcGxlVHlwZTp0LGV4YW1wbGVWYWx1ZTplLnBhdHRlcm58fCJiWEpwYmc9PSIsZXhhbXBsZUZvcm1hdDoidGV4dCJ9KTpsLnB1c2goe2V4YW1wbGVJZDoiRXhhbXBsZSIsZXhhbXBsZVN1bW1hcnk6IiIsZXhhbXBsZURlc2NyaXB0aW9uOiIiLGV4YW1wbGVUeXBlOnQsZXhhbXBsZVZhbHVlOiIiLGV4YW1wbGVGb3JtYXQ6InRleHQifSk7ZWxzZSBsLnB1c2goe2V4YW1wbGVJZDoiRXhhbXBsZSIsZXhhbXBsZVN1bW1hcnk6IiIsZXhhbXBsZURlc2NyaXB0aW9uOiIiLGV4YW1wbGVUeXBlOnQsZXhhbXBsZVZhbHVlOiIiLGV4YW1wbGVGb3JtYXQ6InRleHQifSk7cmV0dXJuIGx9ZnVuY3Rpb24gTlAoZSl7cmV0dXJuImFwcGxpY2F0aW9uL2pzb24iPT09ZT8ianNvbiI6ImFwcGxpY2F0aW9uL3htbCI9PT1lPyJ4bWwiOm51bGx9ZnVuY3Rpb24gcVAoZSl7aWYoZS5zY2hlbWEpcmV0dXJuW2Uuc2NoZW1hLG51bGwsbnVsbF07aWYoZS5jb250ZW50KWZvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKGUuY29udGVudCkpaWYoZS5jb250ZW50W3RdLnNjaGVtYSlyZXR1cm5bZS5jb250ZW50W3RdLnNjaGVtYSxOUCh0KSxlLmNvbnRlbnRbdF1dO3JldHVybltudWxsLG51bGwsbnVsbF19Y3VzdG9tRWxlbWVudHMuZGVmaW5lKCJqc29uLXRyZWUiLGNsYXNzIGV4dGVuZHMgaWV7c3RhdGljIGdldCBwcm9wZXJ0aWVzKCl7cmV0dXJue2RhdGE6e3R5cGU6T2JqZWN0fSxyZW5kZXJTdHlsZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJyZW5kZXItc3R5bGUifX19c3RhdGljIGdldCBzdHlsZXMoKXtyZXR1cm5bS2UsU1AsSmUsY2AKICAgICAgOmhvc3R7CiAgICAgICAgZGlzcGxheTpmbGV4OwogICAgICB9CiAgICAgIDp3aGVyZShidXR0b24sIGlucHV0W3R5cGU9ImNoZWNrYm94Il0sIFt0YWJpbmRleD0iMCJdKTpmb2N1cy12aXNpYmxlIHsgYm94LXNoYWRvdzogdmFyKC0tZm9jdXMtc2hhZG93KTsgfQogICAgICA6d2hlcmUoaW5wdXRbdHlwZT0idGV4dCJdLCBpbnB1dFt0eXBlPSJwYXNzd29yZCJdLCBzZWxlY3QsIHRleHRhcmVhKTpmb2N1cy12aXNpYmxlIHsgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsgfQogICAgICAuanNvbi10cmVlIHsKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ubyk7CiAgICAgICAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpOwogICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOwogICAgICAgIG92ZXJmbG93OmhpZGRlbjsKICAgICAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7CiAgICAgICAgZmxleDoxOwogICAgICAgIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA2cHgpOwogICAgICAgIG1pbi1oZWlnaHQ6IDQwcHg7CiAgICAgICAgZGlyZWN0aW9uOiBsdHI7IAogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgIH0KCiAgICAgIC5vcGVuLWJyYWNrZXQgewogICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOwogICAgICAgIHBhZGRpbmc6IDAgMjBweCAwIDA7CiAgICAgICAgY3Vyc29yOnBvaW50ZXI7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgICAgYm9yZGVyLXJhZGl1czozcHg7CiAgICAgIH0KICAgICAgLmNsb3NlLWJyYWNrZXQgewogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgIGJvcmRlci1yYWRpdXM6M3B4OwogICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOwogICAgICB9CiAgICAgIC5vcGVuLWJyYWNrZXQ6aG92ZXIgewogICAgICAgIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0taG92ZXItY29sb3IpOwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICAgIH0KICAgICAgLm9wZW4tYnJhY2tldC5leHBhbmRlZDpob3ZlciB+IC5pbnNpZGUtYnJhY2tldCB7CiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1mZzMpOwogICAgICB9CiAgICAgIC5vcGVuLWJyYWNrZXQuZXhwYW5kZWQ6aG92ZXIgfiAuY2xvc2UtYnJhY2tldCB7CiAgICAgICAgY29sb3I6dmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICAgIH0KICAgICAgLmluc2lkZS1icmFja2V0IHsKICAgICAgICBwYWRkaW5nLWxlZnQ6MTJweDsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIGJvcmRlci1sZWZ0OjFweCBkb3R0ZWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgICAgfQogICAgICAub3Blbi1icmFja2V0LmNvbGxhcHNlZCArIC5pbnNpZGUtYnJhY2tldCwKICAgICAgLm9wZW4tYnJhY2tldC5jb2xsYXBzZWQgKyAuaW5zaWRlLWJyYWNrZXQgKyAuY2xvc2UtYnJhY2tldCB7CiAgICAgICAgZGlzcGxheTpub25lOwogICAgICB9CgogICAgICAuc3RyaW5ne2NvbG9yOnZhcigtLWdyZWVuKTt9CiAgICAgIC5udW1iZXJ7Y29sb3I6dmFyKC0tYmx1ZSk7fQogICAgICAubnVsbHtjb2xvcjp2YXIoLS1yZWQpO30KICAgICAgLmJvb2xlYW57Y29sb3I6dmFyKC0tcHVycGxlKTt9CiAgICAgIC5vYmplY3R7Y29sb3I6dmFyKC0tZmcpfQogICAgICAudG9vbGJhciB7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIHRvcDo1cHg7CiAgICAgICAgcmlnaHQ6NnB4OwogICAgICAgIGRpc3BsYXk6ZmxleDsKICAgICAgICBwYWRkaW5nOjJweDsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICB9YCxudF19cmVuZGVyKCl7cmV0dXJuIHFgCiAgICAgIDxkaXYgY2xhc3MgPSAianNvbi10cmVlIiAgQGNsaWNrPScke2U9PntlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImJ0bi1jb3B5Iik/c3QoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLG51bGwsMiksZSk6dGhpcy50b2dnbGVFeHBhbmQoZSl9fSc+CiAgICAgICAgPGRpdiBjbGFzcz0ndG9vbGJhcic+IAogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1idG4gYnRuLWNvcHkiIHBhcnQ9ImJ0biBidG4tZmlsbCBidG4tY29weSI+IENvcHkgPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgICAke3RoaXMuZ2VuZXJhdGVUcmVlKHRoaXMuZGF0YSwhMCl9CiAgICAgIDwvZGl2PiAgCiAgICBgfWdlbmVyYXRlVHJlZShlLHQ9ITEpe2lmKG51bGw9PT1lKXJldHVybiBxYDxkaXYgY2xhc3M9Im51bGwiIHN0eWxlPSJkaXNwbGF5OmlubGluZTsiPm51bGw8L2Rpdj5gO2lmKCJvYmplY3QiPT10eXBlb2YgZSYmZSBpbnN0YW5jZW9mIERhdGU9PSExKXtjb25zdCByPUFycmF5LmlzQXJyYXkoZSk/ImFycmF5IjoicHVyZV9vYmplY3QiO3JldHVybiAwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoP3FgJHtBcnJheS5pc0FycmF5KGUpPyJbIF0sIjoieyB9LCJ9YDpxYAogICAgICA8ZGl2IGNsYXNzPSJvcGVuLWJyYWNrZXQgZXhwYW5kZWQgJHsiYXJyYXkiPT09cj8iYXJyYXkiOiJvYmplY3QifSIgPiAkeyJhcnJheSI9PT1yPyJbIjoieyJ9PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Imluc2lkZS1icmFja2V0Ij4KICAgICAgICAke09iamVjdC5rZXlzKGUpLm1hcCgoKHQsbixvKT0+cWAKICAgICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0iPiAKICAgICAgICAgICAgJHsicHVyZV9vYmplY3QiPT09cj9xYCIke3R9IjpgOiIifQogICAgICAgICAgICAke3RoaXMuZ2VuZXJhdGVUcmVlKGVbdF0sbj09PW8ubGVuZ3RoLTEpfQogICAgICAgICAgPC9kaXY+YCkpfQogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY2xvc2UtYnJhY2tldCI+JHsiYXJyYXkiPT09cj8iXSI6In0ifSR7dD8iIjoiLCJ9PC9kaXY+CiAgICAgIGB9cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgRGF0ZT9xYDxzcGFuIGNsYXNzPSIke3R5cGVvZiBlfSI+IiR7ZX0iPC9zcGFuPiR7dD8iIjoiLCJ9YDpxYDxzcGFuIGNsYXNzPSIke3R5cGVvZiBlfSI+JHtlfTwvc3Bhbj4ke3Q/IiI6IiwifWB9dG9nZ2xlRXhwYW5kKGUpe2NvbnN0IHQ9ZS50YXJnZXQ7ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJvcGVuLWJyYWNrZXQiKSYmKHQuY2xhc3NMaXN0LmNvbnRhaW5zKCJleHBhbmRlZCIpPyh0LmNsYXNzTGlzdC5yZXBsYWNlKCJleHBhbmRlZCIsImNvbGxhcHNlZCIpLGUudGFyZ2V0LmlubmVySFRNTD1lLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImFycmF5Iik/IlsuLi5dIjoiey4uLn0iKToodC5jbGFzc0xpc3QucmVwbGFjZSgiY29sbGFwc2VkIiwiZXhwYW5kZWQiKSxlLnRhcmdldC5pbm5lckhUTUw9ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJhcnJheSIpPyJbIjoieyIpKX19KTtjb25zdCBVUD1jYAoKKiwgKjpiZWZvcmUsICo6YWZ0ZXIgeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CgoudHIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleDogbm9uZTsKICB3aWR0aDogMTAwJTsKICBib3gtc2l6aW5nOiBjb250ZW50LWJveDsKICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkIHRyYW5zcGFyZW50OwogIHRyYW5zaXRpb246IG1heC1oZWlnaHQgMC4zcyBlYXNlLW91dDsKfQoudGQgewogIGRpc3BsYXk6IGJsb2NrOwogIGZsZXg6IDAgMCBhdXRvOwp9Ci5rZXkgewogIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm8pOwogIHdoaXRlLXNwYWNlOiBub3JtYWw7CiAgd29yZC1icmVhazogYnJlYWstYWxsOwp9CgouY29sbGFwc2VkLWFsbC1kZXNjciAua2V5IHsKICBvdmVyZmxvdzpoaWRkZW47Cn0KLmV4cGFuZGVkLWFsbC1kZXNjciAua2V5LWRlc2NyIC5kZXNjci1leHBhbmQtdG9nZ2xlIHsKICBkaXNwbGF5Om5vbmU7Cn0KCi5rZXktZGVzY3IgLmRlc2NyLWV4cGFuZC10b2dnbGUgewogIGRpc3BsYXk6aW5saW5lLWJsb2NrOwogIHVzZXItc2VsZWN0Om5vbmU7CiAgY29sb3I6IHZhcigtLWZnKTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOwogIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMnMgZWFzZTsKfQoKLmV4cGFuZGVkLWRlc2NyIC5rZXktZGVzY3IgLmRlc2NyLWV4cGFuZC10b2dnbGUgewogIHRyYW5zZm9ybTogcm90YXRlKDI3MGRlZykKfQoKLmtleS1kZXNjciAuZGVzY3ItZXhwYW5kLXRvZ2dsZTpob3ZlciB7CiAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOwp9CgouZXhwYW5kZWQtZGVzY3IgLm1vcmUtY29udGVudCB7IGRpc3BsYXk6bm9uZTsgfQoKLmtleS1kZXNjciB7CiAgZm9udC1mYW1pbHk6dmFyKC0tZm9udC1yZWd1bGFyKTsKICBjb2xvcjp2YXIoLS1saWdodC1mZyk7CiAgZmxleC1zaHJpbms6IDE7CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBkaXNwbGF5OiBub25lOwp9Ci5leHBhbmRlZC1kZXNjciAua2V5LWRlc2NyewogIG1heC1oZWlnaHQ6YXV0bzsKICBvdmVyZmxvdzpoaWRkZW47CiAgZGlzcGxheTogbm9uZTsKfQoKLnh4eC1vZi1rZXkgewogIGZvbnQtc2l6ZTogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpIC0gMnB4KTsgCiAgZm9udC13ZWlnaHQ6Ym9sZDsgCiAgYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1wcmltYXJ5LWNvbG9yKTsgCiAgY29sb3I6dmFyKC0tcHJpbWFyeS1jb2xvci1pbnZlcnQpOyAKICBib3JkZXItcmFkaXVzOjJweDsKICBsaW5lLWhlaWdodDpjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA2cHgpOwogIHBhZGRpbmc6MHB4IDVweDsgCiAgbWFyZ2luLWJvdHRvbToxcHg7IAogIGRpc3BsYXk6aW5saW5lLWJsb2NrOwp9CgoueHh4LW9mLWRlc2NyIHsKICBmb250LWZhbWlseTogdmFyKC0tZm9udC1yZWd1bGFyKTsKICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgLSAxcHgpOwogIG1hcmdpbi1sZWZ0OiAycHg7Cn0KCi5zdHJpLCAuc3RyaW5nLCAudXJpLCAudXJsLCAuYnl0ZSwgLmJpbmEsIC5kYXRlLCAucGFzcywgLmlwdjQsIC5pcHY0LCAudXVpZCwgLmVtYWksIC5ob3N0IHtjb2xvcjp2YXIoLS1ncmVlbik7fQouaW50ZSwgLm51bWIsIC5udW1iZXIsIC5pbnQ2LCAuaW50MywgLmZsb2EsIC5kb3ViLCAuZGVjaSAuYmx1ZSB7Y29sb3I6dmFyKC0tYmx1ZSk7fQoubnVsbCB7Y29sb3I6dmFyKC0tcmVkKTt9Ci5ib29sLCAuYm9vbGVhbntjb2xvcjp2YXIoLS1vcmFuZ2UpfQouZW51bSB7Y29sb3I6dmFyKC0tcHVycGxlKX0KLmNvbnMge2NvbG9yOnZhcigtLXB1cnBsZSl9Ci5yZWN1IHtjb2xvcjp2YXIoLS1icm93bil9Ci50b29sYmFyIHsKICBkaXNwbGF5OmZsZXg7CiAgd2lkdGg6MTAwJTsKICBwYWRkaW5nOiAycHggMDsKICBjb2xvcjp2YXIoLS1wcmltYXJ5LWNvbG9yKTsKfQoudG9vbGJhci1pdGVtIHsKICBjdXJzb3I6cG9pbnRlcjsKICBwYWRkaW5nOjVweCAwOwogIG1hcmdpbjowIDJweDsKfQouc2NoZW1hLXJvb3QtdHlwZSB7CiAgY3Vyc29yOmF1dG87CiAgY29sb3I6dmFyKC0tZmcyKTsKICBmb250LXdlaWdodDogYm9sZDsKICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwp9Ci50b29sYmFyLWl0ZW06Zmlyc3Qtb2YtdHlwZSB7IG1hcmdpbjowIDJweCAwIDA7fQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA1MDBweCkgewogIC5rZXktZGVzY3IgewogICAgZGlzcGxheTogYmxvY2s7CiAgfQogIC5leHBhbmRlZC1kZXNjciAua2V5LWRlc2NyewogICAgZGlzcGxheTogYmxvY2s7CiAgfQp9CmA7Y3VzdG9tRWxlbWVudHMuZGVmaW5lKCJzY2hlbWEtdHJlZSIsY2xhc3MgZXh0ZW5kcyBpZXtzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKXtyZXR1cm57ZGF0YTp7dHlwZTpPYmplY3R9LHNjaGVtYUV4cGFuZExldmVsOnt0eXBlOk51bWJlcixhdHRyaWJ1dGU6InNjaGVtYS1leHBhbmQtbGV2ZWwifSxzY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCJ9LGFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUifSxzY2hlbWFIaWRlUmVhZE9ubHk6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2NoZW1hLWhpZGUtcmVhZC1vbmx5In0sc2NoZW1hSGlkZVdyaXRlT25seTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtaGlkZS13cml0ZS1vbmx5In19fWNvbm5lY3RlZENhbGxiYWNrKCl7c3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKSwoIXRoaXMuc2NoZW1hRXhwYW5kTGV2ZWx8fHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw8MSkmJih0aGlzLnNjaGVtYUV4cGFuZExldmVsPTk5OTk5KSx0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQmJiJ0cnVlIGZhbHNlIi5pbmNsdWRlcyh0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQpfHwodGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkPSJmYWxzZSIpLHRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5JiYidHJ1ZSBmYWxzZSIuaW5jbHVkZXModGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkpfHwodGhpcy5zY2hlbWFIaWRlUmVhZE9ubHk9InRydWUiKSx0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkmJiJ0cnVlIGZhbHNlIi5pbmNsdWRlcyh0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkpfHwodGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5PSJ0cnVlIil9c3RhdGljIGdldCBzdHlsZXMoKXtyZXR1cm5bS2UsVVAsU1AsY2AKICAgICAgLnRyZWUgewogICAgICAgIGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpOwogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgZGlyZWN0aW9uOiBsdHI7CiAgICAgICAgbGluZS1oZWlnaHQ6Y2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgNnB4KTsKICAgICAgfQogICAgICAudHJlZSAudHI6aG92ZXJ7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1ob3Zlci1jb2xvcik7CiAgICAgIH0KICAgICAgLmNvbGxhcHNlZC1hbGwtZGVzY3IgLnRyOm5vdCguZXhwYW5kZWQtZGVzY3IpIHsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIG1heC1oZWlnaHQ6Y2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgOHB4KTsKICAgICAgfQogICAgICAudHJlZSAua2V5IHsKICAgICAgICBtYXgtd2lkdGg6IDMwMHB4OwogICAgICB9CiAgICAgIC5rZXkuZGVwcmVjYXRlZCAua2V5LWxhYmVsIHsKICAgICAgICBjb2xvcjogdmFyKC0tcmVkKTsKICAgICAgfQogICAgICAudHIuZXhwYW5kZWQ6aG92ZXIgPiAudGQua2V5ID4gLm9wZW4tYnJhY2tldCB7CiAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOwogICAgICB9CiAgICAgIC50ci5leHBhbmRlZDpob3ZlciArIC5pbnNpZGUtYnJhY2tldCB7CiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1mZzMpOwogICAgICB9CiAgICAgIC50ci5leHBhbmRlZDpob3ZlciArIC5pbnNpZGUtYnJhY2tldCArIC5jbG9zZS1icmFja2V0IHsKICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICAgIH0KICAgICAgLmluc2lkZS1icmFja2V0Lnh4eC1vZi1vcHRpb24gewogICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgIH0KICAgICAgLm9wZW4tYnJhY2tldHsKICAgICAgICBkaXNwbGF5OmlubGluZS1ibG9jazsKICAgICAgICBwYWRkaW5nOiAwIDIwcHggMCAwOwogICAgICAgIGN1cnNvcjpwb2ludGVyOwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgIGJvcmRlci1yYWRpdXM6M3B4OwogICAgICB9CiAgICAgIC5vcGVuLWJyYWNrZXQ6aG92ZXIgewogICAgICAgIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0taG92ZXItY29sb3IpOwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICAgIH0KICAgICAgLmNsb3NlLWJyYWNrZXR7CiAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7CiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ubyk7CiAgICAgIH0KICAgICAgLnRyLmNvbGxhcHNlZCArIC5pbnNpZGUtYnJhY2tldCwKICAgICAgLnRyLmNvbGxhcHNlZCArIC5pbnNpZGUtYnJhY2tldCArIC5jbG9zZS1icmFja2V0ewogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgZGlzcGxheTpub25lOwogICAgICB9CiAgICAgIC5pbnNpZGUtYnJhY2tldC5vYmplY3QsCiAgICAgIC5pbnNpZGUtYnJhY2tldC5hcnJheSB7CiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBkb3R0ZWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgICAgfWAsbnRdfXJlbmRlcigpe3ZhciBlLHQscjtyZXR1cm4gcWAKICAgICAgPGRpdiBjbGFzcz0idHJlZSAkeyJ0cnVlIj09PXRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZD8iZXhwYW5kZWQtYWxsLWRlc2NyIjoiY29sbGFwc2VkLWFsbC1kZXNjciJ9IiBAY2xpY2s9IiR7ZT0+dGhpcy5oYW5kbGVBbGxFdmVudHMoZSl9Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJ0b29sYmFyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InRvb2xiYXItaXRlbSBzY2hlbWEtcm9vdC10eXBlICR7KG51bGw9PT0oZT10aGlzLmRhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplWyI6OnR5cGUiXSl8fCIifSAiPiAkeyhudWxsPT09KHQ9dGhpcy5kYXRhKXx8dm9pZCAwPT09dD92b2lkIDA6dFsiOjp0eXBlIl0pfHwiIn0gPC9kaXY+CiAgICAgICAgICAkeyJ0cnVlIj09PXRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZT9xYAogICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MSI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBwYXJ0PSJzY2hlbWEtdG9vbGJhci1pdGVtIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlIiBjbGFzcz0ndG9vbGJhci1pdGVtIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlJz4gCiAgICAgICAgICAgICAgICAkeyJ0cnVlIj09PXRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZD8iU2luZ2xlIGxpbmUgZGVzY3JpcHRpb24iOiJNdWx0aWxpbmUgZGVzY3JpcHRpb24ifQogICAgICAgICAgICAgIDwvZGl2PmA6IiJ9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPHNwYW4gcGFydD0ic2NoZW1hLWRlc2NyaXB0aW9uIiBjbGFzcz0nbS1tYXJrZG93bic+ICR7UV8oV2UoKG51bGw9PT0ocj10aGlzLmRhdGEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyWyI6OmRlc2NyaXB0aW9uIl0pfHwiIikpfTwvc3Bhbj4KICAgICAgICAke3RoaXMuZGF0YT9xYAogICAgICAgICAgICAke3RoaXMuZ2VuZXJhdGVUcmVlKCJhcnJheSI9PT10aGlzLmRhdGFbIjo6dHlwZSJdP3RoaXMuZGF0YVsiOjpwcm9wcyJdOnRoaXMuZGF0YSx0aGlzLmRhdGFbIjo6dHlwZSJdLHRoaXMuZGF0YVsiOjphcnJheS10eXBlIl18fCIiKX1gOnFgPHNwYW4gY2xhc3M9J21vbm8tZm9udCcgc3R5bGU9J2NvbG9yOnZhcigtLXJlZCknPiBTY2hlbWEgbm90IGZvdW5kIDwvc3Bhbj5gfQogICAgICA8L2Rpdj4gIAogICAgYH1nZW5lcmF0ZVRyZWUoZSx0PSJvYmplY3QiLHI9IiIsbj0iIixvPSIiLGE9MCxpPTAscz0iIil7dmFyIGw7aWYoInRydWUiPT09dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkpe2lmKCJhcnJheSI9PT10JiYicmVhZG9ubHkiPT09cylyZXR1cm47aWYoInJlYWRvbmx5Ij09PShudWxsPT1lP3ZvaWQgMDplWyI6OnJlYWR3cml0ZSJdKSlyZXR1cm59aWYoInRydWUiPT09dGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5KXtpZigiYXJyYXkiPT09dCYmIndyaXRlb25seSI9PT1zKXJldHVybjtpZigid3JpdGVvbmx5Ij09PShudWxsPT1lP3ZvaWQgMDplWyI6OnJlYWR3cml0ZSJdKSlyZXR1cm59aWYoIWUpcmV0dXJuIHFgPGRpdiBjbGFzcz0ibnVsbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lOyI+CiAgICAgICAgPHNwYW4gY2xhc3M9ImtleS1sYWJlbCB4eHgtb2Yta2V5Ij4gJHtuLnJlcGxhY2UoIjo6T1BUSU9OfiIsIiIpfTwvc3Bhbj4KICAgICAgICAkeyJhcnJheSI9PT10P3FgPHNwYW4gY2xhc3M9J21vbm8tZm9udCc+IFsgXSA8L3NwYW4+YDoib2JqZWN0Ij09PXQ/cWA8c3BhbiBjbGFzcz0nbW9uby1mb250Jz4geyB9IDwvc3Bhbj5gOnFgPHNwYW4gY2xhc3M9J21vbm8tZm9udCc+IHNjaGVtYSB1bmRlZmluZWQgPC9zcGFuPmB9CiAgICAgIDwvZGl2PmA7aWYoMD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aClyZXR1cm4gcWA8c3BhbiBjbGFzcz0ia2V5IG9iamVjdCI+JHtufTp7IH08L3NwYW4+YDtsZXQgYz0iIixwPSIiO2lmKG4uc3RhcnRzV2l0aCgiOjpPTkV+T0YiKXx8bi5zdGFydHNXaXRoKCI6OkFOWX5PRiIpKWM9bi5yZXBsYWNlKCI6OiIsIiIpLnJlcGxhY2UoIn4iLCIgIik7ZWxzZSBpZihuLnN0YXJ0c1dpdGgoIjo6T1BUSU9OIikpe2NvbnN0IGU9bi5zcGxpdCgifiIpO1ssYyxwXT1lfWVsc2UgYz1uO2NvbnN0IGQ9NDAwLTEyKmk7bGV0IHU9IiIsaD0iIjtjb25zdCBmPW51bGwhPT0obD1lWyI6OnR5cGUiXSkmJnZvaWQgMCE9PWwmJmwuc3RhcnRzV2l0aCgieHh4LW9mIik/YTphKzEsbT0ieHh4LW9mLW9wdGlvbiI9PT10fHwieHh4LW9mLW9wdGlvbiI9PT1lWyI6OnR5cGUiXXx8bi5zdGFydHNXaXRoKCI6Ok9QVElPTiIpP2k6aSsxO2lmKCJvYmplY3QiPT09ZVsiOjp0eXBlIl0pImFycmF5Ij09PXQ/KHU9YTx0aGlzLnNjaGVtYUV4cGFuZExldmVsP3FgPHNwYW4gY2xhc3M9Im9wZW4tYnJhY2tldCBhcnJheS1vZi1vYmplY3QiID5bezwvc3Bhbj5gOnFgPHNwYW4gY2xhc3M9Im9wZW4tYnJhY2tldCBhcnJheS1vZi1vYmplY3QiPlt7Li4ufV08L3NwYW4+YCxoPSJ9XSIpOih1PWE8dGhpcy5zY2hlbWFFeHBhbmRMZXZlbD9xYDxzcGFuIGNsYXNzPSJvcGVuLWJyYWNrZXQgb2JqZWN0Ij57PC9zcGFuPmA6cWA8c3BhbiBjbGFzcz0ib3Blbi1icmFja2V0IG9iamVjdCI+ey4uLn08L3NwYW4+YCxoPSJ9Iik7ZWxzZSBpZigiYXJyYXkiPT09ZVsiOjp0eXBlIl0paWYoImFycmF5Ij09PXQpe2NvbnN0IGU9Im9iamVjdCIhPT1yP3I6IiI7dT1hPHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw/cWA8c3BhbiBjbGFzcz0ib3Blbi1icmFja2V0IGFycmF5LW9mLWFycmF5IiBkYXRhLWFycmF5LXR5cGU9IiR7ZX0iPltbICR7ZX0gPC9zcGFuPmA6cWA8c3BhbiBjbGFzcz0ib3Blbi1icmFja2V0IGFycmF5LW9mLWFycmF5IiAgZGF0YS1hcnJheS10eXBlPSIke2V9Ij5bWy4uLl1dPC9zcGFuPmAsaD0iXV0ifWVsc2UgdT1hPHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw/cWA8c3BhbiBjbGFzcz0ib3Blbi1icmFja2V0IGFycmF5Ij5bPC9zcGFuPmA6cWA8c3BhbiBjbGFzcz0ib3Blbi1icmFja2V0IGFycmF5Ij5bLi4uXTwvc3Bhbj5gLGg9Il0iO3ZhciB5O2lmKCJvYmplY3QiPT10eXBlb2YgZSlyZXR1cm4gcWAKICAgICAgICA8ZGl2IGNsYXNzPSJ0ciAke2E8dGhpcy5zY2hlbWFFeHBhbmRMZXZlbHx8bnVsbCE9PSh5PWVbIjo6dHlwZSJdKSYmdm9pZCAwIT09eSYmeS5zdGFydHNXaXRoKCJ4eHgtb2YiKT8iZXhwYW5kZWQiOiJjb2xsYXBzZWQifSAke2VbIjo6dHlwZSJdfHwibm8tdHlwZS1pbmZvIn0iIHRpdGxlPSIke2VbIjo6ZGVwcmVjYXRlZCJdPyJEZXByZWNhdGVkIjoiIn0iPgogICAgICAgICAgPGRpdiBjbGFzcz0idGQga2V5ICR7ZVsiOjpkZXByZWNhdGVkIl0/ImRlcHJlY2F0ZWQiOiIifSIgc3R5bGU9J21pbi13aWR0aDoke2R9cHgnPgogICAgICAgICAgICAkeyJ4eHgtb2Ytb3B0aW9uIj09PWVbIjo6dHlwZSJdfHwieHh4LW9mLWFycmF5Ij09PWVbIjo6dHlwZSJdfHxuLnN0YXJ0c1dpdGgoIjo6T1BUSU9OIik/cWA8c3BhbiBjbGFzcz0na2V5LWxhYmVsIHh4eC1vZi1rZXknPiAke2N9PC9zcGFuPjxzcGFuIGNsYXNzPSJ4eHgtb2YtZGVzY3IiPiR7cH08L3NwYW4+YDoiOjpwcm9wcyI9PT1jfHwiOjpBUlJBWX5PRiI9PT1jPyIiOmE+MD9xYDxzcGFuIGNsYXNzPSJrZXktbGFiZWwiIHRpdGxlPSIkeyJyZWFkb25seSI9PT1zPyJSZWFkLU9ubHkiOiJ3cml0ZW9ubHkiPT09cz8iV3JpdGUtT25seSI6IiJ9Ij4KICAgICAgICAgICAgICAgICAgICAgICR7ZVsiOjpkZXByZWNhdGVkIl0/IuKclyI6IiJ9CiAgICAgICAgICAgICAgICAgICAgICAke2MucmVwbGFjZSgvXCokLywiIil9JHtjLmVuZHNXaXRoKCIqIik/cWA8c3BhbiBzdHlsZT0iY29sb3I6dmFyKC0tcmVkKSI+Kjwvc3Bhbj5gOiIifSR7InJlYWRvbmx5Ij09PXM/cWAg8J+GgWA6IndyaXRlb25seSI9PT1zP3FgIPCfhoZgOnN9OgogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5gOiIifQogICAgICAgICAgICAke3V9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS1kZXNjciBtLW1hcmtkb3duLXNtYWxsJz4ke1FfKFdlKG98fCIiKSl9PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0naW5zaWRlLWJyYWNrZXQgJHtlWyI6OnR5cGUiXXx8Im5vLXR5cGUtaW5mbyJ9JyBzdHlsZT0ncGFkZGluZy1sZWZ0OiR7Inh4eC1vZi1vcHRpb24iPT09ZVsiOjp0eXBlIl18fCJ4eHgtb2YtYXJyYXkiPT09ZVsiOjp0eXBlIl0/MDoxMn1weDsnPgogICAgICAgICAgJHtBcnJheS5pc0FycmF5KGUpJiZlWzBdP3FgJHt0aGlzLmdlbmVyYXRlVHJlZShlWzBdLCJ4eHgtb2Ytb3B0aW9uIiwiIiwiOjpBUlJBWX5PRiIsIiIsZixtLGVbMF1bIjo6cmVhZHdyaXRlIl0pfWA6cWAKICAgICAgICAgICAgICAke09iamVjdC5rZXlzKGUpLm1hcCgodD0+e3ZhciByO3JldHVybiBxYAogICAgICAgICAgICAgICAgJHtbIjo6dGl0bGUiLCI6OmRlc2NyaXB0aW9uIiwiOjp0eXBlIiwiOjpwcm9wcyIsIjo6ZGVwcmVjYXRlZCIsIjo6YXJyYXktdHlwZSIsIjo6cmVhZHdyaXRlIiwiOjpkYXRhVHlwZUxhYmVsIl0uaW5jbHVkZXModCk/ImFycmF5Ij09PWVbdF1bIjo6dHlwZSJdfHwib2JqZWN0Ij09PWVbdF1bIjo6dHlwZSJdP3FgJHt0aGlzLmdlbmVyYXRlVHJlZSgiYXJyYXkiPT09ZVt0XVsiOjp0eXBlIl0/ZVt0XVsiOjpwcm9wcyJdOmVbdF0sZVt0XVsiOjp0eXBlIl0sZVt0XVsiOjphcnJheS10eXBlIl18fCIiLHQsZVt0XVsiOjpkZXNjcmlwdGlvbiJdLGYsbSxlW3RdWyI6OnJlYWR3cml0ZSJdP2VbdF1bIjo6cmVhZHdyaXRlIl06IiIpfWA6IiI6cWAke3RoaXMuZ2VuZXJhdGVUcmVlKCJhcnJheSI9PT1lW3RdWyI6OnR5cGUiXT9lW3RdWyI6OnByb3BzIl06ZVt0XSxlW3RdWyI6OnR5cGUiXSxlW3RdWyI6OmFycmF5LXR5cGUiXXx8IiIsdCwobnVsbD09PShyPWVbdF0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyWyI6OmRlc2NyaXB0aW9uIl0pfHwiIixmLG0sZVt0XVsiOjpyZWFkd3JpdGUiXT9lW3RdWyI6OnJlYWR3cml0ZSJdOiIiKX1gfQogICAgICAgICAgICAgIGB9KSl9CiAgICAgICAgICAgIGB9CiAgICAgICAgPC9kaXY+CiAgICAgICAgJHtlWyI6OnR5cGUiXSYmZVsiOjp0eXBlIl0uaW5jbHVkZXMoInh4eC1vZiIpPyIiOnFgPGRpdiBjbGFzcz0nY2xvc2UtYnJhY2tldCc+ICR7aH0gPC9kaXY+YH0KICAgICAgYDtjb25zdFtnLHYsYix4LHcsJCxrLFMsQV09ZS5zcGxpdCgifnx+Iik7aWYoIvCfhoEiPT09diYmInRydWUiPT09dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkpcmV0dXJuO2lmKCLwn4aGIj09PXYmJiJ0cnVlIj09PXRoaXMuc2NoZW1hSGlkZVdyaXRlT25seSlyZXR1cm47Y29uc3QgRT1nLnJlcGxhY2UoL+KUgy4qL2csIiIpLnJlcGxhY2UoL1teYS16QS1aMC05K10vZywiIikuc3Vic3RyaW5nKDAsNCkudG9Mb3dlckNhc2UoKSxPPSIiKyhifHx4fHx3fHwkP2A8c3BhbiBjbGFzcz0iZGVzY3ItZXhwYW5kLXRvZ2dsZSAkeyJ0cnVlIj09PXRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZD8iZXhwYW5kZWQtZGVzY3IiOiIifSI+4p6UPC9zcGFuPmA6IiIpO2xldCBUPSIiLEM9IiI7cmV0dXJuImFycmF5Ij09PXQ/InJlYWRvbmx5Ij09PXM/KFQ9IvCfhoEiLEM9IlJlYWQtT25seSIpOiJ3cml0ZW9ubHkiPT09cyYmKFQ9IvCfhoYiLEM9IldyaXRlLU9ubHkiKToi8J+GgSI9PT12PyhUPSLwn4aBIixDPSJSZWFkLU9ubHkiKToi8J+GhiI9PT12JiYoVD0i8J+GhiIsQz0iV3JpdGUtT25seSIpLHFgCiAgICAgIDxkaXYgY2xhc3MgPSAidHIgcHJpbWl0aXZlIiB0aXRsZT0iJHtBPyJEZXByZWNhdGVkIjoiIn0iPgogICAgICAgIDxkaXYgY2xhc3M9InRkIGtleSAke0F9IiBzdHlsZT0nbWluLXdpZHRoOiR7ZH1weCc+CiAgICAgICAgICAke0E/cWA8c3BhbiBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKTsnPuKclzwvc3Bhbj5gOiIifQogICAgICAgICAgJHtjLmVuZHNXaXRoKCIqIik/cWA8c3BhbiBjbGFzcz0ia2V5LWxhYmVsIj4ke2Muc3Vic3RyaW5nKDAsYy5sZW5ndGgtMSl9PC9zcGFuPjxzcGFuIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpOyc+Kjwvc3Bhbj46YDpuLnN0YXJ0c1dpdGgoIjo6T1BUSU9OIik/cWA8c3BhbiBjbGFzcz0na2V5LWxhYmVsIHh4eC1vZi1rZXknPiR7Y308L3NwYW4+PHNwYW4gY2xhc3M9Inh4eC1vZi1kZXNjciI+JHtwfTwvc3Bhbj5gOnFgPHNwYW4gY2xhc3M9ImtleS1sYWJlbCI+JHtjfTo8L3NwYW4+YH0KICAgICAgICAgIDxzcGFuIGNsYXNzPSIke0V9IiB0aXRsZT0iJHtDfSI+IAogICAgICAgICAgICAkeyJhcnJheSI9PT10P2BbJHtnfV1gOmAke2d9YH0KICAgICAgICAgICAgJHtUfQogICAgICAgICAgPC9zcGFuPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS1kZXNjcic+CiAgICAgICAgICAke298fFN8fGs/cWAke3FgPHNwYW4gY2xhc3M9Im0tbWFya2Rvd24tc21hbGwiPgogICAgICAgICAgICAgICAgJHtRXyhXZSgiYXJyYXkiPT09dD9gJHtPfSAke299YDpTP2Ake099IDxiPiR7U306PC9iPiAke2t9YDpgJHtPfSAke2t9YCkpfQogICAgICAgICAgICAgIDwvc3Bhbj5gfWA6IiJ9ICAKICAgICAgICAgICR7Yj9xYDxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOmFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Jz48c3BhbiBjbGFzcz0nYm9sZC10ZXh0Jz5Db25zdHJhaW50czogPC9zcGFuPiR7Yn08L2Rpdj5gOiIifQogICAgICAgICAgJHt4P3FgPGRpdiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7IGxpbmUtYnJlYWs6YW55d2hlcmU7IG1hcmdpbi1yaWdodDo4cHgnPjxzcGFuIGNsYXNzPSdib2xkLXRleHQnPkRlZmF1bHQ6IDwvc3Bhbj4ke3h9PC9kaXY+YDoiIn0KICAgICAgICAgICR7dz9xYDxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOmFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Jz48c3BhbiBjbGFzcz0nYm9sZC10ZXh0Jz4keyJjb25zdCI9PT1nPyJWYWx1ZSI6IkFsbG93ZWQifTogPC9zcGFuPiR7d308L2Rpdj5gOiIifQogICAgICAgICAgJHskP3FgPGRpdiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7IGxpbmUtYnJlYWs6IGFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Jz48c3BhbiBjbGFzcz0nYm9sZC10ZXh0Jz5QYXR0ZXJuOiA8L3NwYW4+JHskfTwvZGl2PmA6IiJ9CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgYH1oYW5kbGVBbGxFdmVudHMoZSl7aWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJvcGVuLWJyYWNrZXQiKSl0aGlzLnRvZ2dsZU9iamVjdEV4cGFuZChlKTtlbHNlIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygic2NoZW1hLW11bHRpbGluZS10b2dnbGUiKSl0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQ9InRydWUiPT09dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkPyJmYWxzZSI6InRydWUiO2Vsc2UgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJkZXNjci1leHBhbmQtdG9nZ2xlIikpe2NvbnN0IHQ9ZS50YXJnZXQuY2xvc2VzdCgiLnRyIik7dCYmKHQuY2xhc3NMaXN0LnRvZ2dsZSgiZXhwYW5kZWQtZGVzY3IiKSx0LnN0eWxlLm1heEhlaWdodD10LnNjcm9sbEhlaWdodCl9fXRvZ2dsZU9iamVjdEV4cGFuZChlKXtjb25zdCB0PWUudGFyZ2V0LmNsb3Nlc3QoIi50ciIpO3QuY2xhc3NMaXN0LmNvbnRhaW5zKCJleHBhbmRlZCIpPyh0LmNsYXNzTGlzdC5yZXBsYWNlKCJleHBhbmRlZCIsImNvbGxhcHNlZCIpLGUudGFyZ2V0LmlubmVySFRNTD1lLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImFycmF5LW9mLW9iamVjdCIpPyJbey4uLn1dIjplLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImFycmF5LW9mLWFycmF5Iik/IltbLi4uXV0iOmUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiYXJyYXkiKT8iWy4uLl0iOiJ7Li4ufSIpOih0LmNsYXNzTGlzdC5yZXBsYWNlKCJjb2xsYXBzZWQiLCJleHBhbmRlZCIpLGUudGFyZ2V0LmlubmVySFRNTD1lLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImFycmF5LW9mLW9iamVjdCIpPyJbeyI6ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJhcnJheS1vZi1hcnJheSIpP2BbWyAke2UudGFyZ2V0LmRhdGFzZXQuYXJyYXlUeXBlfWA6ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJvYmplY3QiKT8ieyI6IlsiKX19KTtjdXN0b21FbGVtZW50cy5kZWZpbmUoInRhZy1pbnB1dCIsY2xhc3MgZXh0ZW5kcyBpZXtyZW5kZXIoKXtsZXQgZT0iIjtyZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSYmKGU9cWAke3RoaXMudmFsdWUuZmlsdGVyKChlPT4ic3RyaW5nIj09dHlwZW9mIGUmJiIiIT09ZS50cmltKCkpKS5tYXAoKGU9PnFgPHNwYW4gY2xhc3M9J3RhZyc+JHtlfTwvc3Bhbj5gKSl9YCkscWAKICAgICAgPGRpdiBjbGFzcz0ndGFncyc+CiAgICAgICAgJHtlfQogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0nZWRpdG9yJyBAcGFzdGU9IiR7ZT0+dGhpcy5hZnRlclBhc3RlKGUpfSIgQGtleWRvd249IiR7dGhpcy5hZnRlcktleURvd259IiBAYmx1cj0iJHt0aGlzLm9uQmx1cn0iIHBsYWNlaG9sZGVyPSIke3RoaXMucGxhY2Vob2xkZXJ8fCIifSI+CiAgICAgIDwvZGl2PgogICAgYH1zdGF0aWMgZ2V0IHByb3BlcnRpZXMoKXtyZXR1cm57cGxhY2Vob2xkZXI6e3R5cGU6U3RyaW5nfSx2YWx1ZTp7dHlwZTpBcnJheSxhdHRyaWJ1dGU6InZhbHVlIn19fWF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhlLHQscil7InZhbHVlIj09PWUmJnImJnQhPT1yJiYodGhpcy52YWx1ZT1yLnNwbGl0KCIsIikuZmlsdGVyKChlPT4iIiE9PWUudHJpbSgpKSkpLHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhlLHQscil9YWZ0ZXJQYXN0ZShlKXtjb25zdCB0PShlLmNsaXBib2FyZERhdGF8fHdpbmRvdy5jbGlwYm9hcmREYXRhKS5nZXREYXRhKCJUZXh0Iikscj10P3Quc3BsaXQoIiwiKS5maWx0ZXIoKGU9PiIiIT09ZS50cmltKCkpKToiIjtyJiYoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKT90aGlzLnZhbHVlPVsuLi50aGlzLnZhbHVlLC4uLnJdOnRoaXMudmFsdWU9ciksZS5wcmV2ZW50RGVmYXVsdCgpfWFmdGVyS2V5RG93bihlKXsxMz09PWUua2V5Q29kZT8oZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksZS50YXJnZXQudmFsdWUmJihBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpP3RoaXMudmFsdWU9Wy4uLnRoaXMudmFsdWUsZS50YXJnZXQudmFsdWVdOnRoaXMudmFsdWU9W2UudGFyZ2V0LnZhbHVlXSxlLnRhcmdldC52YWx1ZT0iIikpOjg9PT1lLmtleUNvZGUmJjA9PT1lLnRhcmdldC52YWx1ZS5sZW5ndGgmJkFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkmJnRoaXMudmFsdWUubGVuZ3RoPjAmJih0aGlzLnZhbHVlLnNwbGljZSgtMSksdGhpcy52YWx1ZT1bLi4udGhpcy52YWx1ZV0pfW9uQmx1cihlKXtlLnRhcmdldC52YWx1ZSYmKEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSk/dGhpcy52YWx1ZT1bLi4udGhpcy52YWx1ZSxlLnRhcmdldC52YWx1ZV06dGhpcy52YWx1ZT1bZS50YXJnZXQudmFsdWVdLGUudGFyZ2V0LnZhbHVlPSIiKX1zdGF0aWMgZ2V0IHN0eWxlcygpe3JldHVybltjYAogICAgICAudGFncyB7CiAgICAgICAgZGlzcGxheTpmbGV4OwogICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgIHBhZGRpbmc6MDsKICAgICAgICBib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpOwogICAgICAgIGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgICAgICBjdXJzb3I6dGV4dDsKICAgICAgICBvdmVyZmxvdzpoaWRkZW47CiAgICAgICAgYmFja2dyb3VuZDp2YXIoLS1pbnB1dC1iZyk7CiAgICAgIH0KICAgICAgLnRhZywgLmVkaXRvciB7CiAgICAgICAgcGFkZGluZzozcHg7CiAgICAgICAgbWFyZ2luOjJweDsKICAgICAgfQogICAgICAudGFnewogICAgICAgIGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJnMyk7CiAgICAgICAgY29sb3I6dmFyKC0tZmczKTsKICAgICAgICBib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpOwogICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7CiAgICAgIH0KICAgICAgLnRhZzpob3ZlciB+ICNjdXJzb3IgewogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICB9CiAgICAgIC5lZGl0b3IgewogICAgICAgIGZsZXg6MTsKICAgICAgICBib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgIGNvbG9yOnZhcigtLWZnKTsKICAgICAgICBtaW4td2lkdGg6NjBweDsKICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0OwogICAgICAgIGZvbnQtZmFtaWx5OmluaGVyaXQ7CiAgICAgICAgYmFja2dyb3VuZDp0cmFuc3BhcmVudDsKICAgICAgICBmb250LXNpemU6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDFweCk7CiAgICAgIH0KICAgICAgLmVkaXRvcjpmb2N1cy12aXNpYmxlIHsKICAgICAgICBvdXRsaW5lOiAxcHggc29saWQ7CiAgICAgIH0KICAgICAgLmVkaXRvcjo6cGxhY2Vob2xkZXIgewogICAgICAgIGNvbG9yOiB2YXIoLS1wbGFjZWhvbGRlci1jb2xvcik7CiAgICAgICAgb3BhY2l0eToxOwogICAgICB9CiAgICBgXX19KTtjdXN0b21FbGVtZW50cy5kZWZpbmUoImFwaS1yZXF1ZXN0IixjbGFzcyBleHRlbmRzIGlle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnJlc3BvbnNlTWVzc2FnZT0iIix0aGlzLnJlc3BvbnNlU3RhdHVzPSJzdWNjZXNzIix0aGlzLnJlc3BvbnNlSGVhZGVycz0iIix0aGlzLnJlc3BvbnNlVGV4dD0iIix0aGlzLnJlc3BvbnNlVXJsPSIiLHRoaXMuY3VybFN5bnRheD0iIix0aGlzLmFjdGl2ZVJlc3BvbnNlVGFiPSJyZXNwb25zZSIsdGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZT0iIix0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlFeGFtcGxlPSIiLHRoaXMuYWN0aXZlUGFyYW1ldGVyU2NoZW1hVGFicz17fX1zdGF0aWMgZ2V0IHByb3BlcnRpZXMoKXtyZXR1cm57c2VydmVyVXJsOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNlcnZlci11cmwifSxzZXJ2ZXJzOnt0eXBlOkFycmF5fSxtZXRob2Q6e3R5cGU6U3RyaW5nfSxwYXRoOnt0eXBlOlN0cmluZ30sc2VjdXJpdHk6e3R5cGU6QXJyYXl9LHBhcmFtZXRlcnM6e3R5cGU6QXJyYXl9LHJlcXVlc3RfYm9keTp7dHlwZTpPYmplY3R9LGFwaV9rZXlzOnt0eXBlOkFycmF5fSxwYXJzZXI6e3R5cGU6T2JqZWN0fSxhY2NlcHQ6e3R5cGU6U3RyaW5nfSxjYWxsYmFjazp7dHlwZTpTdHJpbmd9LHdlYmhvb2s6e3R5cGU6U3RyaW5nfSxyZXNwb25zZU1lc3NhZ2U6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZTohMX0scmVzcG9uc2VUZXh0Ont0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ITF9LHJlc3BvbnNlSGVhZGVyczp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiExfSxyZXNwb25zZVN0YXR1czp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiExfSxyZXNwb25zZVVybDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiExfSxjdXJsU3ludGF4Ont0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ITF9LGZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiZmlsbC1yZXF1ZXN0LWZpZWxkcy13aXRoLWV4YW1wbGUifSxhbGxvd1RyeTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhbGxvdy10cnkifSxzaG93Q3VybEJlZm9yZVRyeTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzaG93LWN1cmwtYmVmb3JlLXRyeSJ9LHJlbmRlclN0eWxlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InJlbmRlci1zdHlsZSJ9LHNjaGVtYVN0eWxlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNjaGVtYS1zdHlsZSJ9LGFjdGl2ZVNjaGVtYVRhYjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhY3RpdmUtc2NoZW1hLXRhYiJ9LGFjdGl2ZVBhcmFtZXRlclNjaGVtYVRhYnM6e3R5cGU6T2JqZWN0LGNvbnZlcnRlcjp7ZnJvbUF0dHJpYnV0ZTplPT5KU09OLnBhcnNlKGUpLHRvQXR0cmlidXRlOmU9PkpTT04uc3RyaW5naWZ5KGUpfSxhdHRyaWJ1dGU6ImFjdGl2ZS1wYXJhbWV0ZXItc2NoZW1hLXRhYnMifSxzY2hlbWFFeHBhbmRMZXZlbDp7dHlwZTpOdW1iZXIsYXR0cmlidXRlOiJzY2hlbWEtZXhwYW5kLWxldmVsIn0sc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQifSxhbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlIn0sc2NoZW1hSGlkZVJlYWRPbmx5Ont0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNjaGVtYS1oaWRlLXJlYWQtb25seSJ9LHNjaGVtYUhpZGVXcml0ZU9ubHk6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2NoZW1hLWhpZGUtd3JpdGUtb25seSJ9LGZldGNoQ3JlZGVudGlhbHM6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiZmV0Y2gtY3JlZGVudGlhbHMifSxhY3RpdmVSZXNwb25zZVRhYjp7dHlwZTpTdHJpbmd9LHNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNlbGVjdGVkLXJlcXVlc3QtYm9keS10eXBlIn0sc2VsZWN0ZWRSZXF1ZXN0Qm9keUV4YW1wbGU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2VsZWN0ZWQtcmVxdWVzdC1ib2R5LWV4YW1wbGUifX19c3RhdGljIGdldCBzdHlsZXMoKXtyZXR1cm5bWmUsSmUsS2UsWWUsU1AsZXQsWGUsY2AKICAgICAgICAqLCAqOmJlZm9yZSwgKjphZnRlciB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgICAgICA6d2hlcmUoYnV0dG9uLCBpbnB1dFt0eXBlPSJjaGVja2JveCJdLCBbdGFiaW5kZXg9IjAiXSk6Zm9jdXMtdmlzaWJsZSB7IGJveC1zaGFkb3c6IHZhcigtLWZvY3VzLXNoYWRvdyk7IH0KICAgICAgICA6d2hlcmUoaW5wdXRbdHlwZT0idGV4dCJdLCBpbnB1dFt0eXBlPSJwYXNzd29yZCJdLCBzZWxlY3QsIHRleHRhcmVhKTpmb2N1cy12aXNpYmxlIHsgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsgfQogICAgICAgIHRhZy1pbnB1dDpmb2N1cy13aXRoaW4geyBvdXRsaW5lOiAxcHggc29saWQ7fQogICAgICAgIC5yZWFkLW1vZGUgewogICAgICAgICAgbWFyZ2luLXRvcDogMjRweDsKICAgICAgICB9CiAgICAgICAgLnBhcmFtLW5hbWUsCiAgICAgICAgLnBhcmFtLXR5cGUgewogICAgICAgICAgbWFyZ2luOiAxcHggMDsKICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgbGluZS1oZWlnaHQ6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7CiAgICAgICAgfQogICAgICAgIC5wYXJhbS1uYW1lIHsKICAgICAgICAgIGNvbG9yOiB2YXIoLS1mZyk7IAogICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ubyk7CiAgICAgICAgfQogICAgICAgIC5wYXJhbS1uYW1lLmRlcHJlY2F0ZWQgeyAKICAgICAgICAgIGNvbG9yOiB2YXIoLS1yZWQpOwogICAgICAgIH0KICAgICAgICAucGFyYW0tdHlwZXsKICAgICAgICAgIGNvbG9yOiB2YXIoLS1saWdodC1mZyk7IAogICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtcmVndWxhcik7CiAgICAgICAgfQogICAgICAgIC5wYXJhbS1jb25zdHJhaW50ewogICAgICAgICAgbWluLXdpZHRoOjEwMHB4OwogICAgICAgIH0KICAgICAgICAucGFyYW0tY29uc3RyYWludDplbXB0eXsKICAgICAgICAgIGRpc3BsYXk6bm9uZTsKICAgICAgICB9CiAgICAgICAgLnRvcC1nYXB7bWFyZ2luLXRvcDoyNHB4O30KCiAgICAgICAgLnRleHRhcmVhIHsKICAgICAgICAgIG1pbi1oZWlnaHQ6MjIwcHg7IAogICAgICAgICAgcGFkZGluZzo1cHg7CiAgICAgICAgICByZXNpemU6dmVydGljYWw7CiAgICAgICAgICBkaXJlY3Rpb246IGx0cjsKICAgICAgICB9CiAgICAgICAgLmV4YW1wbGU6Zmlyc3QtY2hpbGQgewogICAgICAgICAgbWFyZ2luLXRvcDogLTlweDsKICAgICAgICB9CgogICAgICAgIC5yZXNwb25zZS1tZXNzYWdlewogICAgICAgICAgZm9udC13ZWlnaHQ6Ym9sZDsKICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICAgIH0KICAgICAgICAucmVzcG9uc2UtbWVzc2FnZS5lcnJvciB7CiAgICAgICAgICBjb2xvcjp2YXIoLS1yZWQpOwogICAgICAgIH0KICAgICAgICAucmVzcG9uc2UtbWVzc2FnZS5zdWNjZXNzIHsKICAgICAgICAgIGNvbG9yOnZhcigtLWJsdWUpOwogICAgICAgIH0KCiAgICAgICAgLmZpbGUtaW5wdXQtY29udGFpbmVyIHsKICAgICAgICAgIGFsaWduLWl0ZW1zOmZsZXgtZW5kOwogICAgICAgIH0KICAgICAgICAuZmlsZS1pbnB1dC1jb250YWluZXIgLmlucHV0LXNldDpmaXJzdC1jaGlsZCAuZmlsZS1pbnB1dC1yZW1vdmUtYnRuewogICAgICAgICAgdmlzaWJpbGl0eTpoaWRkZW47CiAgICAgICAgfQoKICAgICAgICAuZmlsZS1pbnB1dC1yZW1vdmUtYnRuewogICAgICAgICAgZm9udC1zaXplOjE2cHg7CiAgICAgICAgICBjb2xvcjp2YXIoLS1yZWQpOwogICAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgIGJhY2tncm91bmQ6bm9uZTsKICAgICAgICAgIGN1cnNvcjpwb2ludGVyOwogICAgICAgIH0KCiAgICAgICAgLnYtdGFiLWJ0biB7CiAgICAgICAgICBmb250LXNpemU6IHZhcigtLXNtYWwtZm9udC1zaXplKTsKICAgICAgICAgIGhlaWdodDoyNHB4OyAKICAgICAgICAgIGJvcmRlcjpub25lOyAKICAgICAgICAgIGJhY2tncm91bmQ6bm9uZTsgCiAgICAgICAgICBvcGFjaXR5OiAwLjM7CiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICBwYWRkaW5nOiA0cHggOHB4OwogICAgICAgIH0KICAgICAgICAudi10YWItYnRuLmFjdGl2ZSB7CiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnKTsKICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7CiAgICAgICAgICAudGV4dGFyZWEgewogICAgICAgICAgICBwYWRkaW5nOjhweDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDcwcHgpIHsKICAgICAgICAgIC5oaWRlLWluLXNtYWxsLXNjcmVlbiB7CiAgICAgICAgICAgIGRpc3BsYXk6bm9uZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIGAsbnRdfXJlbmRlcigpe3JldHVybiBxYAogICAgPGRpdiBjbGFzcz0iY29sIHJlZ3VsYXItZm9udCByZXF1ZXN0LXBhbmVsICR7InJlYWQgZm9jdXNlZCIuaW5jbHVkZXModGhpcy5yZW5kZXJTdHlsZSl8fCJ0cnVlIj09PXRoaXMuY2FsbGJhY2s/InJlYWQtbW9kZSI6InZpZXctbW9kZSJ9Ij4KICAgICAgPGRpdiBjbGFzcz0iICR7InRydWUiPT09dGhpcy5jYWxsYmFjaz8idGlueS10aXRsZSI6InJlcS1yZXMtdGl0bGUifSAiPiAKICAgICAgICAkeyJ0cnVlIj09PXRoaXMuY2FsbGJhY2s/IkNBTExCQUNLIFJFUVVFU1QiOiJSRVFVRVNUIn0KICAgICAgPC9kaXY+CiAgICAgIDxkaXY+CiAgICAgICAgJHt2UChbdGhpcy5tZXRob2QsdGhpcy5wYXRoLHRoaXMuYWxsb3dUcnksdGhpcy5wYXJhbWV0ZXJzLHRoaXMuYWN0aXZlUGFyYW1ldGVyU2NoZW1hVGFic10sKCgpPT50aGlzLmlucHV0UGFyYW1ldGVyc1RlbXBsYXRlKCJwYXRoIikpKX0KICAgICAgICAke3ZQKFt0aGlzLm1ldGhvZCx0aGlzLnBhdGgsdGhpcy5hbGxvd1RyeSx0aGlzLnBhcmFtZXRlcnMsdGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzXSwoKCk9PnRoaXMuaW5wdXRQYXJhbWV0ZXJzVGVtcGxhdGUoInF1ZXJ5IikpKX0KICAgICAgICAke3RoaXMucmVxdWVzdEJvZHlUZW1wbGF0ZSgpfQogICAgICAgICR7dlAoW3RoaXMubWV0aG9kLHRoaXMucGF0aCx0aGlzLmFsbG93VHJ5LHRoaXMucGFyYW1ldGVycyx0aGlzLmFjdGl2ZVBhcmFtZXRlclNjaGVtYVRhYnNdLCgoKT0+dGhpcy5pbnB1dFBhcmFtZXRlcnNUZW1wbGF0ZSgiaGVhZGVyIikpKX0KICAgICAgICAke3ZQKFt0aGlzLm1ldGhvZCx0aGlzLnBhdGgsdGhpcy5hbGxvd1RyeSx0aGlzLnBhcmFtZXRlcnMsdGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzXSwoKCk9PnRoaXMuaW5wdXRQYXJhbWV0ZXJzVGVtcGxhdGUoImNvb2tpZSIpKSl9CiAgICAgICAgJHsiZmFsc2UiPT09dGhpcy5hbGxvd1RyeT8iIjpxYCR7dGhpcy5hcGlDYWxsVGVtcGxhdGUoKX1gfQogICAgICA8L2Rpdj4gIAogICAgPC9kaXY+CiAgICBgfWFzeW5jIHVwZGF0ZWQoKXsidHJ1ZSI9PT10aGlzLnNob3dDdXJsQmVmb3JlVHJ5JiZ0aGlzLmFwcGx5Q1VSTFN5bnRheCh0aGlzLnNoYWRvd1Jvb3QpLCJ0cnVlIj09PXRoaXMud2ViaG9vayYmKHRoaXMuYWxsb3dUcnk9ImZhbHNlIil9YXN5bmMgc2F2ZUV4YW1wbGVTdGF0ZSgpe2lmKCJmb2N1c2VkIj09PXRoaXMucmVuZGVyU3R5bGUpe1suLi50aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgidGV4dGFyZWEucmVxdWVzdC1ib2R5LXBhcmFtLXVzZXItaW5wdXQiKV0uZm9yRWFjaCgoZT0+e2UuZGF0YXNldC51c2VyX2V4YW1wbGU9ZS52YWx1ZX0pKTtbLi4udGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RleHRhcmVhW2RhdGEtcHR5cGU9ImZvcm0tZGF0YSJdJyldLmZvckVhY2goKGU9PntlLmRhdGFzZXQudXNlcl9leGFtcGxlPWUudmFsdWV9KSksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9fWFzeW5jIHVwZGF0ZUV4YW1wbGVzRnJvbURhdGFBdHRyKCl7aWYoImZvY3VzZWQiPT09dGhpcy5yZW5kZXJTdHlsZSl7Wy4uLnRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCJ0ZXh0YXJlYS5yZXF1ZXN0LWJvZHktcGFyYW0tdXNlci1pbnB1dCIpXS5mb3JFYWNoKChlPT57ZS52YWx1ZT1lLmRhdGFzZXQudXNlcl9leGFtcGxlfHxlLmRhdGFzZXQuZXhhbXBsZX0pKTtbLi4udGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RleHRhcmVhW2RhdGEtcHR5cGU9ImZvcm0tZGF0YSJdJyldLmZvckVhY2goKGU9PntlLnZhbHVlPWUuZGF0YXNldC51c2VyX2V4YW1wbGV8fGUuZGF0YXNldC5leGFtcGxlfSkpLHRoaXMucmVxdWVzdFVwZGF0ZSgpfX1yZW5kZXJFeGFtcGxlKGUsdCxyKXt2YXIgbjtyZXR1cm4gcWAKICAgICAgJHsiYXJyYXkiPT09dD8iWyI6IiJ9CiAgICAgIDxhCiAgICAgICAgcGFydD0iYW5jaG9yIGFuY2hvci1wYXJhbS1leGFtcGxlIgogICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazsgbWluLXdpZHRoOjI0cHg7IHRleHQtYWxpZ246Y2VudGVyIgogICAgICAgIGNsYXNzPSIkeyJ0cnVlIj09PXRoaXMuYWxsb3dUcnk/IiI6ImluYWN0aXZlLWxpbmsifSIKICAgICAgICBkYXRhLWV4YW1wbGUtdHlwZT0iJHsiYXJyYXkiPT09dD90OiJzdHJpbmcifSIKICAgICAgICBkYXRhLWV4YW1wbGU9IiR7ZS52YWx1ZSYmQXJyYXkuaXNBcnJheShlLnZhbHVlKT9udWxsPT09KG49ZS52YWx1ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uam9pbigifnx+Iik6ZS52YWx1ZXx8IiJ9IgogICAgICAgIEBjbGljaz0iJHtlPT57Y29uc3QgdD1lLnRhcmdldC5jbG9zZXN0KCJ0YWJsZSIpLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBuYW1lPSIke3J9Il1gKTt0JiYodC52YWx1ZT0iYXJyYXkiPT09ZS50YXJnZXQuZGF0YXNldC5leGFtcGxlVHlwZT9lLnRhcmdldC5kYXRhc2V0LmV4YW1wbGUuc3BsaXQoIn58fiIpOmUudGFyZ2V0LmRhdGFzZXQuZXhhbXBsZSl9fSIKICAgICAgPiAke2UucHJpbnRhYmxlVmFsdWV8fGUudmFsdWV9IDwvYT4KICAgICAgJHsiYXJyYXkiPT09dD8iXSAiOiIifQogICAgYH1yZW5kZXJTaG9ydEZvcm1hdEV4YW1wbGVzKGUsdCxyKXtyZXR1cm4gcWAke2UubWFwKCgoZSxuKT0+cWAKICAgICAgJHswPT09bj8iIjoi4pSDIn0KICAgICAgJHt0aGlzLnJlbmRlckV4YW1wbGUoZSx0LHIpfWApKX1gfXJlbmRlckxvbmdGb3JtYXRFeGFtcGxlcyhlLHQscil7cmV0dXJuIHFgIDx1bCBzdHlsZT0ibGlzdC1zdHlsZS10eXBlOiBkaXNjbG9zdXJlLWNsb3NlZDsiPgogICAgICAke2UubWFwKChlPT57dmFyIG4sbztyZXR1cm4gcWAKICAgICAgICAgIDxsaT4KICAgICAgICAgICAgJHt0aGlzLnJlbmRlckV4YW1wbGUoZSx0LHIpfQogICAgICAgICAgICAkeyhudWxsPT09KG49ZS5zdW1tYXJ5KXx8dm9pZCAwPT09bj92b2lkIDA6bi5sZW5ndGgpPjA/cWA8c3Bhbj4mbHBhcjske2Uuc3VtbWFyeX0mcnBhcjs8L3NwYW4+YDoiIn0KICAgICAgICAgICAgJHsobnVsbD09PShvPWUuZGVzY3JpcHRpb24pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCk+MD9xYDxwPiR7UV8oV2UoZS5kZXNjcmlwdGlvbikpfTwvcD5gOiIifQogICAgICAgICAgPC9saT4KICAgICAgICBgfSkpfQogICAgPC91bD5gfWV4YW1wbGVMaXN0VGVtcGxhdGUoZSx0LHI9W10pe3JldHVybiBxYCAke3IubGVuZ3RoPjA/cWA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZCI+RXhhbXBsZXM6IDwvc3Bhbj4KICAgICAgICAgICR7bj1yLG4uc29tZSgoZT0+e3ZhciB0LHI7cmV0dXJuKG51bGw9PT0odD1lLnN1bW1hcnkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCk+MHx8KG51bGw9PT0ocj1lLmRlc2NyaXB0aW9uKXx8dm9pZCAwPT09cj92b2lkIDA6ci5sZW5ndGgpPjB9KSk/dGhpcy5yZW5kZXJMb25nRm9ybWF0RXhhbXBsZXMocix0LGUpOnRoaXMucmVuZGVyU2hvcnRGb3JtYXRFeGFtcGxlcyhyLHQsZSl9YDoiIn1gO3ZhciBufWlucHV0UGFyYW1ldGVyc1RlbXBsYXRlKGUpe2NvbnN0IHQ9dGhpcy5wYXJhbWV0ZXJzP3RoaXMucGFyYW1ldGVycy5maWx0ZXIoKHQ9PnQuaW49PT1lKSk6W107aWYoMD09PXQubGVuZ3RoKXJldHVybiIiO2xldCByPSIiOyJwYXRoIj09PWU/cj0iUEFUSCBQQVJBTUVURVJTIjoicXVlcnkiPT09ZT9yPSJRVUVSWS1TVFJJTkcgUEFSQU1FVEVSUyI6ImhlYWRlciI9PT1lP3I9IlJFUVVFU1QgSEVBREVSUyI6ImNvb2tpZSI9PT1lJiYocj0iQ09PS0lFUyIpO2NvbnN0IG49W107Zm9yKGNvbnN0IHIgb2YgdCl7Y29uc3RbdCxvLGFdPXFQKHIpO2lmKCF0KWNvbnRpbnVlO2NvbnN0IGk9RVAodCk7aWYoIWkpY29udGludWU7Y29uc3Qgcz1EUCh0LHt9KTtsZXQgbD0iZm9ybSIsYz0hMCxwPSExOyJxdWVyeSI9PT1lJiYoci5zdHlsZSYmImZvcm0gc3BhY2VEZWxpbWl0ZWQgcGlwZURlbGltaXRlZCIuaW5jbHVkZXMoci5zdHlsZSk/bD1yLnN0eWxlOm8mJihsPW8pLCJib29sZWFuIj09dHlwZW9mIHIuZXhwbG9kZSYmKGM9ci5leHBsb2RlKSwiYm9vbGVhbiI9PXR5cGVvZiByLmFsbG93UmVzZXJ2ZWQmJihwPXIuYWxsb3dSZXNlcnZlZCkpO2NvbnN0IGQ9VFAoci5leGFtcGxlc3x8T1Aoci5leGFtcGxlKXx8T1AobnVsbD09YT92b2lkIDA6YS5leGFtcGxlKXx8KG51bGw9PWE/dm9pZCAwOmEuZXhhbXBsZXMpfHxPUChpLmV4YW1wbGVzKXx8T1AoaS5leGFtcGxlKSxpLnR5cGUpO2QuZXhhbXBsZVZhbHx8Im9iamVjdCIhPT1pLnR5cGV8fChkLmV4YW1wbGVWYWw9QlAodCxvfHwianNvbiIsIiIsIiIsInRydWUiPT09dGhpcy5jYWxsYmFja3x8InRydWUiPT09dGhpcy53ZWJob29rLCJ0cnVlIiE9PXRoaXMuY2FsbGJhY2smJiJ0cnVlIiE9PXRoaXMud2ViaG9vaywhMCwidGV4dCIpWzBdLmV4YW1wbGVWYWx1ZSk7Y29uc3QgdT0icmVhZCBmb2N1c2VkIi5pbmNsdWRlcyh0aGlzLnJlbmRlclN0eWxlKT8iMjAwcHgiOiIxNjBweCI7bi5wdXNoKHFgCiAgICAgIDx0ciB0aXRsZT0iJHtyLmRlcHJlY2F0ZWQ/IkRlcHJlY2F0ZWQiOiIifSI+IAogICAgICAgIDx0ZCByb3dzcGFuPSIkeyJ0cnVlIj09PXRoaXMuYWxsb3dUcnk/IjEiOiIyIn0iIHN0eWxlPSJ3aWR0aDoke3V9OyBtaW4td2lkdGg6MTAwcHg7Ij4KICAgICAgICAgIDxkaXYgY2xhc3M9InBhcmFtLW5hbWUgJHtyLmRlcHJlY2F0ZWQ/ImRlcHJlY2F0ZWQiOiIifSIgPgogICAgICAgICAgICAke3IuZGVwcmVjYXRlZD9xYDxzcGFuIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpOyc+4pyXPC9zcGFuPmA6IiJ9CiAgICAgICAgICAgICR7ci5yZXF1aXJlZD9xYDxzcGFuIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpJz4qPC9zcGFuPmA6IiJ9CiAgICAgICAgICAgICR7ci5uYW1lfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYXJhbS10eXBlIj4KICAgICAgICAgICAgJHsiYXJyYXkiPT09aS50eXBlP2Ake2kuYXJyYXlUeXBlfWA6YCR7aS5mb3JtYXQ/aS5mb3JtYXQ6aS50eXBlfWB9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L3RkPiAgCiAgICAgICAgJHsidHJ1ZSI9PT10aGlzLmFsbG93VHJ5P3FgCiAgICAgICAgICAgIDx0ZCBzdHlsZT0ibWluLXdpZHRoOjEwMHB4OyIgY29sc3Bhbj0iJHtpLmRlZmF1bHR8fGkuY29uc3RyYWlufHxpLmFsbG93ZWRWYWx1ZXN8fGkucGF0dGVybj8iMSI6IjIifSI+CiAgICAgICAgICAgICAgJHsiYXJyYXkiPT09aS50eXBlP3FgCiAgICAgICAgICAgICAgICAgIDx0YWctaW5wdXQgY2xhc3M9InJlcXVlc3QtcGFyYW0iIAogICAgICAgICAgICAgICAgICAgIHN0eWxlID0gIndpZHRoOjEwMCUiIAogICAgICAgICAgICAgICAgICAgIGRhdGEtcHR5cGUgPSAiJHtlfSIKICAgICAgICAgICAgICAgICAgICBkYXRhLXBuYW1lID0gIiR7ci5uYW1lfSIKICAgICAgICAgICAgICAgICAgICBkYXRhLWV4YW1wbGUgPSAiJHtBcnJheS5pc0FycmF5KGQuZXhhbXBsZVZhbCk/ZC5leGFtcGxlVmFsLmpvaW4oIn58fiIpOmQuZXhhbXBsZVZhbH0iCiAgICAgICAgICAgICAgICAgICAgZGF0YS1wYXJhbS1zZXJpYWxpemUtc3R5bGUgPSAiJHtsfSIKICAgICAgICAgICAgICAgICAgICBkYXRhLXBhcmFtLXNlcmlhbGl6ZS1leHBsb2RlID0gIiR7Y30iCiAgICAgICAgICAgICAgICAgICAgZGF0YS1wYXJhbS1hbGxvdy1yZXNlcnZlZCA9ICIke3B9IgogICAgICAgICAgICAgICAgICAgIGRhdGEteC1maWxsLWV4YW1wbGUgPSAiJHtyWyJ4LWZpbGwtZXhhbXBsZSJdfHwieWVzIn0iCiAgICAgICAgICAgICAgICAgICAgZGF0YS1hcnJheSA9ICJ0cnVlIgogICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gImFkZC1tdWx0aXBsZSAmI3gyMWE5OyIKICAgICAgICAgICAgICAgICAgICAudmFsdWU9IiR7Im5vIj09PXJbIngtZmlsbC1leGFtcGxlIl0/W106d1AoInRydWUiPT09dGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlP0FycmF5LmlzQXJyYXkoZC5leGFtcGxlVmFsKT9kLmV4YW1wbGVWYWw6W2QuZXhhbXBsZVZhbF06W10pfSIKICAgICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICA8L3RhZy1pbnB1dD5gOiJvYmplY3QiPT09aS50eXBlP3FgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFiLXBhbmVsIGNvbCIgc3R5bGU9ImJvcmRlci13aWR0aDowIDAgMXB4IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYi1idXR0b25zIHJvdyIgQGNsaWNrPSIke2U9PntpZigiYnV0dG9uIj09PWUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y29uc3QgdD17Li4udGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzfTt0W3IubmFtZV09ZS50YXJnZXQuZGF0YXNldC50YWIsdGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzPXR9fX0iPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0YWItYnRuICR7ImV4YW1wbGUiPT09dGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzW3IubmFtZV0/ImFjdGl2ZSI6IiJ9IiBkYXRhLXRhYiA9ICdleGFtcGxlJz5FWEFNUExFIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0YWItYnRuICR7ImV4YW1wbGUiIT09dGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzW3IubmFtZV0/ImFjdGl2ZSI6IiJ9IiBkYXRhLXRhYiA9ICdzY2hlbWEnPlNDSEVNQTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAkeyJleGFtcGxlIj09PXRoaXMuYWN0aXZlUGFyYW1ldGVyU2NoZW1hVGFic1tyLm5hbWVdP3FgPGRpdiBjbGFzcz0idGFiLWNvbnRlbnQgY29sIj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcyA9ICJ0ZXh0YXJlYSByZXF1ZXN0LXBhcmFtIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9ICJ0ZXh0YXJlYSB0ZXh0YXJlYS1wYXJhbSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcHR5cGUgPSAiJHtlfS1vYmplY3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBuYW1lID0gIiR7ci5uYW1lfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZXhhbXBsZSA9ICIke2QuZXhhbXBsZVZhbH0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBhcmFtLXNlcmlhbGl6ZS1zdHlsZSA9ICIke2x9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wYXJhbS1zZXJpYWxpemUtZXhwbG9kZSA9ICIke2N9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wYXJhbS1hbGxvdy1yZXNlcnZlZCA9ICIke3B9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS14LWZpbGwtZXhhbXBsZSA9ICIke3JbIngtZmlsbC1leGFtcGxlIl18fCJ5ZXMifSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWxsY2hlY2sgPSAiZmFsc2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dENvbnRlbnQ9IiR7Im5vIj09PXJbIngtZmlsbC1leGFtcGxlIl0/IiI6d1AoInRydWUiPT09dGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlP2QuZXhhbXBsZVZhbDoiIil9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSAicmVzaXplOnZlcnRpY2FsOyB3aWR0aDoxMDAlOyBoZWlnaHQ6ICR7InJlYWQgZm9jdXNlZCIuaW5jbHVkZXModGhpcy5yZW5kZXJTdHlsZSk/IjE4MHB4IjoiMTIwcHgifTsiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAaW5wdXQ9JHtlPT57Y29uc3QgdD10aGlzLmdldFJlcXVlc3RQYW5lbChlKTt0aGlzLmxpdmVDVVJMU3ludGF4VXBkYXRlKHQpfX0KICAgICAgICAgICAgICAgICAgICAgICAgICA+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDpxYAogICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYi1jb250ZW50IGNvbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2NoZW1hLXRyZWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3MgPSAnanNvbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSAnZGlzcGxheTogYmxvY2snCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhID0gJyR7c30nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSAiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gIiR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSAiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSAiJHt0aGlzLnNjaGVtYUhpZGVSZWFkT25seS5pbmNsdWRlcyh0aGlzLm1ldGhvZCl9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtaGlkZS13cml0ZS1vbmx5ID0gIiR7dGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5LmluY2x1ZGVzKHRoaXMubWV0aG9kKX0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gIndyYXAtcmVxdWVzdC1idG46d3JhcC1yZXF1ZXN0LWJ0biwgYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1vdXRsaW5lOmJ0bi1vdXRsaW5lLCBidG4tdHJ5OmJ0bi10cnksIGJ0bi1jbGVhcjpidG4tY2xlYXIsIGJ0bi1jbGVhci1yZXNwOmJ0bi1jbGVhci1yZXNwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUtaW5wdXQ6ZmlsZS1pbnB1dCwgdGV4dGJveDp0ZXh0Ym94LCB0ZXh0Ym94LXBhcmFtOnRleHRib3gtcGFyYW0sIHRleHRhcmVhOnRleHRhcmVhLCB0ZXh0YXJlYS1wYXJhbTp0ZXh0YXJlYS1wYXJhbSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yOmFuY2hvciwgYW5jaG9yLXBhcmFtLWV4YW1wbGU6YW5jaG9yLXBhcmFtLWV4YW1wbGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+IDwvc2NoZW1hLXRyZWU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YH0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOnFgCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9IiR7InBhc3N3b3JkIj09PWkuZm9ybWF0PyJwYXNzd29yZCI6InRleHQifSIgc3BlbGxjaGVjaz0iZmFsc2UiIHN0eWxlPSJ3aWR0aDoxMDAlIiAKICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSJyZXF1ZXN0LXBhcmFtIgogICAgICAgICAgICAgICAgICAgICAgcGFydD0idGV4dGJveCB0ZXh0Ym94LXBhcmFtIgogICAgICAgICAgICAgICAgICAgICAgZGF0YS1wdHlwZT0iJHtlfSIKICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcG5hbWU9IiR7ci5uYW1lfSIgCiAgICAgICAgICAgICAgICAgICAgICBkYXRhLWV4YW1wbGU9IiR7QXJyYXkuaXNBcnJheShkLmV4YW1wbGVWYWwpP2QuZXhhbXBsZVZhbC5qb2luKCJ+fH4iKTpkLmV4YW1wbGVWYWx9IgogICAgICAgICAgICAgICAgICAgICAgZGF0YS1wYXJhbS1hbGxvdy1yZXNlcnZlZCA9ICIke3B9IgogICAgICAgICAgICAgICAgICAgICAgZGF0YS14LWZpbGwtZXhhbXBsZSA9ICIke3JbIngtZmlsbC1leGFtcGxlIl18fCJ5ZXMifSIKICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYXJyYXk9ImZhbHNlIgogICAgICAgICAgICAgICAgICAgICAgLnZhbHVlPSIkeyJubyI9PT1yWyJ4LWZpbGwtZXhhbXBsZSJdPyIiOndQKCJ0cnVlIj09PXRoaXMuZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZT9kLmV4YW1wbGVWYWw6IiIpfSIKICAgICAgICAgICAgICAgICAgICAgIEBpbnB1dD0ke2U9Pntjb25zdCB0PXRoaXMuZ2V0UmVxdWVzdFBhbmVsKGUpO3RoaXMubGl2ZUNVUkxTeW50YXhVcGRhdGUodCl9fQogICAgICAgICAgICAgICAgICAgIC8+YH0KICAgICAgICAgICAgPC90ZD5gOiIifQogICAgICAgICR7aS5kZWZhdWx0fHxpLmNvbnN0cmFpbnx8aS5hbGxvd2VkVmFsdWVzfHxpLnBhdHRlcm4/cWAKICAgICAgICAgICAgPHRkIGNvbHNwYW49IiR7InRydWUiPT09dGhpcy5hbGxvd1RyeT8iMSI6IjIifSI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGFyYW0tY29uc3RyYWludCI+CiAgICAgICAgICAgICAgICAke2kuZGVmYXVsdD9xYDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDpib2xkIj5EZWZhdWx0OiA8L3NwYW4+JHtpLmRlZmF1bHR9PGJyLz5gOiIifQogICAgICAgICAgICAgICAgJHtpLnBhdHRlcm4/cWA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZCI+UGF0dGVybjogPC9zcGFuPiR7aS5wYXR0ZXJufTxici8+YDoiIn0KICAgICAgICAgICAgICAgICR7aS5jb25zdHJhaW4/cWAke2kuY29uc3RyYWlufTxici8+YDoiIn0KICAgICAgICAgICAgICAgICR7aS5hbGxvd2VkVmFsdWVzJiZpLmFsbG93ZWRWYWx1ZXMuc3BsaXQoIuKUgyIpLm1hcCgoKGUsdCk9PnFgCiAgICAgICAgICAgICAgICAgICR7dD4wPyLilIMiOnFgPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQiPkFsbG93ZWQ6IDwvc3Bhbj5gfQogICAgICAgICAgICAgICAgICAke3FgCiAgICAgICAgICAgICAgICAgICAgPGEgcGFydD0iYW5jaG9yIGFuY2hvci1wYXJhbS1jb25zdHJhaW50IiBjbGFzcyA9ICIkeyJ0cnVlIj09PXRoaXMuYWxsb3dUcnk/IiI6ImluYWN0aXZlLWxpbmsifSIKICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdHlwZT0iJHsiYXJyYXkiPT09aS50eXBlP2kudHlwZToic3RyaW5nIn0iCiAgICAgICAgICAgICAgICAgICAgICBkYXRhLWVudW09IiR7ZS50cmltKCl9IgogICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPSIke2U9Pntjb25zdCB0PWUudGFyZ2V0LmNsb3Nlc3QoInRhYmxlIikucXVlcnlTZWxlY3RvcihgW2RhdGEtcG5hbWU9IiR7ci5uYW1lfSJdYCk7dCYmKCJhcnJheSI9PT1lLnRhcmdldC5kYXRhc2V0LnR5cGU/dC52YWx1ZT1bZS50YXJnZXQuZGF0YXNldC5lbnVtXTp0LnZhbHVlPWUudGFyZ2V0LmRhdGFzZXQuZW51bSl9fSIKICAgICAgICAgICAgICAgICAgICA+JHtlfTwvYT5gfWApKX0KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC90ZD5gOnFgPHRkPjwvdGQ+YH0KICAgICAgPC90cj4KICAgICAgPHRyPgogICAgICAgICR7InRydWUiPT09dGhpcy5hbGxvd1RyeT9xYDx0ZCBzdHlsZT0iYm9yZGVyOm5vbmUiPiA8L3RkPmA6IiJ9CiAgICAgICAgPHRkIGNvbHNwYW49IjIiIHN0eWxlPSJib3JkZXI6bm9uZSI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0ibS1tYXJrZG93bi1zbWFsbCI+JHtRXyhXZShyLmRlc2NyaXB0aW9ufHwiIikpfTwvc3Bhbj4KICAgICAgICAgICR7dGhpcy5leGFtcGxlTGlzdFRlbXBsYXRlLmNhbGwodGhpcyxyLm5hbWUsaS50eXBlLGQuZXhhbXBsZUxpc3QpfQogICAgICAgIDwvdGQ+CiAgICAgIDwvdHI+CiAgICBgKX1yZXR1cm4gcWAKICAgIDxkaXYgY2xhc3M9InRhYmxlLXRpdGxlIHRvcC1nYXAiPiR7cn08L2Rpdj4KICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6YmxvY2s7IG92ZXJmbG93LXg6YXV0bzsgbWF4LXdpZHRoOjEwMCU7Ij4KICAgICAgPHRhYmxlIHJvbGU9InByZXNlbnRhdGlvbiIgY2xhc3M9Im0tdGFibGUiIHN0eWxlPSJ3aWR0aDoxMDAlOyB3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7Ij4KICAgICAgICAke259CiAgICAgIDwvdGFibGU+CiAgICA8L2Rpdj5gfWFzeW5jIGJlZm9yZU5hdmlnYXRpb25Gb2N1c2VkTW9kZSgpe31hc3luYyBhZnRlck5hdmlnYXRpb25Gb2N1c2VkTW9kZSgpe3RoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGU9IiIsdGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5RXhhbXBsZT0iIix0aGlzLnVwZGF0ZUV4YW1wbGVzRnJvbURhdGFBdHRyKCksdGhpcy5jbGVhclJlc3BvbnNlRGF0YSgpfW9uU2VsZWN0RXhhbXBsZShlKXt0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlFeGFtcGxlPWUudGFyZ2V0LnZhbHVlO2NvbnN0IHQ9ZS50YXJnZXQ7d2luZG93LnNldFRpbWVvdXQoKGU9Pntjb25zdCB0PWUuY2xvc2VzdCgiLmV4YW1wbGUtcGFuZWwiKS5xdWVyeVNlbGVjdG9yKCIucmVxdWVzdC1ib2R5LXBhcmFtIik7ZS5jbG9zZXN0KCIuZXhhbXBsZS1wYW5lbCIpLnF1ZXJ5U2VsZWN0b3IoIi5yZXF1ZXN0LWJvZHktcGFyYW0tdXNlci1pbnB1dCIpLnZhbHVlPXQuaW5uZXJUZXh0O2NvbnN0IHI9dGhpcy5nZXRSZXF1ZXN0UGFuZWwoe3RhcmdldDplfSk7dGhpcy5saXZlQ1VSTFN5bnRheFVwZGF0ZShyKX0pLDAsdCl9b25NaW1lVHlwZUNoYW5nZShlKXt0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlPWUudGFyZ2V0LnZhbHVlO2NvbnN0IHQ9ZS50YXJnZXQ7dGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5RXhhbXBsZT0iIix3aW5kb3cuc2V0VGltZW91dCgoZT0+e2NvbnN0IHQ9ZS5jbG9zZXN0KCIucmVxdWVzdC1ib2R5LWNvbnRhaW5lciIpLnF1ZXJ5U2VsZWN0b3IoIi5yZXF1ZXN0LWJvZHktcGFyYW0iKTtpZih0KXtlLmNsb3Nlc3QoIi5yZXF1ZXN0LWJvZHktY29udGFpbmVyIikucXVlcnlTZWxlY3RvcigiLnJlcXVlc3QtYm9keS1wYXJhbS11c2VyLWlucHV0IikudmFsdWU9dC5pbm5lclRleHR9fSksMCx0KX1yZXF1ZXN0Qm9keVRlbXBsYXRlKCl7aWYoIXRoaXMucmVxdWVzdF9ib2R5KXJldHVybiIiO2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnJlcXVlc3RfYm9keSkubGVuZ3RoKXJldHVybiIiO2xldCBlPSIiLHQ9IiIscj0iIixuPSIiLG89IiI7Y29uc3QgYT1bXSx7Y29udGVudDppfT10aGlzLnJlcXVlc3RfYm9keTtmb3IoY29uc3QgZSBpbiBpKWEucHVzaCh7bWltZVR5cGU6ZSxzY2hlbWE6aVtlXS5zY2hlbWEsZXhhbXBsZTppW2VdLmV4YW1wbGUsZXhhbXBsZXM6aVtlXS5leGFtcGxlc30pLHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGV8fCh0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlPWUpO3JldHVybiBlPTE9PT1hLmxlbmd0aD8iIjpxYAogICAgICAgIDxzZWxlY3Qgc3R5bGU9Im1pbi13aWR0aDoxMDBweDsgbWF4LXdpZHRoOjEwMCU7ICBtYXJnaW4tYm90dG9tOi0xcHg7IiBAY2hhbmdlID0gJyR7ZT0+dGhpcy5vbk1pbWVUeXBlQ2hhbmdlKGUpfSc+CiAgICAgICAgICAke2EubWFwKChlPT5xYAogICAgICAgICAgICA8b3B0aW9uIHZhbHVlID0gJyR7ZS5taW1lVHlwZX0nID9zZWxlY3RlZCA9ICcke2UubWltZVR5cGU9PT10aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlfSc+CiAgICAgICAgICAgICAgJHtlLm1pbWVUeXBlfQogICAgICAgICAgICA8L29wdGlvbj4gYCkpfQogICAgICAgIDwvc2VsZWN0PgogICAgICBgLGEuZm9yRWFjaCgoZT0+e2xldCBhLGk9W107aWYodGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygianNvbiIpfHx0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCJ4bWwiKXx8dGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygidGV4dCIpfHx0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCJqb3NlIikpZS5taW1lVHlwZT09PXRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUmJihpPUJQKGUuc2NoZW1hLGUubWltZVR5cGUsZS5leGFtcGxlcyxlLmV4YW1wbGUsInRydWUiPT09dGhpcy5jYWxsYmFja3x8InRydWUiPT09dGhpcy53ZWJob29rLCJ0cnVlIiE9PXRoaXMuY2FsbGJhY2smJiJ0cnVlIiE9PXRoaXMud2ViaG9vaywidGV4dCIsITEpLHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keUV4YW1wbGV8fCh0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlFeGFtcGxlPWkubGVuZ3RoPjA/aVswXS5leGFtcGxlSWQ6IiIpLG89cWAKICAgICAgICAgICAgJHtvfQogICAgICAgICAgICA8ZGl2IGNsYXNzID0gJ2V4YW1wbGUtcGFuZWwgYm9yZGVyLXRvcCBwYWQtdG9wLTgnPgogICAgICAgICAgICAgICR7MT09PWkubGVuZ3RoPyIiOnFgCiAgICAgICAgICAgICAgICAgIDxzZWxlY3Qgc3R5bGU9Im1pbi13aWR0aDoxMDBweDsgbWF4LXdpZHRoOjEwMCU7ICBtYXJnaW4tYm90dG9tOi0xcHg7IiBAY2hhbmdlPScke2U9PnRoaXMub25TZWxlY3RFeGFtcGxlKGUpfSc+CiAgICAgICAgICAgICAgICAgICAgJHtpLm1hcCgoZT0+cWA8b3B0aW9uIHZhbHVlPSIke2UuZXhhbXBsZUlkfSIgP3NlbGVjdGVkPSR7ZS5leGFtcGxlSWQ9PT10aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlFeGFtcGxlfSA+IAogICAgICAgICAgICAgICAgICAgICAgJHtlLmV4YW1wbGVTdW1tYXJ5Lmxlbmd0aD44MD9lLmV4YW1wbGVJZDplLmV4YW1wbGVTdW1tYXJ5P2UuZXhhbXBsZVN1bW1hcnk6ZS5leGFtcGxlSWR9IAogICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPmApKX0KICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICBgfQogICAgICAgICAgICAgICR7aS5maWx0ZXIoKGU9PmUuZXhhbXBsZUlkPT09dGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5RXhhbXBsZSkpLm1hcCgodD0+cWAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImV4YW1wbGUgJHt0LmV4YW1wbGVJZD09PXRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keUV4YW1wbGU/ImV4YW1wbGUtc2VsZWN0ZWQiOiIifSIgZGF0YS1leGFtcGxlID0gJyR7dC5leGFtcGxlSWR9Jz4KICAgICAgICAgICAgICAgICAgJHt0LmV4YW1wbGVTdW1tYXJ5JiZ0LmV4YW1wbGVTdW1tYXJ5Lmxlbmd0aD44MD9xYDxkaXYgc3R5bGU9InBhZGRpbmc6IDRweCAwIj4gJHt0LmV4YW1wbGVTdW1tYXJ5fSA8L2Rpdj5gOiIifQogICAgICAgICAgICAgICAgICAke3QuZXhhbXBsZURlc2NyaXB0aW9uP3FgPGRpdiBjbGFzcz0ibS1tYXJrZG93bi1zbWFsbCIgc3R5bGU9InBhZGRpbmc6IDRweCAwIj4gJHtRXyhXZSh0LmV4YW1wbGVEZXNjcmlwdGlvbnx8IiIpKX0gPC9kaXY+YDoiIn0KICAgICAgICAgICAgICAgICAgPCEtLSBUaGlzIHByZShoaWRkZW4pIGlzIHRvIHN0b3JlIHRoZSBvcmlnaW5hbCBleGFtcGxlIHZhbHVlLCB0aGlzIHdpbGwgcmVtYWluIHVuY2hhbmdlZCB3aGVuIHVzZXJzIHN3aXRjaGVzIGZyb20gb25lIGV4YW1wbGUgdG8gYW5vdGhlciwgaXRzIGlzIHVzZWQgdG8gcG9wdWxhdGUgdGhlIGVkaXRhYmxlIHRleHRhcmVhIC0tPgogICAgICAgICAgICAgICAgICA8cHJlIAogICAgICAgICAgICAgICAgICAgIGNsYXNzID0gInRleHRhcmVhIGlzLWhpZGRlbiByZXF1ZXN0LWJvZHktcGFyYW0gJHtlLm1pbWVUeXBlLnN1YnN0cmluZyhlLm1pbWVUeXBlLmluZGV4T2YoIi8iKSsxKX0iIAogICAgICAgICAgICAgICAgICAgIHNwZWxsY2hlY2sgPSAiZmFsc2UiCiAgICAgICAgICAgICAgICAgICAgZGF0YS1wdHlwZSA9ICIke2UubWltZVR5cGV9IiAKICAgICAgICAgICAgICAgICAgICBzdHlsZT0id2lkdGg6MTAwJTsgcmVzaXplOnZlcnRpY2FsOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgICAgICAgICAgID4keyJ0ZXh0Ij09PXQuZXhhbXBsZUZvcm1hdD90LmV4YW1wbGVWYWx1ZTpKU09OLnN0cmluZ2lmeSh0LmV4YW1wbGVWYWx1ZSxudWxsLDIpfTwvcHJlPgoKICAgICAgICAgICAgICAgICAgPCEtLSB0aGlzIHRleHRhcmVhIGlzIGZvciB1c2VyIHRvIGVkaXQgdGhlIGV4YW1wbGUgLS0+CiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSAKICAgICAgICAgICAgICAgICAgICBjbGFzcyA9ICJ0ZXh0YXJlYSByZXF1ZXN0LWJvZHktcGFyYW0tdXNlci1pbnB1dCIKICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gInRleHRhcmVhIHRleHRhcmVhLXBhcmFtIgogICAgICAgICAgICAgICAgICAgIHNwZWxsY2hlY2sgPSAiZmFsc2UiCiAgICAgICAgICAgICAgICAgICAgZGF0YS1wdHlwZSA9ICIke2UubWltZVR5cGV9IiAKICAgICAgICAgICAgICAgICAgICBkYXRhLWV4YW1wbGUgPSAiJHsidGV4dCI9PT10LmV4YW1wbGVGb3JtYXQ/dC5leGFtcGxlVmFsdWU6SlNPTi5zdHJpbmdpZnkodC5leGFtcGxlVmFsdWUsbnVsbCwyKX0iCiAgICAgICAgICAgICAgICAgICAgZGF0YS1leGFtcGxlLWZvcm1hdCA9ICIke3QuZXhhbXBsZUZvcm1hdH0iCiAgICAgICAgICAgICAgICAgICAgc3R5bGU9IndpZHRoOjEwMCU7IHJlc2l6ZTp2ZXJ0aWNhbDsiCiAgICAgICAgICAgICAgICAgICAgLnRleHRDb250ZW50ID0gIiR7InRydWUiPT09dGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlPyJ0ZXh0Ij09PXQuZXhhbXBsZUZvcm1hdD90LmV4YW1wbGVWYWx1ZTpKU09OLnN0cmluZ2lmeSh0LmV4YW1wbGVWYWx1ZSxudWxsLDIpOiIifSIKICAgICAgICAgICAgICAgICAgICBAaW5wdXQ9JHtlPT57Y29uc3QgdD10aGlzLmdldFJlcXVlc3RQYW5lbChlKTt0aGlzLmxpdmVDVVJMU3ludGF4VXBkYXRlKHQpfX0KICAgICAgICAgICAgICAgICAgPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICA8L2Rpdj4gIAogICAgICAgICAgICAgIGApKX0KCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgYCk7ZWxzZSBpZih0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCJmb3JtLXVybGVuY29kZWQiKXx8dGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygiZm9ybS1kYXRhIikpe2lmKGUubWltZVR5cGU9PT10aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlKXtjb25zdCB0PUJQKGUuc2NoZW1hLGUubWltZVR5cGUsZS5leGFtcGxlcyxlLmV4YW1wbGUsInRydWUiPT09dGhpcy5jYWxsYmFja3x8InRydWUiPT09dGhpcy53ZWJob29rLCJ0cnVlIiE9PXRoaXMuY2FsbGJhY2smJiJ0cnVlIiE9PXRoaXMud2ViaG9vaywidGV4dCIsITEpO2Uuc2NoZW1hJiYocj10aGlzLmZvcm1EYXRhVGVtcGxhdGUoZS5zY2hlbWEsZS5taW1lVHlwZSx0WzBdP3RbMF0uZXhhbXBsZVZhbHVlOiIiKSl9fWVsc2UvXmF1ZGlvXC98XmltYWdlXC98XnZpZGVvXC98XmZvbnRcL3x0YXIkfHppcCR8N3okfHJ0ZiR8bXN3b3JkJHxleGNlbCR8XC9wZGYkfFwvb2N0ZXQtc3RyZWFtJC8udGVzdCh0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlKSYmZS5taW1lVHlwZT09PXRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUmJih0PXFgCiAgICAgICAgICAgIDxkaXYgY2xhc3MgPSAic21hbGwtZm9udC1zaXplIGJvbGQtdGV4dCByb3ciPgogICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBwYXJ0PSJmaWxlLWlucHV0IiBzdHlsZT0ibWF4LXdpZHRoOjEwMCUiIGNsYXNzPSJyZXF1ZXN0LWJvZHktcGFyYW0tZmlsZSIgZGF0YS1wdHlwZT0iJHtlLm1pbWVUeXBlfSIgc3BlbGxjaGVjaz0iZmFsc2UiIC8+CiAgICAgICAgICAgIDwvZGl2PiAgCiAgICAgICAgICBgKTsoZS5taW1lVHlwZS5pbmNsdWRlcygianNvbiIpfHxlLm1pbWVUeXBlLmluY2x1ZGVzKCJ4bWwiKXx8ZS5taW1lVHlwZS5pbmNsdWRlcygidGV4dCIpfHx0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCJqb3NlIikpJiYoYT1EUChlLnNjaGVtYSx7fSksInRhYmxlIj09PXRoaXMuc2NoZW1hU3R5bGU/bj1xYAogICAgICAgICAgICAke259CiAgICAgICAgICAgIDxzY2hlbWEtdGFibGUKICAgICAgICAgICAgICBjbGFzcyA9ICcke2UubWltZVR5cGUuc3Vic3RyaW5nKGUubWltZVR5cGUuaW5kZXhPZigiLyIpKzEpfScKICAgICAgICAgICAgICBzdHlsZSA9ICdkaXNwbGF5OiAke3RoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGU9PT1lLm1pbWVUeXBlPyJibG9jayI6Im5vbmUifTsnCiAgICAgICAgICAgICAgLmRhdGEgPSAnJHthfScKICAgICAgICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH0iCiAgICAgICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gIiR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkfSIKICAgICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9ICIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX0iCiAgICAgICAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gIiR7dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHl9IgogICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSAiJHt0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHl9IgogICAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gInNjaGVtYS1kZXNjcmlwdGlvbjpzY2hlbWEtZGVzY3JpcHRpb24sIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlOnNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlIgogICAgICAgICAgICA+IDwvc2NoZW1hLXRhYmxlPgogICAgICAgICAgYDoidHJlZSI9PT10aGlzLnNjaGVtYVN0eWxlJiYobj1xYAogICAgICAgICAgICAke259CiAgICAgICAgICAgIDxzY2hlbWEtdHJlZQogICAgICAgICAgICAgIGNsYXNzID0gIiR7ZS5taW1lVHlwZS5zdWJzdHJpbmcoZS5taW1lVHlwZS5pbmRleE9mKCIvIikrMSl9IgogICAgICAgICAgICAgIHN0eWxlID0gImRpc3BsYXk6ICR7dGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZT09PWUubWltZVR5cGU/ImJsb2NrIjoibm9uZSJ9OyIKICAgICAgICAgICAgICAuZGF0YSA9ICIke2F9IgogICAgICAgICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSAiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfSIKICAgICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgICAgICAgIGFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlID0gIiR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfSIKICAgICAgICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSAiJHt0aGlzLnNjaGVtYUhpZGVSZWFkT25seX0iCiAgICAgICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9ICIke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seX0iCiAgICAgICAgICAgICAgZXhwb3J0cGFydHMgPSAic2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGUiCiAgICAgICAgICAgID4gPC9zY2hlbWEtdHJlZT4KICAgICAgICAgIGApKX0pKSxxYAogICAgICA8ZGl2IGNsYXNzPSdyZXF1ZXN0LWJvZHktY29udGFpbmVyJyBkYXRhLXNlbGVjdGVkLXJlcXVlc3QtYm9keS10eXBlPSIke3RoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGV9Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS10aXRsZSB0b3AtZ2FwIHJvdyI+CiAgICAgICAgICBSRVFVRVNUIEJPRFkgJHt0aGlzLnJlcXVlc3RfYm9keS5yZXF1aXJlZD9xYDxzcGFuIGNsYXNzPSJtb25vLWZvbnQiIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpJz4qPC9zcGFuPmA6IiJ9IAogICAgICAgICAgPHNwYW4gc3R5bGUgPSAiZm9udC13ZWlnaHQ6bm9ybWFsOyBtYXJnaW4tbGVmdDo1cHgiPiAke3RoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGV9PC9zcGFuPgogICAgICAgICAgPHNwYW4gc3R5bGU9ImZsZXg6MSI+PC9zcGFuPgogICAgICAgICAgJHtlfQogICAgICAgIDwvZGl2PgogICAgICAgICR7dGhpcy5yZXF1ZXN0X2JvZHkuZGVzY3JpcHRpb24/cWA8ZGl2IGNsYXNzPSJtLW1hcmtkb3duIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMnB4Ij4ke1FfKFdlKHRoaXMucmVxdWVzdF9ib2R5LmRlc2NyaXB0aW9uKSl9PC9kaXY+YDoiIn0KICAgICAgICAKICAgICAgICAke3RoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoImpzb24iKXx8dGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygieG1sIil8fHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoInRleHQiKXx8dGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygiam9zZSIpP3FgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYi1wYW5lbCBjb2wiIHN0eWxlPSJib3JkZXItd2lkdGg6MCAwIDFweCAwOyI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFiLWJ1dHRvbnMgcm93IiBAY2xpY2s9IiR7ZT0+eyJidXR0b24iPT09ZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodGhpcy5hY3RpdmVTY2hlbWFUYWI9ZS50YXJnZXQuZGF0YXNldC50YWIpfX0iPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idGFiLWJ0biAkeyJleGFtcGxlIj09PXRoaXMuYWN0aXZlU2NoZW1hVGFiPyJhY3RpdmUiOiIifSIgZGF0YS10YWIgPSAnZXhhbXBsZSc+RVhBTVBMRTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idGFiLWJ0biAkeyJleGFtcGxlIiE9PXRoaXMuYWN0aXZlU2NoZW1hVGFiPyJhY3RpdmUiOiIifSIgZGF0YS10YWIgPSAnc2NoZW1hJz5TQ0hFTUE8L2J1dHRvbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAke3FgPGRpdiBjbGFzcz0idGFiLWNvbnRlbnQgY29sIiBzdHlsZT0iZGlzcGxheTokeyJleGFtcGxlIj09PXRoaXMuYWN0aXZlU2NoZW1hVGFiPyJibG9jayI6Im5vbmUifTsiPiAke299PC9kaXY+YH0KICAgICAgICAgICAgICAke3FgPGRpdiBjbGFzcz0idGFiLWNvbnRlbnQgY29sIiBzdHlsZT0iZGlzcGxheTokeyJleGFtcGxlIj09PXRoaXMuYWN0aXZlU2NoZW1hVGFiPyJub25lIjoiYmxvY2sifTsiPiAke259PC9kaXY+YH0KICAgICAgICAgICAgPC9kaXY+YDpxYCAgCiAgICAgICAgICAgICR7dH0KICAgICAgICAgICAgJHtyfWB9CiAgICAgIDwvZGl2PiAgCiAgICBgfWZvcm1EYXRhUGFyYW1Bc09iamVjdFRlbXBsYXRlKGUsdCxyKXt2YXIgbjtjb25zdCBvPURQKHQse30pLGE9QlAodCwianNvbiIsdC5leGFtcGxlcyx0LmV4YW1wbGUsInRydWUiPT09dGhpcy5jYWxsYmFja3x8InRydWUiPT09dGhpcy53ZWJob29rLCJ0cnVlIiE9PXRoaXMuY2FsbGJhY2smJiJ0cnVlIiE9PXRoaXMud2ViaG9vaywidGV4dCIsITEpO3JldHVybiBxYAogICAgICA8ZGl2IGNsYXNzPSJ0YWItcGFuZWwgcm93IiBzdHlsZT0ibWluLWhlaWdodDoyMjBweDsgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpOyBhbGlnbi1pdGVtczogc3RyZXRjaDsiPgogICAgICAgIDxkaXYgc3R5bGU9IndpZHRoOjI0cHg7IGJhY2tncm91bmQtY29sb3I6dmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJmbGV4LWRpcmVjdGlvbjpyb3ctcmV2ZXJzZTsgd2lkdGg6MTYwcHg7IGhlaWdodDoyNHB4OyB0cmFuc2Zvcm06cm90YXRlKDI3MGRlZykgdHJhbnNsYXRlWCgtMTYwcHgpOyB0cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0OyBkaXNwbGF5OmJsb2NrOyIgQGNsaWNrPSIke2U9PntpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoInYtdGFiLWJ0biIpKXtjb25zdHt0YWI6dH09ZS50YXJnZXQuZGF0YXNldDtpZih0KXtjb25zdCByPWUudGFyZ2V0LmNsb3Nlc3QoIi50YWItcGFuZWwiKSxuPXIucXVlcnlTZWxlY3RvcihgLnYtdGFiLWJ0bltkYXRhLXRhYj0iJHt0fSJdYCksbz1bLi4uci5xdWVyeVNlbGVjdG9yQWxsKGAudi10YWItYnRuOm5vdChbZGF0YS10YWI9IiR7dH0iXSlgKV0sYT1yLnF1ZXJ5U2VsZWN0b3IoYC50YWItY29udGVudFtkYXRhLXRhYj0iJHt0fSJdYCksaT1bLi4uci5xdWVyeVNlbGVjdG9yQWxsKGAudGFiLWNvbnRlbnQ6bm90KFtkYXRhLXRhYj0iJHt0fSJdKWApXTtuLmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpLGEuc3R5bGUuZGlzcGxheT0iYmxvY2siLG8uZm9yRWFjaCgoZT0+e2UuY2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIil9KSksaS5mb3JFYWNoKChlPT57ZS5zdHlsZS5kaXNwbGF5PSJub25lIn0pKX19ImJ1dHRvbiI9PT1lLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLmFjdGl2ZVNjaGVtYVRhYj1lLnRhcmdldC5kYXRhc2V0LnRhYil9fSI+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ2LXRhYi1idG4gJHsiZXhhbXBsZSI9PT10aGlzLmFjdGl2ZVNjaGVtYVRhYj8iYWN0aXZlIjoiIn0iIGRhdGEtdGFiID0gJ2V4YW1wbGUnPkVYQU1QTEU8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9InYtdGFiLWJ0biAkeyJleGFtcGxlIiE9PXRoaXMuYWN0aXZlU2NoZW1hVGFiPyJhY3RpdmUiOiIifSIgZGF0YS10YWIgPSAnc2NoZW1hJz5TQ0hFTUE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgICR7cWAKICAgICAgICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCBjb2wiIGRhdGEtdGFiID0gJ2V4YW1wbGUnIHN0eWxlPSJkaXNwbGF5OiR7ImV4YW1wbGUiPT09dGhpcy5hY3RpdmVTY2hlbWFUYWI/ImJsb2NrIjoibm9uZSJ9OyBwYWRkaW5nLWxlZnQ6NXB4OyB3aWR0aDoxMDAlIj4gCiAgICAgICAgICA8dGV4dGFyZWEgCiAgICAgICAgICAgIGNsYXNzID0gInRleHRhcmVhIgogICAgICAgICAgICBwYXJ0ID0gInRleHRhcmVhIHRleHRhcmVhLXBhcmFtIgogICAgICAgICAgICBzdHlsZSA9ICJ3aWR0aDoxMDAlOyBib3JkZXI6bm9uZTsgcmVzaXplOnZlcnRpY2FsOyIgCiAgICAgICAgICAgIGRhdGEtYXJyYXkgPSAiZmFsc2UiIAogICAgICAgICAgICBkYXRhLXB0eXBlID0gIiR7ci5pbmNsdWRlcygiZm9ybS11cmxlbmNvZGUiKT8iZm9ybS11cmxlbmNvZGUiOiJmb3JtLWRhdGEifSIKICAgICAgICAgICAgZGF0YS1wbmFtZSA9ICIke2V9IgogICAgICAgICAgICBkYXRhLWV4YW1wbGUgPSAiJHsobnVsbD09PShuPWFbMF0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmV4YW1wbGVWYWx1ZSl8fCIifSIKICAgICAgICAgICAgLnRleHRDb250ZW50ID0gIiR7InRydWUiPT09dGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlP2FbMF0uZXhhbXBsZVZhbHVlOiIifSIKICAgICAgICAgICAgc3BlbGxjaGVjayA9ICJmYWxzZSIKICAgICAgICAgID48L3RleHRhcmVhPgogICAgICAgIDwvZGl2PmB9CiAgICAgICR7cWAKICAgICAgICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCBjb2wiIGRhdGEtdGFiID0gJ3NjaGVtYScgc3R5bGU9ImRpc3BsYXk6JHsiZXhhbXBsZSIhPT10aGlzLmFjdGl2ZVNjaGVtYVRhYj8iYmxvY2siOiJub25lIn07IHBhZGRpbmctbGVmdDo1cHg7IHdpZHRoOjEwMCU7Ij4gCiAgICAgICAgICA8c2NoZW1hLXRyZWUKICAgICAgICAgICAgLmRhdGEgPSAnJHtvfScKICAgICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9ICIke3RoaXMuc2NoZW1hRXhwYW5kTGV2ZWx9IgogICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9ICIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX0iLAogICAgICAgICAgPiA8L3NjaGVtYS10cmVlPgogICAgICAgIDwvZGl2PmB9CiAgICAgIDwvZGl2PgogICAgYH1mb3JtRGF0YVRlbXBsYXRlKGUsdCxyPSIiKXtjb25zdCBuPVtdO2lmKGUucHJvcGVydGllcyl7Zm9yKGNvbnN0IHIgaW4gZS5wcm9wZXJ0aWVzKXt2YXIgbyxhO2NvbnN0IGk9ZS5wcm9wZXJ0aWVzW3JdO2lmKGkucmVhZE9ubHkpY29udGludWU7Y29uc3Qgcz1pLmV4YW1wbGVzfHxpLmV4YW1wbGV8fCIiLGw9aS50eXBlLGM9RVAoaSkscD0icmVhZCBmb2N1c2VkIi5pbmNsdWRlcyh0aGlzLnJlbmRlclN0eWxlKT8iMjAwcHgiOiIxNjBweCIsZD1UUChjLmV4YW1wbGVzfHxjLmV4YW1wbGUsYy50eXBlKTtuLnB1c2gocWAKICAgICAgICA8dHIgdGl0bGU9IiR7aS5kZXByZWNhdGVkPyJEZXByZWNhdGVkIjoiIn0iPiAKICAgICAgICAgIDx0ZCBzdHlsZT0id2lkdGg6JHtwfTsgbWluLXdpZHRoOjEwMHB4OyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBhcmFtLW5hbWUgJHtpLmRlcHJlY2F0ZWQ/ImRlcHJlY2F0ZWQiOiIifSI+CiAgICAgICAgICAgICAgJHtyfSR7bnVsbCE9PShvPWUucmVxdWlyZWQpJiZ2b2lkIDAhPT1vJiZvLmluY2x1ZGVzKHIpfHxpLnJlcXVpcmVkP3FgPHNwYW4gc3R5bGU9J2NvbG9yOnZhcigtLXJlZCk7Jz4qPC9zcGFuPmA6IiJ9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwYXJhbS10eXBlIj4ke2MudHlwZX08L2Rpdj4KICAgICAgICAgIDwvdGQ+ICAKICAgICAgICAgIDx0ZCAKICAgICAgICAgICAgc3R5bGU9IiR7Im9iamVjdCI9PT1sPyJ3aWR0aDoxMDAlOyBwYWRkaW5nOjA7IjoidHJ1ZSI9PT10aGlzLmFsbG93VHJ5PyIiOiJkaXNwbGF5Om5vbmU7In0gbWluLXdpZHRoOjEwMHB4OyIgCiAgICAgICAgICAgIGNvbHNwYW49IiR7Im9iamVjdCI9PT1sPzI6MX0iPgogICAgICAgICAgICAkeyJhcnJheSI9PT1sPyJiaW5hcnkiPT09KG51bGw9PT0oYT1pLml0ZW1zKXx8dm9pZCAwPT09YT92b2lkIDA6YS5mb3JtYXQpP3FgCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWlucHV0LWNvbnRhaW5lciBjb2wiIHN0eWxlPSdhbGlnbi1pdGVtczpmbGV4LWVuZDsnIEBjbGljaz0iJHtlPT50aGlzLm9uQWRkUmVtb3ZlRmlsZUlucHV0KGUscix0KX0iPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdpbnB1dC1zZXQgcm93Jz4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgCiAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gImZpbGUiCiAgICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gImZpbGUtaW5wdXQiCiAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9ICJ3aWR0aDoxMDAlIiAKICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcG5hbWUgPSAiJHtyfSIgCiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXB0eXBlID0gIiR7dC5pbmNsdWRlcygiZm9ybS11cmxlbmNvZGUiKT8iZm9ybS11cmxlbmNvZGUiOiJmb3JtLWRhdGEifSIKICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYXJyYXkgPSAiZmFsc2UiIAogICAgICAgICAgICAgICAgICAgICAgZGF0YS1maWxlLWFycmF5ID0gInRydWUiIAogICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZmlsZS1pbnB1dC1yZW1vdmUtYnRuIj4gJiN4MjcxNTsgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgIDwvZGl2PiAgCiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im0tYnRuIHByaW1hcnkgZmlsZS1pbnB1dC1hZGQtYnRuIiBwYXJ0PSJidG4gYnRuLWZpbGwiIHN0eWxlPSJtYXJnaW46MnB4IDI1cHggMCAwOyBwYWRkaW5nOjJweCA2cHg7Ij5BREQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PiAgCiAgICAgICAgICAgICAgICBgOnFgCiAgICAgICAgICAgICAgICAgIDx0YWctaW5wdXQKICAgICAgICAgICAgICAgICAgICBzdHlsZSA9ICJ3aWR0aDoxMDAlIiAKICAgICAgICAgICAgICAgICAgICBkYXRhLXB0eXBlID0gIiR7dC5pbmNsdWRlcygiZm9ybS11cmxlbmNvZGUiKT8iZm9ybS11cmxlbmNvZGUiOiJmb3JtLWRhdGEifSIKICAgICAgICAgICAgICAgICAgICBkYXRhLXBuYW1lID0gIiR7cn0iCiAgICAgICAgICAgICAgICAgICAgZGF0YS1leGFtcGxlID0gIiR7QXJyYXkuaXNBcnJheShzKT9zLmpvaW4oIn58fiIpOnN9IgogICAgICAgICAgICAgICAgICAgIGRhdGEtYXJyYXkgPSAidHJ1ZSIKICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA9ICJhZGQtbXVsdGlwbGUgJiN4MjFhOTsiCiAgICAgICAgICAgICAgICAgICAgLnZhbHVlID0gIiR7QXJyYXkuaXNBcnJheShzKT9BcnJheS5pc0FycmF5KHNbMF0pP3NbMF06W3NbMF1dOltzXX0iCiAgICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgPC90YWctaW5wdXQ+CiAgICAgICAgICAgICAgICBgOnFgCiAgICAgICAgICAgICAgICAkeyJvYmplY3QiPT09bD90aGlzLmZvcm1EYXRhUGFyYW1Bc09iamVjdFRlbXBsYXRlLmNhbGwodGhpcyxyLGksdCk6cWAKICAgICAgICAgICAgICAgICAgICAkeyJ0cnVlIj09PXRoaXMuYWxsb3dUcnk/cWA8aW5wdXQKICAgICAgICAgICAgICAgICAgICAgICAgICAudmFsdWUgPSAiJHsidHJ1ZSI9PT10aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGU/ZC5leGFtcGxlVmFsOiIifSIKICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVsbGNoZWNrID0gImZhbHNlIgogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAiJHsiYmluYXJ5Ij09PWkuZm9ybWF0PyJmaWxlIjoicGFzc3dvcmQiPT09aS5mb3JtYXQ/InBhc3N3b3JkIjoidGV4dCJ9IgogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQgPSAidGV4dGJveCB0ZXh0Ym94LXBhcmFtIgogICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0gIndpZHRoOjEwMCUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wdHlwZSA9ICIke3QuaW5jbHVkZXMoImZvcm0tdXJsZW5jb2RlIik/ImZvcm0tdXJsZW5jb2RlIjoiZm9ybS1kYXRhIn0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wbmFtZSA9ICIke3J9IgogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZXhhbXBsZSA9ICIke0FycmF5LmlzQXJyYXkocyk/c1swXTpzfSIKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWFycmF5ID0gImZhbHNlIgogICAgICAgICAgICAgICAgICAgICAgICAvPmA6IiJ9CiAgICAgICAgICAgICAgICAgICAgYH1gfQogICAgICAgICAgPC90ZD4KICAgICAgICAgICR7Im9iamVjdCI9PT1sPyIiOnFgCiAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgJHtjLmRlZmF1bHR8fGMuY29uc3RyYWlufHxjLmFsbG93ZWRWYWx1ZXN8fGMucGF0dGVybj9xYAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBhcmFtLWNvbnN0cmFpbnQiPgogICAgICAgICAgICAgICAgICAgICAgJHtjLmRlZmF1bHQ/cWA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZCI+RGVmYXVsdDogPC9zcGFuPiR7Yy5kZWZhdWx0fTxici8+YDoiIn0KICAgICAgICAgICAgICAgICAgICAgICR7Yy5wYXR0ZXJuP3FgPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQiPlBhdHRlcm46IDwvc3Bhbj4ke2MucGF0dGVybn08YnIvPmA6IiJ9CiAgICAgICAgICAgICAgICAgICAgICAke2MuY29uc3RyYWluP3FgJHtjLmNvbnN0cmFpbn08YnIvPmA6IiJ9CiAgICAgICAgICAgICAgICAgICAgICAke2MuYWxsb3dlZFZhbHVlcyYmYy5hbGxvd2VkVmFsdWVzLnNwbGl0KCLilIMiKS5tYXAoKChlLHQpPT5xYAogICAgICAgICAgICAgICAgICAgICAgICAke3Q+MD8i4pSDIjpxYDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDpib2xkIj5BbGxvd2VkOiA8L3NwYW4+YH0KICAgICAgICAgICAgICAgICAgICAgICAgJHtxYAogICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHBhcnQ9ImFuY2hvciBhbmNob3ItcGFyYW0tY29uc3RyYWludCIgY2xhc3MgPSAiJHsidHJ1ZSI9PT10aGlzLmFsbG93VHJ5PyIiOiJpbmFjdGl2ZS1saW5rIn0iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGU9IiR7ImFycmF5Ij09PWMudHlwZT9jLnR5cGU6InN0cmluZyJ9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1lbnVtPSIke2UudHJpbSgpfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz0iJHtlPT57Y29uc3QgdD1lLnRhcmdldC5jbG9zZXN0KCJ0YWJsZSIpLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBuYW1lPSIke3J9Il1gKTt0JiYoImFycmF5Ij09PWUudGFyZ2V0LmRhdGFzZXQudHlwZT90LnZhbHVlPVtlLnRhcmdldC5kYXRhc2V0LmVudW1dOnQudmFsdWU9ZS50YXJnZXQuZGF0YXNldC5lbnVtKX19IgogICAgICAgICAgICAgICAgICAgICAgICAgID4gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2V9IAogICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5gfWApKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOiIifQogICAgICAgICAgICAgIDwvdGQ+YH0KICAgICAgICA8L3RyPgogICAgICAgICR7Im9iamVjdCI9PT1sPyIiOnFgCiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICA8dGQgc3R5bGU9ImJvcmRlcjpub25lIj4gPC90ZD4KICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iMiIgc3R5bGU9ImJvcmRlcjpub25lOyBtYXJnaW4tdG9wOjA7IHBhZGRpbmc6MCA1cHggOHB4IDVweDsiPiAKICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtLW1hcmtkb3duLXNtYWxsIj4ke1FfKFdlKGkuZGVzY3JpcHRpb258fCIiKSl9PC9zcGFuPgogICAgICAgICAgICAgICAgJHt0aGlzLmV4YW1wbGVMaXN0VGVtcGxhdGUuY2FsbCh0aGlzLHIsYy50eXBlLGQuZXhhbXBsZUxpc3QpfQogICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICBgfWApfXJldHVybiBxYAogICAgICAgIDx0YWJsZSByb2xlPSJwcmVzZW50YXRpb24iIHN0eWxlPSJ3aWR0aDoxMDAlOyIgY2xhc3M9Im0tdGFibGUiPgogICAgICAgICAgJHtufQogICAgICAgIDwvdGFibGU+CiAgICAgIGB9cmV0dXJuIHFgCiAgICAgIDx0ZXh0YXJlYQogICAgICAgIGNsYXNzID0gInRleHRhcmVhIGR5bmFtaWMtZm9ybS1wYXJhbSAke3R9IgogICAgICAgIHBhcnQgPSAidGV4dGFyZWEgdGV4dGFyZWEtcGFyYW0iCiAgICAgICAgc3BlbGxjaGVjayA9ICJmYWxzZSIKICAgICAgICBkYXRhLXBuYW1lPSJkeW5hbWljLWZvcm0iIAogICAgICAgIGRhdGEtcHR5cGU9IiR7dH0iCiAgICAgICAgLnRleHRDb250ZW50ID0gIiR7cn0iCiAgICAgICAgc3R5bGU9IndpZHRoOjEwMCUiCiAgICAgID48L3RleHRhcmVhPgogICAgICAke2UuZGVzY3JpcHRpb24/cWA8c3BhbiBjbGFzcz0ibS1tYXJrZG93bi1zbWFsbCI+JHtRXyhXZShlLmRlc2NyaXB0aW9uKSl9PC9zcGFuPmA6IiJ9CiAgICBgfWN1cmxTeW50YXhUZW1wbGF0ZShlPSJmbGV4Iil7cmV0dXJuIHFgCiAgICAgIDxkaXYgY2xhc3M9ImNvbCBtLW1hcmtkb3duIiBzdHlsZT0iZmxleDoxOyBkaXNwbGF5OiR7ZX07IHBvc2l0aW9uOnJlbGF0aXZlOyBtYXgtd2lkdGg6IDEwMCU7Ij4KICAgICAgICA8YnV0dG9uICBjbGFzcz0idG9vbGJhci1idG4iIHN0eWxlID0gInBvc2l0aW9uOmFic29sdXRlOyB0b3A6MTJweDsgcmlnaHQ6OHB4IiBAY2xpY2s9JyR7ZT0+e3N0KHRoaXMuY3VybFN5bnRheC5yZXBsYWNlKC9cXCQvLCIiKSxlKX19JyBwYXJ0PSJidG4gYnRuLWZpbGwiPiBDb3B5IDwvYnV0dG9uPgogICAgICAgIDxwcmUgc3R5bGU9IndoaXRlLXNwYWNlOnByZSI+PGNvZGU+JHtRXyhHZSgpLmhpZ2hsaWdodCh0aGlzLmN1cmxTeW50YXgudHJpbSgpLnJlcGxhY2UoL1xcJC8sIiIpLEdlKCkubGFuZ3VhZ2VzLnNoZWxsLCJzaGVsbCIpKX08L2NvZGU+PC9wcmU+CiAgICAgIDwvZGl2PgogICAgICBgfWFwaVJlc3BvbnNlVGFiVGVtcGxhdGUoKXtsZXQgZT0iIix0PSIiO2lmKCF0aGlzLnJlc3BvbnNlSXNCbG9iKWlmKHRoaXMucmVzcG9uc2VIZWFkZXJzLmluY2x1ZGVzKCJhcHBsaWNhdGlvbi94LW5kanNvbiIpKXtlPSJqc29uIjtjb25zdCByPXRoaXMucmVzcG9uc2VUZXh0LnNwbGl0KCJcbiIpLm1hcCgodD0+R2UoKS5oaWdobGlnaHQodCxHZSgpLmxhbmd1YWdlc1tlXSxlKSkpLmpvaW4oIlxuIik7dD1xYDxjb2RlPiR7UV8ocil9PC9jb2RlPmB9ZWxzZSB0aGlzLnJlc3BvbnNlSGVhZGVycy5pbmNsdWRlcygianNvbiIpPyhlPSJqc29uIix0PXFgPGNvZGU+JHtRXyhHZSgpLmhpZ2hsaWdodCh0aGlzLnJlc3BvbnNlVGV4dCxHZSgpLmxhbmd1YWdlc1tlXSxlKSl9PC9jb2RlPmApOnRoaXMucmVzcG9uc2VIZWFkZXJzLmluY2x1ZGVzKCJodG1sIil8fHRoaXMucmVzcG9uc2VIZWFkZXJzLmluY2x1ZGVzKCJ4bWwiKT8oZT0iaHRtbCIsdD1xYDxjb2RlPiR7UV8oR2UoKS5oaWdobGlnaHQodGhpcy5yZXNwb25zZVRleHQsR2UoKS5sYW5ndWFnZXNbZV0sZSkpfTwvY29kZT5gKTooZT0idGV4dCIsdD1xYDxjb2RlPiR7dGhpcy5yZXNwb25zZVRleHR9PC9jb2RlPmApO3JldHVybiBxYAogICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsgbWFyZ2luOjVweCAwIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyZXNwb25zZS1tZXNzYWdlICR7dGhpcy5yZXNwb25zZVN0YXR1c30iPlJlc3BvbnNlIFN0YXR1czogJHt0aGlzLnJlc3BvbnNlTWVzc2FnZX08L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OjEiPjwvZGl2PgogICAgICAgIDxidXR0b24gY2xhc3M9Im0tYnRuIiBwYXJ0PSJidG4gYnRuLW91dGxpbmUgYnRuLWNsZWFyLXJlc3BvbnNlIiBAY2xpY2s9IiR7dGhpcy5jbGVhclJlc3BvbnNlRGF0YX0iPkNMRUFSIFJFU1BPTlNFPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ0YWItcGFuZWwgY29sIiBzdHlsZT0iYm9yZGVyLXdpZHRoOjAgMCAxcHggMDsiPgogICAgICAgIDxkaXYgaWQ9InRhYl9idXR0b25zIiBjbGFzcz0idGFiLWJ1dHRvbnMgcm93IiBAY2xpY2s9IiR7ZT0+eyExIT09ZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJ0YWItYnRuIikmJih0aGlzLmFjdGl2ZVJlc3BvbnNlVGFiPWUudGFyZ2V0LmRhdGFzZXQudGFiKX19Ij4KICAgICAgICAgIDxidXR0b24gY2xhc3M9InRhYi1idG4gJHsicmVzcG9uc2UiPT09dGhpcy5hY3RpdmVSZXNwb25zZVRhYj8iYWN0aXZlIjoiIn0iIGRhdGEtdGFiID0gJ3Jlc3BvbnNlJyA+IFJFU1BPTlNFPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0YWItYnRuICR7ImhlYWRlcnMiPT09dGhpcy5hY3RpdmVSZXNwb25zZVRhYj8iYWN0aXZlIjoiIn0iICBkYXRhLXRhYiA9ICdoZWFkZXJzJyA+IFJFU1BPTlNFIEhFQURFUlM8L2J1dHRvbj4KICAgICAgICAgICR7InRydWUiPT09dGhpcy5zaG93Q3VybEJlZm9yZVRyeT8iIjpxYDxidXR0b24gY2xhc3M9InRhYi1idG4gJHsiY3VybCI9PT10aGlzLmFjdGl2ZVJlc3BvbnNlVGFiPyJhY3RpdmUiOiIifSIgZGF0YS10YWIgPSAnY3VybCc+Q1VSTDwvYnV0dG9uPmB9CiAgICAgICAgPC9kaXY+CiAgICAgICAgJHt0aGlzLnJlc3BvbnNlSXNCbG9iP3FgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYi1jb250ZW50IGNvbCIgc3R5bGU9ImZsZXg6MTsgZGlzcGxheTokeyJyZXNwb25zZSI9PT10aGlzLmFjdGl2ZVJlc3BvbnNlVGFiPyJmbGV4Ijoibm9uZSJ9OyI+CiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibS1idG4gdGhpbi1ib3JkZXIgbWFyLXRvcC04IiBzdHlsZT0id2lkdGg6MTM1cHgiIEBjbGljaz0nJHtlPT57cHQodGhpcy5yZXNwb25zZUJsb2JVcmwsdGhpcy5yZXNwQ29udGVudERpc3Bvc2l0aW9uKX19JyBwYXJ0PSJidG4gYnRuLW91dGxpbmUiPgogICAgICAgICAgICAgICAgRE9XTkxPQUQKICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAkeyJ2aWV3Ij09PXRoaXMucmVzcG9uc2VCbG9iVHlwZT9xYDxidXR0b24gY2xhc3M9Im0tYnRuIHRoaW4tYm9yZGVyIG1hci10b3AtOCIgc3R5bGU9IndpZHRoOjEzNXB4IiAgQGNsaWNrPScke2U9PntkdCh0aGlzLnJlc3BvbnNlQmxvYlVybCl9fScgcGFydD0iYnRuIGJ0bi1vdXRsaW5lIj5WSUVXIChORVcgVEFCKTwvYnV0dG9uPmA6IiJ9CiAgICAgICAgICAgIDwvZGl2PmA6cWAKICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFiLWNvbnRlbnQgY29sIG0tbWFya2Rvd24iIHN0eWxlPSJmbGV4OjE7IGRpc3BsYXk6JHsicmVzcG9uc2UiPT09dGhpcy5hY3RpdmVSZXNwb25zZVRhYj8iZmxleCI6Im5vbmUifTsiID4KICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWJ0biIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOyB0b3A6MTJweDsgcmlnaHQ6OHB4IiBAY2xpY2s9JyR7ZT0+e3N0KHRoaXMucmVzcG9uc2VUZXh0LGUpfX0nIHBhcnQ9ImJ0biBidG4tZmlsbCI+IENvcHkgPC9idXR0b24+CiAgICAgICAgICAgICAgPHByZSBzdHlsZT0id2hpdGUtc3BhY2U6cHJlOyBtaW4taGVpZ2h0OjUwcHg7IGhlaWdodDp2YXIoLS1yZXNwLWFyZWEtaGVpZ2h0LCA0MDBweCk7IHJlc2l6ZTp2ZXJ0aWNhbDsgb3ZlcmZsb3c6YXV0byI+JHt0fTwvcHJlPgogICAgICAgICAgICA8L2Rpdj5gfQogICAgICAgIDxkaXYgY2xhc3M9InRhYi1jb250ZW50IGNvbCBtLW1hcmtkb3duIiBzdHlsZT0iZmxleDoxOyBkaXNwbGF5OiR7ImhlYWRlcnMiPT09dGhpcy5hY3RpdmVSZXNwb25zZVRhYj8iZmxleCI6Im5vbmUifTsiID4KICAgICAgICAgIDxidXR0b24gIGNsYXNzPSJ0b29sYmFyLWJ0biIgc3R5bGUgPSAicG9zaXRpb246YWJzb2x1dGU7IHRvcDoxMnB4OyByaWdodDo4cHgiIEBjbGljaz0nJHtlPT57c3QodGhpcy5yZXNwb25zZUhlYWRlcnMsZSl9fScgcGFydD0iYnRuIGJ0bi1maWxsIj4gQ29weSA8L2J1dHRvbj4KICAgICAgICAgIDxwcmUgc3R5bGU9IndoaXRlLXNwYWNlOnByZSI+PGNvZGU+JHtRXyhHZSgpLmhpZ2hsaWdodCh0aGlzLnJlc3BvbnNlSGVhZGVycyxHZSgpLmxhbmd1YWdlcy5jc3MsImNzcyIpKX08L2NvZGU+PC9wcmU+CiAgICAgICAgPC9kaXY+CiAgICAgICAgJHsidHJ1ZSI9PT10aGlzLnNob3dDdXJsQmVmb3JlVHJ5PyIiOnRoaXMuY3VybFN5bnRheFRlbXBsYXRlKCJjdXJsIj09PXRoaXMuYWN0aXZlUmVzcG9uc2VUYWI/ImZsZXgiOiJub25lIil9CiAgICAgIDwvZGl2PmB9YXBpQ2FsbFRlbXBsYXRlKCl7dmFyIGUsdDtsZXQgcj0iIjt0aGlzLnNlcnZlcnMmJnRoaXMuc2VydmVycy5sZW5ndGg+MCYmKHI9cWAKICAgICAgICA8c2VsZWN0IHN0eWxlPSJtaW4td2lkdGg6MTAwcHg7IiBAY2hhbmdlPScke2U9Pnt0aGlzLnNlcnZlclVybD1lLnRhcmdldC52YWx1ZX19Jz4KICAgICAgICAgICR7dGhpcy5zZXJ2ZXJzLm1hcCgoZT0+cWA8b3B0aW9uIHZhbHVlID0gIiR7ZS51cmx9Ij4gJHtlLnVybH0gLSAke2UuZGVzY3JpcHRpb259IDwvb3B0aW9uPmApKX0KICAgICAgICA8L3NlbGVjdD4KICAgICAgYCk7Y29uc3Qgbj1xYAogICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsiPgogICAgICAgICR7cn0KICAgICAgICAke3RoaXMuc2VydmVyVXJsP3FgCiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6YmFzZWxpbmU7Ij4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDpib2xkOyBwYWRkaW5nLXJpZ2h0OjVweDsiPkFQSSBTZXJ2ZXI8L2Rpdj4gCiAgICAgICAgICAgICAgPHNwYW4gY2xhc3MgPSAiZ3JheS10ZXh0Ij4gJHt0aGlzLnNlcnZlclVybH0gPC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIGA6IiJ9CiAgICAgIDwvZGl2PiAgCiAgICBgO3JldHVybiBxYAogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpmbGV4LWVuZDsgbWFyZ2luOjE2cHggMDsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7IiBwYXJ0PSJ3cmFwLXJlcXVlc3QtYnRuIj4KICAgICAgPGRpdiBjbGFzcz0iaGlkZS1pbi1zbWFsbC1zY3JlZW4iIHN0eWxlPSJmbGV4LWRpcmVjdGlvbjpjb2x1bW47IG1hcmdpbjowOyB3aWR0aDpjYWxjKDEwMCUgLSA2MHB4KTsiPgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246cm93OyBhbGlnbi1pdGVtczpjZW50ZXI7IG92ZXJmbG93OmhpZGRlbjsiPiAKICAgICAgICAgICR7bn0KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Ij4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7IHBhZGRpbmctcmlnaHQ6NXB4OyI+QXV0aGVudGljYXRpb248L2Rpdj4KICAgICAgICAgICR7KG51bGw9PT0oZT10aGlzLnNlY3VyaXR5KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5sZW5ndGgpPjA/cWAKICAgICAgICAgICAgICAke3RoaXMuYXBpX2tleXMubGVuZ3RoPjA/cWA8ZGl2IHN0eWxlPSJjb2xvcjp2YXIoLS1ibHVlKTsgb3ZlcmZsb3c6aGlkZGVuOyI+IAogICAgICAgICAgICAgICAgICAgICR7MT09PXRoaXMuYXBpX2tleXMubGVuZ3RoP2Ake251bGw9PT0odD10aGlzLmFwaV9rZXlzWzBdKXx8dm9pZCAwPT09dD92b2lkIDA6dC50eXBlRGlzcGxheX0gaW4gJHt0aGlzLmFwaV9rZXlzWzBdLmlufWA6YCR7dGhpcy5hcGlfa2V5cy5sZW5ndGh9IEFQSSBrZXlzIGFwcGxpZWRgfSAKICAgICAgICAgICAgICAgICAgPC9kaXY+YDpxYDxkaXYgY2xhc3M9ImdyYXktdGV4dCI+UmVxdWlyZWQgIDxzcGFuIHN0eWxlPSJjb2xvcjp2YXIoLS1yZWQpIj4oTm9uZSBBcHBsaWVkKTwvc3Bhbj5gfWA6cWA8c3BhbiBjbGFzcz0iZ3JheS10ZXh0Ij4gTm90IFJlcXVpcmVkIDwvc3Bhbj5gfQogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgJHt0aGlzLnBhcmFtZXRlcnMubGVuZ3RoPjB8fHRoaXMucmVxdWVzdF9ib2R5P3FgCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im0tYnRuIHRoaW4tYm9yZGVyIiBwYXJ0PSJidG4gYnRuLW91dGxpbmUgYnRuLWZpbGwiIHN0eWxlPSJtYXJnaW4tcmlnaHQ6NXB4OyIgQGNsaWNrPSIke3RoaXMub25GaWxsUmVxdWVzdERhdGF9IiB0aXRsZT0iRmlsbHMgd2l0aCBleGFtcGxlIGRhdGEgKGlmIHByb3ZpZGVkKSI+CiAgICAgICAgICAgICAgRklMTCBFWEFNUExFCiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJtLWJ0biB0aGluLWJvcmRlciIgcGFydD0iYnRuIGJ0bi1vdXRsaW5lIGJ0bi1jbGVhciIgc3R5bGU9Im1hcmdpbi1yaWdodDo1cHg7IiBAY2xpY2s9IiR7dGhpcy5vbkNsZWFyUmVxdWVzdERhdGF9Ij4KICAgICAgICAgICAgICBDTEVBUgogICAgICAgICAgICA8L2J1dHRvbj5gOiIifQogICAgICA8YnV0dG9uIGNsYXNzPSJtLWJ0biBwcmltYXJ5IHRoaW4tYm9yZGVyIiBwYXJ0PSJidG4gYnRuLXRyeSIgQGNsaWNrPSIke3RoaXMub25UcnlDbGlja30iPlRSWTwvYnV0dG9uPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsgbWFyZ2luOjVweCAwIj4KICAgICAgJHsidHJ1ZSI9PT10aGlzLnNob3dDdXJsQmVmb3JlVHJ5P3RoaXMuY3VybFN5bnRheFRlbXBsYXRlKCk6IiJ9CiAgICA8L2Rpdj4KICAgICR7IiI9PT10aGlzLnJlc3BvbnNlTWVzc2FnZT8iIjp0aGlzLmFwaVJlc3BvbnNlVGFiVGVtcGxhdGUoKX0KICAgIGB9YXN5bmMgb25GaWxsUmVxdWVzdERhdGEoZSl7Wy4uLmUudGFyZ2V0LmNsb3Nlc3QoIi5yZXF1ZXN0LXBhbmVsIikucXVlcnlTZWxlY3RvckFsbCgiaW5wdXQsIHRhZy1pbnB1dCwgdGV4dGFyZWE6bm90KC5pcy1oaWRkZW4pIildLmZvckVhY2goKGU9PntlLmRhdGFzZXQuZXhhbXBsZSYmKCJUQUctSU5QVVQiPT09ZS50YWdOYW1lLnRvVXBwZXJDYXNlKCk/ZS52YWx1ZT1lLmRhdGFzZXQuZXhhbXBsZS5zcGxpdCgifnx+Iik6ZS52YWx1ZT1lLmRhdGFzZXQuZXhhbXBsZSl9KSl9YXN5bmMgb25DbGVhclJlcXVlc3REYXRhKGUpe1suLi5lLnRhcmdldC5jbG9zZXN0KCIucmVxdWVzdC1wYW5lbCIpLnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0LCB0YWctaW5wdXQsIHRleHRhcmVhOm5vdCguaXMtaGlkZGVuKSIpXS5mb3JFYWNoKChlPT57ZS52YWx1ZT0iIn0pKX1idWlsZEZldGNoVVJMKGUpe2xldCB0O2NvbnN0IHI9Wy4uLmUucXVlcnlTZWxlY3RvckFsbCgiW2RhdGEtcHR5cGU9J3BhdGgnXSIpXSxuPVsuLi5lLnF1ZXJ5U2VsZWN0b3JBbGwoIltkYXRhLXB0eXBlPSdxdWVyeSddIildLG89Wy4uLmUucXVlcnlTZWxlY3RvckFsbCgiW2RhdGEtcHR5cGU9J3F1ZXJ5LW9iamVjdCddIildO3Q9dGhpcy5wYXRoLHIubWFwKChlPT57dD10LnJlcGxhY2UoYHske2UuZGF0YXNldC5wbmFtZX19YCxlbmNvZGVVUklDb21wb25lbnQoZS52YWx1ZSkpfSkpO2NvbnN0IGE9bmV3IE1hcCxpPVtdO24ubGVuZ3RoPjAmJm4uZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcztpZigidHJ1ZSI9PT1lLmRhdGFzZXQucGFyYW1BbGxvd1Jlc2VydmVkJiZpLnB1c2goZS5kYXRhc2V0LnBuYW1lKSwiZmFsc2UiPT09ZS5kYXRhc2V0LmFycmF5KSIiIT09ZS52YWx1ZSYmdC5hcHBlbmQoZS5kYXRhc2V0LnBuYW1lLGUudmFsdWUpO2Vsc2V7Y29uc3R7cGFyYW1TZXJpYWxpemVTdHlsZTpyLHBhcmFtU2VyaWFsaXplRXhwbG9kZTpufT1lLmRhdGFzZXQ7bGV0IG89ZS52YWx1ZSYmQXJyYXkuaXNBcnJheShlLnZhbHVlKT9lLnZhbHVlOltdO289QXJyYXkuaXNBcnJheShvKT9vLmZpbHRlcigoZT0+IiIhPT1lKSk6W10sby5sZW5ndGg+MCYmKCJzcGFjZURlbGltaXRlZCI9PT1yP3QuYXBwZW5kKGUuZGF0YXNldC5wbmFtZSxvLmpvaW4oIiAiKS5yZXBsYWNlKC9eXHN8XHMkL2csIiIpKToicGlwZURlbGltaXRlZCI9PT1yP3QuYXBwZW5kKGUuZGF0YXNldC5wbmFtZSxvLmpvaW4oInwiKS5yZXBsYWNlKC9eXHx8XHwkL2csIiIpKToidHJ1ZSI9PT1uP28uZm9yRWFjaCgocj0+e3QuYXBwZW5kKGUuZGF0YXNldC5wbmFtZSxyKX0pKTp0LmFwcGVuZChlLmRhdGFzZXQucG5hbWUsby5qb2luKCIsIikucmVwbGFjZSgvXix8LCQvZywiIikpKX10LnRvU3RyaW5nKCkmJmEuc2V0KGUuZGF0YXNldC5wbmFtZSx0KX0pKSxvLmxlbmd0aD4wJiZvLm1hcCgoZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtczt0cnl7bGV0IHI9e307Y29uc3R7cGFyYW1TZXJpYWxpemVTdHlsZTpuLHBhcmFtU2VyaWFsaXplRXhwbG9kZTpvfT1lLmRhdGFzZXQ7aWYocj1PYmplY3QuYXNzaWduKHIsSlNPTi5wYXJzZShlLnZhbHVlLnJlcGxhY2UoL1xzKy9nLCIgIikpKSwidHJ1ZSI9PT1lLmRhdGFzZXQucGFyYW1BbGxvd1Jlc2VydmVkJiZpLnB1c2goZS5kYXRhc2V0LnBuYW1lKSwianNvbiB4bWwiLmluY2x1ZGVzKG4pKSJqc29uIj09PW4/dC5hcHBlbmQoZS5kYXRhc2V0LnBuYW1lLEpTT04uc3RyaW5naWZ5KHIpKToieG1sIj09PW4mJnQuYXBwZW5kKGUuZGF0YXNldC5wbmFtZSxqUChyKSk7ZWxzZSBmb3IoY29uc3QgZSBpbiByKSJvYmplY3QiPT10eXBlb2YgcltlXT9BcnJheS5pc0FycmF5KHJbZV0pJiYoInNwYWNlRGVsaW1pdGVkIj09PW4/dC5hcHBlbmQoZSxyW2VdLmpvaW4oIiAiKSk6InBpcGVEZWxpbWl0ZWQiPT09bj90LmFwcGVuZChlLHJbZV0uam9pbigifCIpKToidHJ1ZSI9PT1vP3JbZV0uZm9yRWFjaCgocj0+e3QuYXBwZW5kKGUscil9KSk6dC5hcHBlbmQoZSxyW2VdKSk6dC5hcHBlbmQoZSxyW2VdKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKCJSYXBpRG9jOiB1bmFibGUgdG8gcGFyc2UgJXMgaW50byBvYmplY3QiLGUudmFsdWUpfXQudG9TdHJpbmcoKSYmYS5zZXQoZS5kYXRhc2V0LnBuYW1lLHQpfSkpO2xldCBzPSIiO3JldHVybiBhLnNpemUmJihhLmZvckVhY2goKChlLHQpPT57aS5pbmNsdWRlcyh0KT8ocys9YCR7dH09YCxzKz1lLmdldEFsbCh0KS5qb2luKGAmJHt0fT1gKSxzKz0iJiIpOnMrPWAke2UudG9TdHJpbmcoKX0mYH0pKSxzPXMuc2xpY2UoMCwtMSkpLDAhPT1zLmxlbmd0aCYmKHQ9YCR7dH0ke3QuaW5jbHVkZXMoIj8iKT8iJiI6Ij8ifSR7c31gKSx0aGlzLmFwaV9rZXlzLmZpbHRlcigoZT0+InF1ZXJ5Ij09PWUuaW4pKS5mb3JFYWNoKChlPT57dD1gJHt0fSR7dC5pbmNsdWRlcygiPyIpPyImIjoiPyJ9JHtlLm5hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGUuZmluYWxLZXlWYWx1ZSl9YH0pKSx0PWAke3RoaXMuc2VydmVyVXJsLnJlcGxhY2UoL1wvJC8sIiIpfSR7dH1gLHR9YnVpbGRGZXRjaEhlYWRlcnMoZSl7dmFyIHQ7Y29uc3Qgcj1udWxsPT09KHQ9dGhpcy5jbG9zZXN0KCIuZXhwYW5kZWQtcmVxLXJlc3AtY29udGFpbmVyLCAucmVxLXJlc3AtY29udGFpbmVyIikpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhcGktcmVzcG9uc2UiKVswXSxuPVsuLi5lLnF1ZXJ5U2VsZWN0b3JBbGwoIltkYXRhLXB0eXBlPSdoZWFkZXInXSIpXSxvPWUucXVlcnlTZWxlY3RvcigiLnJlcXVlc3QtYm9keS1jb250YWluZXIiKSxhPW51bGw9PXI/dm9pZCAwOnIuc2VsZWN0ZWRNaW1lVHlwZSxpPW5ldyBIZWFkZXJzO2lmKGE/aS5hcHBlbmQoIkFjY2VwdCIsYSk6dGhpcy5hY2NlcHQmJmkuYXBwZW5kKCJBY2NlcHQiLHRoaXMuYWNjZXB0KSx0aGlzLmFwaV9rZXlzLmZpbHRlcigoZT0+ImhlYWRlciI9PT1lLmluKSkuZm9yRWFjaCgoZT0+e2kuYXBwZW5kKGUubmFtZSxlLmZpbmFsS2V5VmFsdWUpfSkpLG4ubWFwKChlPT57ZS52YWx1ZSYmaS5hcHBlbmQoZS5kYXRhc2V0LnBuYW1lLGUudmFsdWUpfSkpLG8pe2NvbnN0IGU9by5kYXRhc2V0LnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlO2UuaW5jbHVkZXMoImZvcm0tZGF0YSIpfHxpLmFwcGVuZCgiQ29udGVudC1UeXBlIixlKX1yZXR1cm4gaX1idWlsZEZldGNoQm9keU9wdGlvbnMoZSl7Y29uc3QgdD1lLnF1ZXJ5U2VsZWN0b3IoIi5yZXF1ZXN0LWJvZHktY29udGFpbmVyIikscj17bWV0aG9kOnRoaXMubWV0aG9kLnRvVXBwZXJDYXNlKCl9O2lmKHQpe2NvbnN0IG49dC5kYXRhc2V0LnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlO2lmKG4uaW5jbHVkZXMoImZvcm0tdXJsZW5jb2RlZCIpKXtjb25zdCB0PWUucXVlcnlTZWxlY3RvcigiW2RhdGEtcHR5cGU9J2R5bmFtaWMtZm9ybSddIik7aWYodCl7Y29uc3QgZT10LnZhbHVlLG49bmV3IFVSTFNlYXJjaFBhcmFtcztsZXQgbyxhPSEwO2lmKGUpdHJ5e289SlNPTi5wYXJzZShlKX1jYXRjaChlKXthPSExLGNvbnNvbGUud2FybigiUmFwaURvYzogSW52YWxpZCBKU09OIHByb3ZpZGVkIixlKX1lbHNlIGE9ITE7aWYoYSl7Zm9yKGNvbnN0IGUgaW4gbyluLmFwcGVuZChlLEpTT04uc3RyaW5naWZ5KG9bZV0pKTtyLmJvZHk9bn19ZWxzZXtjb25zdCB0PVsuLi5lLnF1ZXJ5U2VsZWN0b3JBbGwoIltkYXRhLXB0eXBlPSdmb3JtLXVybGVuY29kZSddIildLG49bmV3IFVSTFNlYXJjaFBhcmFtczt0LmZpbHRlcigoZT0+ImZpbGUiIT09ZS50eXBlKSkuZm9yRWFjaCgoZT0+e2lmKCJmYWxzZSI9PT1lLmRhdGFzZXQuYXJyYXkpZS52YWx1ZSYmbi5hcHBlbmQoZS5kYXRhc2V0LnBuYW1lLGUudmFsdWUpO2Vsc2V7Y29uc3QgdD1lLnZhbHVlJiZBcnJheS5pc0FycmF5KGUudmFsdWUpP2UudmFsdWUuam9pbigiLCIpOiIiO24uYXBwZW5kKGUuZGF0YXNldC5wbmFtZSx0KX19KSksci5ib2R5PW59fWVsc2UgaWYobi5pbmNsdWRlcygiZm9ybS1kYXRhIikpe2NvbnN0IHQ9bmV3IEZvcm1EYXRhO1suLi5lLnF1ZXJ5U2VsZWN0b3JBbGwoIltkYXRhLXB0eXBlPSdmb3JtLWRhdGEnXSIpXS5mb3JFYWNoKChlPT57ImZhbHNlIj09PWUuZGF0YXNldC5hcnJheT8iZmlsZSI9PT1lLnR5cGUmJmUuZmlsZXNbMF0/dC5hcHBlbmQoZS5kYXRhc2V0LnBuYW1lLGUuZmlsZXNbMF0sZS5maWxlc1swXS5uYW1lKTplLnZhbHVlJiZ0LmFwcGVuZChlLmRhdGFzZXQucG5hbWUsZS52YWx1ZSk6ZS52YWx1ZSYmQXJyYXkuaXNBcnJheShlLnZhbHVlKSYmdC5hcHBlbmQoZS5kYXRhc2V0LnBuYW1lLGUudmFsdWUuam9pbigiLCIpKX0pKSxyLmJvZHk9dH1lbHNlIGlmKC9eYXVkaW9cL3xeaW1hZ2VcL3xedmlkZW9cL3xeZm9udFwvfHRhciR8emlwJHw3eiR8cnRmJHxtc3dvcmQkfGV4Y2VsJHxcL3BkZiR8XC9vY3RldC1zdHJlYW0kLy50ZXN0KG4pKXtjb25zdCB0PWUucXVlcnlTZWxlY3RvcigiLnJlcXVlc3QtYm9keS1wYXJhbS1maWxlIik7bnVsbCE9dCYmdC5maWxlc1swXSYmKHIuYm9keT10LmZpbGVzWzBdKX1lbHNlIGlmKG4uaW5jbHVkZXMoImpzb24iKXx8bi5pbmNsdWRlcygieG1sIil8fG4uaW5jbHVkZXMoInRleHQiKSl7Y29uc3QgdD1lLnF1ZXJ5U2VsZWN0b3IoIi5yZXF1ZXN0LWJvZHktcGFyYW0tdXNlci1pbnB1dCIpO251bGwhPXQmJnQudmFsdWUmJihyLmJvZHk9dC52YWx1ZSl9fXJldHVybiByfWFzeW5jIG9uVHJ5Q2xpY2soZSl7Y29uc3QgdD1lLnRhcmdldCxyPXQuY2xvc2VzdCgiLnJlcXVlc3QtcGFuZWwiKSxuPXRoaXMuYnVpbGRGZXRjaFVSTChyKSxvPXRoaXMuYnVpbGRGZXRjaEJvZHlPcHRpb25zKHIpLGE9dGhpcy5idWlsZEZldGNoSGVhZGVycyhyKTt0aGlzLnJlc3BvbnNlVXJsPSIiLHRoaXMucmVzcG9uc2VIZWFkZXJzPVtdLHRoaXMuY3VybFN5bnRheD10aGlzLmdlbmVyYXRlQ1VSTFN5bnRheChuLGEsbyxyKSx0aGlzLnJlc3BvbnNlU3RhdHVzPSJzdWNjZXNzIix0aGlzLnJlc3BvbnNlSXNCbG9iPSExLHRoaXMucmVzcENvbnRlbnREaXNwb3NpdGlvbj0iIix0aGlzLnJlc3BvbnNlQmxvYlVybCYmKFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5yZXNwb25zZUJsb2JVcmwpLHRoaXMucmVzcG9uc2VCbG9iVXJsPSIiKSx0aGlzLmZldGNoQ3JlZGVudGlhbHMmJihvLmNyZWRlbnRpYWxzPXRoaXMuZmV0Y2hDcmVkZW50aWFscyk7Y29uc3QgaT1uZXcgQWJvcnRDb250cm9sbGVyLHtzaWduYWw6c309aTtvLmhlYWRlcnM9YTtjb25zdCBsPXt1cmw6biwuLi5vfTt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJiZWZvcmUtdHJ5Iix7YnViYmxlczohMCxjb21wb3NlZDohMCxkZXRhaWw6e3JlcXVlc3Q6bCxjb250cm9sbGVyOml9fSkpO2NvbnN0IGM9e21ldGhvZDpsLm1ldGhvZCxoZWFkZXJzOmwuaGVhZGVycyxjcmVkZW50aWFsczpsLmNyZWRlbnRpYWxzLGJvZHk6bC5ib2R5fSxwPW5ldyBSZXF1ZXN0KGwudXJsLGMpO2xldCBkLHU7dHJ5e2xldCBlLHIsbjt0LmRpc2FibGVkPSEwLHRoaXMucmVzcG9uc2VUZXh0PSLijJsiLHRoaXMucmVzcG9uc2VNZXNzYWdlPSIiLHRoaXMucmVxdWVzdFVwZGF0ZSgpO2NvbnN0IG89cGVyZm9ybWFuY2Uubm93KCk7ZD1hd2FpdCBmZXRjaChwLHtzaWduYWw6c30pO2NvbnN0IGE9cGVyZm9ybWFuY2Uubm93KCk7dT1kLmNsb25lKCksdC5kaXNhYmxlZD0hMSx0aGlzLnJlc3BvbnNlTWVzc2FnZT1xYCR7ZC5zdGF0dXNUZXh0P2Ake2Quc3RhdHVzVGV4dH06JHtkLnN0YXR1c31gOmQuc3RhdHVzfSA8ZGl2IHN0eWxlPSJjb2xvcjp2YXIoLS1saWdodC1mZykiPiBUb29rICR7TWF0aC5yb3VuZChhLW8pfSBtaWxsaXNlY29uZHMgPC9kaXY+YCx0aGlzLnJlc3BvbnNlVXJsPWQudXJsO2NvbnN0IGk9e307ZC5oZWFkZXJzLmZvckVhY2goKChlLHQpPT57aVt0XT1lLHRoaXMucmVzcG9uc2VIZWFkZXJzPWAke3RoaXMucmVzcG9uc2VIZWFkZXJzfSR7dH06ICR7ZX1cbmB9KSk7Y29uc3QgbD1kLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKTtpZigwPT09KGF3YWl0IGQuY2xvbmUoKS50ZXh0KCkpLmxlbmd0aCl0aGlzLnJlc3BvbnNlVGV4dD0iIjtlbHNlIGlmKGwpe2lmKCJhcHBsaWNhdGlvbi94LW5kanNvbiI9PT1sKXRoaXMucmVzcG9uc2VUZXh0PWF3YWl0IGQudGV4dCgpO2Vsc2UgaWYobC5pbmNsdWRlcygianNvbiIpKWlmKC9jaGFyc2V0PVteIiddKy8udGVzdChsKSl7Y29uc3QgZT1sLnNwbGl0KCJjaGFyc2V0PSIpWzFdLHQ9YXdhaXQgZC5hcnJheUJ1ZmZlcigpO3RyeXtuPW5ldyBUZXh0RGVjb2RlcihlKS5kZWNvZGUodCl9Y2F0Y2h7bj1uZXcgVGV4dERlY29kZXIoInV0Zi04IikuZGVjb2RlKHQpfXRyeXtyPUpTT04ucGFyc2UobiksdGhpcy5yZXNwb25zZVRleHQ9SlNPTi5zdHJpbmdpZnkocixudWxsLDIpfWNhdGNoe3RoaXMucmVzcG9uc2VUZXh0PW59fWVsc2Ugcj1hd2FpdCBkLmpzb24oKSx0aGlzLnJlc3BvbnNlVGV4dD1KU09OLnN0cmluZ2lmeShyLG51bGwsMik7ZWxzZS9eZm9udFwvfHRhciR8emlwJHw3eiR8cnRmJHxtc3dvcmQkfGV4Y2VsJHxcL3BkZiR8XC9vY3RldC1zdHJlYW0kfF5hcHBsaWNhdGlvblwvdm5kXC4vLnRlc3QobCk/KHRoaXMucmVzcG9uc2VJc0Jsb2I9ITAsdGhpcy5yZXNwb25zZUJsb2JUeXBlPSJkb3dubG9hZCIpOi9eYXVkaW98XmltYWdlfF52aWRlby8udGVzdChsKT8odGhpcy5yZXNwb25zZUlzQmxvYj0hMCx0aGlzLnJlc3BvbnNlQmxvYlR5cGU9InZpZXciKToobj1hd2FpdCBkLnRleHQoKSxsLmluY2x1ZGVzKCJ4bWwiKT90aGlzLnJlc3BvbnNlVGV4dD1rUCgpKG4se3RleHROb2Rlc09uU2FtZUxpbmU6ITAsaW5kZW50b3I6IiAgIn0pOnRoaXMucmVzcG9uc2VUZXh0PW4pO2lmKHRoaXMucmVzcG9uc2VJc0Jsb2Ipe2NvbnN0IHQ9ZC5oZWFkZXJzLmdldCgiY29udGVudC1kaXNwb3NpdGlvbiIpO3RoaXMucmVzcENvbnRlbnREaXNwb3NpdGlvbj10P3Quc3BsaXQoImZpbGVuYW1lPSIpWzFdLnJlcGxhY2UoLyJ8Jy9nLCIiKToiZmlsZW5hbWUiLGU9YXdhaXQgZC5ibG9iKCksdGhpcy5yZXNwb25zZUJsb2JVcmw9VVJMLmNyZWF0ZU9iamVjdFVSTChlKX19ZWxzZSBuPWF3YWl0IGQudGV4dCgpLHRoaXMucmVzcG9uc2VUZXh0PW47dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiYWZ0ZXItdHJ5Iix7YnViYmxlczohMCxjb21wb3NlZDohMCxkZXRhaWw6e3JlcXVlc3Q6cCxyZXNwb25zZTp1LHJlc3BvbnNlSGVhZGVyczppLHJlc3BvbnNlQm9keTpyfHxufHxlLHJlc3BvbnNlU3RhdHVzOnUub2t9fSkpfWNhdGNoKGUpe3QuZGlzYWJsZWQ9ITEsIkFib3J0RXJyb3IiPT09ZS5uYW1lPyh0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJyZXF1ZXN0LWFib3J0ZWQiLHtidWJibGVzOiEwLGNvbXBvc2VkOiEwLGRldGFpbDp7ZXJyOmUscmVxdWVzdDpwfX0pKSx0aGlzLnJlc3BvbnNlTWVzc2FnZT0iUmVxdWVzdCBBYm9ydGVkIix0aGlzLnJlc3BvbnNlVGV4dD0iUmVxdWVzdCBBYm9ydGVkIik6KHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoImFmdGVyLXRyeSIse2J1YmJsZXM6ITAsY29tcG9zZWQ6ITAsZGV0YWlsOntlcnI6ZSxyZXF1ZXN0OnB9fSkpLHRoaXMucmVzcG9uc2VNZXNzYWdlPWAke2UubWVzc2FnZX0gKENPUlMgb3IgTmV0d29yayBJc3N1ZSlgKX10aGlzLnJlcXVlc3RVcGRhdGUoKX1saXZlQ1VSTFN5bnRheFVwZGF0ZShlKXt0aGlzLmFwcGx5Q1VSTFN5bnRheChlKSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1vbkdlbmVyYXRlQ1VSTENsaWNrKGUpe2NvbnN0IHQ9dGhpcy5nZXRSZXF1ZXN0UGFuZWwoZSk7dGhpcy5hcHBseUNVUkxTeW50YXgodCl9Z2V0UmVxdWVzdFBhbmVsKGUpe3JldHVybiBlLnRhcmdldC5jbG9zZXN0KCIucmVxdWVzdC1wYW5lbCIpfWFwcGx5Q1VSTFN5bnRheChlKXtjb25zdCB0PXRoaXMuYnVpbGRGZXRjaFVSTChlKSxyPXRoaXMuYnVpbGRGZXRjaEJvZHlPcHRpb25zKGUpLG49dGhpcy5idWlsZEZldGNoSGVhZGVycyhlKTt0aGlzLmN1cmxTeW50YXg9dGhpcy5nZW5lcmF0ZUNVUkxTeW50YXgodCxuLHIsZSl9Z2VuZXJhdGVDVVJMU3ludGF4KGUsdCxyLG4pe2xldCBvLGE9IiIsaT0iIixzPSIiLGw9IiI7Y29uc3QgYz1uLnF1ZXJ5U2VsZWN0b3IoIi5yZXF1ZXN0LWJvZHktY29udGFpbmVyIik7aWYoITE9PT1lLnN0YXJ0c1dpdGgoImh0dHAiKSl7bz1uZXcgVVJMKGUsd2luZG93LmxvY2F0aW9uLmhyZWYpLmhyZWZ9ZWxzZSBvPWU7aWYoYT1gY3VybCAtWCAke3RoaXMubWV0aG9kLnRvVXBwZXJDYXNlKCl9ICIke299IiBcXFxuYCxpPUFycmF5LmZyb20odCkubWFwKCgoW2UsdF0pPT5gIC1IICIke2V9OiAke3R9ImApKS5qb2luKCJcXFxuIiksaSYmKGk9YCR7aX0gXFxcbmApLHIuYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcylzPWAgLWQgJHtyLmJvZHkudG9TdHJpbmcoKX0gXFxcbmA7ZWxzZSBpZihyLmJvZHkgaW5zdGFuY2VvZiBGaWxlKXM9YCAtLWRhdGEtYmluYXJ5IEAke3IuYm9keS5uYW1lfSBcXFxuYDtlbHNlIGlmKHIuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKWw9QXJyYXkuZnJvbShyLmJvZHkpLnJlZHVjZSgoKGUsW3Qscl0pPT57aWYociBpbnN0YW5jZW9mIEZpbGUpcmV0dXJuWy4uLmUsYCAtRiAiJHt0fT1AJHtyLm5hbWV9ImBdO2NvbnN0IG49ci5tYXRjaCgvKFteLF0sKS9nbSk7aWYobil7Y29uc3Qgcj1uLm1hcCgoZT0+YC1GICIke3R9W109JHtlfSJgKSk7cmV0dXJuWy4uLmUsLi4ucl19cmV0dXJuWy4uLmUsYCAtRiAiJHt0fT0ke3J9ImBdfSksW10pLmpvaW4oIlxcXG4iKTtlbHNlIGlmKGMmJmMuZGF0YXNldC5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZSl7Y29uc3QgZT1jLmRhdGFzZXQuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUsdD1uLnF1ZXJ5U2VsZWN0b3IoIi5yZXF1ZXN0LWJvZHktcGFyYW0tdXNlci1pbnB1dCIpO2lmKG51bGwhPXQmJnQudmFsdWUpe2lmKHIuYm9keT10LnZhbHVlLGUuaW5jbHVkZXMoImpzb24iKSl0cnl7cz1gIC1kICcke0pTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UodC52YWx1ZSkpfScgXFxcbmB9Y2F0Y2goZSl7fXN8fChzPWAgLWQgJyR7dC52YWx1ZS5yZXBsYWNlKC8nL2csIidcIidcIiciKX0nIFxcXG5gKX19cmV0dXJuYCR7YX0ke2l9JHtzfSR7bH1gfW9uQWRkUmVtb3ZlRmlsZUlucHV0KGUsdCxyKXtpZigiYnV0dG9uIiE9PWUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm47aWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJmaWxlLWlucHV0LXJlbW92ZS1idG4iKSl7cmV0dXJuIHZvaWQgZS50YXJnZXQuY2xvc2VzdCgiLmlucHV0LXNldCIpLnJlbW92ZSgpfWNvbnN0IG49ZS50YXJnZXQuY2xvc2VzdCgiLmZpbGUtaW5wdXQtY29udGFpbmVyIiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtvLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJpbnB1dC1zZXQgcm93Iik7Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2EudHlwZT0iZmlsZSIsYS5zdHlsZT0id2lkdGg6MjAwcHg7IG1hcmdpbi10b3A6MnB4OyIsYS5zZXRBdHRyaWJ1dGUoImRhdGEtcG5hbWUiLHQpLGEuc2V0QXR0cmlidXRlKCJkYXRhLXB0eXBlIixyLmluY2x1ZGVzKCJmb3JtLXVybGVuY29kZSIpPyJmb3JtLXVybGVuY29kZSI6ImZvcm0tZGF0YSIpLGEuc2V0QXR0cmlidXRlKCJkYXRhLWFycmF5IiwiZmFsc2UiKSxhLnNldEF0dHJpYnV0ZSgiZGF0YS1maWxlLWFycmF5IiwidHJ1ZSIpO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7aS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwiZmlsZS1pbnB1dC1yZW1vdmUtYnRuIiksaS5pbm5lckhUTUw9IiYjeDI3MTU7IixvLmFwcGVuZENoaWxkKGEpLG8uYXBwZW5kQ2hpbGQoaSksbi5pbnNlcnRCZWZvcmUobyxlLnRhcmdldCl9Y2xlYXJSZXNwb25zZURhdGEoKXt0aGlzLnJlc3BvbnNlVXJsPSIiLHRoaXMucmVzcG9uc2VIZWFkZXJzPSIiLHRoaXMucmVzcG9uc2VUZXh0PSIiLHRoaXMucmVzcG9uc2VTdGF0dXM9InN1Y2Nlc3MiLHRoaXMucmVzcG9uc2VNZXNzYWdlPSIiLHRoaXMucmVzcG9uc2VJc0Jsb2I9ITEsdGhpcy5yZXNwb25zZUJsb2JUeXBlPSIiLHRoaXMucmVzcENvbnRlbnREaXNwb3NpdGlvbj0iIix0aGlzLnJlc3BvbnNlQmxvYlVybCYmKFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5yZXNwb25zZUJsb2JVcmwpLHRoaXMucmVzcG9uc2VCbG9iVXJsPSIiKX1kaXNjb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuY3VybFN5bnRheD0iIix0aGlzLnJlc3BvbnNlQmxvYlVybCYmKFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5yZXNwb25zZUJsb2JVcmwpLHRoaXMucmVzcG9uc2VCbG9iVXJsPSIiKSxzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpfX0pO2N1c3RvbUVsZW1lbnRzLmRlZmluZSgic2NoZW1hLXRhYmxlIixjbGFzcyBleHRlbmRzIGlle3N0YXRpYyBnZXQgcHJvcGVydGllcygpe3JldHVybntzY2hlbWFFeHBhbmRMZXZlbDp7dHlwZTpOdW1iZXIsYXR0cmlidXRlOiJzY2hlbWEtZXhwYW5kLWxldmVsIn0sc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQifSxhbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlIn0sc2NoZW1hSGlkZVJlYWRPbmx5Ont0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNjaGVtYS1oaWRlLXJlYWQtb25seSJ9LHNjaGVtYUhpZGVXcml0ZU9ubHk6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2NoZW1hLWhpZGUtd3JpdGUtb25seSJ9LGRhdGE6e3R5cGU6T2JqZWN0fX19Y29ubmVjdGVkQ2FsbGJhY2soKXtzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpLCghdGhpcy5zY2hlbWFFeHBhbmRMZXZlbHx8dGhpcy5zY2hlbWFFeHBhbmRMZXZlbDwxKSYmKHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw9OTk5OTkpLHRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZCYmInRydWUgZmFsc2UiLmluY2x1ZGVzKHRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZCl8fCh0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQ9ImZhbHNlIiksdGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkmJiJ0cnVlIGZhbHNlIi5pbmNsdWRlcyh0aGlzLnNjaGVtYUhpZGVSZWFkT25seSl8fCh0aGlzLnNjaGVtYUhpZGVSZWFkT25seT0idHJ1ZSIpLHRoaXMuc2NoZW1hSGlkZVdyaXRlT25seSYmInRydWUgZmFsc2UiLmluY2x1ZGVzKHRoaXMuc2NoZW1hSGlkZVdyaXRlT25seSl8fCh0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHk9InRydWUiKX1zdGF0aWMgZ2V0IHN0eWxlcygpe3JldHVybltLZSxVUCxjYAogICAgICAudGFibGUgewogICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA2cHgpOwogICAgICB9CiAgICAgIC50YWJsZSAudHIgewogICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA1cHgpOwogICAgICAgIHBhZGRpbmc6IDAgMCAwIDVweDsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7CiAgICAgIH0KICAgICAgLnRhYmxlIC50ZCB7CiAgICAgICAgcGFkZGluZzogNHB4IDA7CiAgICAgIH0KICAgICAgLnRhYmxlIC5rZXkgewogICAgICAgIHdpZHRoOiAyNDBweDsKICAgICAgfQogICAgICAua2V5IC5rZXktbGFiZWwgewogICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLW1vbm8pOwogICAgICB9CiAgICAgIC5rZXkuZGVwcmVjYXRlZCAua2V5LWxhYmVsIHsKICAgICAgICBjb2xvcjogdmFyKC0tcmVkKTsKICAgICAgfQoKICAgICAgLnRhYmxlIC5rZXktdHlwZSB7CiAgICAgICAgd2hpdGUtc3BhY2U6IG5vcm1hbDsKICAgICAgICB3aWR0aDogMTUwcHg7CiAgICAgIH0KICAgICAgLmNvbGxhcHNlZC1hbGwtZGVzY3IgLnRyOm5vdCguZXhwYW5kZWQtZGVzY3IpIHsKICAgICAgICBtYXgtaGVpZ2h0OiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyB2YXIoLS1mb250LXNpemUtc21hbGwpKTsKICAgICAgfQoKICAgICAgLm9iai10b2dnbGUgewogICAgICAgIHBhZGRpbmc6IDAgMnB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6MnB4OwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICBtYXJnaW4tbGVmdDogLTE2cHg7CiAgICAgICAgY29sb3I6dmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICAgICAgY3Vyc29yOnBvaW50ZXI7CiAgICAgICAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA0cHgpOwogICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm8pOwogICAgICAgIGJhY2tncm91bmQtY2xpcDogYm9yZGVyLWJveDsKICAgICAgfQogICAgICAub2JqLXRvZ2dsZTpob3ZlciB7CiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgICAgfQogICAgICAudHIuZXhwYW5kZWQgKyAub2JqZWN0LWJvZHkgewogICAgICAgIGRpc3BsYXk6YmxvY2s7CiAgICAgIH0KICAgICAgLnRyLmNvbGxhcHNlZCArIC5vYmplY3QtYm9keSB7CiAgICAgICAgZGlzcGxheTpub25lOwogICAgICB9YCxudF19cmVuZGVyKCl7dmFyIGUsdCxyO3JldHVybiBxYAogICAgICA8ZGl2IGNsYXNzPSJ0YWJsZSAkeyJ0cnVlIj09PXRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZD8iZXhwYW5kZWQtYWxsLWRlc2NyIjoiY29sbGFwc2VkLWFsbC1kZXNjciJ9IiBAY2xpY2s9IiR7ZT0+dGhpcy5oYW5kbGVBbGxFdmVudHMoZSl9Ij4KICAgICAgICA8ZGl2IGNsYXNzPSd0b29sYmFyJz4KICAgICAgICAgIDxkaXYgY2xhc3M9InRvb2xiYXItaXRlbSBzY2hlbWEtcm9vdC10eXBlICR7KG51bGw9PT0oZT10aGlzLmRhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplWyI6OnR5cGUiXSl8fCIifSAiPiAkeyhudWxsPT09KHQ9dGhpcy5kYXRhKXx8dm9pZCAwPT09dD92b2lkIDA6dFsiOjp0eXBlIl0pfHwiIn0gPC9kaXY+CiAgICAgICAgICAkeyJ0cnVlIj09PXRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZT9xYAogICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MSI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBwYXJ0PSJzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZSIgY2xhc3M9J3Rvb2xiYXItaXRlbSBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZScgPiAKICAgICAgICAgICAgICAgICR7InRydWUiPT09dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkPyJTaW5nbGUgbGluZSBkZXNjcmlwdGlvbiI6Ik11bHRpbGluZSBkZXNjcmlwdGlvbiJ9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA6IiJ9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPHNwYW4gcGFydD0ic2NoZW1hLWRlc2NyaXB0aW9uIiBjbGFzcz0nbS1tYXJrZG93bic+ICR7UV8oV2UoKG51bGw9PT0ocj10aGlzLmRhdGEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyWyI6OmRlc2NyaXB0aW9uIl0pfHwiIikpfSA8L3NwYW4+CiAgICAgICAgPGRpdiBzdHlsZSA9ICdib3JkZXI6MXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvciknPgogICAgICAgICAgPGRpdiBzdHlsZT0nZGlzcGxheTpmbGV4OyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZzIpOyBwYWRkaW5nOjhweCA0cHg7IGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7Jz4KICAgICAgICAgICAgPGRpdiBjbGFzcz0na2V5JyBzdHlsZT0nZm9udC1mYW1pbHk6dmFyKC0tZm9udC1yZWd1bGFyKTsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6dmFyKC0tZmcpOyc+IEZpZWxkIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSdrZXktdHlwZScgc3R5bGU9J2ZvbnQtZmFtaWx5OnZhcigtLWZvbnQtcmVndWxhcik7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOnZhcigtLWZnKTsnPiBUeXBlIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSdrZXktZGVzY3InIHN0eWxlPSdmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjp2YXIoLS1mZyk7Jz4gRGVzY3JpcHRpb24gPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICR7dGhpcy5kYXRhP3FgCiAgICAgICAgICAgICAgJHt0aGlzLmdlbmVyYXRlVHJlZSgiYXJyYXkiPT09dGhpcy5kYXRhWyI6OnR5cGUiXT90aGlzLmRhdGFbIjo6cHJvcHMiXTp0aGlzLmRhdGEsdGhpcy5kYXRhWyI6OnR5cGUiXSx0aGlzLmRhdGFbIjo6YXJyYXktdHlwZSJdKX1gOiIifSAgCiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PiAgCiAgICBgfWdlbmVyYXRlVHJlZShlLHQ9Im9iamVjdCIscj0iIixuPSIiLG89IiIsYT0wLGk9MCxzPSIiKXt2YXIgbCxjO2lmKCJ0cnVlIj09PXRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5KXtpZigiYXJyYXkiPT09dCYmInJlYWRvbmx5Ij09PXMpcmV0dXJuO2lmKGUmJiJyZWFkb25seSI9PT1lWyI6OnJlYWR3cml0ZSJdKXJldHVybn1pZigidHJ1ZSI9PT10aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkpe2lmKCJhcnJheSI9PT10JiYid3JpdGVvbmx5Ij09PXMpcmV0dXJuO2lmKGUmJiJ3cml0ZW9ubHkiPT09ZVsiOjpyZWFkd3JpdGUiXSlyZXR1cm59aWYoIWUpcmV0dXJuIHFgPGRpdiBjbGFzcz0ibnVsbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lOyI+CiAgICAgICAgPHNwYW4gc3R5bGU9J21hcmdpbi1sZWZ0OiR7MTYqKGErMSl9cHgnPiAmbmJzcDsgPC9zcGFuPgogICAgICAgIDxzcGFuIGNsYXNzPSJrZXktbGFiZWwgeHh4LW9mLWtleSI+ICR7bi5yZXBsYWNlKCI6Ok9QVElPTn4iLCIiKX08L3NwYW4+CiAgICAgICAgJHsiYXJyYXkiPT09dD9xYDxzcGFuIGNsYXNzPSdtb25vLWZvbnQnPiBbIF0gPC9zcGFuPmA6Im9iamVjdCI9PT10P3FgPHNwYW4gY2xhc3M9J21vbm8tZm9udCc+IHsgfSA8L3NwYW4+YDpxYDxzcGFuIGNsYXNzPSdtb25vLWZvbnQnPiBzY2hlbWEgdW5kZWZpbmVkIDwvc3Bhbj5gfQogICAgICA8L2Rpdj5gO2NvbnN0IHA9bnVsbCE9PShsPWVbIjo6dHlwZSJdKSYmdm9pZCAwIT09bCYmbC5zdGFydHNXaXRoKCJ4eHgtb2YiKT9hOmErMSxkPSJ4eHgtb2Ytb3B0aW9uIj09PXR8fCJ4eHgtb2Ytb3B0aW9uIj09PWVbIjo6dHlwZSJdfHxuLnN0YXJ0c1dpdGgoIjo6T1BUSU9OIik/aTppKzEsdT0xNipkO2lmKDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgpcmV0dXJuIHFgPHNwYW4gY2xhc3M9InRkIGtleSBvYmplY3QiIHN0eWxlPSdwYWRkaW5nLWxlZnQ6JHt1fXB4Jz4ke259PC9zcGFuPmA7bGV0IGg9IiIsZj0iIixtPSExO2lmKG4uc3RhcnRzV2l0aCgiOjpPTkV+T0YiKXx8bi5zdGFydHNXaXRoKCI6OkFOWX5PRiIpKWg9bi5yZXBsYWNlKCI6OiIsIiIpLnJlcGxhY2UoIn4iLCIgIiksbT0hMDtlbHNlIGlmKG4uc3RhcnRzV2l0aCgiOjpPUFRJT04iKSl7Y29uc3QgZT1uLnNwbGl0KCJ+Iik7aD1lWzFdLGY9ZVsyXX1lbHNlIGg9bjtsZXQgeT0iIjtpZigib2JqZWN0Ij09PWVbIjo6dHlwZSJdP3k9ImFycmF5Ij09PXQ/ImFycmF5IG9mIG9iamVjdCI6ZVsiOjpkYXRhVHlwZUxhYmVsIl18fGVbIjo6dHlwZSJdOiJhcnJheSI9PT1lWyI6OnR5cGUiXSYmKHk9ImFycmF5Ij09PXQ/ImFycmF5IG9mIGFycmF5ICIrKCJvYmplY3QiIT09cj9gb2YgJHtyfWA6IiIpOmVbIjo6ZGF0YVR5cGVMYWJlbCJdfHxlWyI6OnR5cGUiXSksIm9iamVjdCI9PXR5cGVvZiBlKXJldHVybiBxYAogICAgICAgICR7cD49MCYmbj9xYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSd0ciAke3A8PXRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw/ImV4cGFuZGVkIjoiY29sbGFwc2VkIn0gJHtlWyI6OnR5cGUiXX0nIGRhdGEtb2JqPScke2h9JyB0aXRsZT0iJHtlWyI6OmRlcHJlY2F0ZWQiXT8iRGVwcmVjYXRlZCI6IiJ9Ij4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0ZCBrZXkgJHtlWyI6OmRlcHJlY2F0ZWQiXT8iZGVwcmVjYXRlZCI6IiJ9IiBzdHlsZT0ncGFkZGluZy1sZWZ0OiR7dX1weCc+CiAgICAgICAgICAgICAgICAke2h8fGY/cWAKICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nb2JqLXRvZ2dsZSAke3A8dGhpcy5zY2hlbWFFeHBhbmRMZXZlbD8iZXhwYW5kZWQiOiJjb2xsYXBzZWQifScgZGF0YS1vYmo9JyR7aH0nPgogICAgICAgICAgICAgICAgICAgICAgJHthPHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw/Ii0iOiIrIn0KICAgICAgICAgICAgICAgICAgICA8L3NwYW4+YDoiIn0KICAgICAgICAgICAgICAgICR7Inh4eC1vZi1vcHRpb24iPT09ZVsiOjp0eXBlIl18fCJ4eHgtb2YtYXJyYXkiPT09ZVsiOjp0eXBlIl18fG4uc3RhcnRzV2l0aCgiOjpPUFRJT04iKT9xYDxzcGFuIGNsYXNzPSJ4eHgtb2Yta2V5IiBzdHlsZT0ibWFyZ2luLWxlZnQ6LTZweCI+JHtofTwvc3Bhbj48c3BhbiBjbGFzcz0iJHttPyJ4eHgtb2Yta2V5IjoieHh4LW9mLWRlc2NyIn0iPiR7Zn08L3NwYW4+YDpoLmVuZHNXaXRoKCIqIik/cWA8c3BhbiBjbGFzcz0ia2V5LWxhYmVsIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7IG1hcmdpbi1sZWZ0Oi02cHg7Ij4ke2VbIjo6ZGVwcmVjYXRlZCJdPyLinJciOiIifSAke2guc3Vic3RyaW5nKDAsaC5sZW5ndGgtMSl9PC9zcGFuPjxzcGFuIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpOyc+Kjwvc3Bhbj5gOnFgPHNwYW4gY2xhc3M9ImtleS1sYWJlbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrOyBtYXJnaW4tbGVmdDotNnB4OyI+JHtlWyI6OmRlcHJlY2F0ZWQiXT8i4pyXIjoiIn0gJHsiOjpwcm9wcyI9PT1oPyIiOmh9PC9zcGFuPmB9CiAgICAgICAgICAgICAgICAkeyJ4eHgtb2YiPT09ZVsiOjp0eXBlIl0mJiJhcnJheSI9PT10P3FgPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpIj5BUlJBWTwvc3Bhbj5gOiIifSAKICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSd0ZCBrZXktdHlwZScgdGl0bGU9IiR7InJlYWRvbmx5Ij09PWVbIjo6cmVhZHdyaXRlIl0/IlJlYWQtT25seSI6IndyaXRlb25seSI9PT1lWyI6OnJlYWR3cml0ZSJdPyJXcml0ZS1Pbmx5IjoiIn0iPgogICAgICAgICAgICAgICAgJHsoZVsiOjp0eXBlIl18fCIiKS5pbmNsdWRlcygieHh4LW9mIik/IiI6eX0KICAgICAgICAgICAgICAgICR7InJlYWRvbmx5Ij09PWVbIjo6cmVhZHdyaXRlIl0/IiDwn4aBIjoid3JpdGVvbmx5Ij09PWVbIjo6cmVhZHdyaXRlIl0/IiDwn4aGIjoiIn0KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSd0ZCBrZXktZGVzY3IgbS1tYXJrZG93bi1zbWFsbCcgc3R5bGU9J2xpbmUtaGVpZ2h0OjEuNyc+JHtRXyhXZShvfHwiIikpfTwvZGl2PgogICAgICAgICAgICA8L2Rpdj5gOnFgCiAgICAgICAgICAgICR7ImFycmF5Ij09PWVbIjo6dHlwZSJdJiYiYXJyYXkiPT09dD9xYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndHInPiAKICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGQga2V5Jz48L2Rpdj4gCiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS10eXBlJz4KICAgICAgICAgICAgICAgICAgICAke3ImJiJvYmplY3QiIT09cj9gJHt0fSBvZiAke3J9YDp0fQogICAgICAgICAgICAgICAgICA8L2Rpdj4gCiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS1kZXNjcic+PC9kaXY+IAogICAgICAgICAgICAgICAgPC9kaXY+YDoiIn1gfQogICAgICAgIDxkaXYgY2xhc3M9J29iamVjdC1ib2R5Jz4KICAgICAgICAke0FycmF5LmlzQXJyYXkoZSkmJmVbMF0/cWAke3RoaXMuZ2VuZXJhdGVUcmVlKGVbMF0sInh4eC1vZi1vcHRpb24iLCIiLCI6OkFSUkFZfk9GIiwiIixwLGQsIiIpfWA6cWAKICAgICAgICAgICAgJHtPYmplY3Qua2V5cyhlKS5tYXAoKHQ9Pnt2YXIgcjtyZXR1cm4gcWAKICAgICAgICAgICAgICAke1siOjp0aXRsZSIsIjo6ZGVzY3JpcHRpb24iLCI6OnR5cGUiLCI6OnByb3BzIiwiOjpkZXByZWNhdGVkIiwiOjphcnJheS10eXBlIiwiOjpyZWFkd3JpdGUiLCI6OmRhdGFUeXBlTGFiZWwiXS5pbmNsdWRlcyh0KT8iYXJyYXkiPT09ZVt0XVsiOjp0eXBlIl18fCJvYmplY3QiPT09ZVt0XVsiOjp0eXBlIl0/cWAke3RoaXMuZ2VuZXJhdGVUcmVlKCJhcnJheSI9PT1lW3RdWyI6OnR5cGUiXT9lW3RdWyI6OnByb3BzIl06ZVt0XSxlW3RdWyI6OnR5cGUiXSxlW3RdWyI6OmFycmF5LXR5cGUiXXx8IiIsdCxlW3RdWyI6OmRlc2NyaXB0aW9uIl0scCxkLGVbdF1bIjo6cmVhZHdyaXRlIl0/ZVt0XVsiOjpyZWFkd3JpdGUiXToiIil9YDoiIjpxYCR7dGhpcy5nZW5lcmF0ZVRyZWUoImFycmF5Ij09PWVbdF1bIjo6dHlwZSJdP2VbdF1bIjo6cHJvcHMiXTplW3RdLGVbdF1bIjo6dHlwZSJdLGVbdF1bIjo6YXJyYXktdHlwZSJdfHwiIix0LChudWxsPT09KHI9ZVt0XSl8fHZvaWQgMD09PXI/dm9pZCAwOnJbIjo6ZGVzY3JpcHRpb24iXSl8fCIiLHAsZCxlW3RdWyI6OnJlYWR3cml0ZSJdP2VbdF1bIjo6cmVhZHdyaXRlIl06IiIpfWB9CiAgICAgICAgICAgIGB9KSl9CiAgICAgICAgICBgfQogICAgICAgIDxkaXY+CiAgICAgIGA7Y29uc3RbZyx2LGIseCx3LCQsayxTLEFdPWUuc3BsaXQoIn58fiIpO2lmKCLwn4aBIj09PXYmJiJ0cnVlIj09PXRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5KXJldHVybjtpZigi8J+GhiI9PT12JiYidHJ1ZSI9PT10aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkpcmV0dXJuO2NvbnN0IEU9Zy5yZXBsYWNlKC/ilIMuKi9nLCIiKS5yZXBsYWNlKC9bXmEtekEtWjAtOStdL2csIiIpLnN1YnN0cmluZygwLDQpLnRvTG93ZXJDYXNlKCksTz0iIisoYnx8eHx8d3x8JD8nPHNwYW4gY2xhc3M9ImRlc2NyLWV4cGFuZC10b2dnbGUiPuKelDwvc3Bhbj4nOiIiKTtsZXQgVD0iIjtyZXR1cm4gVD0iYXJyYXkiPT09dD9xYCAKICAgICAgICA8ZGl2IGNsYXNzPSd0ZCBrZXktdHlwZSAke0V9JyB0aXRsZT0iJHsicmVhZG9ubHkiPT09cz8iUmVhZC1Pbmx5Ijoid3JpdGVvbmx5Ij09PXY/IldyaXRlLU9ubHkiOiIifSI+CiAgICAgICAgICBbJHtnfV0gJHsicmVhZG9ubHkiPT09cz8i8J+GgSI6IndyaXRlb25seSI9PT1zPyLwn4aGIjoiIn0KICAgICAgICA8L2Rpdj5gOnFgIAogICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS10eXBlICR7RX0nIHRpdGxlPSIkeyLwn4aBIj09PXY/IlJlYWQtT25seSI6IvCfhoYiPT09dj8iV3JpdGUtT25seSI6IiJ9Ij4KICAgICAgICAgICR7Z30gJHt2fQogICAgICAgIDwvZGl2PmAscWAKICAgICAgPGRpdiBjbGFzcyA9ICJ0ciBwcmltaXRpdmUiIHRpdGxlPSIke0E/IkRlcHJlY2F0ZWQiOiIifSI+CiAgICAgICAgPGRpdiBjbGFzcz0idGQga2V5ICR7QX0iIHN0eWxlPSdwYWRkaW5nLWxlZnQ6JHt1fXB4Jz4KICAgICAgICAgICR7QT9xYDxzcGFuIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpOyc+4pyXPC9zcGFuPmA6IiJ9CiAgICAgICAgICAke251bGwhPT0oYz1oKSYmdm9pZCAwIT09YyYmYy5lbmRzV2l0aCgiKiIpP3FgCiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImtleS1sYWJlbCI+JHtoLnN1YnN0cmluZygwLGgubGVuZ3RoLTEpfTwvc3Bhbj4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKTsnPio8L3NwYW4+YDpuLnN0YXJ0c1dpdGgoIjo6T1BUSU9OIik/cWA8c3BhbiBjbGFzcz0neHh4LW9mLWtleSc+JHtofTwvc3Bhbj48c3BhbiBjbGFzcz0ieHh4LW9mLWRlc2NyIj4ke2Z9PC9zcGFuPmA6cWAke2g/cWA8c3BhbiBjbGFzcz0ia2V5LWxhYmVsIj4gJHtofTwvc3Bhbj5gOnFgPHNwYW4gY2xhc3M9Inh4eC1vZi1kZXNjciI+JHtTfTwvc3Bhbj5gfWB9CiAgICAgICAgPC9kaXY+CiAgICAgICAgJHtUfQogICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS1kZXNjcicgc3R5bGU9J2ZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKSc+CiAgICAgICAgICAke3FgPHNwYW4gY2xhc3M9Im0tbWFya2Rvd24tc21hbGwiPgogICAgICAgICAgICAke1FfKFdlKCJhcnJheSI9PT10P2Ake099ICR7b31gOlM/YCR7T30gPGI+JHtTfTo8L2I+ICR7a31gOmAke099ICR7a31gKSl9CiAgICAgICAgICA8L3NwYW4+YH0KICAgICAgICAgICR7Yj9xYDxkaXYgY2xhc3M9Jycgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOmFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Oyc+IDxzcGFuIGNsYXNzPSdib2xkLXRleHQnPkNvbnN0cmFpbnRzOiA8L3NwYW4+ICR7Yn08L2Rpdj5gOiIifQogICAgICAgICAgJHt4P3FgPGRpdiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7IGxpbmUtYnJlYWs6YW55d2hlcmU7IG1hcmdpbi1yaWdodDo4cHg7Jz4gPHNwYW4gY2xhc3M9J2JvbGQtdGV4dCc+RGVmYXVsdDogPC9zcGFuPiR7eH08L2Rpdj5gOiIifQogICAgICAgICAgJHt3P3FgPGRpdiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7IGxpbmUtYnJlYWs6YW55d2hlcmU7IG1hcmdpbi1yaWdodDo4cHg7Jz4gPHNwYW4gY2xhc3M9J2JvbGQtdGV4dCc+JHsiY29uc3QiPT09Zz8iVmFsdWUiOiJBbGxvd2VkIn06IDwvc3Bhbj4ke3d9PC9kaXY+YDoiIn0KICAgICAgICAgICR7JD9xYDxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOmFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Oyc+IDxzcGFuIGNsYXNzPSdib2xkLXRleHQnPlBhdHRlcm46IDwvc3Bhbj4keyR9PC9kaXY+YDoiIn0KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICBgfWhhbmRsZUFsbEV2ZW50cyhlKXtpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoIm9iai10b2dnbGUiKSl0aGlzLnRvZ2dsZU9iamVjdEV4cGFuZChlKTtlbHNlIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygic2NoZW1hLW11bHRpbGluZS10b2dnbGUiKSl0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQ9InRydWUiPT09dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkPyJmYWxzZSI6InRydWUiO2Vsc2UgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJkZXNjci1leHBhbmQtdG9nZ2xlIikpe2NvbnN0IHQ9ZS50YXJnZXQuY2xvc2VzdCgiLnRyIik7dCYmKHQuY2xhc3NMaXN0LnRvZ2dsZSgiZXhwYW5kZWQtZGVzY3IiKSx0LnN0eWxlLm1heEhlaWdodD10LnNjcm9sbEhlaWdodCl9fXRvZ2dsZU9iamVjdEV4cGFuZChlKXtjb25zdCB0PWUudGFyZ2V0LmNsb3Nlc3QoIi50ciIpO3QuY2xhc3NMaXN0LmNvbnRhaW5zKCJleHBhbmRlZCIpPyh0LmNsYXNzTGlzdC5hZGQoImNvbGxhcHNlZCIpLHQuY2xhc3NMaXN0LnJlbW92ZSgiZXhwYW5kZWQiKSxlLnRhcmdldC5pbm5lclRleHQ9IisiKToodC5jbGFzc0xpc3QucmVtb3ZlKCJjb2xsYXBzZWQiKSx0LmNsYXNzTGlzdC5hZGQoImV4cGFuZGVkIiksZS50YXJnZXQuaW5uZXJUZXh0PSItIil9fSk7ZnVuY3Rpb24gelAoZSl7Y29uc3QgdD1uZXcgV2UuUmVuZGVyZXI7cmV0dXJuIHQuaGVhZGluZz0odCxyLG4sbyk9PmA8aCR7cn0gY2xhc3M9Im9ic2VydmUtbWUiIGlkPSIke2V9LS0ke28uc2x1ZyhuKX0iPiR7dH08L2gke3J9PmAsdH1mdW5jdGlvbiBNUChlKXtjb25zdCB0PWUudGFyZ2V0LmNsb3Nlc3QoIi50YWctY29udGFpbmVyIikucXVlcnlTZWxlY3RvcigiLnRhZy1kZXNjcmlwdGlvbiIpLHI9ZS50YXJnZXQuY2xvc2VzdCgiLnRhZy1jb250YWluZXIiKS5xdWVyeVNlbGVjdG9yKCIudGFnLWljb24iKTtpZih0JiZyKXt0LmNsYXNzTGlzdC5jb250YWlucygiZXhwYW5kZWQiKT8odC5zdHlsZS5tYXhIZWlnaHQ9MCx0LmNsYXNzTGlzdC5yZXBsYWNlKCJleHBhbmRlZCIsImNvbGxhcHNlZCIpLHIuY2xhc3NMaXN0LnJlcGxhY2UoImV4cGFuZGVkIiwiY29sbGFwc2VkIikpOih0LnN0eWxlLm1heEhlaWdodD1gJHt0LnNjcm9sbEhlaWdodH1weGAsdC5jbGFzc0xpc3QucmVwbGFjZSgiY29sbGFwc2VkIiwiZXhwYW5kZWQiKSxyLmNsYXNzTGlzdC5yZXBsYWNlKCJjb2xsYXBzZWQiLCJleHBhbmRlZCIpKX19ZnVuY3Rpb24gSFAoZSx0PSIiLHI9IiIpe3ZhciBuLG8sYSxpLHMsbCxjLHAsZDtjb25zdCB1PW5ldyBTZXQ7Zm9yKGNvbnN0IHQgaW4gZS5yZXNwb25zZXMpZm9yKGNvbnN0IHIgaW4gbnVsbD09PShoPWUucmVzcG9uc2VzW3RdKXx8dm9pZCAwPT09aD92b2lkIDA6aC5jb250ZW50KXt2YXIgaDt1LmFkZChyLnRyaW0oKSl9Y29uc3QgZj1bLi4udV0uam9pbigiLCAiKSxtPXRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5maWx0ZXIoKHQ9Pnt2YXIgcjtyZXR1cm4gdC5maW5hbEtleVZhbHVlJiYobnVsbD09PShyPWUuc2VjdXJpdHkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnNvbWUoKGU9PnQuc2VjdXJpdHlTY2hlbWVJZCBpbiBlKSkpfSkpfHxbXSx5PXRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5maW5kKChlPT5lLnNlY3VyaXR5U2NoZW1lSWQ9PT1hdCYmIi0iIT09ZS52YWx1ZSkpO3kmJm0ucHVzaCh5KTtjb25zdCBnPWUueENvZGVTYW1wbGVzP21QLmNhbGwodGhpcyxlLnhDb2RlU2FtcGxlcyk6IiI7cmV0dXJuIHFgCiAgICAkeyJyZWFkIj09PXRoaXMucmVuZGVyU3R5bGU/cWA8ZGl2IGNsYXNzPSdkaXZpZGVyJyBwYXJ0PSJvcGVyYXRpb24tZGl2aWRlciI+PC9kaXY+YDoiIn0KICAgIDxkaXYgY2xhc3M9J2V4cGFuZGVkLWVuZHBvaW50LWJvZHkgb2JzZXJ2ZS1tZSAke2UubWV0aG9kfSAke2UuZGVwcmVjYXRlZD8iZGVwcmVjYXRlZCI6IiJ9ICcgcGFydD0ic2VjdGlvbi1vcGVyYXRpb24gJHtlLmVsZW1lbnRJZH0iIGlkPScke2UuZWxlbWVudElkfSc+CiAgICAgICR7ImZvY3VzZWQiPT09dGhpcy5yZW5kZXJTdHlsZSYmIkdlbmVyYWwg4qaCIiE9PXQ/cWAKICAgICAgICAgIDxkaXYgY2xhc3M9InRhZy1jb250YWluZXIiIHBhcnQ9InNlY3Rpb24tb3BlcmF0aW9uLXRhZyI+IAogICAgICAgICAgICA8c3BhbiBjbGFzcz0idXBwZXIiIHN0eWxlPSJmb250LXdlaWdodDpib2xkOyBmb250LXNpemU6MThweDsiPiAke3R9IDwvc3Bhbj4KICAgICAgICAgICAgJHtyP3FgCiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPSJ0YWctaWNvbiBjb2xsYXBzZWQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6dmFyKC0tcHJpbWFyeS1jb2xvcik7IHZlcnRpY2FsLWFsaWduOnRvcDsgY3Vyc29yOnBvaW50ZXIiCiAgICAgICAgICAgICAgICBAY2xpY2s9IiR7ZT0+e01QLmNhbGwodGhpcyxlKX19IgogICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIgMjBoLTZhMiAyIDAgMCAxIC0yIC0ydi0xMmEyIDIgMCAwIDEgMiAtMmg4Ij48L3BhdGg+PHBhdGggZD0iTTE4IDR2MTciPjwvcGF0aD48cGF0aCBkPSJNMTUgMThsMyAzbDMgLTMiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFnLWRlc2NyaXB0aW9uIGNvbGxhcHNlZCIgc3R5bGU9Im1heC1oZWlnaHQ6MHB4OyBvdmVyZmxvdzpoaWRkZW47IG1hcmdpbi10b3A6MTZweDsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpIj4gCiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im0tbWFya2Rvd24iIHN0eWxlPSJwYWRkaW5nOjhweCI+ICR7UV8oV2UocikpfTwvZGl2PiAgCiAgICAgICAgICAgICAgICA8L2Rpdj5gOiIifSAgCiAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOiIifQogICAgICAke2UuZGVwcmVjYXRlZD9xYDxkaXYgY2xhc3M9ImJvbGQtdGV4dCByZWQtdGV4dCI+IERFUFJFQ0FURUQgPC9kaXY+YDoiIn0KICAgICAgJHtxYAogICAgICAgICR7ZS54QmFkZ2VzJiYobnVsbD09PShuPWUueEJhZGdlcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubGVuZ3RoKT4wP3FgCiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgZmxleC13cmFwOndyYXA7IG1hcmdpbi1ib3R0b206IC0yNHB4OyBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7Ij4KICAgICAgICAgICAgICAke2UueEJhZGdlcy5tYXAoKGU9PnFgPHNwYW4gc3R5bGU9Im1hcmdpbjoxcHg7IG1hcmdpbi1yaWdodDo1cHg7IHBhZGRpbmc6MXB4IDhweDsgZm9udC13ZWlnaHQ6Ym9sZDsgYm9yZGVyLXJhZGl1czoxMnB4OyAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtJHtlLmNvbG9yfSwgdmFyKC0taW5wdXQtYmcpKTsgY29sb3I6dmFyKC0tJHtlLmNvbG9yfSk7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tJHtlLmNvbG9yfSkiPiR7ZS5sYWJlbH08L3NwYW4+YCkpfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDoiIn0KICAgICAgICA8aDIgcGFydD0ic2VjdGlvbi1vcGVyYXRpb24tc3VtbWFyeSI+ICR7ZS5zaG9ydFN1bW1hcnl8fGAke2UubWV0aG9kLnRvVXBwZXJDYXNlKCl9ICR7ZS5wYXRofWB9PC9oMj4KICAgICAgICAke2UuaXNXZWJob29rP3FgPHNwYW4gcGFydD0ic2VjdGlvbi1vcGVyYXRpb24td2ViaG9vayIgc3R5bGU9ImNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOyBmb250LXdlaWdodDpib2xkOyBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKTsiPiBXRUJIT09LIDwvc3Bhbj5gOnFgCiAgICAgICAgICAgIDxkaXYgcGFydD0ic2VjdGlvbi1vcGVyYXRpb24td2ViaG9vay1tZXRob2QiIGNsYXNzPSJtb25vLWZvbnQgcmVndWxhci1mb250LXNpemUiIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7IGRpcmVjdGlvbjpsdHI7IHBhZGRpbmc6IDhweCAwOyBjb2xvcjp2YXIoLS1mZzMpIj4gCiAgICAgICAgICAgICAgPHNwYW4gcGFydD0ibGFiZWwtb3BlcmF0aW9uLW1ldGhvZCIgY2xhc3M9InJlZ3VsYXItZm9udCB1cHBlciBtZXRob2QtZmcgYm9sZC10ZXh0ICR7ZS5tZXRob2R9Ij4ke2UubWV0aG9kfTwvc3Bhbj4gCiAgICAgICAgICAgICAgPHNwYW4gcGFydD0ibGFiZWwtb3BlcmF0aW9uLXBhdGgiPiR7ZS5wYXRofTwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICBgfQogICAgICAgIDxzbG90IG5hbWU9IiR7ZS5lbGVtZW50SWR9Ij48L3Nsb3Q+YH0KICAgICAgJHtlLmRlc2NyaXB0aW9uP3FgPGRpdiBjbGFzcz0ibS1tYXJrZG93biI+ICR7UV8oV2UoZS5kZXNjcmlwdGlvbikpfTwvZGl2PmA6IiJ9CiAgICAgICR7ZlAuY2FsbCh0aGlzLGUuc2VjdXJpdHkpfQogICAgICAke251bGwhPT0obz1lLmV4dGVybmFsRG9jcykmJnZvaWQgMCE9PW8mJm8udXJsfHxudWxsIT09KGE9ZS5leHRlcm5hbERvY3MpJiZ2b2lkIDAhPT1hJiZhLmRlc2NyaXB0aW9uP3FgPGRpdiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1iZzMpOyBwYWRkaW5nOjJweCA4cHggOHB4IDhweDsgbWFyZ2luOjhweCAwOyBib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpIj4gCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im0tbWFya2Rvd24iPiAke1FfKFdlKChudWxsPT09KGk9ZS5leHRlcm5hbERvY3MpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmRlc2NyaXB0aW9uKXx8IiIpKX0gPC9kaXY+CiAgICAgICAgICAgICR7bnVsbCE9PShzPWUuZXh0ZXJuYWxEb2NzKSYmdm9pZCAwIT09cyYmcy51cmw/cWA8YSBzdHlsZT0iZm9udC1mYW1pbHk6dmFyKC0tZm9udC1tb25vKTsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCkiIGhyZWY9IiR7bnVsbD09PShsPWUuZXh0ZXJuYWxEb2NzKXx8dm9pZCAwPT09bD92b2lkIDA6bC51cmx9IiB0YXJnZXQ9Il9ibGFuayI+CiAgICAgICAgICAgICAgICAgICR7bnVsbD09PShjPWUuZXh0ZXJuYWxEb2NzKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy51cmx9IDxkaXYgc3R5bGU9InRyYW5zZm9ybTogcm90YXRlKDI3MGRlZykgc2NhbGUoMS41KTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBtYXJnaW4tbGVmdDo1cHgiPuKHsjwvZGl2PgogICAgICAgICAgICAgICAgPC9hPmA6IiJ9CiAgICAgICAgICA8L2Rpdj5gOiIifQogICAgICAke2d9CiAgICAgIDxkaXYgY2xhc3M9J2V4cGFuZGVkLXJlcS1yZXNwLWNvbnRhaW5lcic+CiAgICAgICAgPGFwaS1yZXF1ZXN0CiAgICAgICAgICBjbGFzcyA9ICIke3RoaXMucmVuZGVyU3R5bGV9LW1vZGUiCiAgICAgICAgICBzdHlsZSA9ICJ3aWR0aDoxMDAlOyIKICAgICAgICAgIHdlYmhvb2sgPSAiJHtlLmlzV2ViaG9va30iCiAgICAgICAgICBtZXRob2QgPSAiJHtlLm1ldGhvZH0iCiAgICAgICAgICBwYXRoID0gIiR7ZS5wYXRofSIKICAgICAgICAgIC5zZWN1cml0eSA9ICIke2Uuc2VjdXJpdHl9IgogICAgICAgICAgLnBhcmFtZXRlcnMgPSAiJHtlLnBhcmFtZXRlcnN9IgogICAgICAgICAgLnJlcXVlc3RfYm9keSA9ICIke2UucmVxdWVzdEJvZHl9IgogICAgICAgICAgLmFwaV9rZXlzID0gIiR7bX0iCiAgICAgICAgICAuc2VydmVycyA9ICIke2Uuc2VydmVyc30iCiAgICAgICAgICBzZXJ2ZXItdXJsID0gIiR7KG51bGw9PT0ocD1lLnNlcnZlcnMpfHx2b2lkIDA9PT1wfHxudWxsPT09KGQ9cFswXSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQudXJsKXx8dGhpcy5zZWxlY3RlZFNlcnZlci5jb21wdXRlZFVybH0iCiAgICAgICAgICBmaWxsLXJlcXVlc3QtZmllbGRzLXdpdGgtZXhhbXBsZSA9ICIke3RoaXMuZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZX0iCiAgICAgICAgICBhbGxvdy10cnkgPSAiJHt0aGlzLmFsbG93VHJ5fSIKICAgICAgICAgIHNob3ctY3VybC1iZWZvcmUtdHJ5ID0gIiR7dGhpcy5zaG93Q3VybEJlZm9yZVRyeX0iCiAgICAgICAgICBhY2NlcHQgPSAiJHtmfSIKICAgICAgICAgIHJlbmRlci1zdHlsZT0iJHt0aGlzLnJlbmRlclN0eWxlfSIgCiAgICAgICAgICBzY2hlbWEtc3R5bGUgPSAiJHt0aGlzLnNjaGVtYVN0eWxlfSIKICAgICAgICAgIGFjdGl2ZS1zY2hlbWEtdGFiID0gIiR7dGhpcy5kZWZhdWx0U2NoZW1hVGFifSIKICAgICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSAiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfSIKICAgICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCA9ICIke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH0iCiAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9ICIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX0iCiAgICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSAiJHsibmV2ZXIiPT09dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHl8fGUuaXNXZWJob29rPyJmYWxzZSI6InRydWUifSIKICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSAiJHsibmV2ZXIiPT09dGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5PyJmYWxzZSI6ZS5pc1dlYmhvb2s/InRydWUiOiJmYWxzZSJ9IgogICAgICAgICAgZmV0Y2gtY3JlZGVudGlhbHMgPSAiJHt0aGlzLmZldGNoQ3JlZGVudGlhbHN9IgogICAgICAgICAgZXhwb3J0cGFydHMgPSAid3JhcC1yZXF1ZXN0LWJ0bjp3cmFwLXJlcXVlc3QtYnRuLCBidG46YnRuLCBidG4tZmlsbDpidG4tZmlsbCwgYnRuLW91dGxpbmU6YnRuLW91dGxpbmUsIGJ0bi10cnk6YnRuLXRyeSwgYnRuLWNsZWFyOmJ0bi1jbGVhciwgYnRuLWNsZWFyLXJlc3A6YnRuLWNsZWFyLXJlc3AsCiAgICAgICAgICAgIGZpbGUtaW5wdXQ6ZmlsZS1pbnB1dCwgdGV4dGJveDp0ZXh0Ym94LCB0ZXh0Ym94LXBhcmFtOnRleHRib3gtcGFyYW0sIHRleHRhcmVhOnRleHRhcmVhLCB0ZXh0YXJlYS1wYXJhbTp0ZXh0YXJlYS1wYXJhbSwgCiAgICAgICAgICAgIGFuY2hvcjphbmNob3IsIGFuY2hvci1wYXJhbS1leGFtcGxlOmFuY2hvci1wYXJhbS1leGFtcGxlLCBzY2hlbWEtZGVzY3JpcHRpb246c2NoZW1hLWRlc2NyaXB0aW9uLCBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZTpzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZSIKICAgICAgICA+IDwvYXBpLXJlcXVlc3Q+CgogICAgICAgICR7ZS5jYWxsYmFja3M/eVAuY2FsbCh0aGlzLGUuY2FsbGJhY2tzKToiIn0KCiAgICAgICAgPGFwaS1yZXNwb25zZQogICAgICAgICAgY2xhc3MgPSAiJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlIgogICAgICAgICAgc3R5bGUgPSAid2lkdGg6MTAwJTsiCiAgICAgICAgICB3ZWJob29rID0gIiR7ZS5pc1dlYmhvb2t9IgogICAgICAgICAgLnJlc3BvbnNlcyA9ICIke2UucmVzcG9uc2VzfSIKICAgICAgICAgIHJlbmRlci1zdHlsZSA9ICIke3RoaXMucmVuZGVyU3R5bGV9IgogICAgICAgICAgc2NoZW1hLXN0eWxlID0gIiR7dGhpcy5zY2hlbWFTdHlsZX0iCiAgICAgICAgICBhY3RpdmUtc2NoZW1hLXRhYiA9ICIke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn0iCiAgICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH0iCiAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSAiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9IgogICAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gIiR7Im5ldmVyIj09PXRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5PyJmYWxzZSI6ZS5pc1dlYmhvb2s/InRydWUiOiJmYWxzZSJ9IgogICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9ICIkeyJuZXZlciI9PT10aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHl8fGUuaXNXZWJob29rPyJmYWxzZSI6InRydWUifSIKICAgICAgICAgIHNlbGVjdGVkLXN0YXR1cyA9ICIke09iamVjdC5rZXlzKGUucmVzcG9uc2VzfHx7fSlbMF18fCIifSIKICAgICAgICAgIGV4cG9ydHBhcnRzID0gImJ0bjpidG4sIGJ0bi1yZXNwb25zZS1zdGF0dXM6YnRuLXJlc3BvbnNlLXN0YXR1cywgYnRuLXNlbGVjdGVkLXJlc3BvbnNlLXN0YXR1czpidG4tc2VsZWN0ZWQtcmVzcG9uc2Utc3RhdHVzLCBidG4tZmlsbDpidG4tZmlsbCwgYnRuLWNvcHk6YnRuLWNvcHksCiAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb246c2NoZW1hLWRlc2NyaXB0aW9uLCBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZTpzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZSIKICAgICAgICA+IDwvYXBpLXJlc3BvbnNlPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIGB9ZnVuY3Rpb24gV1AoKXtyZXR1cm4gdGhpcy5yZXNvbHZlZFNwZWM/cWAKICAke3RoaXMucmVzb2x2ZWRTcGVjLnRhZ3MubWFwKChlPT5xYAogICAgPHNlY3Rpb24gaWQ9IiR7ZS5lbGVtZW50SWR9IiBwYXJ0PSJzZWN0aW9uLXRhZyIgY2xhc3M9InJlZ3VsYXItZm9udCBzZWN0aW9uLWdhcC0tcmVhZC1tb2RlIG9ic2VydmUtbWUiIHN0eWxlPSJib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTsiPgogICAgICA8ZGl2IGNsYXNzPSJ0aXRsZSB0YWciIHBhcnQ9InNlY3Rpb24tdGFnLXRpdGxlIGxhYmVsLXRhZy10aXRsZSI+JHtlLm5hbWV9PC9kaXY+CiAgICAgIDxzbG90IG5hbWU9IiR7ZS5lbGVtZW50SWR9Ij48L3Nsb3Q+CiAgICAgIDxkaXYgY2xhc3M9InJlZ3VsYXItZm9udC1zaXplIj4KICAgICAgJHtRXyhgXG4gICAgICAgICAgPGRpdiBjbGFzcz0ibS1tYXJrZG93biByZWd1bGFyLWZvbnQiPlxuICAgICAgICAgICR7V2UoZS5kZXNjcmlwdGlvbnx8IiIsInRydWUiPT09dGhpcy5pbmZvRGVzY3JpcHRpb25IZWFkaW5nc0luTmF2QmFyP3tyZW5kZXJlcjp6UChlLmVsZW1lbnRJZCl9OnZvaWQgMCl9XG4gICAgICAgIDwvZGl2PmApfQogICAgICA8L2Rpdj4KICAgIDwvc2VjdGlvbj4KICAgIDxzZWN0aW9uIGNsYXNzPSJyZWd1bGFyLWZvbnQgc2VjdGlvbi1nYXAtLXJlYWQtbW9kZSIgcGFydD0ic2VjdGlvbi1vcGVyYXRpb25zLWluLXRhZyI+CiAgICAgICR7ZS5wYXRocy5tYXAoKGU9PkhQLmNhbGwodGhpcyxlKSkpfQogICAgPC9zZWN0aW9uPgogICAgYCkpfQpgOiIifWZ1bmN0aW9uIFZQKGUpe3JldHVybiBxYAogIDxkaXYgY2xhc3M9J2RpdmlkZXInPjwvZGl2PgogIDxkaXYgY2xhc3M9J2V4cGFuZGVkLWVuZHBvaW50LWJvZHkgb2JzZXJ2ZS1tZSAke2UubmFtZX0nIGlkPSdjbXAtLSR7ZS5pZH0nID4KICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQiPiAke2UubmFtZX0gPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLWxpZ2h0LWZnKTsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7IGZvbnQtd2VpZ2h0OjQwMDsiPiBTY2hlbWEgPC9zcGFuPjwvZGl2PgogICR7InRhYmxlIj09PXRoaXMuc2NoZW1hU3R5bGU/cWAKICAgICAgPHNjaGVtYS10YWJsZQogICAgICAgIC5kYXRhID0gJyR7RFAoZS5jb21wb25lbnQse30pfScKICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH0iCiAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gIiR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkfSIKICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9ICIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX0iCiAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gImZhbHNlIgogICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSAiJHt0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHl9IgogICAgICAgIGV4cG9ydHBhcnRzID0gInNjaGVtYS1kZXNjcmlwdGlvbjpzY2hlbWEtZGVzY3JpcHRpb24sIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlOnNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlIgogICAgICA+IDwvc2NoZW1hLXRhYmxlPmA6cWAKICAgICAgPHNjaGVtYS10cmVlCiAgICAgICAgLmRhdGEgPSAnJHtEUChlLmNvbXBvbmVudCx7fSl9JwogICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSAiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfSIKICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgIGFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlID0gIiR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfSIKICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSAiZmFsc2UiCiAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9ICIke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seX0iCiAgICAgICAgZXhwb3J0cGFydHMgPSAic2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGUiCiAgICAgID4gPC9zY2hlbWEtdHJlZT5gfQogIDwvZGl2PmB9ZnVuY3Rpb24gR1AoZSx0KXtyZXR1cm4tMSE9PWUuaWQuaW5kZXhPZigic2NoZW1hcy0iKT9WUC5jYWxsKHRoaXMsZSk6cWAKICA8ZGl2IGNsYXNzPSdkaXZpZGVyJz48L2Rpdj4KICA8ZGl2IGNsYXNzPSdleHBhbmRlZC1lbmRwb2ludC1ib2R5IG9ic2VydmUtbWUgJHtlLm5hbWV9JyBpZD0nY21wLS0ke2UuaWR9JyA+CiAgICAke3FgCiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQiPiAke2UubmFtZX0gPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLWxpZ2h0LWZnKTsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7IGZvbnQtd2VpZ2h0OjQwMCI+ICR7dH0gPC9zcGFuPiA8L2Rpdj4KICAgICAgJHtlLmNvbXBvbmVudD9xYAogICAgICA8ZGl2IGNsYXNzPSdtb25vLWZvbnQgcmVndWxhci1mb250LXNpemUnIHN0eWxlPSdwYWRkaW5nOiA4cHggMDsgY29sb3I6dmFyKC0tZmcyKSc+IAogICAgICAgIDxqc29uLXRyZWUgY2xhc3M9ImJvcmRlciB0cmVlIiByZW5kZXItc3R5bGU9JyR7dGhpcy5yZW5kZXJTdHlsZX0nIC5kYXRhPSIke2UuY29tcG9uZW50fSI+IDwvanNvbi10cmVlPgogICAgICA8L2Rpdj5gOiIifQogICAgYH0KICA8L2Rpdj4KICBgfWZ1bmN0aW9uIEtQKCl7cmV0dXJuIHRoaXMucmVzb2x2ZWRTcGVjP3FgCiAgJHt0aGlzLnJlc29sdmVkU3BlYy5jb21wb25lbnRzLm1hcCgoZT0+cWAKICAgIDxkaXYgaWQ9ImNtcC0tJHtlLm5hbWUudG9Mb3dlckNhc2UoKX0iIGNsYXNzPSdyZWd1bGFyLWZvbnQgc2VjdGlvbi1nYXAtLXJlYWQtbW9kZSBvYnNlcnZlLW1lJyBzdHlsZT0iYm9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7Ij4KICAgICAgPGRpdiBjbGFzcz0idGl0bGUgdGFnIj4ke2UubmFtZX08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0icmVndWxhci1mb250LXNpemUiPgogICAgICAgICR7UV8oYDxkaXYgY2xhc3M9J20tbWFya2Rvd24gcmVndWxhci1mb250Jz4ke1dlKGUuZGVzY3JpcHRpb24/ZS5kZXNjcmlwdGlvbjoiIil9PC9kaXY+YCl9CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSdyZWd1bGFyLWZvbnQgc2VjdGlvbi1nYXAtLXJlYWQtbW9kZSc+CiAgICAgICR7ZS5zdWJDb21wb25lbnRzLmZpbHRlcigoZT0+ITEhPT1lLmV4cGFuZGVkKSkubWFwKCh0PT5HUC5jYWxsKHRoaXMsdCxlLm5hbWUpKSl9CiAgICA8L2Rpdj4KICAgIGApKX0KYDoiIn1mdW5jdGlvbiBKUCgpe2NvbnN0IGU9bmV3IFdlLlJlbmRlcmVyO3JldHVybiBlLmhlYWRpbmc9KGUsdCxyLG4pPT5gPGgke3R9IGNsYXNzPSJvYnNlcnZlLW1lIiBpZD0ib3ZlcnZpZXctLSR7bi5zbHVnKHIpfSI+JHtlfTwvaCR7dH0+YCxlfWZ1bmN0aW9uIFlQKCl7dmFyIGUsdCxyLG47cmV0dXJuIHFgCiAgICA8c2VjdGlvbiBpZD0ib3ZlcnZpZXciIHBhcnQ9InNlY3Rpb24tb3ZlcnZpZXciCiAgICAgIGNsYXNzPSJvYnNlcnZlLW1lICR7InZpZXciPT09dGhpcy5yZW5kZXJTdHlsZT8ic2VjdGlvbi1nYXAiOiJzZWN0aW9uLWdhcC0tcmVhZC1tb2RlIn0iPgogICAgICAke251bGwhPT0oZT10aGlzLnJlc29sdmVkU3BlYykmJnZvaWQgMCE9PWUmJmUuaW5mbz9xYAogICAgICAgICAgPGRpdiBpZD0iYXBpLXRpdGxlIiBwYXJ0PSJzZWN0aW9uLW92ZXJ2aWV3LXRpdGxlIiBzdHlsZT0iZm9udC1zaXplOjMycHgiPgogICAgICAgICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8udGl0bGV9CiAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby52ZXJzaW9uP3FgCiAgICAgICAgICAgICAgPHNwYW4gc3R5bGUgPSAnZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7Zm9udC13ZWlnaHQ6Ym9sZCc+CiAgICAgICAgICAgICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8udmVyc2lvbn0KICAgICAgICAgICAgICA8L3NwYW4+YDoiIn0KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBpZD0iYXBpLWluZm8iIHN0eWxlPSJmb250LXNpemU6Y2FsYyh2YXIoLS1mb250LXNpemUtcmVndWxhcikgLSAxcHgpOyBtYXJnaW4tdG9wOjhweDsiPgogICAgICAgICAgICAke251bGwhPT0odD10aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QpJiZ2b2lkIDAhPT10JiZ0LmVtYWlsP3FgPHNwYW4+JHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QubmFtZXx8IkVtYWlsIn06IAogICAgICAgICAgICAgICAgPGEgaHJlZj0ibWFpbHRvOiR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5jb250YWN0LmVtYWlsfSIgcGFydD0iYW5jaG9yIGFuY2hvci1vdmVydmlldyI+JHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QuZW1haWx9PC9hPgogICAgICAgICAgICAgIDwvc3Bhbj5gOiIifQogICAgICAgICAgICAke251bGwhPT0ocj10aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QpJiZ2b2lkIDAhPT1yJiZyLnVybD9xYDxzcGFuPlVSTDogPGEgaHJlZj0iJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QudXJsfSIgcGFydD0iYW5jaG9yIGFuY2hvci1vdmVydmlldyI+JHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QudXJsfTwvYT48L3NwYW4+YDoiIn0KICAgICAgICAgICAgJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmxpY2Vuc2U/cWA8c3Bhbj5MaWNlbnNlOiAKICAgICAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5saWNlbnNlLnVybD9xYDxhIGhyZWY9IiR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5saWNlbnNlLnVybH0iIHBhcnQ9ImFuY2hvciBhbmNob3Itb3ZlcnZpZXciPiR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5saWNlbnNlLm5hbWV9PC9hPmA6dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5saWNlbnNlLm5hbWV9IDwvc3Bhbj5gOiIifQogICAgICAgICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8udGVybXNPZlNlcnZpY2U/cWA8c3Bhbj48YSBocmVmPSIke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8udGVybXNPZlNlcnZpY2V9IiBwYXJ0PSJhbmNob3IgYW5jaG9yLW92ZXJ2aWV3Ij5UZXJtcyBvZiBTZXJ2aWNlPC9hPjwvc3Bhbj5gOiIifQogICAgICAgICAgICAke3RoaXMuc3BlY1VybCYmInRydWUiPT09dGhpcy5hbGxvd1NwZWNGaWxlRG93bmxvYWQ/cWAKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgbWFyZ2luOjEycHggMDsgZ2FwOjhweDsganVzdGlmeS1jb250ZW50OiBzdGFydDsiPgogICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJtLWJ0biB0aGluLWJvcmRlciIgc3R5bGU9Im1pbi13aWR0aDoxNzBweCIgcGFydD0iYnRuIGJ0bi1vdXRsaW5lIiBAY2xpY2s9JyR7ZT0+e3B0KHRoaXMuc3BlY1VybCwib3BlbmFwaS1zcGVjIil9fSc+RG93bmxvYWQgT3BlbkFQSSBzcGVjPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICR7bnVsbCE9PShuPXRoaXMuc3BlY1VybCkmJnZvaWQgMCE9PW4mJm4udHJpbSgpLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoImpzb24iKT9xYDxidXR0b24gY2xhc3M9Im0tYnRuIHRoaW4tYm9yZGVyIiBzdHlsZT0id2lkdGg6MjAwcHgiIHBhcnQ9ImJ0biBidG4tb3V0bGluZSIgQGNsaWNrPScke2U9PntkdCh0aGlzLnNwZWNVcmwpfX0nPlZpZXcgT3BlbkFQSSBzcGVjIChOZXcgVGFiKTwvYnV0dG9uPmA6IiJ9CiAgICAgICAgICAgICAgICA8L2Rpdj5gOiIifQogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8c2xvdCBuYW1lPSJvdmVydmlldyI+PC9zbG90PgogICAgICAgICAgPGRpdiBpZD0iYXBpLWRlc2NyaXB0aW9uIj4KICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5kZXNjcmlwdGlvbj9xYCR7UV8oYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im0tbWFya2Rvd24gcmVndWxhci1mb250Ij5cbiAgICAgICAgICAgICAgICAke1dlKHRoaXMucmVzb2x2ZWRTcGVjLmluZm8uZGVzY3JpcHRpb24sInRydWUiPT09dGhpcy5pbmZvRGVzY3JpcHRpb25IZWFkaW5nc0luTmF2QmFyP3tyZW5kZXJlcjpKUCgpfTp2b2lkIDApfVxuICAgICAgICAgICAgICA8L2Rpdj5gKX1gOiIifQogICAgICAgICAgPC9kaXY+CiAgICAgICAgYDoiIn0KICAgIDwvc2VjdGlvbj4KICBgfWZ1bmN0aW9uIFpQKGUpe3ZhciB0O2NvbnN0IHI9bnVsbD09PSh0PXRoaXMucmVzb2x2ZWRTcGVjKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zZXJ2ZXJzLmZpbmQoKHQ9PnQudXJsPT09ZSkpO3JldHVybiEhciYmKHRoaXMuc2VsZWN0ZWRTZXJ2ZXI9cix0aGlzLnJlcXVlc3RVcGRhdGUoKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJhcGktc2VydmVyLWNoYW5nZSIse2J1YmJsZXM6ITAsY29tcG9zZWQ6ITAsZGV0YWlsOntzZWxlY3RlZFNlcnZlcjpyfX0pKSwhMCl9ZnVuY3Rpb24gUVAoZSx0KXtjb25zdCByPVsuLi5lLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgidGFibGUiKS5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dCwgc2VsZWN0IildO2xldCBuPXQudXJsO3IuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bmV3IFJlZ0V4cChgeyR7ZS5kYXRhc2V0LnZhcn19YCwiZyIpO249bi5yZXBsYWNlKHQsZS52YWx1ZSl9KSksdC5jb21wdXRlZFVybD1uLHRoaXMucmVxdWVzdFVwZGF0ZSgpfWZ1bmN0aW9uIFhQKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRTZXJ2ZXImJnRoaXMuc2VsZWN0ZWRTZXJ2ZXIudmFyaWFibGVzP3FgCiAgICA8ZGl2IGNsYXNzPSJ0YWJsZS10aXRsZSI+U0VSVkVSIFZBUklBQkxFUzwvZGl2PgogICAgPHRhYmxlIGNsYXNzPSdtLXRhYmxlJyByb2xlPSdwcmVzZW50YXRpb24nPgogICAgICAke09iamVjdC5lbnRyaWVzKHRoaXMuc2VsZWN0ZWRTZXJ2ZXIudmFyaWFibGVzKS5tYXAoKGU9PnFgCiAgICAgICAgPHRyPgogICAgICAgICAgPHRkIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyIgPiR7ZVswXX08L3RkPgogICAgICAgICAgPHRkPgogICAgICAgICAgICAke2VbMV0uZW51bT9xYAogICAgICAgICAgICA8c2VsZWN0CiAgICAgICAgICAgICAgZGF0YS12YXIgPSAiJHtlWzBdfSIKICAgICAgICAgICAgICBAaW5wdXQgPSAke2U9PntRUC5jYWxsKHRoaXMsZSx0aGlzLnNlbGVjdGVkU2VydmVyKX19CiAgICAgICAgICAgID4KICAgICAgICAgICAgJHtPYmplY3QuZW50cmllcyhlWzFdLmVudW0pLm1hcCgodD0+ZVsxXS5kZWZhdWx0PT09dFsxXT9xYAogICAgICAgICAgICAgIDxvcHRpb24KICAgICAgICAgICAgICAgIHNlbGVjdGVkCiAgICAgICAgICAgICAgICBsYWJlbCA9ICR7dFsxXX0KICAgICAgICAgICAgICAgIHZhbHVlID0gJHt0WzFdfQogICAgICAgICAgICAgIC8+YDpxYAogICAgICAgICAgICAgIDxvcHRpb24KICAgICAgICAgICAgICAgIGxhYmVsID0gJHt0WzFdfQogICAgICAgICAgICAgICAgdmFsdWUgPSAke3RbMV19CiAgICAgICAgICAgICAgLz5gKSl9CiAgICAgICAgICAgIDwvc2VsZWN0PmA6cWAKICAgICAgICAgICAgPGlucHV0CiAgICAgICAgICAgICAgdHlwZSA9ICJ0ZXh0IgogICAgICAgICAgICAgIHBhcnQ9InRleHRib3ggdGV4dGJveC1zZXJ2ZXItdmFyIgogICAgICAgICAgICAgIHNwZWxsY2hlY2sgPSAiZmFsc2UiCiAgICAgICAgICAgICAgZGF0YS12YXIgPSAiJHtlWzBdfSIKICAgICAgICAgICAgICB2YWx1ZSA9ICIke2VbMV0uZGVmYXVsdH0iCiAgICAgICAgICAgICAgQGlucHV0ID0gJHtlPT57UVAuY2FsbCh0aGlzLGUsdGhpcy5zZWxlY3RlZFNlcnZlcil9fQogICAgICAgICAgICAvPmB9CiAgICAgICAgICA8L3RkPgogICAgICAgIDwvdHI+CiAgICAgICAgJHtlWzFdLmRlc2NyaXB0aW9uP3FgPHRyPjx0ZCBjb2xzcGFuPSIyIiBzdHlsZT0iYm9yZGVyOm5vbmUiPjxzcGFuIGNsYXNzPSJtLW1hcmtkb3duLXNtYWxsIj4gJHtRXyhXZShlWzFdLmRlc2NyaXB0aW9uKSl9IDwvc3Bhbj48L3RkPjwvdHI+YDoiIn0KICAgICAgYCkpfQogICAgPC90YWJsZT4KICAgIGA6IiJ9ZnVuY3Rpb24gZVIoKXt2YXIgZSx0LHI7cmV0dXJuIXRoaXMucmVzb2x2ZWRTcGVjfHx0aGlzLnJlc29sdmVkU3BlYy5zcGVjTG9hZEVycm9yPyIiOnFgCiAgPHNlY3Rpb24gaWQgPSAnc2VydmVycycgcGFydD0ic2VjdGlvbi1zZXJ2ZXJzIiBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyBkaXJlY3Rpb246bHRyOyBtYXJnaW4tdG9wOjI0cHg7IG1hcmdpbi1ib3R0b206MjRweDsiIGNsYXNzPSdyZWd1bGFyLWZvbnQgb2JzZXJ2ZS1tZSAkeyJyZWFkIGZvY3VzZWQiLmluY2x1ZGVzKHRoaXMucmVuZGVyU3R5bGUpPyJzZWN0aW9uLWdhcC0tcmVhZC1tb2RlIjoic2VjdGlvbi1nYXAifSc+CiAgICA8ZGl2IHBhcnQgPSAic2VjdGlvbi1zZXJ2ZXJzLXRpdGxlIiBjbGFzcyA9ICJzdWItdGl0bGUiPkFQSSBTRVJWRVI8L2Rpdj4KICAgIDxkaXYgY2xhc3MgPSAnbW9uby1mb250JyBzdHlsZT0nbWFyZ2luOiAxMnB4IDA7IGZvbnQtc2l6ZTpjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyAxcHgpOyc+CiAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuc2VydmVycyYmMCE9PShudWxsPT09KGU9dGhpcy5yZXNvbHZlZFNwZWMuc2VydmVycyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubGVuZ3RoKT9xYAogICAgICAgICAgJHtudWxsPT09KHQ9dGhpcy5yZXNvbHZlZFNwZWMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNlcnZlcnMubWFwKCgoZSx0KT0+cWAKICAgICAgICAgICAgPGlucHV0IHR5cGUgPSAncmFkaW8nCiAgICAgICAgICAgICAgbmFtZSA9ICdhcGlfc2VydmVyJwogICAgICAgICAgICAgIGlkID0gJ3NydnItb3B0LSR7dH0nCiAgICAgICAgICAgICAgdmFsdWUgPSAnJHtlLnVybH0nCiAgICAgICAgICAgICAgQGNoYW5nZSA9ICR7KCk9PntaUC5jYWxsKHRoaXMsZS51cmwpfX0KICAgICAgICAgICAgICAuY2hlY2tlZCA9ICcke3RoaXMuc2VsZWN0ZWRTZXJ2ZXIudXJsPT09ZS51cmx9JwogICAgICAgICAgICAgIHN0eWxlID0gJ21hcmdpbjo0cHggMDsgY3Vyc29yOnBvaW50ZXInCiAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSdjdXJzb3I6cG9pbnRlcicgZm9yPSdzcnZyLW9wdC0ke3R9Jz4KICAgICAgICAgICAgICAgICR7ZS51cmx9ICR7ZS5kZXNjcmlwdGlvbj9xYC0gPHNwYW4gY2xhc3M9J3JlZ3VsYXItZm9udCc+JHtlLmRlc2NyaXB0aW9ufSA8L3NwYW4+YDoiIn0KICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICA8YnIvPgogICAgICAgICAgYCkpfQogICAgICBgOiIifQogICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS10aXRsZSBwcmltYXJ5LXRleHQiIHBhcnQ9ImxhYmVsLXNlbGVjdGVkLXNlcnZlciI+IFNFTEVDVEVEOiAkeyhudWxsPT09KHI9dGhpcy5zZWxlY3RlZFNlcnZlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuY29tcHV0ZWRVcmwpfHwibm9uZSJ9PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzbG90IG5hbWU9InNlcnZlcnMiPjwvc2xvdD4KICAgICR7WFAuY2FsbCh0aGlzKX0KICA8L3NlY3Rpb24+YH1mdW5jdGlvbiB0UihlLHQ9InRvZ2dsZSIpe2NvbnN0IHI9bnVsbD09ZT92b2lkIDA6ZS5jbG9zZXN0KCIubmF2LWJhci10YWctYW5kLXBhdGhzIiksbj1udWxsPT1yP3ZvaWQgMDpyLnF1ZXJ5U2VsZWN0b3IoIi5uYXYtYmFyLXBhdGhzLXVuZGVyLXRhZyIpO2lmKHIpe2NvbnN0IGU9ci5jbGFzc0xpc3QuY29udGFpbnMoImV4cGFuZGVkIik7IWV8fCJ0b2dnbGUiIT09dCYmImNvbGxhcHNlIiE9PXQ/ZXx8InRvZ2dsZSIhPT10JiYiZXhwYW5kIiE9PXR8fChyLmNsYXNzTGlzdC5yZXBsYWNlKCJjb2xsYXBzZWQiLCJleHBhbmRlZCIpLG4uc3R5bGUubWF4SGVpZ2h0PWAke24uc2Nyb2xsSGVpZ2h0fXB4YCk6KG4uc3R5bGUubWF4SGVpZ2h0PTAsci5jbGFzc0xpc3QucmVwbGFjZSgiZXhwYW5kZWQiLCJjb2xsYXBzZWQiKSl9fWZ1bmN0aW9uIHJSKGUpe3ZhciB0LHIsbixvO2lmKCJjbGljayIhPT1lLnR5cGUmJigia2V5dXAiIT09ZS50eXBlfHwxMyE9PWUua2V5Q29kZSkpcmV0dXJuO2NvbnN0IGE9ZS50YXJnZXQ7ZS5zdG9wUHJvcGFnYXRpb24oKSwibmF2aWdhdGUiPT09KG51bGw9PT0odD1hLmRhdGFzZXQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFjdGlvbik/dGhpcy5zY3JvbGxUb0V2ZW50VGFyZ2V0KGUsITEpOiJleHBhbmQtYWxsIj09PShudWxsPT09KHI9YS5kYXRhc2V0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5hY3Rpb24pfHwiY29sbGFwc2UtYWxsIj09PShudWxsPT09KG49YS5kYXRhc2V0KXx8dm9pZCAwPT09bj92b2lkIDA6bi5hY3Rpb24pP2Z1bmN0aW9uKGUsdD0iZXhwYW5kLWFsbCIpe2lmKCJjbGljayIhPT1lLnR5cGUmJigia2V5dXAiIT09ZS50eXBlfHwxMyE9PWUua2V5Q29kZSkpcmV0dXJuO2NvbnN0IHI9Wy4uLmUudGFyZ2V0LmNsb3Nlc3QoIi5uYXYtc2Nyb2xsIikucXVlcnlTZWxlY3RvckFsbCgiLm5hdi1iYXItdGFnLWFuZC1wYXRocyIpXTsiZXhwYW5kLWFsbCI9PT10P3IuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9ZS5xdWVyeVNlbGVjdG9yKCIubmF2LWJhci1wYXRocy11bmRlci10YWciKTtlLmNsYXNzTGlzdC5yZXBsYWNlKCJjb2xsYXBzZWQiLCJleHBhbmRlZCIpLHQuc3R5bGUubWF4SGVpZ2h0PWAke251bGw9PXQ/dm9pZCAwOnQuc2Nyb2xsSGVpZ2h0fXB4YH0pKTpyLmZvckVhY2goKGU9PntlLmNsYXNzTGlzdC5yZXBsYWNlKCJleHBhbmRlZCIsImNvbGxhcHNlZCIpLGUucXVlcnlTZWxlY3RvcigiLm5hdi1iYXItcGF0aHMtdW5kZXItdGFnIikuc3R5bGUubWF4SGVpZ2h0PTB9KSl9KGUsYS5kYXRhc2V0LmFjdGlvbik6ImV4cGFuZC1jb2xsYXBzZS10YWciPT09KG51bGw9PT0obz1hLmRhdGFzZXQpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmFjdGlvbikmJnRSKGEsInRvZ2dsZSIpfWZ1bmN0aW9uIG5SKCl7dmFyIGUsdCxyLG47cmV0dXJuIXRoaXMucmVzb2x2ZWRTcGVjfHx0aGlzLnJlc29sdmVkU3BlYy5zcGVjTG9hZEVycm9yP3FgCiAgICAgIDxuYXYgY2xhc3M9J25hdi1iYXInIHBhcnQ9J3NlY3Rpb24tbmF2YmFyJz4KICAgICAgICA8c2xvdCBuYW1lPSduYXYtbG9nbycgY2xhc3M9J2xvZ28nPjwvc2xvdD4KICAgICAgPC9uYXY+CiAgICBgOnFgCiAgPG5hdiBjbGFzcz0nbmF2LWJhciAke3RoaXMucmVuZGVyU3R5bGV9JyBwYXJ0PSdzZWN0aW9uLW5hdmJhcic+CiAgICA8c2xvdCBuYW1lPSduYXYtbG9nbycgY2xhc3M9J2xvZ28nPjwvc2xvdD4KICAgICR7ImZhbHNlIj09PXRoaXMuYWxsb3dTZWFyY2gmJiJmYWxzZSI9PT10aGlzLmFsbG93QWR2YW5jZWRTZWFyY2g/IiI6cWAKICAgICAgICA8ZGl2IHN0eWxlPSdkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOnJvdzsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgYWxpZ24taXRlbXM6c3RyZXRjaDsgcGFkZGluZzo4cHggMjRweCAxMnB4IDI0cHg7ICR7ImZhbHNlIj09PXRoaXMuYWxsb3dBZHZhbmNlZFNlYXJjaD8iYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLW5hdi1ob3Zlci1iZy1jb2xvcikiOiIifScgcGFydD0nc2VjdGlvbi1uYXZiYXItc2VhcmNoJz4KICAgICAgICAgICR7ImZhbHNlIj09PXRoaXMuYWxsb3dTZWFyY2g/IiI6cWAKICAgICAgICAgICAgICA8ZGl2IHN0eWxlID0gJ2Rpc3BsYXk6ZmxleDsgZmxleDoxOyBsaW5lLWhlaWdodDoyMnB4Oyc+CiAgICAgICAgICAgICAgICA8aW5wdXQgaWQgPSAnbmF2LWJhci1zZWFyY2gnIAogICAgICAgICAgICAgICAgICBwYXJ0ID0gJ3RleHRib3ggdGV4dGJveC1uYXYtZmlsdGVyJwogICAgICAgICAgICAgICAgICBzdHlsZSA9ICd3aWR0aDoxMDAlOyBwYWRkaW5nLXJpZ2h0OjIwcHg7IGNvbG9yOnZhcigtLW5hdi1ob3Zlci10ZXh0LWNvbG9yKTsgYm9yZGVyLWNvbG9yOnZhcigtLW5hdi1hY2NlbnQtY29sb3IpOyBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW5hdi1ob3Zlci1iZy1jb2xvciknCiAgICAgICAgICAgICAgICAgIHR5cGUgPSAndGV4dCcKICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSAnRmlsdGVyJyAKICAgICAgICAgICAgICAgICAgQGNoYW5nZSA9ICcke3RoaXMub25TZWFyY2hDaGFuZ2V9JwogICAgICAgICAgICAgICAgICBzcGVsbGNoZWNrID0gJ2ZhbHNlJwogICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0nbWFyZ2luOiA2cHggNXB4IDAgLTI0cHg7IGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtcmVndWxhcik7IGN1cnNvcjpwb2ludGVyOyc+JiN4MjFhOTs8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4gIAogICAgICAgICAgICAgICR7dGhpcy5tYXRjaFBhdGhzP3FgCiAgICAgICAgICAgICAgICAgIDxidXR0b24gQGNsaWNrID0gJyR7dGhpcy5vbkNsZWFyU2VhcmNofScgY2xhc3M9J20tYnRuIHRoaW4tYm9yZGVyJyBzdHlsZT0nbWFyZ2luLWxlZnQ6NXB4OyBjb2xvcjp2YXIoLS1uYXYtdGV4dC1jb2xvcik7IHdpZHRoOjc1cHg7IHBhZGRpbmc6NnB4IDhweDsnIHBhcnQ9J2J0biBidG4tb3V0bGluZSBidG4tY2xlYXItZmlsdGVyJz4KICAgICAgICAgICAgICAgICAgICBDTEVBUgogICAgICAgICAgICAgICAgICA8L2J1dHRvbj5gOiIifQogICAgICAgICAgICBgfQogICAgICAgICAgJHsiZmFsc2UiPT09dGhpcy5hbGxvd0FkdmFuY2VkU2VhcmNofHx0aGlzLm1hdGNoUGF0aHM/IiI6cWAKICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSdtLWJ0biBwcmltYXJ5JyBwYXJ0PSdidG4gYnRuLWZpbGwgYnRuLXNlYXJjaCcgc3R5bGU9J21hcmdpbi1sZWZ0OjVweDsgcGFkZGluZzo2cHggOHB4OyB3aWR0aDo3NXB4JyBAY2xpY2s9JyR7dGhpcy5vblNob3dTZWFyY2hNb2RhbENsaWNrZWR9Jz4KICAgICAgICAgICAgICAgIFNFQVJDSAogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICBgfQogICAgICAgIDwvZGl2PgogICAgICBgfQogICAgJHtxYDxuYXYgY2xhc3M9J25hdi1zY3JvbGwnIHRhYmluZGV4PSctMScgcGFydD0nc2VjdGlvbi1uYXZiYXItc2Nyb2xsJyBAY2xpY2s9JyR7ZT0+clIuY2FsbCh0aGlzLGUpfScgQGtleXVwPScke2U9PnJSLmNhbGwodGhpcyxlKX0nID4KICAgICAgJHsiZmFsc2UiIT09dGhpcy5zaG93SW5mbyYmdGhpcy5yZXNvbHZlZFNwZWMuaW5mbz9xYAogICAgICAgICAgJHsidHJ1ZSI9PT10aGlzLmluZm9EZXNjcmlwdGlvbkhlYWRpbmdzSW5OYXZCYXI/cWAKICAgICAgICAgICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm9EZXNjcmlwdGlvbkhlYWRlcnMubGVuZ3RoPjA/cWA8ZGl2IGNsYXNzPSduYXYtYmFyLWluZm8gJHt0aGlzLm5hdkFjdGl2ZUl0ZW1NYXJrZXJ9JyBpZD0nbGluay1vdmVydmlldycgZGF0YS1jb250ZW50LWlkPSdvdmVydmlldycgZGF0YS1hY3Rpb249J25hdmlnYXRlJyB0YWJpbmRleD0nMCcgcGFydD0nc2VjdGlvbi1uYXZiYXItaXRlbSBzZWN0aW9uLW5hdmJhci1vdmVydmlldyc+IAogICAgICAgICAgICAgICAgICAgICR7KG51bGw9PT0oZT10aGlzLnJlc29sdmVkU3BlYy5pbmZvKXx8dm9pZCAwPT09ZXx8bnVsbD09PSh0PWUudGl0bGUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnRyaW0oKSl8fCJPdmVydmlldyJ9CiAgICAgICAgICAgICAgICAgIDwvZGl2PmA6IiJ9CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nb3ZlcnZpZXctaGVhZGVycyc+CiAgICAgICAgICAgICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm9EZXNjcmlwdGlvbkhlYWRlcnMubWFwKChlPT5xYAogICAgICAgICAgICAgICAgICA8ZGl2CiAgICAgICAgICAgICAgICAgICAgY2xhc3M9J25hdi1iYXItaCR7ZS5kZXB0aH0gJHt0aGlzLm5hdkFjdGl2ZUl0ZW1NYXJrZXJ9JyAKICAgICAgICAgICAgICAgICAgICBpZD0nbGluay1vdmVydmlldy0tJHsobmV3IFdlLlNsdWdnZXIpLnNsdWcoZS50ZXh0KX0nCiAgICAgICAgICAgICAgICAgICAgZGF0YS1hY3Rpb249J25hdmlnYXRlJyAKICAgICAgICAgICAgICAgICAgICBkYXRhLWNvbnRlbnQtaWQ9J292ZXJ2aWV3LS0keyhuZXcgV2UuU2x1Z2dlcikuc2x1ZyhlLnRleHQpfScgCiAgICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICAke2UudGV4dH0KICAgICAgICAgICAgICAgICAgPC9kaXY+YCkpfQogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mb0Rlc2NyaXB0aW9uSGVhZGVycy5sZW5ndGg+MD9xYDxociBzdHlsZT0nYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLW5hdi1ob3Zlci1iZy1jb2xvcik7IGJvcmRlci13aWR0aDoxcHggMCAwIDA7IG1hcmdpbjogMTVweCAwIDAgMCcvPmA6IiJ9CiAgICAgICAgICAgIGA6cWA8ZGl2IGNsYXNzPSduYXYtYmFyLWluZm8gJHt0aGlzLm5hdkFjdGl2ZUl0ZW1NYXJrZXJ9JyBpZD0nbGluay1vdmVydmlldycgZGF0YS1hY3Rpb249J25hdmlnYXRlJyBkYXRhLWNvbnRlbnQtaWQ9J292ZXJ2aWV3JyB0YWJpbmRleD0nMCc+IAogICAgICAgICAgICAgICR7KG51bGw9PT0ocj10aGlzLnJlc29sdmVkU3BlYy5pbmZvKXx8dm9pZCAwPT09cnx8bnVsbD09PShuPXIudGl0bGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRyaW0oKSl8fCJPdmVydmlldyJ9CiAgICAgICAgICAgIDwvZGl2PmB9CiAgICAgICAgYDoiIn0KICAgIAogICAgICAkeyJmYWxzZSI9PT10aGlzLmFsbG93U2VydmVyU2VsZWN0aW9uPyIiOnFgPGRpdiBjbGFzcz0nbmF2LWJhci1pbmZvICR7dGhpcy5uYXZBY3RpdmVJdGVtTWFya2VyfScgaWQ9J2xpbmstc2VydmVycycgZGF0YS1hY3Rpb249J25hdmlnYXRlJyBkYXRhLWNvbnRlbnQtaWQ9J3NlcnZlcnMnIHRhYmluZGV4PScwJyBwYXJ0PSdzZWN0aW9uLW5hdmJhci1pdGVtIHNlY3Rpb24tbmF2YmFyLXNlcnZlcnMnPiBBUEkgU2VydmVycyA8L2Rpdj5gfQogICAgICAkeyJmYWxzZSIhPT10aGlzLmFsbG93QXV0aGVudGljYXRpb24mJnRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcz9xYDxkaXYgY2xhc3M9J25hdi1iYXItaW5mbyAke3RoaXMubmF2QWN0aXZlSXRlbU1hcmtlcn0nIGlkPSdsaW5rLWF1dGgnIGRhdGEtYWN0aW9uPSduYXZpZ2F0ZScgZGF0YS1jb250ZW50LWlkPSdhdXRoJyB0YWJpbmRleD0nMCcgcGFydD0nc2VjdGlvbi1uYXZiYXItaXRlbSBzZWN0aW9uLW5hdmJhci1hdXRoJz4gQXV0aGVudGljYXRpb24gPC9kaXY+YDoiIn0KCiAgICAgIDxkaXYgaWQ9J2xpbmstb3BlcmF0aW9ucy10b3AnIGNsYXNzPSduYXYtYmFyLXNlY3Rpb24gb3BlcmF0aW9ucycgZGF0YS1hY3Rpb249J25hdmlnYXRlJyBkYXRhLWNvbnRlbnQtaWQ9JyR7ImZvY3VzZWQiPT09dGhpcy5yZW5kZXJTdHlsZT8iIjoib3BlcmF0aW9ucy10b3AifScgcGFydD0nc2VjdGlvbi1uYXZiYXItaXRlbSBzZWN0aW9uLW5hdmJhci1vcGVyYXRpb25zLXRvcCc+CiAgICAgICAgPGRpdiBzdHlsZT0nZm9udC1zaXplOjE2cHg7IGRpc3BsYXk6ZmxleDsgbWFyZ2luLWxlZnQ6MTBweDsnPgogICAgICAgICAgJHsiZm9jdXNlZCI9PT10aGlzLnJlbmRlclN0eWxlP3FgCiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbmF2LWJhci1leHBhbmQtYWxsJwogICAgICAgICAgICAgICAgZGF0YS1hY3Rpb249J2V4cGFuZC1hbGwnCiAgICAgICAgICAgICAgICB0YWJpbmRleD0nMCcgCiAgICAgICAgICAgICAgICB0aXRsZT0nRXhwYW5kIGFsbCcKICAgICAgICAgICAgICA+4pa4PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbmF2LWJhci1jb2xsYXBzZS1hbGwnCiAgICAgICAgICAgICAgICBkYXRhLWFjdGlvbj0nY29sbGFwc2UtYWxsJwogICAgICAgICAgICAgICAgdGFiaW5kZXg9JzAnIAogICAgICAgICAgICAgICAgdGl0bGU9J0NvbGxhcHNlIGFsbCcKICAgICAgICAgICAgICA+4pa4PC9kaXY+YDoiIn0gIAogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9J25hdi1iYXItc2VjdGlvbi10aXRsZSc+IE9QRVJBVElPTlMgPC9kaXY+CiAgICAgIDwvZGl2PgoKICAgICAgPCEtLSBUQUdTIEFORCBQQVRIUy0tPgogICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLnRhZ3MuZmlsdGVyKChlPT5lLnBhdGhzLmZpbHRlcigoZT0+bHQodGhpcy5tYXRjaFBhdGhzLGUsdGhpcy5tYXRjaFR5cGUpKSkubGVuZ3RoKSkubWFwKChlPT57dmFyIHQ7cmV0dXJuIHFgCiAgICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLXRhZy1hbmQtcGF0aHMgJHsicmVhZCI9PT10aGlzLnJlbmRlclN0eWxlfHxlLmV4cGFuZGVkPyJleHBhbmRlZCI6ImNvbGxhcHNlZCJ9JyA+CiAgICAgICAgICAgICR7IkdlbmVyYWwg4qaCIj09PWUubmFtZT9xYDxociBzdHlsZT0nYm9yZGVyOm5vbmU7IGJvcmRlci10b3A6IDFweCBkb3R0ZWQgdmFyKC0tbmF2LXRleHQtY29sb3IpOyBvcGFjaXR5OjAuMzsgbWFyZ2luOi0xcHggMCAwIDA7Jy8+YDpxYAogICAgICAgICAgICAgICAgPGRpdiAKICAgICAgICAgICAgICAgICAgY2xhc3M9J25hdi1iYXItdGFnICR7dGhpcy5uYXZBY3RpdmVJdGVtTWFya2VyfScKICAgICAgICAgICAgICAgICAgcGFydD0nc2VjdGlvbi1uYXZiYXItaXRlbSBzZWN0aW9uLW5hdmJhci10YWcnCiAgICAgICAgICAgICAgICAgIGlkPSdsaW5rLSR7ZS5lbGVtZW50SWR9JwogICAgICAgICAgICAgICAgICBkYXRhLWFjdGlvbj0nJHsicmVhZCI9PT10aGlzLnJlbmRlclN0eWxlfHwic2hvdy1kZXNjcmlwdGlvbiI9PT10aGlzLm9uTmF2VGFnQ2xpY2s/Im5hdmlnYXRlIjoiZXhwYW5kLWNvbGxhcHNlLXRhZyJ9JwogICAgICAgICAgICAgICAgICBkYXRhLWNvbnRlbnQtaWQ9JyR7KCJyZWFkIj09PXRoaXMucmVuZGVyU3R5bGU/YCR7ZS5lbGVtZW50SWR9YDoic2hvdy1kZXNjcmlwdGlvbiI9PT10aGlzLm9uTmF2VGFnQ2xpY2spP2Ake2UuZWxlbWVudElkfWA6IiJ9JwogICAgICAgICAgICAgICAgICBkYXRhLWZpcnN0LXBhdGgtaWQ9JyR7ZS5maXJzdFBhdGhJZH0nCiAgICAgICAgICAgICAgICAgIHRhYmluZGV4PScwJwogICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJwb2ludGVyLWV2ZW50czpub25lOyI+JHtlLm5hbWV9PC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J25hdi1iYXItdGFnLWljb24nIHRhYmluZGV4PScwJyBkYXRhLWFjdGlvbj0nZXhwYW5kLWNvbGxhcHNlLXRhZyc+PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICBgfQogICAgICAgICAgICAkeyJ0cnVlIj09PXRoaXMuaW5mb0Rlc2NyaXB0aW9uSGVhZGluZ3NJbk5hdkJhcj9xYAogICAgICAgICAgICAgICAgJHsiZm9jdXNlZCI9PT10aGlzLnJlbmRlclN0eWxlJiYiZXhwYW5kLWNvbGxhcHNlIj09PXRoaXMub25OYXZUYWdDbGljaz8iIjpxYAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RhZy1oZWFkZXJzJz4KICAgICAgICAgICAgICAgICAgICAgICR7ZS5oZWFkZXJzLm1hcCgodD0+cWAKICAgICAgICAgICAgICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9J25hdi1iYXItaCR7dC5kZXB0aH0gJHt0aGlzLm5hdkFjdGl2ZUl0ZW1NYXJrZXJ9JwogICAgICAgICAgICAgICAgICAgICAgICBwYXJ0PSdzZWN0aW9uLW5hdmJhci1pdGVtIHNlY3Rpb24tbmF2YmFyLWgke3QuZGVwdGh9JwogICAgICAgICAgICAgICAgICAgICAgICBpZD0nbGluay0ke2UuZWxlbWVudElkfS0tJHsobmV3IFdlLlNsdWdnZXIpLnNsdWcodC50ZXh0KX0nCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYWN0aW9uPSduYXZpZ2F0ZScKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1jb250ZW50LWlkPScke2UuZWxlbWVudElkfS0tJHsobmV3IFdlLlNsdWdnZXIpLnNsdWcodC50ZXh0KX0nCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PScwJwogICAgICAgICAgICAgICAgICAgICAgPiAke3QudGV4dH08L2Rpdj5gKSl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YH1gOiIifQogICAgICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLXBhdGhzLXVuZGVyLXRhZycgc3R5bGU9J21heC1oZWlnaHQ6JHtlLmV4cGFuZGVkfHwicmVhZCI9PT10aGlzLnJlbmRlclN0eWxlPzUwKigobnVsbD09PSh0PWUucGF0aHMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCl8fDEpOjB9cHg7Jz4KICAgICAgICAgICAgICA8IS0tIFBhdGhzIGluIGVhY2ggdGFnIChlbmRwb2ludHMpIC0tPgogICAgICAgICAgICAgICR7ZS5wYXRocy5maWx0ZXIoKGU9PiF0aGlzLm1hdGNoUGF0aHN8fGx0KHRoaXMubWF0Y2hQYXRocyxlLHRoaXMubWF0Y2hUeXBlKSkpLm1hcCgoZT0+cWAKICAgICAgICAgICAgICA8ZGl2IAogICAgICAgICAgICAgICAgY2xhc3M9J25hdi1iYXItcGF0aCAke3RoaXMubmF2QWN0aXZlSXRlbU1hcmtlcn0gJHsidHJ1ZSI9PT10aGlzLnVzZVBhdGhJbk5hdkJhcj8ic21hbGwtZm9udCI6IiJ9JwogICAgICAgICAgICAgICAgcGFydD0nc2VjdGlvbi1uYXZiYXItaXRlbSBzZWN0aW9uLW5hdmJhci1wYXRoJwogICAgICAgICAgICAgICAgZGF0YS1hY3Rpb249J25hdmlnYXRlJwogICAgICAgICAgICAgICAgZGF0YS1jb250ZW50LWlkPScke2UuZWxlbWVudElkfScKICAgICAgICAgICAgICAgIGlkPSdsaW5rLSR7ZS5lbGVtZW50SWR9JwogICAgICAgICAgICAgICAgdGFiaW5kZXg9JzAnCiAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGUgPSAnZGlzcGxheTpmbGV4OyBwb2ludGVyLWV2ZW50czogbm9uZTsgYWxpZ24taXRlbXM6c3RhcnQ7ICR7ZS5kZXByZWNhdGVkPyJmaWx0ZXI6b3BhY2l0eSgwLjUpIjoiIn0nPgogICAgICAgICAgICAgICAgICAke3FgPHNwYW4gY2xhc3M9J25hdi1tZXRob2QgJHt0aGlzLnNob3dNZXRob2RJbk5hdkJhcn0gJHtlLm1ldGhvZH0nIHN0eWxlPSdwb2ludGVyLWV2ZW50czogbm9uZTsnPgogICAgICAgICAgICAgICAgICAgICAgJHsiYXMtY29sb3JlZC1ibG9jayI9PT10aGlzLnNob3dNZXRob2RJbk5hdkJhcj9lLm1ldGhvZC5zdWJzdHJpbmcoMCwzKS50b1VwcGVyQ2FzZSgpOmUubWV0aG9kLnRvVXBwZXJDYXNlKCl9CiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPmB9CiAgICAgICAgICAgICAgICAgICR7ZS5pc1dlYmhvb2s/cWA8c3BhbiBzdHlsZT0nZm9udC13ZWlnaHQ6Ym9sZDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IG1hcmdpbi1yaWdodDo4cHg7IGZvbnQtc2l6ZTogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpIC0gMnB4KSc+V0VCSE9PSzwvc3Bhbj5gOiIifQogICAgICAgICAgICAgICAgICAkeyJ0cnVlIj09PXRoaXMudXNlUGF0aEluTmF2QmFyP3FgPHNwYW4gc3R5bGU9J3BvaW50ZXItZXZlbnRzOiBub25lOycgY2xhc3M9J21vbm8tZm9udCc+JHtlLnBhdGh9PC9zcGFuPmA6ZS5zdW1tYXJ5fHxlLnNob3J0U3VtbWFyeX0KICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICA8L2Rpdj5gKSl9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgYH0pKX0KCiAgICAgIDwhLS0gQ09NUE9ORU5UUyAtLT4KICAgICAgJHt0aGlzLnJlc29sdmVkU3BlYy5jb21wb25lbnRzJiYidHJ1ZSI9PT10aGlzLnNob3dDb21wb25lbnRzJiYiZm9jdXNlZCI9PT10aGlzLnJlbmRlclN0eWxlP3FgCiAgICAgICAgICA8ZGl2IGlkPSdsaW5rLWNvbXBvbmVudHMnIGNsYXNzPSduYXYtYmFyLXNlY3Rpb24gY29tcG9uZW50cyc+CiAgICAgICAgICAgIDxkaXY+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9J25hdi1iYXItc2VjdGlvbi10aXRsZSc+Q09NUE9ORU5UUzwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLmNvbXBvbmVudHMubWFwKChlPT5lLnN1YkNvbXBvbmVudHMubGVuZ3RoP3FgCiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbmF2LWJhci10YWcnCiAgICAgICAgICAgICAgICBwYXJ0PSdzZWN0aW9uLW5hdmJhci1pdGVtIHNlY3Rpb24tbmF2YmFyLXRhZycKICAgICAgICAgICAgICAgIGRhdGEtYWN0aW9uPSduYXZpZ2F0ZScgCiAgICAgICAgICAgICAgICBkYXRhLWNvbnRlbnQtaWQ9J2NtcC0tJHtlLm5hbWUudG9Mb3dlckNhc2UoKX0nIAogICAgICAgICAgICAgICAgaWQ9J2xpbmstY21wLS0ke2UubmFtZS50b0xvd2VyQ2FzZSgpfScKICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAke2UubmFtZX0KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAke2Uuc3ViQ29tcG9uZW50cy5maWx0ZXIoKGU9PiExIT09ZS5leHBhbmRlZCkpLm1hcCgoZT0+cWAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J25hdi1iYXItcGF0aCcgZGF0YS1hY3Rpb249J25hdmlnYXRlJyBkYXRhLWNvbnRlbnQtaWQ9J2NtcC0tJHtlLmlkfScgaWQ9J2xpbmstY21wLS0ke2UuaWR9Jz4KICAgICAgICAgICAgICAgICAgPHNwYW4+ICR7ZS5uYW1lfSA8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj5gKSl9YDoiIikpfWA6IiJ9CiAgICA8L25hdj5gfQo8L25hdj4KYH1mdW5jdGlvbiBvUihlKXtjb25zdCB0PW5ldyBXZS5SZW5kZXJlcjtyZXR1cm4gdC5oZWFkaW5nPSh0LHIsbixvKT0+YDxoJHtyfSBjbGFzcz0ib2JzZXJ2ZS1tZSIgaWQ9IiR7ZX0tLSR7by5zbHVnKG4pfSI+JHt0fTwvaCR7cn0+YCx0fWZ1bmN0aW9uIGFSKGUpe3JldHVybiBxYAogICAgPGRpdiBjbGFzcz0ncmVndWxhci1mb250IHNlY3Rpb24tZ2FwLS1mb2N1c2VkLW1vZGUnIHBhcnQ9InNlY3Rpb24tb3BlcmF0aW9ucy1pbi10YWciPgogICAgICAke2V9CiAgICA8L2Rpdj5gfWZ1bmN0aW9uIGlSKCl7dmFyIGU7aWYoInRydWUiPT09dGhpcy5zaG93SW5mbylyZXR1cm4gYVIoWVAuY2FsbCh0aGlzKSk7Y29uc3QgdD10aGlzLnJlc29sdmVkU3BlYy50YWdzWzBdLHI9bnVsbD09PShlPXRoaXMucmVzb2x2ZWRTcGVjLnRhZ3NbMF0pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBhdGhzWzBdO3JldHVybiBhUih0JiZyP0hQLmNhbGwodGhpcyxyLHQubmFtZSk6IiIpfWZ1bmN0aW9uIHNSKGUpe3JldHVybiBxYAogICAgPGgxIGlkPSIke2UuZWxlbWVudElkfSI+JHtlLm5hbWV9PC9oMT4KICAgICR7InNob3ctZGVzY3JpcHRpb24iPT09dGhpcy5vbk5hdlRhZ0NsaWNrJiZlLmRlc2NyaXB0aW9uP3FgCiAgICAgICAgPGRpdiBjbGFzcz0ibS1tYXJrZG93biI+CiAgICAgICAgICAke1FfKGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im0tbWFya2Rvd24gcmVndWxhci1mb250Ij5cbiAgICAgICAgICAgICAgJHtXZShlLmRlc2NyaXB0aW9ufHwiIiwidHJ1ZSI9PT10aGlzLmluZm9EZXNjcmlwdGlvbkhlYWRpbmdzSW5OYXZCYXI/e3JlbmRlcmVyOm9SKGUuZWxlbWVudElkKX06dm9pZCAwKX1cbiAgICAgICAgICAgIDwvZGl2PmApfQogICAgICAgIDwvZGl2PmA6IiJ9CiAgYH1mdW5jdGlvbiBsUigpe2lmKCF0aGlzLmZvY3VzZWRFbGVtZW50SWR8fCF0aGlzLnJlc29sdmVkU3BlYylyZXR1cm47Y29uc3QgZT10aGlzLmZvY3VzZWRFbGVtZW50SWQ7bGV0IHQscj1udWxsLG49bnVsbCxvPTA7aWYoZS5zdGFydHNXaXRoKCJvdmVydmlldyIpJiYidHJ1ZSI9PT10aGlzLnNob3dJbmZvKXQ9WVAuY2FsbCh0aGlzKTtlbHNlIGlmKCJhdXRoIj09PWUmJiJ0cnVlIj09PXRoaXMuYWxsb3dBdXRoZW50aWNhdGlvbil0PWhQLmNhbGwodGhpcyk7ZWxzZSBpZigic2VydmVycyI9PT1lJiYidHJ1ZSI9PT10aGlzLmFsbG93U2VydmVyU2VsZWN0aW9uKXQ9ZVIuY2FsbCh0aGlzKTtlbHNlIGlmKCJvcGVyYXRpb25zLXRvcCI9PT1lKXQ9cWAKICAgIDxkaXYgaWQ9Im9wZXJhdGlvbnMtdG9wIiBjbGFzcz0ib2JzZXJ2ZS1tZSI+CiAgICAgIDxzbG90IG5hbWU9Im9wZXJhdGlvbnMtdG9wIj48L3Nsb3Q+CiAgICA8L2Rpdj5gO2Vsc2UgaWYoZS5zdGFydHNXaXRoKCJjbXAtLSIpJiYidHJ1ZSI9PT10aGlzLnNob3dDb21wb25lbnRzKXQ9S1AuY2FsbCh0aGlzKTtlbHNlIGlmKGUuc3RhcnRzV2l0aCgidGFnLS0iKSl7Y29uc3Qgcj1lLmluZGV4T2YoIi0tIiw0KT4wP2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCItLSIsNSkpOmU7bj10aGlzLnJlc29sdmVkU3BlYy50YWdzLmZpbmQoKGU9PmUuZWxlbWVudElkPT09cikpLHQ9bj9hUi5jYWxsKHRoaXMsc1IuY2FsbCh0aGlzLG4pKTppUi5jYWxsKHRoaXMpfWVsc2V7Zm9yKG89MDtvPHRoaXMucmVzb2x2ZWRTcGVjLnRhZ3MubGVuZ3RoJiYobj10aGlzLnJlc29sdmVkU3BlYy50YWdzW29dLHI9dGhpcy5yZXNvbHZlZFNwZWMudGFnc1tvXS5wYXRocy5maW5kKCh0PT5gJHt0LmVsZW1lbnRJZH1gPT09ZSkpLCFyKTtvKz0xKTtpZihyKXt0Uih0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoYGxpbmstJHtlfWApLCJleHBhbmQiKSx0PWFSLmNhbGwodGhpcyxIUC5jYWxsKHRoaXMscixuLm5hbWV8fCIiLG4uZGVzY3JpcHRpb258fCIiKSl9ZWxzZSB0PWlSLmNhbGwodGhpcyl9cmV0dXJuIHR9ZnVuY3Rpb24gY1IoZSl7aWYoZS5leHBhbmRlZCllLmV4cGFuZGVkPSExLCJ0cnVlIj09PXRoaXMudXBkYXRlUm91dGUmJnRoaXMucmVwbGFjZUhpc3RvcnlTdGF0ZSgiIik7ZWxzZSBpZihlLmV4cGFuZGVkPSEwLCJ0cnVlIj09PXRoaXMudXBkYXRlUm91dGUpe2NvbnN0IHQ9YCR7dGhpcy5yb3V0ZVByZWZpeHx8IiMifSR7ZS5lbGVtZW50SWR9YDt3aW5kb3cubG9jYXRpb24uaGFzaCE9PXQmJnRoaXMucmVwbGFjZUhpc3RvcnlTdGF0ZShlLmVsZW1lbnRJZCl9dGhpcy5yZXF1ZXN0VXBkYXRlKCl9ZnVuY3Rpb24gcFIoZSx0PSJleHBhbmQtYWxsIil7Y29uc3Qgcj1bLi4uZS5xdWVyeVNlbGVjdG9yQWxsKCIuc2VjdGlvbi10YWciKV07ImV4cGFuZC1hbGwiPT09dD9yLm1hcCgoZT0+e2UuY2xhc3NMaXN0LnJlcGxhY2UoImNvbGxhcHNlZCIsImV4cGFuZGVkIil9KSk6ci5tYXAoKGU9PntlLmNsYXNzTGlzdC5yZXBsYWNlKCJleHBhbmRlZCIsImNvbGxhcHNlZCIpfSkpfWZ1bmN0aW9uIGRSKGUsdD0iZXhwYW5kLWFsbCIpe3BSLmNhbGwodGhpcyxlLnRhcmdldC5jbG9zZXN0KCIub3BlcmF0aW9ucy1yb290IiksdCl9ZnVuY3Rpb24gdVIoZSx0PSExKXtyZXR1cm4gcWAKICA8c3VtbWFyeSBAY2xpY2s9IiR7dD0+e2NSLmNhbGwodGhpcyxlLHQpfX0iIHBhcnQ9InNlY3Rpb24tZW5kcG9pbnQtaGVhZC0ke2UuZXhwYW5kZWQ/ImV4cGFuZGVkIjoiY29sbGFwc2VkIn0iIGNsYXNzPSdlbmRwb2ludC1oZWFkICR7ZS5tZXRob2R9ICR7ZS5kZXByZWNhdGVkPyJkZXByZWNhdGVkIjoiIn0gJHt0fHxlLmV4cGFuZGVkPyJleHBhbmRlZCI6ImNvbGxhcHNlZCJ9Jz4KICAgIDxkaXYgcGFydD0ic2VjdGlvbi1lbmRwb2ludC1oZWFkLW1ldGhvZCIgY2xhc3M9Im1ldGhvZCAke2UubWV0aG9kfSAke2UuZGVwcmVjYXRlZD8iZGVwcmVjYXRlZCI6IiJ9Ij4gJHtlLm1ldGhvZH0gPC9kaXY+IAogICAgPGRpdiAgcGFydD0ic2VjdGlvbi1lbmRwb2ludC1oZWFkLXBhdGgiIGNsYXNzPSJwYXRoICR7ZS5kZXByZWNhdGVkPyJkZXByZWNhdGVkIjoiIn0iPiAKICAgICAgJHtlLnBhdGh9IAogICAgICAke2UuaXNXZWJob29rP3FgPHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXJlZ3VsYXIpOyBmb250LXNpemU6IHZhcigtLSk7IGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTsgY29sb3I6dmFyKC0tcHJpbWFyeS1jb2xvcik7IG1hcmdpbi1sZWZ0OiAxNnB4Ij4gV2ViaG9vazwvc3Bhbj5gOiIifQogICAgPC9kaXY+CiAgICAke2UuZGVwcmVjYXRlZD9xYAogICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsgdGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjp2YXIoLS1yZWQpOyBtYXJnaW46MnB4IDAgMCA1cHg7Ij4gCiAgICAgICAgICBkZXByZWNhdGVkIAogICAgICAgIDwvc3Bhbj5gOiIifQogICAgJHt0aGlzLnNob3dTdW1tYXJ5V2hlbkNvbGxhcHNlZD9xYAogICAgICAgIDxkaXYgY2xhc3M9Im9ubHktbGFyZ2Utc2NyZWVuIiBzdHlsZT0ibWluLXdpZHRoOjYwcHg7IGZsZXg6MSI+PC9kaXY+CiAgICAgICAgPGRpdiBwYXJ0PSJzZWN0aW9uLWVuZHBvaW50LWhlYWQtZGVzY3JpcHRpb24iIGNsYXNzPSJkZXNjciI+JHtlLnN1bW1hcnl8fGUuc2hvcnRTdW1tYXJ5fSA8L2Rpdj5gOiIifQogIDwvc3VtbWFyeT4KICBgfWZ1bmN0aW9uIGhSKGUpe3ZhciB0LHIsbixvLGEsaSxzO2NvbnN0IGw9bmV3IFNldDtmb3IoY29uc3QgdCBpbiBlLnJlc3BvbnNlcylmb3IoY29uc3QgciBpbiBudWxsPT09KGM9ZS5yZXNwb25zZXNbdF0pfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmNvbnRlbnQpe3ZhciBjO2wuYWRkKHIudHJpbSgpKX1jb25zdCBwPVsuLi5sXS5qb2luKCIsICIpLGQ9dGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLmZpbHRlcigodD0+e3ZhciByO3JldHVybiB0LmZpbmFsS2V5VmFsdWUmJihudWxsPT09KHI9ZS5zZWN1cml0eSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc29tZSgoZT0+dC5zZWN1cml0eVNjaGVtZUlkIGluIGUpKSl9KSl8fFtdLHU9dGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLmZpbmQoKGU9PmUuc2VjdXJpdHlTY2hlbWVJZD09PWF0JiYiLSIhPT1lLnZhbHVlKSk7dSYmZC5wdXNoKHUpO2NvbnN0IGg9ZS54Q29kZVNhbXBsZXM/bVAoZS54Q29kZVNhbXBsZXMpOiIiO3JldHVybiBxYAogIDxkaXYgcGFydD0ic2VjdGlvbi1lbmRwb2ludC1ib2R5LSR7ZS5leHBhbmRlZD8iZXhwYW5kZWQiOiJjb2xsYXBzZWQifSIgY2xhc3M9J2VuZHBvaW50LWJvZHkgJHtlLm1ldGhvZH0gJHtlLmRlcHJlY2F0ZWQ/ImRlcHJlY2F0ZWQiOiIifSc+CiAgICA8ZGl2IGNsYXNzPSJzdW1tYXJ5Ij4KICAgICAgJHtlLnN1bW1hcnk/cWA8ZGl2IGNsYXNzPSJ0aXRsZSIgcGFydD0ic2VjdGlvbi1lbmRwb2ludC1ib2R5LXRpdGxlIj4ke2Uuc3VtbWFyeX08ZGl2PmA6ZS5zaG9ydFN1bW1hcnkhPT1lLmRlc2NyaXB0aW9uP3FgPGRpdiBjbGFzcz0idGl0bGUiIHBhcnQ9InNlY3Rpb24tZW5kcG9pbnQtYm9keS10aXRsZSI+JHtlLnNob3J0U3VtbWFyeX08L2Rpdj5gOiIifQogICAgICAke2UueEJhZGdlcyYmKG51bGw9PT0odD1lLnhCYWRnZXMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCk+MD9xYAogICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4OyBmbGV4LXdyYXA6d3JhcDtmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7Ij4KICAgICAgICAgICAgJHtlLnhCYWRnZXMubWFwKChlPT5xYDxzcGFuIHBhcnQ9ImVuZHBvaW50LWJhZGdlIiBzdHlsZT0ibWFyZ2luOjFweDsgbWFyZ2luLXJpZ2h0OjVweDsgcGFkZGluZzoxcHggOHB4OyBmb250LXdlaWdodDpib2xkOyBib3JkZXItcmFkaXVzOjEycHg7ICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC0ke2UuY29sb3J9LCB2YXIoLS1pbnB1dC1iZykpOyBjb2xvcjp2YXIoLS0ke2UuY29sb3J9KTsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS0ke2UuY29sb3J9KSI+JHtlLmxhYmVsfTwvc3Bhbj5gKSl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIGA6IiJ9CgogICAgICAke2UuZGVzY3JpcHRpb24/cWA8ZGl2IHBhcnQ9InNlY3Rpb24tZW5kcG9pbnQtYm9keS1kZXNjcmlwdGlvbiIgY2xhc3M9Im0tbWFya2Rvd24iPiAke1FfKFdlKGUuZGVzY3JpcHRpb24pKX08L2Rpdj5gOiIifQogICAgICAke251bGwhPT0ocj1lLmV4dGVybmFsRG9jcykmJnZvaWQgMCE9PXImJnIudXJsfHxudWxsIT09KG49ZS5leHRlcm5hbERvY3MpJiZ2b2lkIDAhPT1uJiZuLmRlc2NyaXB0aW9uP3FgPGRpdiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1iZzMpOyBwYWRkaW5nOjJweCA4cHggOHB4IDhweDsgbWFyZ2luOjhweCAwOyBib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpIj4gCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im0tbWFya2Rvd24iPiAke1FfKFdlKChudWxsPT09KG89ZS5leHRlcm5hbERvY3MpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmRlc2NyaXB0aW9uKXx8IiIpKX0gPC9kaXY+CiAgICAgICAgICAgICR7bnVsbCE9PShhPWUuZXh0ZXJuYWxEb2NzKSYmdm9pZCAwIT09YSYmYS51cmw/cWA8YSBzdHlsZT0iZm9udC1mYW1pbHk6dmFyKC0tZm9udC1tb25vKTsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCkiIGhyZWY9IiR7bnVsbD09PShpPWUuZXh0ZXJuYWxEb2NzKXx8dm9pZCAwPT09aT92b2lkIDA6aS51cmx9IiB0YXJnZXQ9Il9ibGFuayI+IAogICAgICAgICAgICAgICAgICAke251bGw9PT0ocz1lLmV4dGVybmFsRG9jcyl8fHZvaWQgMD09PXM/dm9pZCAwOnMudXJsfSA8ZGl2IHN0eWxlPSJ0cmFuc2Zvcm06IHJvdGF0ZSgyNzBkZWcpIHNjYWxlKDEuNSk7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgbWFyZ2luLWxlZnQ6NXB4Ij7ih7I8L2Rpdj4KICAgICAgICAgICAgICAgIDwvYT5gOiIifQogICAgICAgICAgPC9kaXY+YDoiIn0KICAgICAgPHNsb3QgbmFtZT0iJHtlLmVsZW1lbnRJZH0iPjwvc2xvdD4KICAgICAgJHtmUC5jYWxsKHRoaXMsZS5zZWN1cml0eSl9CiAgICAgICR7aH0KICAgIDwvZGl2PiAgCiAgICA8ZGl2IGNsYXNzPSdyZXEtcmVzcC1jb250YWluZXInPiAKICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW4iIGNsYXNzPSJ2aWV3LW1vZGUtcmVxdWVzdCAke3RoaXMubGF5b3V0fS1sYXlvdXQiPgogICAgICAgIDxhcGktcmVxdWVzdAogICAgICAgICAgY2xhc3MgPSAiJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlICR7dGhpcy5sYXlvdXR9LWxheW91dCIKICAgICAgICAgIHN0eWxlID0gIndpZHRoOjEwMCU7IgogICAgICAgICAgd2ViaG9vayA9ICIke2UuaXNXZWJob29rfSIKICAgICAgICAgIG1ldGhvZCA9ICIke2UubWV0aG9kfSIKICAgICAgICAgIHBhdGggPSAiJHtlLnBhdGh9IgogICAgICAgICAgLnNlY3VyaXR5ID0gIiR7ZS5zZWN1cml0eX0iCiAgICAgICAgICAucGFyYW1ldGVycyA9ICIke2UucGFyYW1ldGVyc30iCiAgICAgICAgICAucmVxdWVzdF9ib2R5ID0gIiR7ZS5yZXF1ZXN0Qm9keX0iCiAgICAgICAgICAuYXBpX2tleXMgPSAiJHtkfSIKICAgICAgICAgIC5zZXJ2ZXJzID0gIiR7ZS5zZXJ2ZXJzfSIgCiAgICAgICAgICBzZXJ2ZXItdXJsID0gIiR7ZS5zZXJ2ZXJzJiZlLnNlcnZlcnMubGVuZ3RoPjA/ZS5zZXJ2ZXJzWzBdLnVybDp0aGlzLnNlbGVjdGVkU2VydmVyLmNvbXB1dGVkVXJsfSIgCiAgICAgICAgICBhY3RpdmUtc2NoZW1hLXRhYiA9ICIke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn0iCiAgICAgICAgICBmaWxsLXJlcXVlc3QtZmllbGRzLXdpdGgtZXhhbXBsZSA9ICIke3RoaXMuZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZX0iCiAgICAgICAgICBhbGxvdy10cnkgPSAiJHt0aGlzLmFsbG93VHJ5fSIKICAgICAgICAgIHNob3ctY3VybC1iZWZvcmUtdHJ5ID0gIiR7dGhpcy5zaG93Q3VybEJlZm9yZVRyeX0iCiAgICAgICAgICBhY2NlcHQgPSAiJHtwfSIKICAgICAgICAgIHJlbmRlci1zdHlsZT0iJHt0aGlzLnJlbmRlclN0eWxlfSIgCiAgICAgICAgICBzY2hlbWEtc3R5bGUgPSAiJHt0aGlzLnNjaGVtYVN0eWxlfSIgCiAgICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH0iCiAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSAiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9IgogICAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gIiR7Im5ldmVyIj09PXRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5fHxlLmlzV2ViaG9vaz8iZmFsc2UiOiJ0cnVlIn0iCiAgICAgICAgICBzY2hlbWEtaGlkZS13cml0ZS1vbmx5ID0gIiR7Im5ldmVyIj09PXRoaXMuc2NoZW1hSGlkZVdyaXRlT25seT8iZmFsc2UiOmUuaXNXZWJob29rPyJ0cnVlIjoiZmFsc2UifSIKICAgICAgICAgIGZldGNoLWNyZWRlbnRpYWxzID0gIiR7dGhpcy5mZXRjaENyZWRlbnRpYWxzfSIKICAgICAgICAgIGV4cG9ydHBhcnRzID0gIndyYXAtcmVxdWVzdC1idG46d3JhcC1yZXF1ZXN0LWJ0biwgYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1vdXRsaW5lOmJ0bi1vdXRsaW5lLCBidG4tdHJ5OmJ0bi10cnksIGJ0bi1jbGVhcjpidG4tY2xlYXIsIGJ0bi1jbGVhci1yZXNwOmJ0bi1jbGVhci1yZXNwLAogICAgICAgICAgICBmaWxlLWlucHV0OmZpbGUtaW5wdXQsIHRleHRib3g6dGV4dGJveCwgdGV4dGJveC1wYXJhbTp0ZXh0Ym94LXBhcmFtLCB0ZXh0YXJlYTp0ZXh0YXJlYSwgdGV4dGFyZWEtcGFyYW06dGV4dGFyZWEtcGFyYW0sIAogICAgICAgICAgICBhbmNob3I6YW5jaG9yLCBhbmNob3ItcGFyYW0tZXhhbXBsZTphbmNob3ItcGFyYW0tZXhhbXBsZSwgc2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGUiCiAgICAgICAgICA+IDwvYXBpLXJlcXVlc3Q+CgogICAgICAgICAgJHtlLmNhbGxiYWNrcz95UC5jYWxsKHRoaXMsZS5jYWxsYmFja3MpOiIifQogICAgICAgIDwvZGl2PiAgCgogICAgICAgIDxhcGktcmVzcG9uc2UKICAgICAgICAgIGNsYXNzID0gIiR7dGhpcy5yZW5kZXJTdHlsZX0tbW9kZSIKICAgICAgICAgIHN0eWxlID0gIndpZHRoOjEwMCU7IgogICAgICAgICAgd2ViaG9vayA9ICIke2UuaXNXZWJob29rfSIKICAgICAgICAgIC5yZXNwb25zZXM9IiR7ZS5yZXNwb25zZXN9IgogICAgICAgICAgYWN0aXZlLXNjaGVtYS10YWIgPSAiJHt0aGlzLmRlZmF1bHRTY2hlbWFUYWJ9IiAKICAgICAgICAgIHJlbmRlci1zdHlsZT0iJHt0aGlzLnJlbmRlclN0eWxlfSIgCiAgICAgICAgICBzY2hlbWEtc3R5bGU9IiR7dGhpcy5zY2hlbWFTdHlsZX0iCiAgICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH0iCiAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSAiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9IgogICAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gIiR7Im5ldmVyIj09PXRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5PyJmYWxzZSI6ZS5pc1dlYmhvb2s/InRydWUiOiJmYWxzZSJ9IgogICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9ICIkeyJuZXZlciI9PT10aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHl8fGUuaXNXZWJob29rPyJmYWxzZSI6InRydWUifSIKICAgICAgICAgIHNlbGVjdGVkLXN0YXR1cyA9ICIke09iamVjdC5rZXlzKGUucmVzcG9uc2VzfHx7fSlbMF18fCIifSIKICAgICAgICAgIGV4cG9ydHBhcnRzID0gImJ0bjpidG4sIGJ0bi1maWxsOmJ0bi1maWxsLCBidG4tb3V0bGluZTpidG4tb3V0bGluZSwgYnRuLXRyeTpidG4tdHJ5LCBmaWxlLWlucHV0OmZpbGUtaW5wdXQsIAogICAgICAgICAgdGV4dGJveDp0ZXh0Ym94LCB0ZXh0Ym94LXBhcmFtOnRleHRib3gtcGFyYW0sIHRleHRhcmVhOnRleHRhcmVhLCB0ZXh0YXJlYS1wYXJhbTp0ZXh0YXJlYS1wYXJhbSwgYW5jaG9yOmFuY2hvciwgYW5jaG9yLXBhcmFtLWV4YW1wbGU6YW5jaG9yLXBhcmFtLWV4YW1wbGUsIGJ0bi1jbGVhci1yZXNwOmJ0bi1jbGVhci1yZXNwLAogICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGUiCiAgICAgICAgPiA8L2FwaS1yZXNwb25zZT4KICAgICAgPC9kaXY+CiAgPC9kaXY+YH1mdW5jdGlvbiBmUihlPSEwLHQ9ITAscj0hMSl7cmV0dXJuIHRoaXMucmVzb2x2ZWRTcGVjP3FgCiAgICAke2U/cWAKICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGp1c3RpZnktY29udGVudDpmbGV4LWVuZDsiPiAKICAgICAgICAgIDxzcGFuIEBjbGljaz0iJHtlPT5kUihlLCJleHBhbmQtYWxsIil9IiBzdHlsZT0iY29sb3I6dmFyKC0tcHJpbWFyeS1jb2xvcik7IGN1cnNvcjpwb2ludGVyOyI+CiAgICAgICAgICAgIEV4cGFuZCBhbGwKICAgICAgICAgIDwvc3Bhbj4gCiAgICAgICAgICAmbmJzcDt8Jm5ic3A7IAogICAgICAgICAgPHNwYW4gQGNsaWNrPSIke2U9PmRSKGUsImNvbGxhcHNlLWFsbCIpfSIgc3R5bGU9ImNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOyBjdXJzb3I6cG9pbnRlcjsiID4KICAgICAgICAgICAgQ29sbGFwc2UgYWxsCiAgICAgICAgICA8L3NwYW4+IAogICAgICAgICAgJm5ic3A7IHNlY3Rpb25zCiAgICAgICAgPC9kaXY+YDoiIn0KICAgICR7dGhpcy5yZXNvbHZlZFNwZWMudGFncy5tYXAoKGU9PnFgCiAgICAgICR7dD9xYCAKICAgICAgICAgIDxkaXYgY2xhc3M9J3JlZ3VsYXItZm9udCBzZWN0aW9uLWdhcCBzZWN0aW9uLXRhZyAke2UuZXhwYW5kZWQ/ImV4cGFuZGVkIjoiY29sbGFwc2VkIn0nPiAKICAgICAgICAgICAgPGRpdiBjbGFzcz0nc2VjdGlvbi10YWctaGVhZGVyJyBAY2xpY2s9IiR7KCk9PntlLmV4cGFuZGVkPSFlLmV4cGFuZGVkLHRoaXMucmVxdWVzdFVwZGF0ZSgpfX0iPgogICAgICAgICAgICAgIDxkaXYgaWQ9JyR7ZS5lbGVtZW50SWR9JyBjbGFzcz0ic3ViLXRpdGxlIHRhZyIgc3R5bGU9ImNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpIj4ke2UubmFtZX08L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9J3NlY3Rpb24tdGFnLWJvZHknPgogICAgICAgICAgICAgIDxzbG90IG5hbWU9IiR7ZS5lbGVtZW50SWR9Ij48L3Nsb3Q+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVndWxhci1mb250IHJlZ3VsYXItZm9udC1zaXplIG0tbWFya2Rvd24iIHN0eWxlPSJwYWRkaW5nLWJvdHRvbToxMnB4Ij4KICAgICAgICAgICAgICAgICR7UV8oV2UoZS5kZXNjcmlwdGlvbnx8IiIpKX0KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAke2UucGF0aHMuZmlsdGVyKChlPT4hdGhpcy5tYXRjaFBhdGhzfHxsdCh0aGlzLm1hdGNoUGF0aHMsZSx0aGlzLm1hdGNoVHlwZSkpKS5tYXAoKGU9PnFgCiAgICAgICAgICAgICAgICA8c2VjdGlvbiBwYXJ0PSJzZWN0aW9uLWVuZHBvaW50IiBpZD0nJHtlLmVsZW1lbnRJZH0nIGNsYXNzPSdtLWVuZHBvaW50IHJlZ3VsYXItZm9udCAke2UubWV0aG9kfSAke3J8fGUuZXhwYW5kZWQ/ImV4cGFuZGVkIjoiY29sbGFwc2VkIn0nPgogICAgICAgICAgICAgICAgICAke3VSLmNhbGwodGhpcyxlLHIpfSAgICAgIAogICAgICAgICAgICAgICAgICAke3J8fGUuZXhwYW5kZWQ/aFIuY2FsbCh0aGlzLGUpOiIifQogICAgICAgICAgICAgICAgPC9zZWN0aW9uPmApKX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj5gOnFgCiAgICAgICAgICA8ZGl2IGNsYXNzPSdzZWN0aW9uLXRhZy1ib2R5Jz4KICAgICAgICAgICR7ZS5wYXRocy5maWx0ZXIoKGU9PiF0aGlzLm1hdGNoUGF0aHN8fGx0KHRoaXMubWF0Y2hQYXRocyxlLHRoaXMubWF0Y2hUeXBlKSkpLm1hcCgoZT0+cWAKICAgICAgICAgICAgPHNlY3Rpb24gaWQ9JyR7ZS5lbGVtZW50SWR9JyBjbGFzcz0nbS1lbmRwb2ludCByZWd1bGFyLWZvbnQgJHtlLm1ldGhvZH0gJHtyfHxlLmV4cGFuZGVkPyJleHBhbmRlZCI6ImNvbGxhcHNlZCJ9Jz4KICAgICAgICAgICAgICAke3VSLmNhbGwodGhpcyxlLHIpfSAgICAgIAogICAgICAgICAgICAgICR7cnx8ZS5leHBhbmRlZD9oUi5jYWxsKHRoaXMsZSk6IiJ9CiAgICAgICAgICAgIDwvc2VjdGlvbj5gKSl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICBgfQogIGApKX1gOiIifWZ1bmN0aW9uIG1SKCl7cmV0dXJuIHFgCiAgPGhlYWRlciBjbGFzcz0icm93IG1haW4taGVhZGVyIHJlZ3VsYXItZm9udCIgcGFydD0ic2VjdGlvbi1oZWFkZXIiIHN0eWxlPSJwYWRkaW5nOjhweCA0cHggOHB4IDRweDttaW4taGVpZ2h0OjQ4cHg7Ij4KICAgIDxkaXYgY2xhc3M9Im9ubHktbGFyZ2Utc2NyZWVuLWZsZXgiIHN0eWxlPSJhbGlnbi1pdGVtczogY2VudGVyOyI+CiAgICAgIDxzbG90IG5hbWU9ImxvZ28iIGNsYXNzPSJsb2dvIiBwYXJ0PSJzZWN0aW9uLWxvZ28iPgogICAgICAgICR7ZT0iaGVpZ2h0OjM2cHg7d2lkdGg6MzZweDttYXJnaW4tbGVmdDo1cHgiLHFgCiAgPGRpdiBzdHlsZT0ke2V9PgogICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjEgMCA1MTEgNTEyIj4KICAgICAgPHBhdGggZD0iTTM1MSA0MTFhMjAyIDIwMiAwIDAxLTM1MCAwIDIwMyAyMDMgMCAwMTMzMy0yNCAyMDMgMjAzIDAgMDExNyAyNHptMCAwIiBmaWxsPSIjYWRjMTY1Ii8+CiAgICAgIDxwYXRoIGQ9Ik0zMzQgMzg3YTIwMiAyMDIgMCAwMS0yMTYtNjkgMjAyIDIwMiAwIDAxMjE2IDY5em03OCAzMkg4NWE4IDggMCAwMS04LTggOCA4IDAgMDE4LThoMzI3YTggOCAwIDAxNyA4IDggOCAwIDAxLTcgOHptMCAwIiBmaWxsPSIjOTlhYTUyIi8+CiAgICAgIDxwYXRoIGQ9Ik0zNzQgMzM4bC01IDMwYTIwMiAyMDIgMCAwMS0yNDgtMjQ4IDIwMyAyMDMgMCAwMTI1MyAyMTh6bTAgMCIgZmlsbD0iI2ZmYzczYiIvPgogICAgICA8cGF0aCBkPSJNMzc0IDMzOGEyMDIgMjAyIDAgMDEtMTAwLTE5NyAyMDMgMjAzIDAgMDExMDAgMTk3em0zOCA4MWwtNi0yLTIzMS0yMzFhOCA4IDAgMDExMS0xMWwyMzEgMjMwYTggOCAwIDAxLTUgMTR6bTAgMCIgZmlsbD0iI2VmYjAyNSIvPgogICAgICA8cGF0aCBkPSJNMzExIDE3NWMwIDc1IDQwIDE0MCAxMDEgMTc1YTIwMiAyMDIgMCAwMDAtMzUwIDIwMiAyMDIgMCAwMC0xMDEgMTc1em0wIDAiIGZpbGw9IiNmZjkwM2UiLz4KICAgICAgPHBhdGggZD0iTTQxMiA0MTlhOCA4IDAgMDEtOC04Vjg1YTggOCAwIDAxMTUgMHYzMjZhOCA4IDAgMDEtNyA4em0wIDAiIGZpbGw9IiNlODc0MjUiLz4KICAgIDwvc3ZnPgogIDwvZGl2PiAgICAKYH0KICAgICAgICA8IS0tIG0tbG9nbyBzdHlsZT0iaGVpZ2h0OjM2cHg7d2lkdGg6MzZweDttYXJnaW4tbGVmdDo1cHgiPjwvbS1sb2dvIC0tPgogICAgICA8L3Nsb3Q+ICAKICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyLXRpdGxlIiBwYXJ0PSJsYWJlbC1oZWFkZXItdGl0bGUiPiR7dGhpcy5oZWFkaW5nVGV4dH08L2Rpdj4KICAgIDwvZGl2PiAgCiAgICA8ZGl2IHN0eWxlPSJtYXJnaW46IDBweCA4cHg7ZGlzcGxheTpmbGV4O2ZsZXg6MSI+CiAgICAgICR7ImZhbHNlIj09PXRoaXMuYWxsb3dTcGVjVXJsTG9hZD8iIjpxYAogICAgICAgICAgPGlucHV0IGlkPSJzcGVjLXVybCIgCiAgICAgICAgICAgIHR5cGU9InRleHQiIAogICAgICAgICAgICBzdHlsZT0iZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCkiIAogICAgICAgICAgICBjbGFzcz0iaGVhZGVyLWlucHV0IG1vbm8tZm9udCIKICAgICAgICAgICAgcGFydD0idGV4dGJveCB0ZXh0Ym94LXNwZWMtdXJsIiAKICAgICAgICAgICAgcGxhY2Vob2xkZXI9IlNwZWMgVVJMIiAKICAgICAgICAgICAgdmFsdWU9IiR7dGhpcy5zcGVjVXJsfHwiIn0iIAogICAgICAgICAgICBAY2hhbmdlPSIke3RoaXMub25TcGVjVXJsQ2hhbmdlfSIgCiAgICAgICAgICAgIHNwZWxsY2hlY2s9ImZhbHNlIgogICAgICAgICAgPgogICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luOiA2cHggNXB4IDAgLTI0cHg7IGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtcmVndWxhcik7IGN1cnNvcjpwb2ludGVyOyI+JiN4MjFhOTs8L2Rpdj4gCiAgICAgICAgYH0gCiAgICAgICR7ImZhbHNlIj09PXRoaXMuYWxsb3dTcGVjRmlsZUxvYWQ/IiI6cWAKICAgICAgICAgIDxpbnB1dCBpZD0ic3BlYy1maWxlIiAKICAgICAgICAgICAgcGFydCA9ICJmaWxlLWlucHV0IgogICAgICAgICAgICB0eXBlPSJmaWxlIiAKICAgICAgICAgICAgc3R5bGU9ImRpc3BsYXk6bm9uZSIgCiAgICAgICAgICAgIHZhbHVlPSIke3RoaXMuc3BlY0ZpbGV8fCIifSIgCiAgICAgICAgICAgIEBjaGFuZ2U9IiR7dGhpcy5vblNwZWNGaWxlQ2hhbmdlfSIgCiAgICAgICAgICAgIHNwZWxsY2hlY2s9ImZhbHNlIgogICAgICAgICAgID4KICAgICAgICAgIDxidXR0b24gY2xhc3M9Im0tYnRuIHByaW1hcnkgb25seS1sYXJnZS1zY3JlZW4iIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4OyIgcGFydD0iYnRuIGJ0bi1maWxsIiBAY2xpY2s9IiR7dGhpcy5vbkZpbGVMb2FkQ2xpY2t9Ij4gTE9DQUwgSlNPTiBGSUxFIDwvYnV0dG9uPgogICAgICAgIGB9CiAgICAgIDxzbG90IG5hbWU9ImhlYWRlciI+PC9zbG90PgogICAgICAkeyJmYWxzZSI9PT10aGlzLmFsbG93U2VhcmNofHwicmVhZCBmb2N1c2VkIi5pbmNsdWRlcyh0aGlzLnJlbmRlclN0eWxlKT8iIjpxYCAgCiAgICAgICAgICA8aW5wdXQgaWQ9InNlYXJjaCIgY2xhc3M9ImhlYWRlci1pbnB1dCIgdHlwZT0idGV4dCIgcGFydD0idGV4dGJveCB0ZXh0Ym94LWhlYWRlci1maWx0ZXIiIHBsYWNlaG9sZGVyPSJGaWx0ZXIiIEBjaGFuZ2U9IiR7dGhpcy5vblNlYXJjaENoYW5nZX0iIHN0eWxlPSJtYXgtd2lkdGg6MTMwcHg7bWFyZ2luLWxlZnQ6MTBweDsiIHNwZWxsY2hlY2s9ImZhbHNlIiA+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW46IDZweCA1cHggMCAtMjRweDsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKTsgY3Vyc29yOnBvaW50ZXI7Ij4mI3gyMWE5OzwvZGl2PgogICAgICAgIGB9CiAgICAgIAogICAgICAkeyJmYWxzZSI9PT10aGlzLmFsbG93QWR2YW5jZWRTZWFyY2h8fCJyZWFkIGZvY3VzZWQiLmluY2x1ZGVzKHRoaXMucmVuZGVyU3R5bGUpPyIiOnFgCiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJtLWJ0biBwcmltYXJ5IG9ubHktbGFyZ2Utc2NyZWVuIiBwYXJ0PSJidG4gYnRuLWZpbGwgYnRuLXNlYXJjaCIgc3R5bGU9Im1hcmdpbi1sZWZ0OjEwcHg7IiBAY2xpY2s9IiR7dGhpcy5vblNob3dTZWFyY2hNb2RhbENsaWNrZWR9Ij4KICAgICAgICAgICAgU2VhcmNoCiAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICBgfQogICAgPC9kaXY+CiAgICA8L2hlYWRlcj5gO3ZhciBlfWN1c3RvbUVsZW1lbnRzLmRlZmluZSgiYXBpLXJlc3BvbnNlIixjbGFzcyBleHRlbmRzIGlle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnNlbGVjdGVkU3RhdHVzPSIiLHRoaXMuaGVhZGVyc0ZvckVhY2hSZXNwU3RhdHVzPXt9LHRoaXMubWltZVJlc3BvbnNlc0ZvckVhY2hTdGF0dXM9e30sdGhpcy5hY3RpdmVTY2hlbWFUYWI9InNjaGVtYSJ9c3RhdGljIGdldCBwcm9wZXJ0aWVzKCl7cmV0dXJue2NhbGxiYWNrOnt0eXBlOlN0cmluZ30sd2ViaG9vazp7dHlwZTpTdHJpbmd9LHJlc3BvbnNlczp7dHlwZTpPYmplY3R9LHBhcnNlcjp7dHlwZTpPYmplY3R9LHNjaGVtYVN0eWxlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNjaGVtYS1zdHlsZSJ9LHJlbmRlclN0eWxlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InJlbmRlci1zdHlsZSJ9LHNlbGVjdGVkU3RhdHVzOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNlbGVjdGVkLXN0YXR1cyJ9LHNlbGVjdGVkTWltZVR5cGU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2VsZWN0ZWQtbWltZS10eXBlIn0sYWN0aXZlU2NoZW1hVGFiOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFjdGl2ZS1zY2hlbWEtdGFiIn0sc2NoZW1hRXhwYW5kTGV2ZWw6e3R5cGU6TnVtYmVyLGF0dHJpYnV0ZToic2NoZW1hLWV4cGFuZC1sZXZlbCJ9LHNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQ6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkIn0sYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSJ9LHNjaGVtYUhpZGVSZWFkT25seTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtaGlkZS1yZWFkLW9ubHkifSxzY2hlbWFIaWRlV3JpdGVPbmx5Ont0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNjaGVtYS1oaWRlLXdyaXRlLW9ubHkifX19c3RhdGljIGdldCBzdHlsZXMoKXtyZXR1cm5bS2UsWWUsZXQsWmUsSmUsU1AsY2AKICAgICAgOndoZXJlKGJ1dHRvbiwgaW5wdXRbdHlwZT0iY2hlY2tib3giXSwgW3RhYmluZGV4PSIwIl0pOmZvY3VzLXZpc2libGUgeyBib3gtc2hhZG93OiB2YXIoLS1mb2N1cy1zaGFkb3cpOyB9CiAgICAgIDp3aGVyZShpbnB1dFt0eXBlPSJ0ZXh0Il0sIGlucHV0W3R5cGU9InBhc3N3b3JkIl0sIHNlbGVjdCwgdGV4dGFyZWEpOmZvY3VzLXZpc2libGUgeyBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOyB9CiAgICAgIC5yZXNwLWhlYWR7CiAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgICBwYWRkaW5nOjE2cHggMCA4cHg7CiAgICAgIH0KICAgICAgLnJlc3AtaGVhZC5kaXZpZGVyewogICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOwogICAgICAgIG1hcmdpbi10b3A6MTBweDsKICAgICAgfQogICAgICAucmVzcC1zdGF0dXN7IAogICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7CiAgICAgICAgZm9udC1zaXplOmNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDFweCk7CiAgICAgIH0KICAgICAgLnJlc3AtZGVzY3J7CiAgICAgICAgZm9udC1zaXplOmNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDFweCk7CiAgICAgICAgY29sb3I6dmFyKC0tbGlnaHQtZmcpOwogICAgICAgIHRleHQtYWxpZ246bGVmdDsKICAgICAgfQogICAgICAudG9wLWdhcHttYXJnaW4tdG9wOjE2cHg7fQogICAgICAuZXhhbXBsZS1wYW5lbHsKICAgICAgICBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsKICAgICAgICBtYXJnaW46MDsKICAgICAgfQogICAgICAuZm9jdXNlZC1tb2RlLAogICAgICAucmVhZC1tb2RlIHsKICAgICAgICBwYWRkaW5nLXRvcDoyNHB4OwogICAgICAgIG1hcmdpbi10b3A6MTJweDsKICAgICAgICBib3JkZXItdG9wOiAxcHggZGFzaGVkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICAgIH1gLG50XX1yZW5kZXIoKXtyZXR1cm4gcWAKICAgIDxkaXYgY2xhc3M9ImNvbCByZWd1bGFyLWZvbnQgcmVzcG9uc2UtcGFuZWwgJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlIj4KICAgICAgPGRpdiBjbGFzcz0iICR7InRydWUiPT09dGhpcy5jYWxsYmFjaz8idGlueS10aXRsZSI6InJlcS1yZXMtdGl0bGUifSAiPiAKICAgICAgICAkeyJ0cnVlIj09PXRoaXMuY2FsbGJhY2s/IkNBTExCQUNLIFJFU1BPTlNFIjoiUkVTUE9OU0UifQogICAgICA8L2Rpdj4KICAgICAgPGRpdj4KICAgICAgICAke3RoaXMucmVzcG9uc2VUZW1wbGF0ZSgpfQogICAgICA8ZGl2PiAgCiAgICA8L2Rpdj4gIAogICAgYH1yZXNldFNlbGVjdGlvbigpe3RoaXMuc2VsZWN0ZWRTdGF0dXM9IiIsdGhpcy5zZWxlY3RlZE1pbWVUeXBlPSIifXJlc3BvbnNlVGVtcGxhdGUoKXtpZighdGhpcy5yZXNwb25zZXMpcmV0dXJuIiI7Zm9yKGNvbnN0IG4gaW4gdGhpcy5yZXNwb25zZXMpe3RoaXMuc2VsZWN0ZWRTdGF0dXN8fCh0aGlzLnNlbGVjdGVkU3RhdHVzPW4pO2NvbnN0IG89e307Zm9yKGNvbnN0IHIgaW4gbnVsbD09PShlPXRoaXMucmVzcG9uc2VzW25dKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jb250ZW50KXt2YXIgZSx0O2NvbnN0IGE9dGhpcy5yZXNwb25zZXNbbl0uY29udGVudFtyXTt0aGlzLnNlbGVjdGVkTWltZVR5cGV8fCh0aGlzLnNlbGVjdGVkTWltZVR5cGU9cik7Y29uc3QgaT1EUChhLnNjaGVtYSx7fSkscz1CUChhLnNjaGVtYSxyLGEuZXhhbXBsZXMsYS5leGFtcGxlLCJ0cnVlIiE9PXRoaXMuY2FsbGJhY2smJiJ0cnVlIiE9PXRoaXMud2ViaG9vaywidHJ1ZSI9PT10aGlzLmNhbGxiYWNrfHwidHJ1ZSI9PT10aGlzLndlYmhvb2ssci5pbmNsdWRlcygianNvbiIpPyJqc29uIjoidGV4dCIpO29bcl09e2Rlc2NyaXB0aW9uOnRoaXMucmVzcG9uc2VzW25dLmRlc2NyaXB0aW9uLGV4YW1wbGVzOnMsc2VsZWN0ZWRFeGFtcGxlOihudWxsPT09KHQ9c1swXSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXhhbXBsZUlkKXx8IiIsc2NoZW1hVHJlZTppfX1jb25zdCBhPVtdO2Zvcihjb25zdCBlIGluIG51bGw9PT0ocj10aGlzLnJlc3BvbnNlc1tuXSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaGVhZGVycyl7dmFyIHI7YS5wdXNoKHtuYW1lOmUsLi4udGhpcy5yZXNwb25zZXNbbl0uaGVhZGVyc1tlXX0pfXRoaXMuaGVhZGVyc0ZvckVhY2hSZXNwU3RhdHVzW25dPWEsdGhpcy5taW1lUmVzcG9uc2VzRm9yRWFjaFN0YXR1c1tuXT1vfXJldHVybiBxYAogICAgICAke09iamVjdC5rZXlzKHRoaXMucmVzcG9uc2VzKS5sZW5ndGg+MT9xYDxkaXYgY2xhc3M9J3Jvdycgc3R5bGU9J2ZsZXgtd3JhcDp3cmFwJz4KICAgICAgICAgICR7T2JqZWN0LmtleXModGhpcy5yZXNwb25zZXMpLm1hcCgoZT0+cWAKICAgICAgICAgICAgJHsiJCRyZWYiPT09ZT8iIjpxYAogICAgICAgICAgICAgICAgPGJ1dHRvbiAKICAgICAgICAgICAgICAgICAgQGNsaWNrPSIkeygpPT57dGhpcy5zZWxlY3RlZFN0YXR1cz1lLHRoaXMucmVzcG9uc2VzW2VdLmNvbnRlbnQmJk9iamVjdC5rZXlzKHRoaXMucmVzcG9uc2VzW2VdLmNvbnRlbnQpWzBdP3RoaXMuc2VsZWN0ZWRNaW1lVHlwZT1PYmplY3Qua2V5cyh0aGlzLnJlc3BvbnNlc1tlXS5jb250ZW50KVswXTp0aGlzLnNlbGVjdGVkTWltZVR5cGU9dm9pZCAwfX0iCiAgICAgICAgICAgICAgICAgIGNsYXNzPSdtLWJ0biBzbWFsbCAke3RoaXMuc2VsZWN0ZWRTdGF0dXM9PT1lPyJwcmltYXJ5IjoiIn0nCiAgICAgICAgICAgICAgICAgIHBhcnQ9ImJ0biAke3RoaXMuc2VsZWN0ZWRTdGF0dXM9PT1lPyJidG4tcmVzcG9uc2Utc3RhdHVzIGJ0bi1zZWxlY3RlZC1yZXNwb25zZS1zdGF0dXMiOiIgYnRuLXJlc3BvbnNlLXN0YXR1cyJ9IgogICAgICAgICAgICAgICAgICBzdHlsZT0nbWFyZ2luOiA4cHggNHB4IDAgMCcKICAgICAgICAgICAgICAgID4gCiAgICAgICAgICAgICAgICAgICR7ZX0gCiAgICAgICAgICAgICAgICA8L2J1dHRvbj5gfWApKX1gOnFgPHNwYW4+JHtPYmplY3Qua2V5cyh0aGlzLnJlc3BvbnNlcylbMF19PC9zcGFuPmB9CiAgICAgIDwvZGl2PgoKICAgICAgJHtPYmplY3Qua2V5cyh0aGlzLnJlc3BvbnNlcykubWFwKChlPT57dmFyIHQscjtyZXR1cm4gcWAKICAgICAgICA8ZGl2IHN0eWxlID0gJ2Rpc3BsYXk6ICR7ZT09PXRoaXMuc2VsZWN0ZWRTdGF0dXM/ImJsb2NrIjoibm9uZSJ9JyA+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJ0b3AtZ2FwIj4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9InJlc3AtZGVzY3IgbS1tYXJrZG93biAiPiR7UV8oV2UoKG51bGw9PT0odD10aGlzLnJlc3BvbnNlc1tlXSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGVzY3JpcHRpb24pfHwiIikpfTwvc3Bhbj4KICAgICAgICAgICAgJHt0aGlzLmhlYWRlcnNGb3JFYWNoUmVzcFN0YXR1c1tlXSYmKG51bGw9PT0ocj10aGlzLmhlYWRlcnNGb3JFYWNoUmVzcFN0YXR1c1tlXSl8fHZvaWQgMD09PXI/dm9pZCAwOnIubGVuZ3RoKT4wP3FgJHt0aGlzLnJlc3BvbnNlSGVhZGVyTGlzdFRlbXBsYXRlKHRoaXMuaGVhZGVyc0ZvckVhY2hSZXNwU3RhdHVzW2VdKX1gOiIifQogICAgICAgICAgPC9kaXY+CiAgICAgICAgICAkezA9PT1PYmplY3Qua2V5cyh0aGlzLm1pbWVSZXNwb25zZXNGb3JFYWNoU3RhdHVzW2VdKS5sZW5ndGg/IiI6cWAgIAogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYi1wYW5lbCBjb2wiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFiLWJ1dHRvbnMgcm93IiBAY2xpY2s9IiR7ZT0+eyJidXR0b24iPT09ZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodGhpcy5hY3RpdmVTY2hlbWFUYWI9ZS50YXJnZXQuZGF0YXNldC50YWIpfX0iID4KICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idGFiLWJ0biAkeyJleGFtcGxlIj09PXRoaXMuYWN0aXZlU2NoZW1hVGFiPyJhY3RpdmUiOiIifSIgZGF0YS10YWIgPSAnZXhhbXBsZSc+RVhBTVBMRSA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idGFiLWJ0biAkeyJleGFtcGxlIiE9PXRoaXMuYWN0aXZlU2NoZW1hVGFiPyJhY3RpdmUiOiIifSIgZGF0YS10YWIgPSAnc2NoZW1hJyA+U0NIRU1BPC9idXR0b24+CiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICR7MT09PU9iamVjdC5rZXlzKHRoaXMubWltZVJlc3BvbnNlc0ZvckVhY2hTdGF0dXNbZV0pLmxlbmd0aD9xYDxzcGFuIGNsYXNzPSdzbWFsbC1mb250LXNpemUgZ3JheS10ZXh0JyBzdHlsZT0nYWxpZ24tc2VsZjpjZW50ZXI7IG1hcmdpbi10b3A6OHB4Oyc+ICR7T2JqZWN0LmtleXModGhpcy5taW1lUmVzcG9uc2VzRm9yRWFjaFN0YXR1c1tlXSlbMF19IDwvc3Bhbj5gOnFgJHt0aGlzLm1pbWVUeXBlRHJvcGRvd25UZW1wbGF0ZShPYmplY3Qua2V5cyh0aGlzLm1pbWVSZXNwb25zZXNGb3JFYWNoU3RhdHVzW2VdKSl9YH0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgJHsiZXhhbXBsZSI9PT10aGlzLmFjdGl2ZVNjaGVtYVRhYj9xYDxkaXYgY2xhc3MgPSd0YWItY29udGVudCBjb2wnIHN0eWxlID0gJ2ZsZXg6MTsnPgogICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLm1pbWVFeGFtcGxlVGVtcGxhdGUodGhpcy5taW1lUmVzcG9uc2VzRm9yRWFjaFN0YXR1c1tlXVt0aGlzLnNlbGVjdGVkTWltZVR5cGVdKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOnFgPGRpdiBjbGFzcyA9J3RhYi1jb250ZW50IGNvbCcgc3R5bGUgPSAnZmxleDoxOyc+CiAgICAgICAgICAgICAgICAgICAgICAke3RoaXMubWltZVNjaGVtYVRlbXBsYXRlKHRoaXMubWltZVJlc3BvbnNlc0ZvckVhY2hTdGF0dXNbZV1bdGhpcy5zZWxlY3RlZE1pbWVUeXBlXSl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YH0KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYH1gfSkpfQogICAgYH1yZXNwb25zZUhlYWRlckxpc3RUZW1wbGF0ZShlKXtyZXR1cm4gcWAKICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzoxNnB4IDAgOHB4IDAiIGNsYXNzPSJyZXNwLWhlYWRlcnMgc21hbGwtZm9udC1zaXplIGJvbGQtdGV4dCI+UkVTUE9OU0UgSEVBREVSUzwvZGl2PiAKICAgICAgPHRhYmxlIHJvbGU9InByZXNlbnRhdGlvbiIgc3R5bGU9ImJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IG1hcmdpbi1ib3R0b206MTZweDsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKSIgY2xhc3M9InNtYWxsLWZvbnQtc2l6ZSBtb25vLWZvbnQiPgogICAgICAgICR7ZS5tYXAoKGU9Pnt2YXIgdCxyO3JldHVybiBxYAogICAgICAgICAgPHRyPgogICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6OHB4OyB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7IG1pbi13aWR0aDoxMjBweDsgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyI+CiAgICAgICAgICAgICAgJHtlLm5hbWV8fCIifQogICAgICAgICAgICA8L3RkPiAKICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOjRweDsgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lOyBwYWRkaW5nOjAgNXB4OyBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7Ij4KICAgICAgICAgICAgICAkeyhudWxsPT09KHQ9ZS5zY2hlbWEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnR5cGUpfHwiIn0KICAgICAgICAgICAgPC90ZD4gCiAgICAgICAgICAgIDx0ZCBzdHlsZT0icGFkZGluZzo4cHg7IHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7Ij4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtLW1hcmtkb3duLXNtYWxsIHJlZ3VsYXItZm9udCIgPiR7UV8oV2UoZS5kZXNjcmlwdGlvbnx8IiIpKX08L2Rpdj4KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOjhweDsgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lOyBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7Ij4KICAgICAgICAgICAgICAkeyhudWxsPT09KHI9ZS5zY2hlbWEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmV4YW1wbGUpfHwiIn0KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgIDwvdHI+CiAgICAgICAgYH0pKX0KICAgIDwvdGFibGU+YH1taW1lVHlwZURyb3Bkb3duVGVtcGxhdGUoZSl7cmV0dXJuIHFgCiAgICAgIDxzZWxlY3QgYXJpYS1sYWJlbD0nbWltZSB0eXBlcycgQGNoYW5nZT0iJHtlPT57dGhpcy5zZWxlY3RlZE1pbWVUeXBlPWUudGFyZ2V0LnZhbHVlfX0iIHN0eWxlPSdtYXJnaW4tYm90dG9tOiAtMXB4OyB6LWluZGV4OjEnPgogICAgICAgICR7ZS5tYXAoKGU9PnFgPG9wdGlvbiB2YWx1ZT0nJHtlfScgP3NlbGVjdGVkID0gJyR7ZT09PXRoaXMuc2VsZWN0ZWRNaW1lVHlwZX0nPiAke2V9IDwvb3B0aW9uPmApKX0KICAgICAgPC9zZWxlY3Q+YH1vblNlbGVjdEV4YW1wbGUoZSl7Wy4uLmUudGFyZ2V0LmNsb3Nlc3QoIi5leGFtcGxlLXBhbmVsIikucXVlcnlTZWxlY3RvckFsbCgiLmV4YW1wbGUiKV0uZm9yRWFjaCgodD0+e3Quc3R5bGUuZGlzcGxheT10LmRhdGFzZXQuZXhhbXBsZT09PWUudGFyZ2V0LnZhbHVlPyJibG9jayI6Im5vbmUifSkpfW1pbWVFeGFtcGxlVGVtcGxhdGUoZSl7cmV0dXJuIGU/cWAKICAgICAgJHsxPT09ZS5leGFtcGxlcy5sZW5ndGg/cWAKICAgICAgICAgICR7Impzb24iPT09ZS5leGFtcGxlc1swXS5leGFtcGxlRm9ybWF0P3FgCiAgICAgICAgICAgICAgJHtlLmV4YW1wbGVzWzBdLmV4YW1wbGVTdW1tYXJ5JiZlLmV4YW1wbGVzWzBdLmV4YW1wbGVTdW1tYXJ5Lmxlbmd0aD44MD9xYDxkaXYgc3R5bGU9InBhZGRpbmc6IDRweCAwIj4gJHtlLmV4YW1wbGVzWzBdLmV4YW1wbGVTdW1tYXJ5fSA8L2Rpdj5gOiIifQogICAgICAgICAgICAgICR7ZS5leGFtcGxlc1swXS5leGFtcGxlRGVzY3JpcHRpb24/cWA8ZGl2IGNsYXNzPSJtLW1hcmtkb3duLXNtYWxsIiBzdHlsZT0icGFkZGluZzogNHB4IDAiPiAke1FfKFdlKGUuZXhhbXBsZXNbMF0uZXhhbXBsZURlc2NyaXB0aW9ufHwiIikpfSA8L2Rpdj5gOiIifQogICAgICAgICAgICAgIDxqc29uLXRyZWUgCiAgICAgICAgICAgICAgICByZW5kZXItc3R5bGUgPSAnJHt0aGlzLnJlbmRlclN0eWxlfScKICAgICAgICAgICAgICAgIC5kYXRhPSIke2UuZXhhbXBsZXNbMF0uZXhhbXBsZVZhbHVlfSIKICAgICAgICAgICAgICAgIGNsYXNzID0gJ2V4YW1wbGUtcGFuZWwgJHsicmVhZCI9PT10aGlzLnJlbmRlclN0eWxlPyJib3JkZXIgcGFkLTgtMTYiOiJib3JkZXItdG9wIHBhZC10b3AtOCJ9JwogICAgICAgICAgICAgICAgZXhwb3J0cGFydHMgPSAiYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1jb3B5OmJ0bi1jb3B5IiAKICAgICAgICAgICAgICA+PC9qc29uLXRyZWU+YDpxYAogICAgICAgICAgICAgICR7ZS5leGFtcGxlc1swXS5leGFtcGxlU3VtbWFyeSYmZS5leGFtcGxlc1swXS5leGFtcGxlU3VtbWFyeS5sZW5ndGg+ODA/cWA8ZGl2IHN0eWxlPSJwYWRkaW5nOiA0cHggMCI+ICR7ZS5leGFtcGxlc1swXS5leGFtcGxlU3VtbWFyeX0gPC9kaXY+YDoiIn0KICAgICAgICAgICAgICAke2UuZXhhbXBsZXNbMF0uZXhhbXBsZURlc2NyaXB0aW9uP3FgPGRpdiBjbGFzcz0ibS1tYXJrZG93bi1zbWFsbCIgc3R5bGU9InBhZGRpbmc6IDRweCAwIj4gJHtRXyhXZShlLmV4YW1wbGVzWzBdLmV4YW1wbGVEZXNjcmlwdGlvbnx8IiIpKX0gPC9kaXY+YDoiIn0KICAgICAgICAgICAgICA8cHJlIGNsYXNzID0gJ2V4YW1wbGUtcGFuZWwgJHsicmVhZCI9PT10aGlzLnJlbmRlclN0eWxlPyJib3JkZXIgcGFkLTgtMTYiOiJib3JkZXItdG9wIHBhZC10b3AtOCJ9Jz4ke2UuZXhhbXBsZXNbMF0uZXhhbXBsZVZhbHVlfTwvcHJlPgogICAgICAgICAgICBgfWA6cWAKICAgICAgICAgIDxzcGFuIGNsYXNzID0gJ2V4YW1wbGUtcGFuZWwgJHsicmVhZCI9PT10aGlzLnJlbmRlclN0eWxlPyJib3JkZXIgcGFkLTgtMTYiOiJib3JkZXItdG9wIHBhZC10b3AtOCJ9Jz4KICAgICAgICAgICAgPHNlbGVjdCBhcmlhLWxhYmVsPSdyZXNwb25zZSBleGFtcGxlcycgc3R5bGU9Im1pbi13aWR0aDoxMDBweDsgbWF4LXdpZHRoOjEwMCUiIEBjaGFuZ2U9JyR7ZT0+dGhpcy5vblNlbGVjdEV4YW1wbGUoZSl9Jz4KICAgICAgICAgICAgICAke2UuZXhhbXBsZXMubWFwKCh0PT5xYDxvcHRpb24gdmFsdWU9IiR7dC5leGFtcGxlSWR9IiA/c2VsZWN0ZWQ9JHt0LmV4YW1wbGVJZD09PWUuc2VsZWN0ZWRFeGFtcGxlfSA+IAogICAgICAgICAgICAgICAgJHt0LmV4YW1wbGVTdW1tYXJ5Lmxlbmd0aD44MD90LmV4YW1wbGVJZDp0LmV4YW1wbGVTdW1tYXJ5fSAKICAgICAgICAgICAgICA8L29wdGlvbj5gKSl9CiAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAke2UuZXhhbXBsZXMubWFwKCh0PT5xYAogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImV4YW1wbGUiIGRhdGEtZXhhbXBsZSA9ICcke3QuZXhhbXBsZUlkfScgc3R5bGUgPSAiZGlzcGxheTogJHt0LmV4YW1wbGVJZD09PWUuc2VsZWN0ZWRFeGFtcGxlPyJibG9jayI6Im5vbmUifSI+CiAgICAgICAgICAgICAgICAke3QuZXhhbXBsZVN1bW1hcnkmJnQuZXhhbXBsZVN1bW1hcnkubGVuZ3RoPjgwP3FgPGRpdiBzdHlsZT0icGFkZGluZzogNHB4IDAiPiAke3QuZXhhbXBsZVN1bW1hcnl9IDwvZGl2PmA6IiJ9CiAgICAgICAgICAgICAgICAke3QuZXhhbXBsZURlc2NyaXB0aW9uP3FgPGRpdiBjbGFzcz0ibS1tYXJrZG93bi1zbWFsbCIgIHN0eWxlPSJwYWRkaW5nOiA0cHggMCI+ICR7UV8oV2UodC5leGFtcGxlRGVzY3JpcHRpb258fCIiKSl9IDwvZGl2PmA6IiJ9CiAgICAgICAgICAgICAgICAkeyJqc29uIj09PXQuZXhhbXBsZUZvcm1hdD9xYAogICAgICAgICAgICAgICAgICAgIDxqc29uLXRyZWUgCiAgICAgICAgICAgICAgICAgICAgICByZW5kZXItc3R5bGUgPSAnJHt0aGlzLnJlbmRlclN0eWxlfScKICAgICAgICAgICAgICAgICAgICAgIC5kYXRhID0gJyR7dC5leGFtcGxlVmFsdWV9JwogICAgICAgICAgICAgICAgICAgICAgZXhwb3J0cGFydHMgPSAiYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1jb3B5OmJ0bi1jb3B5IiAKICAgICAgICAgICAgICAgICAgICA+PC9qc29uLXRyZWU+YDpxYDxwcmU+JHt0LmV4YW1wbGVWYWx1ZX08L3ByZT5gfQogICAgICAgICAgICAgIDwvZGl2PiAgCiAgICAgICAgICAgIGApKX0KICAgICAgICAgIDwvc3Bhbj4gIAogICAgICAgIGB9CiAgICBgOnFgCiAgICAgICAgPHByZSBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKScgY2xhc3MgPSAnJHsicmVhZCI9PT10aGlzLnJlbmRlclN0eWxlPyJyZWFkIGV4YW1wbGUtcGFuZWwgYm9yZGVyIHBhZC04LTE2IjoiZXhhbXBsZS1wYW5lbCBib3JkZXItdG9wIn0nPiBObyBleGFtcGxlIHByb3ZpZGVkIDwvcHJlPgogICAgICBgfW1pbWVTY2hlbWFUZW1wbGF0ZShlKXtyZXR1cm4gZT9xYAogICAgICAkeyJ0YWJsZSI9PT10aGlzLnNjaGVtYVN0eWxlP3FgCiAgICAgICAgICA8c2NoZW1hLXRhYmxlCiAgICAgICAgICAgIC5kYXRhID0gIiR7ZS5zY2hlbWFUcmVlfSIKICAgICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9ICIke3RoaXMuc2NoZW1hRXhwYW5kTGV2ZWx9IgogICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9ICIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX0iCiAgICAgICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9ICIke3RoaXMuc2NoZW1hSGlkZVJlYWRPbmx5fSIKICAgICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9ICIke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seX0iCiAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gInNjaGVtYS1kZXNjcmlwdGlvbjpzY2hlbWEtZGVzY3JpcHRpb24sIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlOnNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlIgogICAgICAgICAgPiA8L3NjaGVtYS10YWJsZT4gYDpxYAogICAgICAgICAgPHNjaGVtYS10cmVlCiAgICAgICAgICAgIC5kYXRhID0gJyR7ZS5zY2hlbWFUcmVlfScKICAgICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9ICIke3RoaXMuc2NoZW1hRXhwYW5kTGV2ZWx9IgogICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSAiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9IgogICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9ICIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX0iCiAgICAgICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9ICIke3RoaXMuc2NoZW1hSGlkZVJlYWRPbmx5fSIKICAgICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9ICIke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seX0iCiAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gInNjaGVtYS1kZXNjcmlwdGlvbjpzY2hlbWEtZGVzY3JpcHRpb24sIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlOnNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlIgogICAgICAgICAgPiA8L3NjaGVtYS10cmVlPmB9YDpxYAogICAgICAgIDxwcmUgc3R5bGU9J2NvbG9yOnZhcigtLXJlZCknIGNsYXNzID0gJyR7InJlYWQiPT09dGhpcy5yZW5kZXJTdHlsZT8iYm9yZGVyIHBhZC04LTE2IjoiYm9yZGVyLXRvcCJ9Jz4gU2NoZW1hIG5vdCBmb3VuZDwvcHJlPgogICAgICBgfX0pO2NvbnN0IHlSPWNgCiAgKiwgKjpiZWZvcmUsICo6YWZ0ZXIgeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CgogIC5kaWFsb2ctYm94LW92ZXJsYXkgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tb3ZlcmxheS1iZyk7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICBsZWZ0OiAwOwogICAgdG9wOiAwOwogICAgd2lkdGg6IDEwMHZ3OwogICAgaGVpZ2h0OiAxMDB2aDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB6LWluZGV4OiB2YXIoLS1kaWFsb2ctei1pbmRleCk7CiAgfQogIAogIC5kaWFsb2ctYm94IHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMTAwcHg7CiAgICBsZWZ0OiA1MCU7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwJSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIHdpZHRoOiA3MHZ3OwogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmcyKTsKICAgIGNvbG9yOiB2YXIoLS1mZzIpOwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgbWF4LWhlaWdodDogNTAwcHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgIGJveC1zaGFkb3c6IDAgMTRweCAyOHB4IHJnYmEoMCwwLDAsMC4yNSksIDAgMTBweCAxMHB4IHJnYmEoMCwwLDAsMC4yMik7CiAgfQogIAogIC5kaWFsb2ctYm94LWhlYWRlciB7CiAgICBwb3NpdGlvbjogc3RpY2t5OwogICAgdG9wOiAwOwogICAgYWxpZ24tc2VsZjogc3RyZXRjaDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgcGFkZGluZzogMHB4IDE2cHg7CiAgICBtaW4taGVpZ2h0OiA2MHB4OwogICAgbWF4LWhlaWdodDogNjBweDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICB9CiAgCiAgLmRpYWxvZy1ib3gtaGVhZGVyIGJ1dHRvbiB7CiAgICBmb250LXNpemU6IDEuNXJlbTsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICBsaW5lLWhlaWdodDogMTsKICAgIGNvbG9yOiB2YXIoLS1mZyk7CiAgICBib3JkZXI6IG5vbmU7CiAgICBvdXRsaW5lOiBub25lOwogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBjdXJzb3I6cG9pbnRlcjsKICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgbWFyZ2luLXJpZ2h0OiAtOHB4OwogIH0KICAuZGlhbG9nLWJveC1oZWFkZXIgYnV0dG9uOmhvdmVyIHsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgfQoKICAuZGlhbG9nLWJveC1jb250ZW50IHsKICAgIHBhZGRpbmc6IDE2cHg7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgb3ZlcmZsb3c6IGF1dG87CiAgICBoZWlnaHQ6IDEwMCU7CiAgfQoKICAuZGlhbG9nLWJveC10aXRsZSB7CiAgICBmbGV4LWdyb3c6IDE7CiAgICBmb250LXNpemU6MjRweDsKICB9CmA7ZnVuY3Rpb24gZ1IoKXt2YXIgZTtyZXR1cm4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xvc2UiLCgoKT0+e3RoaXMuc2hvd0FkdmFuY2VkU2VhcmNoRGlhbG9nPSExfSkpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm9wZW4iLHRoaXMub25PcGVuU2VhcmNoRGlhbG9nKSxxYAogICAgPGRpYWxvZy1ib3ggCiAgICAgIGhlYWRpbmc9IlNlYXJjaCIgCiAgICAgIHNob3c9IiR7ISF0aGlzLnNob3dBZHZhbmNlZFNlYXJjaERpYWxvZ30iCiAgICA+CiAgICAgIDxzcGFuIGNsYXNzPSJhZHZhbmNlZC1zZWFyY2gtb3B0aW9ucyI+CiAgICAgICAgPGlucHV0CiAgICAgICAgICBzdHlsZT0id2lkdGg6MTAwJTsgcGFkZGluZy1yaWdodDoyMHB4OyIKICAgICAgICAgIHR5cGU9InRleHQiCiAgICAgICAgICBwYXJ0PSJ0ZXh0Ym94IHRleHRib3gtc2VhcmNoLWRpYWxvZyIKICAgICAgICAgIHBsYWNlaG9sZGVyPSJzZWFyY2ggdGV4dC4uLiIKICAgICAgICAgIHNwZWxsY2hlY2s9ImZhbHNlIgogICAgICAgICAgQGtleXVwID0gIiR7ZT0+dGhpcy5vbkFkdmFuY2VkU2VhcmNoKGUsNDAwKX0iCiAgICAgICAgPgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgbWFyZ2luOjhweCAwIDI0cHg7Ij4KICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxpbnB1dCBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7IiB0eXBlPSJjaGVja2JveCIgcGFydD0iY2hlY2tib3ggY2hlY2tib3gtc2VhcmNoLWRpYWxvZyIgaWQ9InNlYXJjaC1hcGktcGF0aCIgY2hlY2tlZCBAY2hhbmdlID0gIiR7ZT0+dGhpcy5vbkFkdmFuY2VkU2VhcmNoKGUsMCl9Ij4KICAgICAgICAgICAgPGxhYmVsIGZvcj0ic2VhcmNoLWFwaS1wYXRoIiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7Ij4gQVBJIFBhdGggPC9sYWJlbD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tbGVmdDogMTZweDsiPgogICAgICAgICAgICA8aW5wdXQgc3R5bGU9ImN1cnNvcjpwb2ludGVyOyIgdHlwZT0iY2hlY2tib3giIHBhcnQ9ImNoZWNrYm94IGNoZWNrYm94LXNlYXJjaC1kaWFsb2ciIGlkPSJzZWFyY2gtYXBpLWRlc2NyIiBjaGVja2VkIEBjaGFuZ2UgPSAiJHtlPT50aGlzLm9uQWR2YW5jZWRTZWFyY2goZSwwKX0iPgogICAgICAgICAgICA8bGFiZWwgc3R5bGU9ImN1cnNvcjpwb2ludGVyOyIgZm9yPSJzZWFyY2gtYXBpLWRlc2NyIj4gQVBJIERlc2NyaXB0aW9uIDwvbGFiZWw+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1sZWZ0OiAxNnB4OyI+CiAgICAgICAgICAgIDxpbnB1dCBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7IiB0eXBlPSJjaGVja2JveCIgcGFydD0iY2hlY2tib3ggY2hlY2tib3gtc2VhcmNoLWRpYWxvZyIgaWQ9InNlYXJjaC1hcGktcGFyYW1zIiBAY2hhbmdlID0gIiR7ZT0+dGhpcy5vbkFkdmFuY2VkU2VhcmNoKGUsMCl9Ij4KICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjsiIGZvcj0ic2VhcmNoLWFwaS1wYXJhbXMiPiBBUEkgUGFyYW1ldGVycyA8L2xhYmVsPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tbGVmdDogMTZweDsiPgogICAgICAgICAgICA8aW5wdXQgc3R5bGU9ImN1cnNvcjpwb2ludGVyOyIgdHlwZT0iY2hlY2tib3giIHBhcnQ9ImNoZWNrYm94IGNoZWNrYm94LXNlYXJjaC1kaWFsb2ciIGlkPSJzZWFyY2gtYXBpLXJlcXVlc3QtYm9keSIgQGNoYW5nZSA9ICIke2U9PnRoaXMub25BZHZhbmNlZFNlYXJjaChlLDApfSI+CiAgICAgICAgICAgIDxsYWJlbCBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7IiBmb3I9InNlYXJjaC1hcGktcmVxdWVzdC1ib2R5Ij4gUmVxdWVzdCBCb2R5IFBhcmFtZXRlcnMgPC9sYWJlbD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDE2cHg7Ij4KICAgICAgICAgICAgPGlucHV0IHN0eWxlPSJjdXJzb3I6cG9pbnRlcjsiIHR5cGU9ImNoZWNrYm94IiBwYXJ0PSJjaGVja2JveCBjaGVja2JveC1zZWFyY2gtZGlhbG9nIiBpZD0ic2VhcmNoLWFwaS1yZXNwLWRlc2NyIiBAY2hhbmdlID0gIiR7ZT0+dGhpcy5vbkFkdmFuY2VkU2VhcmNoKGUsMCl9Ij4KICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjsiIGZvcj0ic2VhcmNoLWFwaS1yZXNwLWRlc2NyIj4gUmVzcG9uc2UgRGVzY3JpcHRpb24gPC9sYWJlbD4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NwYW4+CiAgICAgIAogICAgICAke251bGw9PT0oZT10aGlzLmFkdmFuY2VkU2VhcmNoTWF0Y2hlcyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWFwKChlPT5xYAogICAgICA8ZGl2CiAgICAgICAgY2xhc3M9Im1vbm8tZm9udCBzbWFsbC1mb250LXNpemUgaG92ZXItYmciCiAgICAgICAgc3R5bGU9J3BhZGRpbmc6IDVweDsgY3Vyc29yOiBwb2ludGVyOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTsgJHtlLmRlcHJlY2F0ZWQ/ImZpbHRlcjpvcGFjaXR5KDAuNSk7IjoiIn0nIAogICAgICAgIGRhdGEtY29udGVudC1pZD0nJHtlLmVsZW1lbnRJZH0nCiAgICAgICAgdGFiaW5kZXggPSAnMCcKICAgICAgICBAY2xpY2s9IiR7ZT0+e3RoaXMubWF0Y2hQYXRocz0iIix0aGlzLnNob3dBZHZhbmNlZFNlYXJjaERpYWxvZz0hMSx0aGlzLnJlcXVlc3RVcGRhdGUoKSx0aGlzLnNjcm9sbFRvRXZlbnRUYXJnZXQoZSwhMCl9fSIKICAgICAgPiAKICAgICAgICA8c3BhbiBjbGFzcz0idXBwZXIgYm9sZC10ZXh0IG1ldGhvZC1mZyAke2UubWV0aG9kfSI+JHtlLm1ldGhvZH08L3NwYW4+IAogICAgICAgIDxzcGFuPiR7ZS5wYXRofTwvc3Bhbj4KICAgICAgICA8c3BhbiBjbGFzcz0icmVndWxhci1mb250IGdyYXktdGV4dCI+JHtlLnN1bW1hcnl9PC9zcGFuPgogICAgICA8L2Rpdj4KICAgIGApKX0KICAgIDwvZGlhbG9nLWJveD4KICBgfWN1c3RvbUVsZW1lbnRzLmRlZmluZSgiZGlhbG9nLWJveCIsY2xhc3MgZXh0ZW5kcyBpZXtzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKXtyZXR1cm57aGVhZGluZzp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJoZWFkaW5nIn0sc2hvdzp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzaG93In19fXN0YXRpYyBnZXQgc3R5bGVzKCl7cmV0dXJuW3lSXX1jb25uZWN0ZWRDYWxsYmFjaygpe3N1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsKGU9PnsiRXNjYXBlIj09PWUuY29kZSYmdGhpcy5vbkNsb3NlKCl9KSl9YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGUsdCxyKXt0IT09ciYmKCJoZWFkaW5nIj09PWUmJih0aGlzLmhlYWRpbmc9ciksInNob3ciPT09ZSYmKHRoaXMuc2hvdz1yLCJ0cnVlIj09PXImJmRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJvcGVuIix7YnViYmxlczohMCxjb21wb3NlZDohMCxkZXRhaWw6dGhpc30pKSkpLHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhlLHQscil9cmVuZGVyKCl7cmV0dXJuIHFgCiAgICAkeyJ0cnVlIj09PXRoaXMuc2hvdz9xYAogICAgICAgIDxkaXYgY2xhc3M9ImRpYWxvZy1ib3gtb3ZlcmxheSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJkaWFsb2ctYm94Ij4KICAgICAgICAgICAgPGhlYWRlciBjbGFzcz0iZGlhbG9nLWJveC1oZWFkZXIiPgogICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkaWFsb2ctYm94LXRpdGxlIj4ke3RoaXMuaGVhZGluZ308L3NwYW4+CiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIEBjbGljaz0iJHt0aGlzLm9uQ2xvc2V9Ij4mdGltZXM7PC9idXR0b24+CiAgICAgICAgICAgIDwvaGVhZGVyPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkaWFsb2ctYm94LWNvbnRlbnQiPgogICAgICAgICAgICAgIDxzbG90Pjwvc2xvdD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj5gOiIifWB9b25DbG9zZSgpe2RvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJjbG9zZSIse2J1YmJsZXM6ITAsY29tcG9zZWQ6ITB9KSl9fSk7Y29uc3QgdlI9e2NvbG9yOntpbnB1dFJldmVyc2VGZzoiI2ZmZiIsaW5wdXRSZXZlcnNlQmc6IiMzMzMiLGhlYWRlckJnOiIjNDQ0IixnZXRSZ2IoZSl7aWYoMD09PWUuaW5kZXhPZigiIyIpJiYoZT1lLnNsaWNlKDEsNykpLDMhPT1lLmxlbmd0aCYmNCE9PWUubGVuZ3RofHwoZT1lWzBdK2VbMF0rZVsxXStlWzFdK2VbMl0rZVsyXSksNiE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBIRVggY29sb3IuIik7cmV0dXJue3I6cGFyc2VJbnQoZS5zbGljZSgwLDIpLDE2KSxnOnBhcnNlSW50KGUuc2xpY2UoMiw0KSwxNiksYjpwYXJzZUludChlLnNsaWNlKDQsNiksMTYpfX0sbHVtaW5hbmFjZShlKXtjb25zdCB0PXRoaXMuZ2V0UmdiKGUpO3JldHVybi4yOTkqdC5yKy41ODcqdC5nKy4xMTQqdC5ifSxpbnZlcnQoZSl7cmV0dXJuIHRoaXMubHVtaW5hbmFjZShlKT4xMzU/IiMwMDAiOiIjZmZmIn0sb3BhY2l0eShlLHQpe2NvbnN0IHI9dGhpcy5nZXRSZ2IoZSk7cmV0dXJuYHJnYmEoJHtyLnJ9LCAke3IuZ30sICR7ci5ifSwgJHt0fSlgfSxicmlnaHRuZXNzKGUsdCl7Y29uc3Qgcj10aGlzLmdldFJnYihlKTtyZXR1cm4gci5yKz10LHIuZys9dCxyLmIrPXQsci5yPjI1NT9yLnI9MjU1OnIucjwwJiYoci5yPTApLHIuZz4yNTU/ci5nPTI1NTpyLmc8MCYmKHIuZz0wKSxyLmI+MjU1P3IuYj0yNTU6ci5iPDAmJihyLmI9MCksYCMke3Iuci50b1N0cmluZygxNikucGFkU3RhcnQoMiwiMCIpfSR7ci5nLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCIwIil9JHtyLmIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIjAiKX1gfSxoYXNHb29kQ29udHJhc3QoZSx0KXtyZXR1cm4gdGhpcy5sdW1pbmFuYWNlKGUpLXRoaXMubHVtaW5hbmFjZSh0KX19fTtmdW5jdGlvbiBiUihlKXtyZXR1cm4vXiMoW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M318W0EtRmEtZjAtOV17OH18W0EtRmEtZjAtOV17NH0pJC9pLnRlc3QoZSl9ZnVuY3Rpb24geFIoZSx0PXt9KXtsZXQgcj17fTtjb25zdCBuPXQucHJpbWFyeUNvbG9yP3QucHJpbWFyeUNvbG9yOiJkYXJrIj09PWU/IiNmNzZiMzkiOiIjZmY1OTFlIixvPXZSLmNvbG9yLmludmVydChuKSxhPXZSLmNvbG9yLm9wYWNpdHkobiwiMC40Iik7aWYoImRhcmsiPT09ZSl7Y29uc3QgZT10LmJnMT90LmJnMToiIzJhMmIyYyIsaT10LmZnMT90LmZnMToiI2JiYiIscz10LmJnMj90LmJnMjp2Ui5jb2xvci5icmlnaHRuZXNzKGUsNSksbD10LmJnMz90LmJnMzp2Ui5jb2xvci5icmlnaHRuZXNzKGUsMTcpLGM9dC5iZzM/dC5iZzM6dlIuY29sb3IuYnJpZ2h0bmVzcyhlLDM1KSxwPXQuZmcyP3QuZmcyOnZSLmNvbG9yLmJyaWdodG5lc3MoaSwtMTUpLGQ9dC5mZzM/dC5mZzM6dlIuY29sb3IuYnJpZ2h0bmVzcyhpLC0yMCksdT10LmZnMz90LmZnMzp2Ui5jb2xvci5icmlnaHRuZXNzKGksLTY1KSxoPXQuaW5saW5lQ29kZUZnP3QuaW5saW5lQ29kZUZnOiIjYWFhIixmPSIjYmJiIixtPSIjZWVlIix5PXQuaGVhZGVyQ29sb3I/dC5oZWFkZXJDb2xvcjp2Ui5jb2xvci5icmlnaHRuZXNzKGUsMTApLGc9dC5uYXZCZ0NvbG9yP3QubmF2QmdDb2xvcjp2Ui5jb2xvci5icmlnaHRuZXNzKGUsMTApLHY9dC5uYXZUZXh0Q29sb3I/dC5uYXZUZXh0Q29sb3I6dlIuY29sb3Iub3BhY2l0eSh2Ui5jb2xvci5pbnZlcnQoZyksIjAuNTAiKSxiPXQubmF2SG92ZXJCZ0NvbG9yP3QubmF2SG92ZXJCZ0NvbG9yOnZSLmNvbG9yLmJyaWdodG5lc3MoZywtMTUpLHg9dC5uYXZIb3ZlclRleHRDb2xvcj90Lm5hdkhvdmVyVGV4dENvbG9yOnZSLmNvbG9yLmludmVydChnKSx3PXQubmF2QWNjZW50Q29sb3I/dC5uYXZBY2NlbnRDb2xvcjp2Ui5jb2xvci5icmlnaHRuZXNzKG4sMjUpO3I9e2JnMTplLGJnMjpzLGJnMzpsLGxpZ2h0Qmc6YyxmZzE6aSxmZzI6cCxmZzM6ZCxsaWdodEZnOnUsaW5saW5lQ29kZUZnOmgscHJpbWFyeUNvbG9yOm4scHJpbWFyeUNvbG9yVHJhbnM6YSxwcmltYXJ5Q29sb3JJbnZlcnQ6byxzZWxlY3Rpb25CZzpmLHNlbGVjdGlvbkZnOm0sb3ZlcmxheUJnOiJyZ2JhKDgwLCA4MCwgODAsIDAuNCkiLG5hdkJnQ29sb3I6ZyxuYXZUZXh0Q29sb3I6dixuYXZIb3ZlckJnQ29sb3I6YixuYXZIb3ZlclRleHRDb2xvcjp4LG5hdkFjY2VudENvbG9yOncsbmF2QWNjZW50VGV4dENvbG9yOnQubmF2QWNjZW50VGV4dENvbG9yP3QubmF2QWNjZW50dGV4dENvbG9yOnZSLmNvbG9yLmludmVydCh3KSxoZWFkZXJDb2xvcjp5LGhlYWRlckNvbG9ySW52ZXJ0OnZSLmNvbG9yLmludmVydCh5KSxoZWFkZXJDb2xvckRhcmtlcjp2Ui5jb2xvci5icmlnaHRuZXNzKHksLTIwKSxoZWFkZXJDb2xvckJvcmRlcjp2Ui5jb2xvci5icmlnaHRuZXNzKHksMTApLGJvcmRlckNvbG9yOnQuYm9yZGVyQ29sb3J8fHZSLmNvbG9yLmJyaWdodG5lc3MoZSwyMCksbGlnaHRCb3JkZXJDb2xvcjp0LmxpZ2h0Qm9yZGVyQ29sb3J8fHZSLmNvbG9yLmJyaWdodG5lc3MoZSwxNSksY29kZUJvcmRlckNvbG9yOnQuY29kZUJvcmRlckNvbG9yfHx2Ui5jb2xvci5icmlnaHRuZXNzKGUsMzApLGlucHV0Qmc6dC5pbnB1dEJnfHx2Ui5jb2xvci5icmlnaHRuZXNzKGUsLTUpLHBsYWNlSG9sZGVyOnQucGxhY2VIb2xkZXJ8fHZSLmNvbG9yLm9wYWNpdHkoaSwiMC4zIiksaG92ZXJDb2xvcjp0LmhvdmVyQ29sb3J8fHZSLmNvbG9yLmJyaWdodG5lc3MoZSwtMTApLHJlZDp0LnJlZD90LnJlZDoiI0YwNjU2MCIsbGlnaHRSZWQ6dC5saWdodFJlZD90LmxpZ2h0UmVkOnZSLmNvbG9yLmJyaWdodG5lc3MoZSwtMTApLHBpbms6dC5waW5rP3QucGluazoiI2ZmYjJiMiIsbGlnaHRQaW5rOnQubGlnaHRQaW5rfHx2Ui5jb2xvci5icmlnaHRuZXNzKGUsLTEwKSxncmVlbjp0LmdyZWVufHwiIzdlYzY5OSIsbGlnaHRHcmVlbjp0LmxpZ2h0R3JlZW58fHZSLmNvbG9yLmJyaWdodG5lc3MoZSwtMTApLGJsdWU6dC5ibHVlfHwiIzcxYjdmZiIsbGlnaHRCbHVlOnQubGlnaHRCbHVlfHx2Ui5jb2xvci5icmlnaHRuZXNzKGUsLTEwKSxvcmFuZ2U6dC5vcmFuZ2U/dC5vcmFuZ2U6IiNmMDhkNDkiLGxpZ2h0T3JhbmdlOnQubGlnaHRPcmFuZ2V8fHZSLmNvbG9yLmJyaWdodG5lc3MoZSwtMTApLHllbGxvdzp0LnllbGxvd3x8IiM4Mjc3MTciLGxpZ2h0WWVsbG93OnQubGlnaHRZZWxsb3d8fHZSLmNvbG9yLmJyaWdodG5lc3MoZSwtMTApLHB1cnBsZTp0LnB1cnBsZXx8IiM3ODZGRjEiLGJyb3duOnQuYnJvd258fCIjRDRBQzBEIixjb2RlQmc6dC5jb2RlQmd8fHZSLmNvbG9yLm9wYWNpdHkodlIuY29sb3IuYnJpZ2h0bmVzcyhlLC0xNSksLjcpLGNvZGVGZzp0LmNvZGVGZ3x8IiNhYWEiLGNvZGVQcm9wZXJ0eUNvbG9yOnQuY29kZVByb3BlcnR5Q29sb3J8fCIjZjhjNTU1Iixjb2RlS2V5d29yZENvbG9yOnQuY29kZUtleXdvcmRDb2xvcnx8IiNjYzk5Y2QiLGNvZGVPcGVyYXRvckNvbG9yOnQuY29kZU9wZXJhdG9yQ29sb3J8fCIjNjdjZGNjIn19ZWxzZXtjb25zdCBlPXQuYmcxP3QuYmcxOiIjZmFmYmZjIixpPXQuZmcxP3QuZmcxOiIjNDQ0NDQ0IixzPXQuYmcyP3QuYmcyOnZSLmNvbG9yLmJyaWdodG5lc3MoZSwtNSksbD10LmJnMz90LmJnMzp2Ui5jb2xvci5icmlnaHRuZXNzKGUsLTE1KSxjPXQuYmczP3QuYmczOnZSLmNvbG9yLmJyaWdodG5lc3MoZSwtNDUpLHA9dC5mZzI/dC5mZzI6dlIuY29sb3IuYnJpZ2h0bmVzcyhpLDE3KSxkPXQuZmczP3QuZmczOnZSLmNvbG9yLmJyaWdodG5lc3MoaSwzMCksdT10LmZnMz90LmZnMzp2Ui5jb2xvci5icmlnaHRuZXNzKGksNzApLGg9dC5pbmxpbmVDb2RlRmc/dC5pbmxpbmVDb2RlRmc6ImJyb3duIixmPSIjNDQ0IixtPSIjZWVlIix5PXQuaGVhZGVyQ29sb3I/dC5oZWFkZXJDb2xvcjp2Ui5jb2xvci5icmlnaHRuZXNzKGUsLTE4MCksZz10Lm5hdkJnQ29sb3I/dC5uYXZCZ0NvbG9yOnZSLmNvbG9yLmJyaWdodG5lc3MoZSwtMjAwKSx2PXQubmF2VGV4dENvbG9yP3QubmF2VGV4dENvbG9yOnZSLmNvbG9yLm9wYWNpdHkodlIuY29sb3IuaW52ZXJ0KGcpLCIwLjY1IiksYj10Lm5hdkhvdmVyQmdDb2xvcj90Lm5hdkhvdmVyQmdDb2xvcjp2Ui5jb2xvci5icmlnaHRuZXNzKGcsLTE1KSx4PXQubmF2SG92ZXJUZXh0Q29sb3I/dC5uYXZIb3ZlclRleHRDb2xvcjp2Ui5jb2xvci5pbnZlcnQoZyksdz10Lm5hdkFjY2VudENvbG9yP3QubmF2QWNjZW50Q29sb3I6dlIuY29sb3IuYnJpZ2h0bmVzcyhuLDI1KTtyPXtiZzE6ZSxiZzI6cyxiZzM6bCxsaWdodEJnOmMsZmcxOmksZmcyOnAsZmczOmQsbGlnaHRGZzp1LGlubGluZUNvZGVGZzpoLHByaW1hcnlDb2xvcjpuLHByaW1hcnlDb2xvclRyYW5zOmEscHJpbWFyeUNvbG9ySW52ZXJ0Om8sc2VsZWN0aW9uQmc6ZixzZWxlY3Rpb25GZzptLG92ZXJsYXlCZzoicmdiYSgwLCAwLCAwLCAwLjQpIixuYXZCZ0NvbG9yOmcsbmF2VGV4dENvbG9yOnYsbmF2SG92ZXJCZ0NvbG9yOmIsbmF2SG92ZXJUZXh0Q29sb3I6eCxuYXZBY2NlbnRDb2xvcjp3LG5hdkFjY2VudFRleHRDb2xvcjp0Lm5hdkFjY2VudFRleHRDb2xvcj90Lm5hdkFjY2VudHRleHRDb2xvcjp2Ui5jb2xvci5pbnZlcnQodyksaGVhZGVyQ29sb3I6eSxoZWFkZXJDb2xvckludmVydDp2Ui5jb2xvci5pbnZlcnQoeSksaGVhZGVyQ29sb3JEYXJrZXI6dlIuY29sb3IuYnJpZ2h0bmVzcyh5LC0yMCksaGVhZGVyQ29sb3JCb3JkZXI6dlIuY29sb3IuYnJpZ2h0bmVzcyh5LDEwKSxib3JkZXJDb2xvcjp0LmJvcmRlckNvbG9yfHx2Ui5jb2xvci5icmlnaHRuZXNzKGUsLTM4KSxsaWdodEJvcmRlckNvbG9yOnQubGlnaHRCb3JkZXJDb2xvcnx8dlIuY29sb3IuYnJpZ2h0bmVzcyhlLC0yMyksY29kZUJvcmRlckNvbG9yOnQuY29kZUJvcmRlckNvbG9yfHwidHJhbnNwYXJlbnQiLGlucHV0Qmc6dC5pbnB1dEJnfHx2Ui5jb2xvci5icmlnaHRuZXNzKGUsMTApLHBsYWNlSG9sZGVyOnQucGxhY2VIb2xkZXJ8fHZSLmNvbG9yLmJyaWdodG5lc3ModSwyMCksaG92ZXJDb2xvcjp0LmhvdmVyQ29sb3J8fHZSLmNvbG9yLmJyaWdodG5lc3MoZSwtNSkscmVkOnQucmVkfHwiI0YwNjU2MCIsbGlnaHRSZWQ6dC5saWdodFJlZHx8IiNmZmYwZjAiLHBpbms6dC5waW5rP3QucGluazoiIzk5MDA1NSIsbGlnaHRQaW5rOnQubGlnaHRQaW5rP3QubGlnaHRQaW5rOiIjZmZiMmIyIixncmVlbjp0LmdyZWVufHwiIzY5MCIsbGlnaHRHcmVlbjp0LmxpZ2h0R3JlZW58fCIjZmJmZmYwIixibHVlOnQuYmx1ZXx8IiM0N0FGRTgiLGxpZ2h0Qmx1ZTp0LmxpZ2h0Qmx1ZXx8IiNlZmY4ZmQiLG9yYW5nZTp0Lm9yYW5nZXx8IiNGRjk5MDAiLGxpZ2h0T3JhbmdlOnQubGlnaHRPcmFuZ2V8fCIjZmZmNWU2Iix5ZWxsb3c6dC55ZWxsb3d8fCIjODI3NzE3IixsaWdodFllbGxvdzp0LmxpZ2h0WWVsbG93fHwiI2ZmZjVjYyIscHVycGxlOnQucHVycGxlfHwiIzc4NkZGMSIsYnJvd246dC5icm93bnx8IiNENEFDMEQiLGNvZGVCZzp0LmNvZGVCZ3x8dlIuY29sb3Iub3BhY2l0eSh2Ui5jb2xvci5icmlnaHRuZXNzKGUsLTE1KSwuNyksY29kZUZnOnQuY29kZUZnfHwiIzY2NiIsY29kZVByb3BlcnR5Q29sb3I6dC5jb2RlUHJvcGVydHlDb2xvcnx8IiM5MDUiLGNvZGVLZXl3b3JkQ29sb3I6dC5jb2RlS2V5d29yZENvbG9yfHwiIzA3YSIsY29kZU9wZXJhdG9yQ29sb3I6dC5jb2RlT3BlcmF0b3JDb2xvcnx8IiM5YTZlM2EifX1yZXR1cm4gcWAKICA8c3R5bGU+CiAgKiwgKjpiZWZvcmUsICo6YWZ0ZXIgeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9CiAgCiAgOmhvc3QgewogICAgLyogQ29tbW9uIFN0eWxlcyAtIGlycmVzcGVjdGl2ZSBvZiB0aGVtZXMgKi8gIAogICAgLS1ib3JkZXItcmFkaXVzOiAycHg7CiAgICAtLWxheW91dDogJHt0aGlzLmxheW91dHx8InJvdyJ9OwogICAgLS1mb250LW1vbm86ICR7dGhpcy5tb25vRm9udHx8J01vbmFjbywgIkFuZGFsZSBNb25vIiwgIlJvYm90byBNb25vIiwgQ29uc29sYXMsIG1vbm9zcGFjZSd9OwogICAgLS1mb250LXJlZ3VsYXI6ICR7dGhpcy5yZWd1bGFyRm9udHx8JyJPcGVuIFNhbnMiLCBBdmVuaXIsICJTZWdvZSBVSSIsIEFyaWFsLCBzYW5zLXNlcmlmJ307CiAgICAtLXNjcm9sbC1iYXItd2lkdGg6IDhweDsKICAgIC0tbmF2LWl0ZW0tcGFkZGluZzogJHsicmVsYXhlZCI9PT10aGlzLm5hdkl0ZW1TcGFjaW5nPyIxMHB4IDE2cHggMTBweCAxMHB4IjoiY29tcGFjdCI9PT10aGlzLm5hdkl0ZW1TcGFjaW5nPyI1cHggMTZweCA1cHggMTBweCI6IjdweCAxNnB4IDdweCAxMHB4In07CiAgICAKICAgIC0tcmVzcC1hcmVhLWhlaWdodDogJHt0aGlzLnJlc3BvbnNlQXJlYUhlaWdodH07CiAgICAtLWZvbnQtc2l6ZS1zbWFsbDogJHsiZGVmYXVsdCI9PT10aGlzLmZvbnRTaXplPyIxMnB4IjoibGFyZ2UiPT09dGhpcy5mb250U2l6ZT8iMTNweCI6IjE0cHgifTsKICAgIC0tZm9udC1zaXplLW1vbm86ICR7ImRlZmF1bHQiPT09dGhpcy5mb250U2l6ZT8iMTNweCI6ImxhcmdlIj09PXRoaXMuZm9udFNpemU/IjE0cHgiOiIxNXB4In07CiAgICAtLWZvbnQtc2l6ZS1yZWd1bGFyOiAkeyJkZWZhdWx0Ij09PXRoaXMuZm9udFNpemU/IjE0cHgiOiJsYXJnZSI9PT10aGlzLmZvbnRTaXplPyIxNXB4IjoiMTZweCJ9OwogICAgLS1kaWFsb2ctei1pbmRleDogMTAwMDsKCiAgICAtLWZvY3VzLXNoYWRvdzogMCAwIDAgMXB4IHRyYW5zcGFyZW50LCAwIDAgMCAzcHggJHtyLnByaW1hcnlDb2xvclRyYW5zfTsKCiAgICAvKiBUaGVtZSBzcGVjaWZpYyBzdHlsZXMgKi8gIAogICAgLS1iZzoke3IuYmcxfTsKICAgIC0tYmcyOiR7ci5iZzJ9OwogICAgLS1iZzM6JHtyLmJnM307CiAgICAtLWxpZ2h0LWJnOiR7ci5saWdodEJnfTsKICAgIC0tZmc6JHtyLmZnMX07CiAgICAtLWZnMjoke3IuZmcyfTsKICAgIC0tZmczOiR7ci5mZzN9OwogICAgLS1saWdodC1mZzoke3IubGlnaHRGZ307CiAgICAtLXNlbGVjdGlvbi1iZzoke3Iuc2VsZWN0aW9uQmd9OwogICAgLS1zZWxlY3Rpb24tZmc6JHtyLnNlbGVjdGlvbkZnfTsKICAgIC0tb3ZlcmxheS1iZzoke3Iub3ZlcmxheUJnfTsKICAgIAogICAgLyogQm9yZGVyIENvbG9ycyAqLwogICAgLS1ib3JkZXItY29sb3I6JHtyLmJvcmRlckNvbG9yfTsKICAgIC0tbGlnaHQtYm9yZGVyLWNvbG9yOiR7ci5saWdodEJvcmRlckNvbG9yfTsKICAgIC0tY29kZS1ib3JkZXItY29sb3I6JHtyLmNvZGVCb3JkZXJDb2xvcn07CgogICAgLS1pbnB1dC1iZzoke3IuaW5wdXRCZ307CiAgICAtLXBsYWNlaG9sZGVyLWNvbG9yOiR7ci5wbGFjZUhvbGRlcn07CiAgICAtLWhvdmVyLWNvbG9yOiR7ci5ob3ZlckNvbG9yfTsKICAgIC0tcmVkOiR7ci5yZWR9OwogICAgLS1saWdodC1yZWQ6JHtyLmxpZ2h0UmVkfTsKICAgIC0tcGluazoke3IucGlua307CiAgICAtLWxpZ2h0LXBpbms6JHtyLmxpZ2h0UGlua307CiAgICAtLWdyZWVuOiR7ci5ncmVlbn07CiAgICAtLWxpZ2h0LWdyZWVuOiR7ci5saWdodEdyZWVufTsKICAgIC0tYmx1ZToke3IuYmx1ZX07CiAgICAtLWxpZ2h0LWJsdWU6JHtyLmxpZ2h0Qmx1ZX07CiAgICAtLW9yYW5nZToke3Iub3JhbmdlfTsKICAgIC0tbGlnaHQtb3JhbmdlOiR7ci5saWdodE9yYW5nZX07CiAgICAtLXllbGxvdzoke3IueWVsbG93fTsKICAgIC0tbGlnaHQteWVsbG93OiR7ci5saWdodFllbGxvd307CiAgICAtLXB1cnBsZToke3IucHVycGxlfTsKICAgIC0tYnJvd246JHtyLmJyb3dufTsKCiAgICAvKiBIZWFkZXIgQ29sb3IgKi8KICAgIC0taGVhZGVyLWJnOiR7ci5oZWFkZXJDb2xvcn07CiAgICAtLWhlYWRlci1mZzoke3IuaGVhZGVyQ29sb3JJbnZlcnR9OwogICAgLS1oZWFkZXItY29sb3ItZGFya2VyOiR7ci5oZWFkZXJDb2xvckRhcmtlcn07CiAgICAtLWhlYWRlci1jb2xvci1ib3JkZXI6JHtyLmhlYWRlckNvbG9yQm9yZGVyfTsKCiAgICAvKiBOYXYgQ29sb3JzICovICAKICAgIC0tbmF2LWJnLWNvbG9yOiR7ci5uYXZCZ0NvbG9yfTsKICAgIC0tbmF2LXRleHQtY29sb3I6JHtyLm5hdlRleHRDb2xvcn07CiAgICAtLW5hdi1ob3Zlci1iZy1jb2xvcjoke3IubmF2SG92ZXJCZ0NvbG9yfTsKICAgIC0tbmF2LWhvdmVyLXRleHQtY29sb3I6JHtyLm5hdkhvdmVyVGV4dENvbG9yfTsKICAgIC0tbmF2LWFjY2VudC1jb2xvcjoke3IubmF2QWNjZW50Q29sb3J9OwogICAgLS1uYXYtYWNjZW50LXRleHQtY29sb3I6JHtyLm5hdkFjY2VudFRleHRDb2xvcn07CgogICAgLyogTmF2IEFQSSBNZXRob2QgQ29sb3JzKi8KICAgIC0tbmF2LWdldC1jb2xvcjoke3IuYmx1ZX07CiAgICAtLW5hdi1wdXQtY29sb3I6JHtyLm9yYW5nZX07CiAgICAtLW5hdi1wb3N0LWNvbG9yOiR7ci5ncmVlbn07CiAgICAtLW5hdi1kZWxldGUtY29sb3I6JHtyLnJlZH07CiAgICAtLW5hdi1oZWFkLWNvbG9yOiR7ci55ZWxsb3d9OwoKICAgIC8qIFByaW1hcnkgQ29sb3JzICovICAKICAgIC0tcHJpbWFyeS1jb2xvcjoke3IucHJpbWFyeUNvbG9yfTsKICAgIC0tcHJpbWFyeS1jb2xvci1pbnZlcnQ6JHtyLnByaW1hcnlDb2xvckludmVydH07CiAgICAtLXByaW1hcnktY29sb3ItdHJhbnM6JHtyLnByaW1hcnlDb2xvclRyYW5zfTsKCiAgICAvKkNvZGUgU3ludGF4IENvbG9yKi8KICAgIC0tY29kZS1iZzoke3IuY29kZUJnfTsKICAgIC0tY29kZS1mZzoke3IuY29kZUZnfTsKICAgIC0taW5saW5lLWNvZGUtZmc6JHtyLmlubGluZUNvZGVGZ307CiAgICAtLWNvZGUtcHJvcGVydHktY29sb3I6JHtyLmNvZGVQcm9wZXJ0eUNvbG9yfTsKICAgIC0tY29kZS1rZXl3b3JkLWNvbG9yOiR7ci5jb2RlS2V5d29yZENvbG9yfTsKICAgIC0tY29kZS1vcGVyYXRvci1jb2xvcjoke3IuY29kZU9wZXJhdG9yQ29sb3J9OwogIH0KICA8L3N0eWxlPmB9ZnVuY3Rpb24gd1IoZT0hMSx0PSEwLHI9ITAsbj0hMSl7aWYoIXRoaXMucmVzb2x2ZWRTcGVjKXJldHVybiIiOyJ0cnVlIj09PXRoaXMucGVyc2lzdEF1dGgmJmFQLmNhbGwodGhpcyk7Y29uc3Qgbz17YmcxOmJSKHRoaXMuYmdDb2xvcik/dGhpcy5iZ0NvbG9yOiIiLGZnMTpiUih0aGlzLnRleHRDb2xvcik/dGhpcy50ZXh0Q29sb3I6IiIsaGVhZGVyQ29sb3I6YlIodGhpcy5oZWFkZXJDb2xvcik/dGhpcy5oZWFkZXJDb2xvcjoiIixwcmltYXJ5Q29sb3I6YlIodGhpcy5wcmltYXJ5Q29sb3IpP3RoaXMucHJpbWFyeUNvbG9yOiIiLG5hdkJnQ29sb3I6YlIodGhpcy5uYXZCZ0NvbG9yKT90aGlzLm5hdkJnQ29sb3I6IiIsbmF2VGV4dENvbG9yOmJSKHRoaXMubmF2VGV4dENvbG9yKT90aGlzLm5hdlRleHRDb2xvcjoiIixuYXZIb3ZlckJnQ29sb3I6YlIodGhpcy5uYXZIb3ZlckJnQ29sb3IpP3RoaXMubmF2SG92ZXJCZ0NvbG9yOiIiLG5hdkhvdmVyVGV4dENvbG9yOmJSKHRoaXMubmF2SG92ZXJUZXh0Q29sb3IpP3RoaXMubmF2SG92ZXJUZXh0Q29sb3I6IiIsbmF2QWNjZW50Q29sb3I6YlIodGhpcy5uYXZBY2NlbnRDb2xvcik/dGhpcy5uYXZBY2NlbnRDb2xvcjoiIixuYXZBY2NlbnRUZXh0Q29sb3I6YlIodGhpcy5uYXZBY2NlbnRUZXh0Q29sb3IpP3RoaXMubmF2QWNjZW50VGV4dENvbG9yOiIifTtyZXR1cm4gdGhpcy5yZXNvbHZlZFNwZWMuc3BlY0xvYWRFcnJvcj9lP3FgCiAgICAgICAgJHsiZGFyayI9PT10aGlzLnRoZW1lP3hSLmNhbGwodGhpcywiZGFyayIsbyk6eFIuY2FsbCh0aGlzLCJsaWdodCIsbyl9CiAgICAgICAgPGRpdiBzdHlsZT0nZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGJvcmRlcjoxcHggZGFzaGVkIHZhcigtLWJvcmRlci1jb2xvcik7IGhlaWdodDo0MnB4OyBwYWRkaW5nOjVweDsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7IGNvbG9yOnZhcigtLXJlZCk7IGZvbnQtZmFtaWx5OnZhcigtLWZvbnQtbW9ubyknPiAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8uZGVzY3JpcHRpb259IDwvZGl2PgogICAgICBgOnFgCiAgICAgICR7ImRhcmsiPT09dGhpcy50aGVtZT94Ui5jYWxsKHRoaXMsImRhcmsiLG8pOnhSLmNhbGwodGhpcywibGlnaHQiLG8pfQogICAgICA8IS0tIEhlYWRlciAtLT4KICAgICAgJHttUi5jYWxsKHRoaXMpfQogICAgICA8bWFpbiBjbGFzcz0nbWFpbi1jb250ZW50IHJlZ3VsYXItZm9udCcgcGFydD0nc2VjdGlvbi1tYWluLWNvbnRlbnQnPgogICAgICAgIDxzbG90Pjwvc2xvdD4KICAgICAgICA8ZGl2IHN0eWxlPSdtYXJnaW46MjRweDsgdGV4dC1hbGlnbjogY2VudGVyOyc+CiAgICAgICAgICA8aDEgc3R5bGU9J2NvbG9yOiB2YXIoLS1yZWQpJz4gJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLnRpdGxlfSA8L2gxPgogICAgICAgICAgPGRpdiBzdHlsZT0nZm9udC1mYW1pbHk6dmFyKC0tZm9udC1tb25vKSc+ICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5kZXNjcmlwdGlvbn0gPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvbWFpbj4gIAogICAgYDp0aGlzLnJlc29sdmVkU3BlYy5pc1NwZWNMb2FkaW5nP3FgCiAgICAgICR7ImRhcmsiPT09dGhpcy50aGVtZT94Ui5jYWxsKHRoaXMsImRhcmsiLG8pOnhSLmNhbGwodGhpcywibGlnaHQiLG8pfQogICAgICA8bWFpbiBjbGFzcz0nbWFpbi1jb250ZW50IHJlZ3VsYXItZm9udCcgcGFydD0nc2VjdGlvbi1tYWluLWNvbnRlbnQnPgogICAgICAgIDxzbG90Pjwvc2xvdD4KICAgICAgICA8ZGl2IGNsYXNzPSdtYWluLWNvbnRlbnQtaW5uZXItLSR7dGhpcy5yZW5kZXJTdHlsZX0tbW9kZSc+CiAgICAgICAgICA8ZGl2IGNsYXNzPSdsb2FkZXInPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L21haW4+CiAgICBgOnFgCiAgICAkeyJkYXJrIj09PXRoaXMudGhlbWU/eFIuY2FsbCh0aGlzLCJkYXJrIixvKTp4Ui5jYWxsKHRoaXMsImxpZ2h0IixvKX0KCiAgICA8IS0tIEhlYWRlciAtLT4KICAgICR7ImZhbHNlIj09PXRoaXMuc2hvd0hlYWRlcj8iIjptUi5jYWxsKHRoaXMpfQogICAgCiAgICA8IS0tIEFkdmFuY2VkIFNlYXJjaCAtLT4KICAgICR7ImZhbHNlIj09PXRoaXMuYWxsb3dBZHZhbmNlZFNlYXJjaD8iIjpnUi5jYWxsKHRoaXMpfQoKICAgIDxkaXYgaWQ9J3RoZS1tYWluLWJvZHknIGNsYXNzPSdib2R5ICR7dGhpcy5jc3NDbGFzc2VzfScgZGlyPScke3RoaXMucGFnZURpcmVjdGlvbn0nID4KICAgICAgPCEtLSBTaWRlIE5hdiAtLT4KICAgICAgJHsicmVhZCIhPT10aGlzLnJlbmRlclN0eWxlJiYiZm9jdXNlZCIhPT10aGlzLnJlbmRlclN0eWxlfHwidHJ1ZSIhPT10aGlzLnNob3dTaWRlTmF2fHwhdGhpcy5yZXNvbHZlZFNwZWM/IiI6blIuY2FsbCh0aGlzKX0KCiAgICAgIDwhLS0gTWFpbiBDb250ZW50IC0tPgogICAgICA8bWFpbiBjbGFzcz0nbWFpbi1jb250ZW50IHJlZ3VsYXItZm9udCcgdGFiaW5kZXg9Jy0xJyBwYXJ0PSdzZWN0aW9uLW1haW4tY29udGVudCc+CiAgICAgICAgPHNsb3Q+PC9zbG90PgogICAgICAgIDxkaXYgY2xhc3M9J21haW4tY29udGVudC1pbm5lci0tJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlJz4KICAgICAgICAgICR7ITA9PT10aGlzLmxvYWRpbmc/cWA8ZGl2IGNsYXNzPSdsb2FkZXInPjwvZGl2PmA6cWAKICAgICAgICAgICAgICAkeyEwPT09dGhpcy5sb2FkRmFpbGVkP3FgPGRpdiBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO21hcmdpbjogMTZweDsnPiBVbmFibGUgdG8gbG9hZCB0aGUgU3BlYzwvZGl2PmA6cWAKICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nb3BlcmF0aW9ucy1yb290JyBAY2xpY2s9JyR7ZT0+e3RoaXMuaGFuZGxlSHJlZihlKX19Jz4KICAgICAgICAgICAgICAgICAgJHsiZm9jdXNlZCI9PT10aGlzLnJlbmRlclN0eWxlP3FgJHtsUi5jYWxsKHRoaXMpfWA6cWAKICAgICAgICAgICAgICAgICAgICAgICR7InRydWUiPT09dGhpcy5zaG93SW5mbz9ZUC5jYWxsKHRoaXMpOiIifQogICAgICAgICAgICAgICAgICAgICAgJHsidHJ1ZSI9PT10aGlzLmFsbG93U2VydmVyU2VsZWN0aW9uP2VSLmNhbGwodGhpcyk6IiJ9CiAgICAgICAgICAgICAgICAgICAgICAkeyJ0cnVlIj09PXRoaXMuYWxsb3dBdXRoZW50aWNhdGlvbj9oUC5jYWxsKHRoaXMpOiIifQogICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0nb3BlcmF0aW9ucy10b3AnIGNsYXNzPSdvYnNlcnZlLW1lJz4KICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT0nb3BlcmF0aW9ucy10b3AnPjwvc2xvdD4KICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgCiAgICAgICAgICAgICAgICAgICAgICAkeyJyZWFkIj09PXRoaXMucmVuZGVyU3R5bGU/V1AuY2FsbCh0aGlzKTpmUi5jYWxsKHRoaXMsdCxyLG4pfQogICAgICAgICAgICAgICAgICAgIGB9CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgYH1gfQogICAgICAgIDwvZGl2PgogICAgICAgIDxzbG90IG5hbWU9J2Zvb3Rlcic+PC9zbG90PgogICAgICA8L21haW4+CiAgICA8L2Rpdj4gIAogIGB9Y2xhc3MgJFIgZXh0ZW5kcyBpZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7Y29uc3QgZT17cm9vdDp0aGlzLmdldFJvb3ROb2RlKCkuaG9zdCxyb290TWFyZ2luOiItNTBweCAwcHggLTUwcHggMHB4Iix0aHJlc2hvbGQ6MH07dGhpcy5zaG93U3VtbWFyeVdoZW5Db2xsYXBzZWQ9ITAsdGhpcy5pc0ludGVyc2VjdGlvbk9ic2VydmVyQWN0aXZlPSExLHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXI9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlPT57dGhpcy5vbkludGVyc2VjdChlKX0pLGUpfXN0YXRpYyBnZXQgcHJvcGVydGllcygpe3JldHVybntoZWFkaW5nVGV4dDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJoZWFkaW5nLXRleHQifSxnb3RvUGF0aDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJnb3RvLXBhdGgifSx1cGRhdGVSb3V0ZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJ1cGRhdGUtcm91dGUifSxyb3V0ZVByZWZpeDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJyb3V0ZS1wcmVmaXgifSxzcGVjVXJsOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNwZWMtdXJsIn0sc29ydFRhZ3M6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic29ydC10YWdzIn0sZ2VuZXJhdGVNaXNzaW5nVGFnczp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJnZW5lcmF0ZS1taXNzaW5nLXRhZ3MifSxzb3J0RW5kcG9pbnRzQnk6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic29ydC1lbmRwb2ludHMtYnkifSxzcGVjRmlsZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiExfSxsYXlvdXQ6e3R5cGU6U3RyaW5nfSxyZW5kZXJTdHlsZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJyZW5kZXItc3R5bGUifSxkZWZhdWx0U2NoZW1hVGFiOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImRlZmF1bHQtc2NoZW1hLXRhYiJ9LHJlc3BvbnNlQXJlYUhlaWdodDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJyZXNwb25zZS1hcmVhLWhlaWdodCJ9LGZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiZmlsbC1yZXF1ZXN0LWZpZWxkcy13aXRoLWV4YW1wbGUifSxwZXJzaXN0QXV0aDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJwZXJzaXN0LWF1dGgifSxvbk5hdlRhZ0NsaWNrOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6Im9uLW5hdi10YWctY2xpY2sifSxzY2hlbWFTdHlsZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtc3R5bGUifSxzY2hlbWFFeHBhbmRMZXZlbDp7dHlwZTpOdW1iZXIsYXR0cmlidXRlOiJzY2hlbWEtZXhwYW5kLWxldmVsIn0sc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQifSxzY2hlbWFIaWRlUmVhZE9ubHk6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2NoZW1hLWhpZGUtcmVhZC1vbmx5In0sc2NoZW1hSGlkZVdyaXRlT25seTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtaGlkZS13cml0ZS1vbmx5In0sYXBpS2V5TmFtZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhcGkta2V5LW5hbWUifSxhcGlLZXlMb2NhdGlvbjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhcGkta2V5LWxvY2F0aW9uIn0sYXBpS2V5VmFsdWU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiYXBpLWtleS12YWx1ZSJ9LGRlZmF1bHRBcGlTZXJ2ZXJVcmw6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiZGVmYXVsdC1hcGktc2VydmVyIn0sc2VydmVyVXJsOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNlcnZlci11cmwifSxvYXV0aFJlY2VpdmVyOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6Im9hdXRoLXJlY2VpdmVyIn0sc2hvd0hlYWRlcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzaG93LWhlYWRlciJ9LHNob3dTaWRlTmF2Ont0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNob3ctc2lkZS1uYXYifSxzaG93SW5mbzp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzaG93LWluZm8ifSxhbGxvd0F1dGhlbnRpY2F0aW9uOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LWF1dGhlbnRpY2F0aW9uIn0sYWxsb3dUcnk6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiYWxsb3ctdHJ5In0sc2hvd0N1cmxCZWZvcmVUcnk6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2hvdy1jdXJsLWJlZm9yZS10cnkifSxhbGxvd1NwZWNVcmxMb2FkOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LXNwZWMtdXJsLWxvYWQifSxhbGxvd1NwZWNGaWxlTG9hZDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhbGxvdy1zcGVjLWZpbGUtbG9hZCJ9LGFsbG93U3BlY0ZpbGVEb3dubG9hZDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhbGxvdy1zcGVjLWZpbGUtZG93bmxvYWQifSxhbGxvd1NlYXJjaDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhbGxvdy1zZWFyY2gifSxhbGxvd0FkdmFuY2VkU2VhcmNoOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LWFkdmFuY2VkLXNlYXJjaCJ9LGFsbG93U2VydmVyU2VsZWN0aW9uOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LXNlcnZlci1zZWxlY3Rpb24ifSxhbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlIn0sc2hvd0NvbXBvbmVudHM6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2hvdy1jb21wb25lbnRzIn0scGFnZURpcmVjdGlvbjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJwYWdlLWRpcmVjdGlvbiJ9LHRoZW1lOnt0eXBlOlN0cmluZ30sYmdDb2xvcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJiZy1jb2xvciJ9LHRleHRDb2xvcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJ0ZXh0LWNvbG9yIn0saGVhZGVyQ29sb3I6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiaGVhZGVyLWNvbG9yIn0scHJpbWFyeUNvbG9yOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InByaW1hcnktY29sb3IifSxmb250U2l6ZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJmb250LXNpemUifSxyZWd1bGFyRm9udDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJyZWd1bGFyLWZvbnQifSxtb25vRm9udDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJtb25vLWZvbnQifSxsb2FkRm9udHM6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToibG9hZC1mb250cyJ9LGNzc0ZpbGU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiY3NzLWZpbGUifSxjc3NDbGFzc2VzOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImNzcy1jbGFzc2VzIn0sbmF2QmdDb2xvcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJuYXYtYmctY29sb3IifSxuYXZUZXh0Q29sb3I6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToibmF2LXRleHQtY29sb3IifSxuYXZIb3ZlckJnQ29sb3I6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToibmF2LWhvdmVyLWJnLWNvbG9yIn0sbmF2SG92ZXJUZXh0Q29sb3I6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToibmF2LWhvdmVyLXRleHQtY29sb3IifSxuYXZBY2NlbnRDb2xvcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJuYXYtYWNjZW50LWNvbG9yIn0sbmF2QWNjZW50VGV4dENvbG9yOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6Im5hdi1hY2NlbnQtdGV4dC1jb2xvciJ9LG5hdkFjdGl2ZUl0ZW1NYXJrZXI6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToibmF2LWFjdGl2ZS1pdGVtLW1hcmtlciJ9LG5hdkl0ZW1TcGFjaW5nOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6Im5hdi1pdGVtLXNwYWNpbmcifSxzaG93TWV0aG9kSW5OYXZCYXI6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2hvdy1tZXRob2QtaW4tbmF2LWJhciJ9LHVzZVBhdGhJbk5hdkJhcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJ1c2UtcGF0aC1pbi1uYXYtYmFyIn0saW5mb0Rlc2NyaXB0aW9uSGVhZGluZ3NJbk5hdkJhcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJpbmZvLWRlc2NyaXB0aW9uLWhlYWRpbmdzLWluLW5hdmJhciJ9LGZldGNoQ3JlZGVudGlhbHM6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiZmV0Y2gtY3JlZGVudGlhbHMifSxtYXRjaFBhdGhzOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6Im1hdGNoLXBhdGhzIn0sbWF0Y2hUeXBlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6Im1hdGNoLXR5cGUifSxsb2FkaW5nOnt0eXBlOkJvb2xlYW59LGZvY3VzZWRFbGVtZW50SWQ6e3R5cGU6U3RyaW5nfSxzaG93QWR2YW5jZWRTZWFyY2hEaWFsb2c6e3R5cGU6Qm9vbGVhbn0sYWR2YW5jZWRTZWFyY2hNYXRjaGVzOnt0eXBlOk9iamVjdH19fXN0YXRpYyBnZXQgc3R5bGVzKCl7cmV0dXJuW0tlLEplLFllLFplLFFlLFhlLGV0LHR0LHJ0LGNgCiAgICAgIDpob3N0IHsKICAgICAgICBkaXNwbGF5OmZsZXg7CiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICBtaW4td2lkdGg6MzYwcHg7CiAgICAgICAgd2lkdGg6MTAwJTsKICAgICAgICBoZWlnaHQ6MTAwJTsKICAgICAgICBtYXJnaW46MDsKICAgICAgICBwYWRkaW5nOjA7CiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICBsZXR0ZXItc3BhY2luZzpub3JtYWw7CiAgICAgICAgY29sb3I6dmFyKC0tZmcpOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tYmcpOwogICAgICAgIGZvbnQtZmFtaWx5OnZhcigtLWZvbnQtcmVndWxhcik7CiAgICAgIH0KICAgICAgOndoZXJlKGJ1dHRvbiwgaW5wdXRbdHlwZT0iY2hlY2tib3giXSwgW3RhYmluZGV4PSIwIl0pOmZvY3VzLXZpc2libGUgeyBib3gtc2hhZG93OiB2YXIoLS1mb2N1cy1zaGFkb3cpOyB9CiAgICAgIDp3aGVyZShpbnB1dFt0eXBlPSJ0ZXh0Il0sIGlucHV0W3R5cGU9InBhc3N3b3JkIl0sIHNlbGVjdCwgdGV4dGFyZWEpOmZvY3VzLXZpc2libGUgeyBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOyB9CiAgICAuYm9keSB7CiAgICAgICAgZGlzcGxheTpmbGV4OwogICAgICAgIGhlaWdodDoxMDAlOwogICAgICAgIHdpZHRoOjEwMCU7CiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuOwogICAgICB9CiAgICAgIC5tYWluLWNvbnRlbnQgeyAKICAgICAgICBtYXJnaW46MDsKICAgICAgICBwYWRkaW5nOiAwOyAKICAgICAgICBkaXNwbGF5OmJsb2NrOwogICAgICAgIGZsZXg6MTsKICAgICAgICBoZWlnaHQ6MTAwJTsKICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjsKICAgICAgICBzY3JvbGxiYXItd2lkdGg6IHRoaW47CiAgICAgICAgc2Nyb2xsYmFyLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpIHRyYW5zcGFyZW50OwogICAgICB9CgogICAgICAubWFpbi1jb250ZW50LWlubmVyLS12aWV3LW1vZGUgewogICAgICAgIHBhZGRpbmc6IDAgOHB4OwogICAgICB9CiAgICAgIC5tYWluLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgICB3aWR0aDogOHB4OwogICAgICAgIGhlaWdodDogOHB4OwogICAgICB9CiAgICAgIC5tYWluLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgICAgICBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50OwogICAgICB9CiAgICAgIC5tYWluLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpOwogICAgICB9CgogICAgICAuc2VjdGlvbi1nYXAuc2VjdGlvbi10YWcgewogICAgICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICAgIH0KICAgICAgLnNlY3Rpb24tZ2FwLAogICAgICAuc2VjdGlvbi1nYXAtLWZvY3VzZWQtbW9kZSwKICAgICAgLnNlY3Rpb24tZ2FwLS1yZWFkLW1vZGUgeyAKICAgICAgICBwYWRkaW5nOiAwcHggNHB4OyAKICAgICAgfQogICAgICAuc2VjdGlvbi10YWctaGVhZGVyIHsKICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgICAgICBjdXJzb3I6IG4tcmVzaXplOwogICAgICAgIHBhZGRpbmc6IDEycHggMDsKICAgICAgfQogICAgICAuY29sbGFwc2VkIC5zZWN0aW9uLXRhZy1oZWFkZXI6aG92ZXJ7CiAgICAgICAgY3Vyc29yOiBzLXJlc2l6ZTsKICAgICAgfQoKICAgICAgLnNlY3Rpb24tdGFnLWhlYWRlcjpob3ZlcnsKICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMCwwLDAsMCksIHZhcigtLWJvcmRlci1jb2xvciksIHJnYmEoMCwwLDAsMCkpOwogICAgICB9CgogICAgICAuc2VjdGlvbi10YWctaGVhZGVyOmhvdmVyOjphZnRlciB7CiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7CiAgICAgICAgbWFyZ2luLWxlZnQ6LTI0cHg7CiAgICAgICAgZm9udC1zaXplOjIwcHg7CiAgICAgICAgdG9wOiBjYWxjKDUwJSAtIDE0cHgpOwogICAgICAgIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOwogICAgICAgIGNvbnRlbnQ6ICfirIYnOyAKICAgICAgfQoKICAgICAgLmNvbGxhcHNlZCAuc2VjdGlvbi10YWctaGVhZGVyOjphZnRlciB7CiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7CiAgICAgICAgbWFyZ2luLWxlZnQ6LTI0cHg7CiAgICAgICAgZm9udC1zaXplOjIwcHg7CiAgICAgICAgdG9wOiBjYWxjKDUwJSAtIDE0cHgpOwogICAgICAgIGNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpOwogICAgICAgIGNvbnRlbnQ6ICfirIcnOyAKICAgICAgfQogICAgICAuY29sbGFwc2VkIC5zZWN0aW9uLXRhZy1oZWFkZXI6aG92ZXI6OmFmdGVyIHsKICAgICAgICBjb2xvcjp2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgICAgfQoKICAgICAgLmNvbGxhcHNlZCAuc2VjdGlvbi10YWctYm9keSB7CiAgICAgICAgZGlzcGxheTpub25lOwogICAgICB9CgogICAgICAubG9nbyB7CiAgICAgICAgaGVpZ2h0OjM2cHg7CiAgICAgICAgd2lkdGg6MzZweDsKICAgICAgICBtYXJnaW4tbGVmdDo1cHg7IAogICAgICB9CiAgICAgIC5vbmx5LWxhcmdlLXNjcmVlbi1mbGV4LAogICAgICAub25seS1sYXJnZS1zY3JlZW57CiAgICAgICAgZGlzcGxheTpub25lOwogICAgICB9CiAgICAgIC50YWcudGl0bGUgewogICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAgIH0KICAgICAgLm1haW4taGVhZGVyIHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWhlYWRlci1iZyk7CiAgICAgICAgY29sb3I6dmFyKC0taGVhZGVyLWZnKTsKICAgICAgICB3aWR0aDoxMDAlOwogICAgICB9CiAgICAgIC5oZWFkZXItdGl0bGUgewogICAgICAgIGZvbnQtc2l6ZTpjYWxjKHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKSArIDhweCk7IAogICAgICAgIHBhZGRpbmc6MCA4cHg7CiAgICAgIH0KICAgICAgaW5wdXQuaGVhZGVyLWlucHV0ewogICAgICAgIGJhY2tncm91bmQ6dmFyKC0taGVhZGVyLWNvbG9yLWRhcmtlcik7CiAgICAgICAgY29sb3I6dmFyKC0taGVhZGVyLWZnKTsKICAgICAgICBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWhlYWRlci1jb2xvci1ib3JkZXIpOwogICAgICAgIGZsZXg6MTsgCiAgICAgICAgcGFkZGluZy1yaWdodDoyNHB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6M3B4OwogICAgICB9CiAgICAgIGlucHV0LmhlYWRlci1pbnB1dDo6cGxhY2Vob2xkZXIgewogICAgICAgIG9wYWNpdHk6MC40OwogICAgICB9CiAgICAgIC5sb2FkZXIgewogICAgICAgIG1hcmdpbjogMTZweCBhdXRvIDE2cHggYXV0bzsgCiAgICAgICAgYm9yZGVyOiA0cHggc29saWQgdmFyKC0tYmczKTsKICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgYm9yZGVyLXRvcDogNHB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpOwogICAgICAgIHdpZHRoOiAzNnB4OwogICAgICAgIGhlaWdodDogMzZweDsKICAgICAgICBhbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlOwogICAgICB9CiAgICAgIC5leHBhbmRlZC1lbmRwb2ludC1ib2R5IHsgCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIHBhZGRpbmc6IDZweCAwcHg7IAogICAgICB9CiAgICAgIC5leHBhbmRlZC1lbmRwb2ludC1ib2R5IC50YWctZGVzY3JpcHRpb24gewogICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvZGUtYmcpOwogICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpOwogICAgICAgIHRyYW5zaXRpb246IG1heC1oZWlnaHQgLjJzIGVhc2Utb3V0OwogICAgICB9CiAgICAgIC5leHBhbmRlZC1lbmRwb2ludC1ib2R5IC50YWctaWNvbiB7CiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4ycyBlYXNlLW91dDsKICAgICAgfQogICAgICAuZXhwYW5kZWQtZW5kcG9pbnQtYm9keSAudGFnLWljb24uZXhwYW5kZWQgewogICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7CiAgICAgIH0KICAgICAgLmRpdmlkZXIgeyAKICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgICAgICBtYXJnaW46IDI0cHggMDsKICAgICAgICB3aWR0aDoxMDAlOwogICAgICB9CgogICAgICAudG9vbHRpcCB7CiAgICAgICAgY3Vyc29yOnBvaW50ZXI7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgICAgICBib3JkZXItbGVmdC13aWR0aDogNHB4OwogICAgICAgIG1hcmdpbi1sZWZ0OjJweDsKICAgICAgfQogICAgICAudG9vbHRpcCBhIHsKICAgICAgICBjb2xvcjogdmFyKC0tZmcyKTsKICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgIH0KICAgICAgLnRvb2x0aXAtdGV4dCB7CiAgICAgICAgY29sb3I6IHZhcigtLWZnMik7CiAgICAgICAgbWF4LXdpZHRoOiA0MDBweDsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgei1pbmRleDoxOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnMik7CiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuOwoKICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkOwogICAgICB9CiAgICAgIC50b29sdGlwOmhvdmVyIHsKICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgICAgfQogICAgICAudG9vbHRpcDpob3ZlciBhOmhvdmVyIHsKICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7CiAgICAgIH0KCiAgICAgIC50b29sdGlwOmhvdmVyIC50b29sdGlwLXRleHQgewogICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7CiAgICAgIH0KCiAgICAgIEBrZXlmcmFtZXMgc3BpbiB7CiAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfQogICAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9CiAgICAgIH0KCiAgICAgIC5uYXYtbWV0aG9kIHsgZm9udC13ZWlnaHQ6IGJvbGQ7IG1hcmdpbi1yaWdodDogNHB4OyBmb250LXNpemU6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSAtIDJweCk7IHdoaXRlLXNwYWNlOiBub3dyYXA7IH0KICAgICAgLm5hdi1tZXRob2QuZmFsc2UgeyBkaXNwbGF5OiBub25lOyB9CgogICAgICAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLXRleHQuZ2V0IHsgY29sb3I6dmFyKC0tbmF2LWdldC1jb2xvcik7IH0KICAgICAgLm5hdi1tZXRob2QuYXMtY29sb3JlZC10ZXh0LnB1dCB7IGNvbG9yOnZhcigtLW5hdi1wdXQtY29sb3IpOyB9CiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtdGV4dC5wb3N0IHsgY29sb3I6dmFyKC0tbmF2LXBvc3QtY29sb3IpOyB9CiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtdGV4dC5kZWxldGUgeyBjb2xvcjp2YXIoLS1uYXYtZGVsZXRlLWNvbG9yKTsgfQogICAgICAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLXRleHQuaGVhZCwgLm5hdi1tZXRob2QuYXMtY29sb3JlZC10ZXh0LnBhdGNoLCAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLXRleHQub3B0aW9ucyB7IGNvbG9yOnZhcigtLW5hdi1oZWFkLWNvbG9yKTsgfQogICAgICAKICAgICAgLm5hdi1tZXRob2QuYXMtY29sb3JlZC1ibG9jayB7CiAgICAgICAgcGFkZGluZzogMXB4IDRweDsKICAgICAgICBtaW4td2lkdGg6IDMwcHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4IDAgMCA0cHg7CiAgICAgICAgY29sb3I6ICMwMDA7CiAgICAgIH0KICAgICAgLmNvbG9yZWQtYmxvY2sgLm5hdi1tZXRob2QuYXMtY29sb3JlZC1ibG9jayB7CiAgICAgICAgb3V0bGluZTogMXB4IHNvbGlkOwogICAgICB9CgogICAgICAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLWJsb2NrLmdldCB7IGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJsdWUpOyB9CiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2sucHV0IHsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tb3JhbmdlKTsgfQogICAgICAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLWJsb2NrLnBvc3QgeyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ncmVlbik7IH0KICAgICAgLm5hdi1tZXRob2QuYXMtY29sb3JlZC1ibG9jay5kZWxldGUgeyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1yZWQpOyB9CiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2suaGVhZCwgLm5hdi1tZXRob2QuYXMtY29sb3JlZC1ibG9jay5wYXRjaCAsIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2sub3B0aW9ucyB7IAogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXllbGxvdyk7IAogICAgICB9CgogICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7CiAgICAgICAgLm5hdi1iYXIgewogICAgICAgICAgd2lkdGg6IDI2MHB4OwogICAgICAgICAgZGlzcGxheTpmbGV4OwogICAgICAgIH0KICAgICAgICAub25seS1sYXJnZS1zY3JlZW57CiAgICAgICAgICBkaXNwbGF5OmJsb2NrOwogICAgICAgIH0KICAgICAgICAub25seS1sYXJnZS1zY3JlZW4tZmxleHsKICAgICAgICAgIGRpc3BsYXk6ZmxleDsKICAgICAgICB9CiAgICAgICAgLnNlY3Rpb24tZ2FwIHsgCiAgICAgICAgICBwYWRkaW5nOiAwIDAgMCAyNHB4OyAKICAgICAgICB9CiAgICAgICAgLnNlY3Rpb24tZ2FwLS1mb2N1c2VkLW1vZGUgewogICAgICAgICAgcGFkZGluZzogMjRweCA4cHg7IAogICAgICAgIH0KICAgICAgICAuc2VjdGlvbi1nYXAtLXJlYWQtbW9kZSB7IAogICAgICAgICAgcGFkZGluZzogMjRweCA4cHg7IAogICAgICAgIH0KICAgICAgICAuZW5kcG9pbnQtYm9keSB7CiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICBwYWRkaW5nOjM2cHggMCA0OHB4IDA7CiAgICAgICAgfQogICAgICB9CgogICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMjRweCkgewogICAgICAgIC5uYXYtYmFyIHsKICAgICAgICAgIHdpZHRoOiAke2woImRlZmF1bHQiPT09dGhpcy5mb250U2l6ZT8iMzAwcHgiOiJsYXJnZSI9PT10aGlzLmZvbnRTaXplPyIzMTVweCI6IjMzMHB4Iil9OwogICAgICAgICAgZGlzcGxheTpmbGV4OwogICAgICAgIH0KICAgICAgICAuc2VjdGlvbi1nYXAtLWZvY3VzZWQtbW9kZSB7IAogICAgICAgICAgcGFkZGluZzogMTJweCA4MHB4IDEycHggODBweDsgCiAgICAgICAgfQogICAgICAgIC5zZWN0aW9uLWdhcC0tcmVhZC1tb2RlIHsgCiAgICAgICAgICBwYWRkaW5nOiAyNHB4IDgwcHggMTJweCA4MHB4OyAKICAgICAgICB9CiAgICAgIH1gLG50XX1jb25uZWN0ZWRDYWxsYmFjaygpe3N1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7Y29uc3QgZT10aGlzLnBhcmVudEVsZW1lbnQ7aWYoZSYmKDA9PT1lLm9mZnNldFdpZHRoJiYiIj09PWUuc3R5bGUud2lkdGgmJihlLnN0eWxlLndpZHRoPSIxMDB2dyIpLDA9PT1lLm9mZnNldEhlaWdodCYmIiI9PT1lLnN0eWxlLmhlaWdodCYmKGUuc3R5bGUuaGVpZ2h0PSIxMDB2aCIpLCJCT0RZIj09PWUudGFnTmFtZSYmKGUuc3R5bGUubWFyZ2luVG9wfHwoZS5zdHlsZS5tYXJnaW5Ub3A9IjAiKSxlLnN0eWxlLm1hcmdpblJpZ2h0fHwoZS5zdHlsZS5tYXJnaW5SaWdodD0iMCIpLGUuc3R5bGUubWFyZ2luQm90dG9tfHwoZS5zdHlsZS5tYXJnaW5Cb3R0b209IjAiKSxlLnN0eWxlLm1hcmdpbkxlZnR8fChlLnN0eWxlLm1hcmdpbkxlZnQ9IjAiKSkpLCJmYWxzZSIhPT10aGlzLmxvYWRGb250cyl7Y29uc3QgZT17ZmFtaWx5OiJPcGVuIFNhbnMiLHN0eWxlOiJub3JtYWwiLHdlaWdodDoiMzAwIix1bmljb2RlUmFuZ2U6IlUrMDAwMC0wMEZGLCBVKzAxMzEsIFUrMDE1Mi0wMTUzLCBVKzAyQkItMDJCQywgVSswMkM2LCBVKzAyREEsIFUrMDJEQywgVSsyMDAwLTIwNkYsIFUrMjA3NCwgVSsyMEFDLCBVKzIxMjIsIFUrMjE5MSwgVSsyMTkzLCBVKzIyMTIsIFUrMjIxNSwgVStGRUZGLCBVK0ZGRkQifSx0PW5ldyBGb250RmFjZSgiT3BlbiBTYW5zIiwidXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9vcGVuc2Fucy92MTgvbWVtNVlhR3MxMjZNaVpwQkEtVU5fcjhPVXVocEtLU1Rqdy53b2ZmMikgZm9ybWF0KCd3b2ZmMicpIixlKTtlLndlaWdodD0iNjAwIjtjb25zdCByPW5ldyBGb250RmFjZSgiT3BlbiBTYW5zIiwidXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9vcGVuc2Fucy92MTgvbWVtNVlhR3MxMjZNaVpwQkEtVU5pcmtPVXVocEtLU1Rqdy53b2ZmMikgZm9ybWF0KCd3b2ZmMicpIixlKTt0LmxvYWQoKS50aGVuKChlPT57ZG9jdW1lbnQuZm9udHMuYWRkKGUpfSkpLHIubG9hZCgpLnRoZW4oKGU9Pntkb2N1bWVudC5mb250cy5hZGQoZSl9KSl9dGhpcy5sYXlvdXQmJiJyb3csIGNvbHVtbiwiLmluY2x1ZGVzKGAke3RoaXMubGF5b3V0fSxgKXx8KHRoaXMubGF5b3V0PSJyb3ciKSx0aGlzLnJlbmRlclN0eWxlJiYicmVhZCwgdmlldywgZm9jdXNlZCwiLmluY2x1ZGVzKGAke3RoaXMucmVuZGVyU3R5bGV9LGApfHwodGhpcy5yZW5kZXJTdHlsZT0iZm9jdXNlZCIpLHRoaXMuc2NoZW1hU3R5bGUmJiJ0cmVlLCB0YWJsZSwiLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hU3R5bGV9LGApfHwodGhpcy5zY2hlbWFTdHlsZT0idHJlZSIpLHRoaXMudGhlbWUmJiJsaWdodCwgZGFyaywiLmluY2x1ZGVzKGAke3RoaXMudGhlbWV9LGApfHwodGhpcy50aGVtZT13aW5kb3cubWF0Y2hNZWRpYSYmd2luZG93Lm1hdGNoTWVkaWEoIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpIikubWF0Y2hlcz8ibGlnaHQiOiJkYXJrIiksdGhpcy5kZWZhdWx0U2NoZW1hVGFiJiYiZXhhbXBsZSwgc2NoZW1hLCBtb2RlbCwiLmluY2x1ZGVzKGAke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn0sYCk/Im1vZGVsIj09PXRoaXMuZGVmYXVsdFNjaGVtYVRhYiYmKHRoaXMuZGVmYXVsdFNjaGVtYVRhYj0ic2NoZW1hIik6dGhpcy5kZWZhdWx0U2NoZW1hVGFiPSJleGFtcGxlIiwoIXRoaXMuc2NoZW1hRXhwYW5kTGV2ZWx8fHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw8MSkmJih0aGlzLnNjaGVtYUV4cGFuZExldmVsPTk5OTk5KSx0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQmJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH0sYCl8fCh0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQ9ImZhbHNlIiksdGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkmJiJkZWZhdWx0LCBuZXZlciwiLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hSGlkZVJlYWRPbmx5fSxgKXx8KHRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5PSJkZWZhdWx0IiksdGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5JiYiZGVmYXVsdCwgbmV2ZXIsIi5pbmNsdWRlcyhgJHt0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHl9LGApfHwodGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5PSJkZWZhdWx0IiksdGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGV9LGApfHwodGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlPSJ0cnVlIiksdGhpcy5wZXJzaXN0QXV0aCYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5wZXJzaXN0QXV0aH0sYCl8fCh0aGlzLnBlcnNpc3RBdXRoPSJmYWxzZSIpLHRoaXMucmVzcG9uc2VBcmVhSGVpZ2h0fHwodGhpcy5yZXNwb25zZUFyZWFIZWlnaHQ9IjQwMHB4IiksdGhpcy5hbGxvd1NlYXJjaCYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1NlYXJjaH0sYCl8fCh0aGlzLmFsbG93U2VhcmNoPSJ0cnVlIiksdGhpcy5hbGxvd0FkdmFuY2VkU2VhcmNoJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLmFsbG93QWR2YW5jZWRTZWFyY2h9LGApfHwodGhpcy5hbGxvd0FkdmFuY2VkU2VhcmNoPSJ0cnVlIiksdGhpcy5hbGxvd1RyeSYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1RyeX0sYCl8fCh0aGlzLmFsbG93VHJ5PSJ0cnVlIiksdGhpcy5hcGlLZXlWYWx1ZXx8KHRoaXMuYXBpS2V5VmFsdWU9Ii0iKSx0aGlzLmFwaUtleUxvY2F0aW9ufHwodGhpcy5hcGlLZXlMb2NhdGlvbj0iaGVhZGVyIiksdGhpcy5hcGlLZXlOYW1lfHwodGhpcy5hcGlLZXlOYW1lPSIiKSx0aGlzLm9hdXRoUmVjZWl2ZXJ8fCh0aGlzLm9hdXRoUmVjZWl2ZXI9Im9hdXRoLXJlY2VpdmVyLmh0bWwiKSx0aGlzLnVwZGF0ZVJvdXRlJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLnVwZGF0ZVJvdXRlfSxgKXx8KHRoaXMudXBkYXRlUm91dGU9InRydWUiKSx0aGlzLnJvdXRlUHJlZml4fHwodGhpcy5yb3V0ZVByZWZpeD0iIyIpLHRoaXMuc29ydFRhZ3MmJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMuc29ydFRhZ3N9LGApfHwodGhpcy5zb3J0VGFncz0iZmFsc2UiKSx0aGlzLmdlbmVyYXRlTWlzc2luZ1RhZ3MmJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMuZ2VuZXJhdGVNaXNzaW5nVGFnc30sYCl8fCh0aGlzLmdlbmVyYXRlTWlzc2luZ1RhZ3M9ImZhbHNlIiksdGhpcy5zb3J0RW5kcG9pbnRzQnkmJiJtZXRob2QsIHBhdGgsIHN1bW1hcnksIG5vbmUsIi5pbmNsdWRlcyhgJHt0aGlzLnNvcnRFbmRwb2ludHNCeX0sYCl8fCh0aGlzLnNvcnRFbmRwb2ludHNCeT0icGF0aCIpLHRoaXMub25OYXZUYWdDbGljayYmImV4cGFuZC1jb2xsYXBzZSwgc2hvdy1kZXNjcmlwdGlvbiwiLmluY2x1ZGVzKGAke3RoaXMub25OYXZUYWdDbGlja30sYCl8fCh0aGlzLm9uTmF2VGFnQ2xpY2s9ImV4cGFuZC1jb2xsYXBzZSIpLHRoaXMubmF2SXRlbVNwYWNpbmcmJiJjb21wYWN0LCByZWxheGVkLCBkZWZhdWx0LCIuaW5jbHVkZXMoYCR7dGhpcy5uYXZJdGVtU3BhY2luZ30sYCl8fCh0aGlzLm5hdkl0ZW1TcGFjaW5nPSJkZWZhdWx0IiksdGhpcy5zaG93TWV0aG9kSW5OYXZCYXImJiJmYWxzZSwgYXMtcGxhaW4tdGV4dCwgYXMtY29sb3JlZC10ZXh0LCBhcy1jb2xvcmVkLWJsb2NrLCIuaW5jbHVkZXMoYCR7dGhpcy5zaG93TWV0aG9kSW5OYXZCYXJ9LGApfHwodGhpcy5zaG93TWV0aG9kSW5OYXZCYXI9ImZhbHNlIiksdGhpcy51c2VQYXRoSW5OYXZCYXImJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMudXNlUGF0aEluTmF2QmFyfSxgKXx8KHRoaXMudXNlUGF0aEluTmF2QmFyPSJmYWxzZSIpLHRoaXMubmF2QWN0aXZlSXRlbU1hcmtlciYmImxlZnQtYmFyLCBjb2xvcmVkLWJsb2NrIi5pbmNsdWRlcyhgJHt0aGlzLm5hdkFjdGl2ZUl0ZW1NYXJrZXJ9LGApfHwodGhpcy5uYXZBY3RpdmVJdGVtTWFya2VyPSJsZWZ0LWJhciIpLHRoaXMuZm9udFNpemUmJiJkZWZhdWx0LCBsYXJnZSwgbGFyZ2VzdCwiLmluY2x1ZGVzKGAke3RoaXMuZm9udFNpemV9LGApfHwodGhpcy5mb250U2l6ZT0iZGVmYXVsdCIpLHRoaXMuc2hvd0luZm8mJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMuc2hvd0luZm99LGApfHwodGhpcy5zaG93SW5mbz0idHJ1ZSIpLHRoaXMuYWxsb3dTZXJ2ZXJTZWxlY3Rpb24mJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMuYWxsb3dTZXJ2ZXJTZWxlY3Rpb259LGApfHwodGhpcy5hbGxvd1NlcnZlclNlbGVjdGlvbj0idHJ1ZSIpLHRoaXMuYWxsb3dBdXRoZW50aWNhdGlvbiYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd0F1dGhlbnRpY2F0aW9ufSxgKXx8KHRoaXMuYWxsb3dBdXRoZW50aWNhdGlvbj0idHJ1ZSIpLHRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZSYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfSxgKXx8KHRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZT0idHJ1ZSIpLHRoaXMuc2hvd1NpZGVOYXYmJiJ0cnVlIGZhbHNlIi5pbmNsdWRlcyh0aGlzLnNob3dTaWRlTmF2KXx8KHRoaXMuc2hvd1NpZGVOYXY9InRydWUiKSx0aGlzLnNob3dDb21wb25lbnRzJiYidHJ1ZSBmYWxzZSIuaW5jbHVkZXModGhpcy5zaG93Q29tcG9uZW50cyl8fCh0aGlzLnNob3dDb21wb25lbnRzPSJmYWxzZSIpLHRoaXMuaW5mb0Rlc2NyaXB0aW9uSGVhZGluZ3NJbk5hdkJhciYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5pbmZvRGVzY3JpcHRpb25IZWFkaW5nc0luTmF2QmFyfSxgKXx8KHRoaXMuaW5mb0Rlc2NyaXB0aW9uSGVhZGluZ3NJbk5hdkJhcj0iZmFsc2UiKSx0aGlzLmZldGNoQ3JlZGVudGlhbHMmJiJvbWl0LCBzYW1lLW9yaWdpbiwgaW5jbHVkZSwiLmluY2x1ZGVzKGAke3RoaXMuZmV0Y2hDcmVkZW50aWFsc30sYCl8fCh0aGlzLmZldGNoQ3JlZGVudGlhbHM9IiIpLHRoaXMubWF0Y2hUeXBlJiYiaW5jbHVkZXMgcmVnZXgiLmluY2x1ZGVzKHRoaXMubWF0Y2hUeXBlKXx8KHRoaXMubWF0Y2hUeXBlPSJpbmNsdWRlcyIpLHRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoRGlhbG9nfHwodGhpcy5zaG93QWR2YW5jZWRTZWFyY2hEaWFsb2c9ITEpLHRoaXMuY3NzRmlsZXx8KHRoaXMuY3NzRmlsZT1udWxsKSx0aGlzLmNzc0NsYXNzZXN8fCh0aGlzLmNzc0NsYXNzZXM9IiIpLFdlLnNldE9wdGlvbnMoe2hpZ2hsaWdodDooZSx0KT0+R2UoKS5sYW5ndWFnZXNbdF0/R2UoKS5oaWdobGlnaHQoZSxHZSgpLmxhbmd1YWdlc1t0XSx0KTplfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImhhc2hjaGFuZ2UiLCgoKT0+e3RoaXMuc2Nyb2xsVG9QYXRoKHRoaXMuZ2V0RWxlbWVudElERnJvbVVSTCgpKX0pLCEwKX1kaXNjb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXImJnRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpLHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCl9aW5mb0Rlc2NyaXB0aW9uSGVhZGluZ1JlbmRlcmVyKCl7Y29uc3QgZT1uZXcgV2UuUmVuZGVyZXI7cmV0dXJuIGUuaGVhZGluZz0oZSx0LHIsbik9PmA8aCR7dH0gY2xhc3M9Im9ic2VydmUtbWUiIGlkPSIke24uc2x1ZyhyKX0iPiR7ZX08L2gke3R9PmAsZX1yZW5kZXIoKXtjb25zdCBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxpbmtbaHJlZio9IiR7dGhpcy5jc3NGaWxlfSJdYCk7cmV0dXJuIGUmJnRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChlLmNsb25lTm9kZSgpKSx3Ui5jYWxsKHRoaXMpfW9ic2VydmVFeHBhbmRlZENvbnRlbnQoKXt0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgiLm9ic2VydmUtbWUiKS5mb3JFYWNoKChlPT57dGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKGUpfSkpfWF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhlLHQscil7aWYoInNwZWMtdXJsIj09PWUmJnQhPT1yJiZ3aW5kb3cuc2V0VGltZW91dCgoYXN5bmMoKT0+e2F3YWl0IHRoaXMubG9hZFNwZWMociksdGhpcy5nb3RvUGF0aCYmIXdpbmRvdy5sb2NhdGlvbi5oYXNoJiZ0aGlzLnNjcm9sbFRvUGF0aCh0aGlzLmdvdG9QYXRoKX0pLDApLCJyZW5kZXItc3R5bGUiPT09ZSYmKCJyZWFkIj09PXI/d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5vYnNlcnZlRXhwYW5kZWRDb250ZW50KCl9KSwxMDApOnRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpKSwiYXBpLWtleS1uYW1lIj09PWV8fCJhcGkta2V5LWxvY2F0aW9uIj09PWV8fCJhcGkta2V5LXZhbHVlIj09PWUpe2xldCB0PSExLG49IiIsbz0iIixhPSIiO2lmKCJhcGkta2V5LW5hbWUiPT09ZT90aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS1sb2NhdGlvbiIpJiZ0aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS12YWx1ZSIpJiYobj1yLG89dGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktbG9jYXRpb24iKSxhPXRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LXZhbHVlIiksdD0hMCk6ImFwaS1rZXktbG9jYXRpb24iPT09ZT90aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS1uYW1lIikmJnRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LXZhbHVlIikmJihvPXIsbj10aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS1uYW1lIiksYT10aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS12YWx1ZSIpLHQ9ITApOiJhcGkta2V5LXZhbHVlIj09PWUmJnRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LW5hbWUiKSYmdGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktbG9jYXRpb24iKSYmKGE9cixvPXRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LWxvY2F0aW9uIiksbj10aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS1uYW1lIiksdD0hMCksdCYmdGhpcy5yZXNvbHZlZFNwZWMpe2NvbnN0IGU9dGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLmZpbmQoKGU9PmUuc2VjdXJpdHlTY2hlbWVJZD09PWF0KSk7ZT8oZS5uYW1lPW4sZS5pbj1vLGUudmFsdWU9YSxlLmZpbmFsS2V5VmFsdWU9YSk6dGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLnB1c2goe3NlY3VyaXR5U2NoZW1lSWQ6YXQsZGVzY3JpcHRpb246ImFwaS1rZXkgcHJvdmlkZWQgaW4gcmFwaWRvYyBlbGVtZW50IGF0dHJpYnV0ZXMiLHR5cGU6ImFwaUtleSIsbmFtZTpuLGluOm8sdmFsdWU6YSxmaW5hbEtleVZhbHVlOmF9KSx0aGlzLnJlcXVlc3RVcGRhdGUoKX19c3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGUsdCxyKX1vblNwZWNVcmxDaGFuZ2UoKXt0aGlzLnNldEF0dHJpYnV0ZSgic3BlYy11cmwiLHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgic3BlYy11cmwiKS52YWx1ZSl9b25TcGVjRmlsZUNoYW5nZShlKXt0aGlzLnNldEF0dHJpYnV0ZSgic3BlYy1maWxlIix0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoInNwZWMtZmlsZSIpLnZhbHVlKTtjb25zdCB0PWUudGFyZ2V0LmZpbGVzWzBdLHI9bmV3IEZpbGVSZWFkZXI7ci5vbmxvYWQ9KCk9Pnt0cnl7Y29uc3QgZT1KU09OLnBhcnNlKHIucmVzdWx0KTt0aGlzLmxvYWRTcGVjKGUpLHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgic3BlYy11cmwiKS52YWx1ZT0iIn1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJSYXBpRG9jOiBVbmFibGUgdG8gcmVhZCBvciBwYXJzZSBqc29uIil9fSxyLnJlYWRBc1RleHQodCl9b25GaWxlTG9hZENsaWNrKCl7dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCJzcGVjLWZpbGUiKS5jbGljaygpfW9uU2VhcmNoQ2hhbmdlKGUpe3RoaXMubWF0Y2hQYXRocz1lLnRhcmdldC52YWx1ZSx0aGlzLnJlc29sdmVkU3BlYy50YWdzLmZvckVhY2goKGU9PmUucGF0aHMuZmlsdGVyKCh0PT57dGhpcy5tYXRjaFBhdGhzJiZsdCh0aGlzLm1hdGNoUGF0aHMsdCx0aGlzLm1hdGNoVHlwZSkmJihlLmV4cGFuZGVkPSEwKX0pKSkpLHRoaXMucmVzb2x2ZWRTcGVjLmNvbXBvbmVudHMuZm9yRWFjaCgoZT0+ZS5zdWJDb21wb25lbnRzLmZpbHRlcigoZT0+e2UuZXhwYW5kZWQ9ITEsdGhpcy5tYXRjaFBhdGhzJiYhZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKX0odGhpcy5tYXRjaFBhdGhzLGUpfHwoZS5leHBhbmRlZD0hMCl9KSkpKSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1vbkNsZWFyU2VhcmNoKCl7dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCJuYXYtYmFyLXNlYXJjaCIpLnZhbHVlPSIiLHRoaXMubWF0Y2hQYXRocz0iIix0aGlzLnJlc29sdmVkU3BlYy5jb21wb25lbnRzLmZvckVhY2goKGU9PmUuc3ViQ29tcG9uZW50cy5maWx0ZXIoKGU9PntlLmV4cGFuZGVkPSEwfSkpKSl9b25TaG93U2VhcmNoTW9kYWxDbGlja2VkKCl7dGhpcy5zaG93QWR2YW5jZWRTZWFyY2hEaWFsb2c9ITB9YXN5bmMgb25PcGVuU2VhcmNoRGlhbG9nKGUpe2NvbnN0IHQ9ZS5kZXRhaWwucXVlcnlTZWxlY3RvcigiaW5wdXQiKTthd2FpdCBpdCgwKSx0JiZ0LmZvY3VzKCl9YXN5bmMgbG9hZFNwZWMoZSl7aWYoZSl7dGhpcy5tYXRjaFBhdGhzPSIiO3RyeXt0aGlzLnJlc29sdmVkU3BlYz17c3BlY0xvYWRFcnJvcjohMSxpc1NwZWNMb2FkaW5nOiEwLHRhZ3M6W119LHRoaXMubG9hZGluZz0hMCx0aGlzLmxvYWRGYWlsZWQ9ITE7Y29uc3QgdD1hd2FpdCBNXy5jYWxsKHRoaXMsZSwidHJ1ZSI9PT10aGlzLmdlbmVyYXRlTWlzc2luZ1RhZ3MsInRydWUiPT09dGhpcy5zb3J0VGFncyx0aGlzLmdldEF0dHJpYnV0ZSgic29ydC1lbmRwb2ludHMtYnkiKSx0aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS1uYW1lIiksdGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktbG9jYXRpb24iKSx0aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS12YWx1ZSIpLHRoaXMuZ2V0QXR0cmlidXRlKCJzZXJ2ZXItdXJsIikpO3RoaXMubG9hZGluZz0hMSx0aGlzLmFmdGVyU3BlY1BhcnNlZEFuZFZhbGlkYXRlZCh0KX1jYXRjaChlKXt0aGlzLmxvYWRpbmc9ITEsdGhpcy5sb2FkRmFpbGVkPSEwLHRoaXMucmVzb2x2ZWRTcGVjPW51bGwsY29uc29sZS5lcnJvcihgUmFwaURvYzogVW5hYmxlIHRvIHJlc29sdmUgdGhlIEFQSSBzcGVjLi4gICR7ZS5tZXNzYWdlfWApfX19YXN5bmMgYWZ0ZXJTcGVjUGFyc2VkQW5kVmFsaWRhdGVkKGUpe2Zvcih0aGlzLnJlc29sdmVkU3BlYz1lLHRoaXMuc2VsZWN0ZWRTZXJ2ZXI9dm9pZCAwLHRoaXMuZGVmYXVsdEFwaVNlcnZlclVybCYmKHRoaXMuZGVmYXVsdEFwaVNlcnZlclVybD09PXRoaXMuc2VydmVyVXJsP3RoaXMuc2VsZWN0ZWRTZXJ2ZXI9e3VybDp0aGlzLnNlcnZlclVybCxjb21wdXRlZFVybDp0aGlzLnNlcnZlclVybH06dGhpcy5yZXNvbHZlZFNwZWMuc2VydmVycyYmKHRoaXMuc2VsZWN0ZWRTZXJ2ZXI9dGhpcy5yZXNvbHZlZFNwZWMuc2VydmVycy5maW5kKChlPT5lLnVybD09PXRoaXMuZGVmYXVsdEFwaVNlcnZlclVybCkpKSksdGhpcy5zZWxlY3RlZFNlcnZlcnx8dGhpcy5yZXNvbHZlZFNwZWMuc2VydmVycyYmKHRoaXMuc2VsZWN0ZWRTZXJ2ZXI9dGhpcy5yZXNvbHZlZFNwZWMuc2VydmVyc1swXSksdGhpcy5yZXF1ZXN0VXBkYXRlKCk7IWF3YWl0IHRoaXMudXBkYXRlQ29tcGxldGU7KTtjb25zdCB0PW5ldyBDdXN0b21FdmVudCgic3BlYy1sb2FkZWQiLHtkZXRhaWw6ZX0pO3RoaXMuZGlzcGF0Y2hFdmVudCh0KSx0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKSwicmVhZCI9PT10aGlzLnJlbmRlclN0eWxlJiYoYXdhaXQgaXQoMTAwKSx0aGlzLm9ic2VydmVFeHBhbmRlZENvbnRlbnQoKSksdGhpcy5pc0ludGVyc2VjdGlvbk9ic2VydmVyQWN0aXZlPSEwO2NvbnN0IHI9dGhpcy5nZXRFbGVtZW50SURGcm9tVVJMKCk7aWYocikidmlldyI9PT10aGlzLnJlbmRlclN0eWxlP3RoaXMuZXhwYW5kQW5kR290b09wZXJhdGlvbihyLCEwLCEwKTp0aGlzLnNjcm9sbFRvUGF0aChyKTtlbHNlIGlmKCJmb2N1c2VkIj09PXRoaXMucmVuZGVyU3R5bGUmJiF0aGlzLmdvdG9QYXRoKXt2YXIgbjtjb25zdCBlPXRoaXMuc2hvd0luZm8/Im92ZXJ2aWV3IjpudWxsPT09KG49dGhpcy5yZXNvbHZlZFNwZWMudGFnc1swXSl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucGF0aHNbMF07dGhpcy5zY3JvbGxUb1BhdGgoZSl9fWdldENvbXBvbmVudEJhc2VVUkwoKXtjb25zdHtocmVmOmV9PXdpbmRvdy5sb2NhdGlvbix0PXRoaXMucm91dGVQcmVmaXgucmVwbGFjZSgvKCN8XC8pJC8sIiIpO2lmKCF0KXJldHVybiBlLnNwbGl0KCIjIilbMF07Y29uc3Qgcj1lLmxhc3RJbmRleE9mKHQpO3JldHVybi0xPT09cj9lOmUuc2xpY2UoMCxyKX1nZXRFbGVtZW50SURGcm9tVVJMKCl7Y29uc3QgZT10aGlzLmdldENvbXBvbmVudEJhc2VVUkwoKTtyZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZShlK3RoaXMucm91dGVQcmVmaXgsIiIpfXJlcGxhY2VIaXN0b3J5U3RhdGUoZSl7Y29uc3QgdD10aGlzLmdldENvbXBvbmVudEJhc2VVUkwoKTt3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCxudWxsLGAke3R9JHt0aGlzLnJvdXRlUHJlZml4fHwiIyJ9JHtlfWApfWV4cGFuZEFuZEdvdG9PcGVyYXRpb24oZSx0PSEwKXtpZighdGhpcy5yZXNvbHZlZFNwZWMpcmV0dXJuO2xldCByPSEwO2NvbnN0IG49LTE9PT1lLmluZGV4T2YoIiMiKT9lOmUuc3Vic3RyaW5nKDEpO2lmKG4uc3RhcnRzV2l0aCgib3ZlcnZpZXciKXx8InNlcnZlcnMiPT09bnx8ImF1dGgiPT09bilyPSExO2Vsc2UgZm9yKGxldCB0PTA7dDwobnVsbD09PShvPXRoaXMucmVzb2x2ZWRTcGVjLnRhZ3MpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCk7dCsrKXt2YXIgbyxhO2NvbnN0IG49dGhpcy5yZXNvbHZlZFNwZWMudGFnc1t0XSxpPW51bGw9PT0oYT1uLnBhdGhzKXx8dm9pZCAwPT09YT92b2lkIDA6YS5maW5kKCh0PT50LmVsZW1lbnRJZD09PWUpKTtpJiYoaS5leHBhbmRlZCYmbi5leHBhbmRlZD9yPSExOihpLmV4cGFuZGVkPSEwLG4uZXhwYW5kZWQ9ITApKX10JiYociYmdGhpcy5yZXF1ZXN0VXBkYXRlKCksd2luZG93LnNldFRpbWVvdXQoKCgpPT57Y29uc3QgZT10aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQobik7ZSYmKGUuc2Nyb2xsSW50b1ZpZXcoe2JlaGF2aW9yOiJhdXRvIixibG9jazoic3RhcnQifSksInRydWUiPT09dGhpcy51cGRhdGVSb3V0ZSYmdGhpcy5yZXBsYWNlSGlzdG9yeVN0YXRlKG4pKX0pLHI/MTUwOjApKX1pc1ZhbGlkVG9wSWQoZSl7cmV0dXJuIGUuc3RhcnRzV2l0aCgib3ZlcnZpZXciKXx8InNlcnZlcnMiPT09ZXx8ImF1dGgiPT09ZX1pc1ZhbGlkUGF0aElkKGUpe3ZhciB0LHIsbixvO3JldHVybiEoIm92ZXJ2aWV3IiE9PWV8fCF0aGlzLnNob3dJbmZvKXx8KCEoInNlcnZlcnMiIT09ZXx8IXRoaXMuYWxsb3dTZXJ2ZXJTZWxlY3Rpb24pfHwoISgiYXV0aCIhPT1lfHwhdGhpcy5hbGxvd0F1dGhlbnRpY2F0aW9uKXx8KGUuc3RhcnRzV2l0aCgidGFnLS0iKT9udWxsPT09KG49dGhpcy5yZXNvbHZlZFNwZWMpfHx2b2lkIDA9PT1ufHxudWxsPT09KG89bi50YWdzKXx8dm9pZCAwPT09bz92b2lkIDA6by5maW5kKCh0PT50LmVsZW1lbnRJZD09PWUpKTpudWxsPT09KHQ9dGhpcy5yZXNvbHZlZFNwZWMpfHx2b2lkIDA9PT10fHxudWxsPT09KHI9dC50YWdzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5maW5kKCh0PT50LnBhdGhzLmZpbmQoKHQ9PnQuZWxlbWVudElkPT09ZSkpKSkpKSl9b25JbnRlcnNlY3QoZSl7ITEhPT10aGlzLmlzSW50ZXJzZWN0aW9uT2JzZXJ2ZXJBY3RpdmUmJmUuZm9yRWFjaCgoZT0+e2lmKGUuaXNJbnRlcnNlY3RpbmcmJmUuaW50ZXJzZWN0aW9uUmF0aW8+MCl7Y29uc3QgdD10aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcigiLm5hdi1iYXItdGFnLmFjdGl2ZSwgLm5hdi1iYXItcGF0aC5hY3RpdmUsIC5uYXYtYmFyLWluZm8uYWN0aXZlLCAubmF2LWJhci1oMS5hY3RpdmUsIC5uYXYtYmFyLWgyLmFjdGl2ZSwgLm9wZXJhdGlvbnMuYWN0aXZlIikscj10aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoYGxpbmstJHtlLnRhcmdldC5pZH1gKTtyJiYoInRydWUiPT09dGhpcy51cGRhdGVSb3V0ZSYmdGhpcy5yZXBsYWNlSGlzdG9yeVN0YXRlKGUudGFyZ2V0LmlkKSxyLnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjoiYXV0byIsYmxvY2s6ImNlbnRlciJ9KSxyLmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpLHIucGFydC5hZGQoInNlY3Rpb24tbmF2YmFyLWFjdGl2ZS1pdGVtIikpLHQmJnQhPT1yJiYodC5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKSx0LnBhcnQucmVtb3ZlKCJzZWN0aW9uLW5hdmJhci1hY3RpdmUtaXRlbSIpKX19KSl9aGFuZGxlSHJlZihlKXtpZigiYSI9PT1lLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiaHJlZiIpLnN0YXJ0c1dpdGgoIiMiKSl7Y29uc3QgdD10aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJocmVmIikucmVwbGFjZSgiIyIsIiIpKTt0JiZ0LnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjoiYXV0byIsYmxvY2s6InN0YXJ0In0pfX1hc3luYyBzY3JvbGxUb0V2ZW50VGFyZ2V0KGUsdD0hMCl7aWYoImNsaWNrIiE9PWUudHlwZSYmKCJrZXl1cCIhPT1lLnR5cGV8fDEzIT09ZS5rZXlDb2RlKSlyZXR1cm47Y29uc3Qgcj1lLnRhcmdldDtpZihyLmRhdGFzZXQuY29udGVudElkKXtpZih0aGlzLmlzSW50ZXJzZWN0aW9uT2JzZXJ2ZXJBY3RpdmU9ITEsImZvY3VzZWQiPT09dGhpcy5yZW5kZXJTdHlsZSl7Y29uc3QgZT10aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcigiYXBpLXJlcXVlc3QiKTtlJiZlLmJlZm9yZU5hdmlnYXRpb25Gb2N1c2VkTW9kZSgpfXRoaXMuc2Nyb2xsVG9QYXRoKHIuZGF0YXNldC5jb250ZW50SWQsITAsdCksc2V0VGltZW91dCgoKCk9Pnt0aGlzLmlzSW50ZXJzZWN0aW9uT2JzZXJ2ZXJBY3RpdmU9ITB9KSwzMDApfX1hc3luYyBzY3JvbGxUb1BhdGgoZSx0PSEwLHI9ITApe2lmKCJmb2N1c2VkIj09PXRoaXMucmVuZGVyU3R5bGUmJih0aGlzLmZvY3VzZWRFbGVtZW50SWQ9ZSxhd2FpdCBpdCgwKSksInZpZXciPT09dGhpcy5yZW5kZXJTdHlsZSl0aGlzLmV4cGFuZEFuZEdvdG9PcGVyYXRpb24oZSx0LCEwKTtlbHNle2xldCB0PSExO2NvbnN0IG49dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGUpO2lmKG4/KHQ9ITAsbi5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6ImF1dG8iLGJsb2NrOiJzdGFydCJ9KSk6dD0hMSx0KXtpZigiZm9jdXNlZCI9PT10aGlzLnJlbmRlclN0eWxlKXtjb25zdCBlPXRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCJhcGktcmVxdWVzdCIpO2UmJmUuYWZ0ZXJOYXZpZ2F0aW9uRm9jdXNlZE1vZGUoKTtjb25zdCB0PXRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCJhcGktcmVzcG9uc2UiKTt0JiZ0LnJlc2V0U2VsZWN0aW9uKCl9InRydWUiPT09dGhpcy51cGRhdGVSb3V0ZSYmdGhpcy5yZXBsYWNlSGlzdG9yeVN0YXRlKGUpO2NvbnN0IHQ9dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGBsaW5rLSR7ZX1gKTtpZih0KXtyJiZ0LnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjoiYXV0byIsYmxvY2s6ImNlbnRlciJ9KSxhd2FpdCBpdCgwKTtjb25zdCBlPXRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCIubmF2LWJhci10YWcuYWN0aXZlLCAubmF2LWJhci1wYXRoLmFjdGl2ZSwgLm5hdi1iYXItaW5mby5hY3RpdmUsIC5uYXYtYmFyLWgxLmFjdGl2ZSwgLm5hdi1iYXItaDIuYWN0aXZlLCAub3BlcmF0aW9ucy5hY3RpdmUiKTtlJiYoZS5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKSxlLnBhcnQucmVtb3ZlKCJhY3RpdmUiKSxlLnBhcnQucmVtb3ZlKCJzZWN0aW9uLW5hdmJhci1hY3RpdmUtaXRlbSIpKSx0LmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpLHQucGFydC5hZGQoInNlY3Rpb24tbmF2YmFyLWFjdGl2ZS1pdGVtIil9fX19c2V0SHR0cFVzZXJOYW1lQW5kUGFzc3dvcmQoZSx0LHIpe3JldHVybiB0UC5jYWxsKHRoaXMsZSx0LHIpfXNldEFwaUtleShlLHQpe3JldHVybiB0UC5jYWxsKHRoaXMsZSwiIiwiIix0KX1yZW1vdmVBbGxTZWN1cml0eUtleXMoKXtyZXR1cm4gclAuY2FsbCh0aGlzKX1zZXRBcGlTZXJ2ZXIoZSl7cmV0dXJuIFpQLmNhbGwodGhpcyxlKX1vbkFkdmFuY2VkU2VhcmNoKGUsdCl7Y29uc3Qgcj1lLnRhcmdldDtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpLHRoaXMudGltZW91dElkPXNldFRpbWVvdXQoKCgpPT57bGV0IGU7ZT0idGV4dCI9PT1yLnR5cGU/cjpyLmNsb3Nlc3QoIi5hZHZhbmNlZC1zZWFyY2gtb3B0aW9ucyIpLnF1ZXJ5U2VsZWN0b3IoImlucHV0W3R5cGU9dGV4dF0iKTtjb25zdCB0PVsuLi5yLmNsb3Nlc3QoIi5hZHZhbmNlZC1zZWFyY2gtb3B0aW9ucyIpLnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0OmNoZWNrZWQiKV0ubWFwKChlPT5lLmlkKSk7dGhpcy5hZHZhbmNlZFNlYXJjaE1hdGNoZXM9ZnVuY3Rpb24oZSx0LHI9W10pe2lmKCFlLnRyaW0oKXx8MD09PXIubGVuZ3RoKXJldHVybjtjb25zdCBuPVtdO3JldHVybiB0LmZvckVhY2goKHQ9Pnt0LnBhdGhzLmZvckVhY2goKHQ9PntsZXQgbz0iIjt2YXIgYTtpZihyLmluY2x1ZGVzKCJzZWFyY2gtYXBpLXBhdGgiKSYmKG89dC5wYXRoKSxyLmluY2x1ZGVzKCJzZWFyY2gtYXBpLWRlc2NyIikmJihvPWAke299ICR7dC5zdW1tYXJ5fHx0LmRlc2NyaXB0aW9ufHwiIn1gKSxyLmluY2x1ZGVzKCJzZWFyY2gtYXBpLXBhcmFtcyIpJiYobz1gJHtvfSAkeyhudWxsPT09KGE9dC5wYXJhbWV0ZXJzKXx8dm9pZCAwPT09YT92b2lkIDA6YS5tYXAoKGU9PmUubmFtZSkpLmpvaW4oIiAiKSl8fCIifWApLHIuaW5jbHVkZXMoInNlYXJjaC1hcGktcmVxdWVzdC1ib2R5IikmJnQucmVxdWVzdEJvZHkpe2xldCBlPW5ldyBTZXQ7Zm9yKGNvbnN0IHIgaW4gbnVsbD09PShpPXQucmVxdWVzdEJvZHkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNvbnRlbnQpe3ZhciBpLHMsbDtudWxsIT09KHM9dC5yZXF1ZXN0Qm9keS5jb250ZW50W3JdLnNjaGVtYSkmJnZvaWQgMCE9PXMmJnMucHJvcGVydGllcyYmKGU9Y3QobnVsbD09PShsPXQucmVxdWVzdEJvZHkuY29udGVudFtyXS5zY2hlbWEpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLnByb3BlcnRpZXMpKSxvPWAke299ICR7Wy4uLmVdLmpvaW4oIiAiKX1gfX1yLmluY2x1ZGVzKCJzZWFyY2gtYXBpLXJlc3AtZGVzY3IiKSYmKG89YCR7b30gJHtPYmplY3QudmFsdWVzKHQucmVzcG9uc2VzKS5tYXAoKGU9PmUuZGVzY3JpcHRpb258fCIiKSkuam9pbigiICIpfWApLG8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhlLnRyaW0oKS50b0xvd2VyQ2FzZSgpKSYmbi5wdXNoKHtlbGVtZW50SWQ6dC5lbGVtZW50SWQsbWV0aG9kOnQubWV0aG9kLHBhdGg6dC5wYXRoLHN1bW1hcnk6dC5zdW1tYXJ5fHx0LmRlc2NyaXB0aW9ufHwiIixkZXByZWNhdGVkOnQuZGVwcmVjYXRlZH0pfSkpfSkpLG59KGUudmFsdWUsdGhpcy5yZXNvbHZlZFNwZWMudGFncyx0KX0pLHQpfX1jdXN0b21FbGVtZW50cy5kZWZpbmUoInJhcGktZG9jIiwkUik7Y3VzdG9tRWxlbWVudHMuZGVmaW5lKCJyYXBpLWRvYy1taW5pIixjbGFzcyBleHRlbmRzIGlle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmlzTWluaT0hMCx0aGlzLnVwZGF0ZVJvdXRlPSJmYWxzZSIsdGhpcy5yZW5kZXJTdHlsZT0idmlldyIsdGhpcy5zaG93SGVhZGVyPSJmYWxzZSIsdGhpcy5hbGxvd0FkdmFuY2VkU2VhcmNoPSJmYWxzZSJ9c3RhdGljIGdldCBwcm9wZXJ0aWVzKCl7cmV0dXJue3NwZWNVcmw6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic3BlYy11cmwifSxzb3J0RW5kcG9pbnRzQnk6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic29ydC1lbmRwb2ludHMtYnkifSxsYXlvdXQ6e3R5cGU6U3RyaW5nfSxwYXRoc0V4cGFuZGVkOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InBhdGhzLWV4cGFuZGVkIn0sZGVmYXVsdFNjaGVtYVRhYjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJkZWZhdWx0LXNjaGVtYS10YWIifSxyZXNwb25zZUFyZWFIZWlnaHQ6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToicmVzcG9uc2UtYXJlYS1oZWlnaHQifSxzaG93U3VtbWFyeVdoZW5Db2xsYXBzZWQ6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic2hvdy1zdW1tYXJ5LXdoZW4tY29sbGFwc2VkIn0sZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJmaWxsLXJlcXVlc3QtZmllbGRzLXdpdGgtZXhhbXBsZSJ9LHBlcnNpc3RBdXRoOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InBlcnNpc3QtYXV0aCJ9LHNjaGVtYVN0eWxlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNjaGVtYS1zdHlsZSJ9LHNjaGVtYUV4cGFuZExldmVsOnt0eXBlOk51bWJlcixhdHRyaWJ1dGU6InNjaGVtYS1leHBhbmQtbGV2ZWwifSxzY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCJ9LGFwaUtleU5hbWU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiYXBpLWtleS1uYW1lIn0sYXBpS2V5TG9jYXRpb246e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiYXBpLWtleS1sb2NhdGlvbiJ9LGFwaUtleVZhbHVlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFwaS1rZXktdmFsdWUifSxkZWZhdWx0QXBpU2VydmVyVXJsOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImRlZmF1bHQtYXBpLXNlcnZlciJ9LHNlcnZlclVybDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzZXJ2ZXItdXJsIn0sb2F1dGhSZWNlaXZlcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJvYXV0aC1yZWNlaXZlciJ9LGFsbG93VHJ5Ont0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LXRyeSJ9LHRoZW1lOnt0eXBlOlN0cmluZ30sYmdDb2xvcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJiZy1jb2xvciJ9LHRleHRDb2xvcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJ0ZXh0LWNvbG9yIn0scHJpbWFyeUNvbG9yOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InByaW1hcnktY29sb3IifSxmb250U2l6ZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJmb250LXNpemUifSxyZWd1bGFyRm9udDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJyZWd1bGFyLWZvbnQifSxtb25vRm9udDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJtb25vLWZvbnQifSxsb2FkRm9udHM6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToibG9hZC1mb250cyJ9LGZldGNoQ3JlZGVudGlhbHM6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiZmV0Y2gtY3JlZGVudGlhbHMifSxtYXRjaFBhdGhzOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6Im1hdGNoLXBhdGhzIn0sbWF0Y2hUeXBlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6Im1hdGNoLXR5cGUifSxsb2FkaW5nOnt0eXBlOkJvb2xlYW59fX1zdGF0aWMgZ2V0IHN0eWxlcygpe3JldHVybltLZSxKZSxZZSxaZSxRZSxYZSxldCx0dCxydCxjYAogICAgICA6aG9zdCB7CiAgICAgICAgZGlzcGxheTpmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgbWluLXdpZHRoOjM2MHB4OwogICAgICAgIHdpZHRoOjEwMCU7CiAgICAgICAgaGVpZ2h0OjEwMCU7CiAgICAgICAgbWFyZ2luOjA7CiAgICAgICAgcGFkZGluZzowOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgbGV0dGVyLXNwYWNpbmc6bm9ybWFsOwogICAgICAgIGNvbG9yOnZhcigtLWZnKTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJnKTsKICAgICAgICBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOwogICAgICB9CgogICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7CiAgICAgICAgLm9ubHktbGFyZ2Utc2NyZWVuewogICAgICAgICAgZGlzcGxheTpibG9jazsKICAgICAgICB9CiAgICAgICAgLm9ubHktbGFyZ2Utc2NyZWVuLWZsZXh7CiAgICAgICAgICBkaXNwbGF5OmZsZXg7CiAgICAgICAgfQogICAgICB9YF19Y29ubmVjdGVkQ2FsbGJhY2soKXtpZihzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpLCJmYWxzZSIhPT10aGlzLmxvYWRGb250cyl7Y29uc3QgZT17ZmFtaWx5OiJPcGVuIFNhbnMiLHN0eWxlOiJub3JtYWwiLHdlaWdodDoiMzAwIix1bmljb2RlUmFuZ2U6IlUrMDAwMC0wMEZGLCBVKzAxMzEsIFUrMDE1Mi0wMTUzLCBVKzAyQkItMDJCQywgVSswMkM2LCBVKzAyREEsIFUrMDJEQywgVSsyMDAwLTIwNkYsIFUrMjA3NCwgVSsyMEFDLCBVKzIxMjIsIFUrMjE5MSwgVSsyMTkzLCBVKzIyMTIsIFUrMjIxNSwgVStGRUZGLCBVK0ZGRkQifSx0PW5ldyBGb250RmFjZSgiT3BlbiBTYW5zIiwidXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9vcGVuc2Fucy92MTgvbWVtNVlhR3MxMjZNaVpwQkEtVU5fcjhPVXVocEtLU1Rqdy53b2ZmMikgZm9ybWF0KCd3b2ZmMicpIixlKTtlLndlaWdodD0iNjAwIjtjb25zdCByPW5ldyBGb250RmFjZSgiT3BlbiBTYW5zIiwidXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9vcGVuc2Fucy92MTgvbWVtNVlhR3MxMjZNaVpwQkEtVU5pcmtPVXVocEtLU1Rqdy53b2ZmMikgZm9ybWF0KCd3b2ZmMicpIixlKTt0LmxvYWQoKS50aGVuKChlPT57ZG9jdW1lbnQuZm9udHMuYWRkKGUpfSkpLHIubG9hZCgpLnRoZW4oKGU9Pntkb2N1bWVudC5mb250cy5hZGQoZSl9KSl9dGhpcy5zaG93U3VtbWFyeVdoZW5Db2xsYXBzZWQmJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMuc2hvd1N1bW1hcnlXaGVuQ29sbGFwc2VkfSxgKXx8KHRoaXMuc2hvd1N1bW1hcnlXaGVuQ29sbGFwc2VkPSJ0cnVlIiksdGhpcy5sYXlvdXQmJiJyb3csIGNvbHVtbiwiLmluY2x1ZGVzKGAke3RoaXMubGF5b3V0fSxgKXx8KHRoaXMubGF5b3V0PSJyb3ciKSx0aGlzLnNjaGVtYVN0eWxlJiYidHJlZSwgdGFibGUsIi5pbmNsdWRlcyhgJHt0aGlzLnNjaGVtYVN0eWxlfSxgKXx8KHRoaXMuc2NoZW1hU3R5bGU9InRyZWUiKSx0aGlzLnRoZW1lJiYibGlnaHQsIGRhcmssIi5pbmNsdWRlcyhgJHt0aGlzLnRoZW1lfSxgKXx8KHRoaXMudGhlbWU9d2luZG93Lm1hdGNoTWVkaWEmJndpbmRvdy5tYXRjaE1lZGlhKCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KSIpLm1hdGNoZXM/ImxpZ2h0IjoiZGFyayIpLHRoaXMuZGVmYXVsdFNjaGVtYVRhYiYmImV4YW1wbGUsIHNjaGVtYSwgbW9kZWwsIi5pbmNsdWRlcyhgJHt0aGlzLmRlZmF1bHRTY2hlbWFUYWJ9LGApPyJtb2RlbCI9PT10aGlzLmRlZmF1bHRTY2hlbWFUYWImJih0aGlzLmRlZmF1bHRTY2hlbWFUYWI9InNjaGVtYSIpOnRoaXMuZGVmYXVsdFNjaGVtYVRhYj0iZXhhbXBsZSIsdGhpcy5wYXRoc0V4cGFuZGVkPSJ0cnVlIj09PXRoaXMucGF0aHNFeHBhbmRlZCwoIXRoaXMuc2NoZW1hRXhwYW5kTGV2ZWx8fHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw8MSkmJih0aGlzLnNjaGVtYUV4cGFuZExldmVsPTk5OTk5KSx0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQmJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH0sYCl8fCh0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQ9ImZhbHNlIiksdGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGV9LGApfHwodGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlPSJ0cnVlIiksdGhpcy5wZXJzaXN0QXV0aCYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5wZXJzaXN0QXV0aH0sYCl8fCh0aGlzLnBlcnNpc3RBdXRoPSJmYWxzZSIpLHRoaXMucmVzcG9uc2VBcmVhSGVpZ2h0fHwodGhpcy5yZXNwb25zZUFyZWFIZWlnaHQ9IjMwMHB4IiksdGhpcy5hbGxvd1RyeSYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1RyeX0sYCl8fCh0aGlzLmFsbG93VHJ5PSJ0cnVlIiksdGhpcy5hcGlLZXlWYWx1ZXx8KHRoaXMuYXBpS2V5VmFsdWU9Ii0iKSx0aGlzLmFwaUtleUxvY2F0aW9ufHwodGhpcy5hcGlLZXlMb2NhdGlvbj0iaGVhZGVyIiksdGhpcy5hcGlLZXlOYW1lfHwodGhpcy5hcGlLZXlOYW1lPSIiKSx0aGlzLm9hdXRoUmVjZWl2ZXJ8fCh0aGlzLm9hdXRoUmVjZWl2ZXI9Im9hdXRoLXJlY2VpdmVyLmh0bWwiKSx0aGlzLnNvcnRUYWdzJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLnNvcnRUYWdzfSxgKXx8KHRoaXMuc29ydFRhZ3M9ImZhbHNlIiksdGhpcy5zb3J0RW5kcG9pbnRzQnkmJiJtZXRob2QsIHBhdGgsIHN1bW1hcnksIi5pbmNsdWRlcyhgJHt0aGlzLnNvcnRFbmRwb2ludHNCeX0sYCl8fCh0aGlzLnNvcnRFbmRwb2ludHNCeT0icGF0aCIpLHRoaXMuZm9udFNpemUmJiJkZWZhdWx0LCBsYXJnZSwgbGFyZ2VzdCwiLmluY2x1ZGVzKGAke3RoaXMuZm9udFNpemV9LGApfHwodGhpcy5mb250U2l6ZT0iZGVmYXVsdCIpLHRoaXMubWF0Y2hUeXBlJiYiaW5jbHVkZXMgcmVnZXgiLmluY2x1ZGVzKHRoaXMubWF0Y2hUeXBlKXx8KHRoaXMubWF0Y2hUeXBlPSJpbmNsdWRlcyIpLHRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZSYmInRydWUsIGZhbHNlLCIuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfSxgKXx8KHRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZT0idHJ1ZSIpLHRoaXMuZmV0Y2hDcmVkZW50aWFscyYmIm9taXQsIHNhbWUtb3JpZ2luLCBpbmNsdWRlLCIuaW5jbHVkZXMoYCR7dGhpcy5mZXRjaENyZWRlbnRpYWxzfSxgKXx8KHRoaXMuZmV0Y2hDcmVkZW50aWFscz0iIiksV2Uuc2V0T3B0aW9ucyh7aGlnaGxpZ2h0OihlLHQpPT5HZSgpLmxhbmd1YWdlc1t0XT9HZSgpLmhpZ2hsaWdodChlLEdlKCkubGFuZ3VhZ2VzW3RdLHQpOmV9KX1yZW5kZXIoKXtyZXR1cm4gd1IuY2FsbCh0aGlzLCEwLCExLCExLHRoaXMucGF0aHNFeHBhbmRlZCl9YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGUsdCxyKXtpZigic3BlYy11cmwiPT09ZSYmdCE9PXImJndpbmRvdy5zZXRUaW1lb3V0KChhc3luYygpPT57YXdhaXQgdGhpcy5sb2FkU3BlYyhyKX0pLDApLCJhcGkta2V5LW5hbWUiPT09ZXx8ImFwaS1rZXktbG9jYXRpb24iPT09ZXx8ImFwaS1rZXktdmFsdWUiPT09ZSl7bGV0IHQ9ITEsbj0iIixvPSIiLGE9IiI7aWYoImFwaS1rZXktbmFtZSI9PT1lP3RoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LWxvY2F0aW9uIikmJnRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LXZhbHVlIikmJihuPXIsbz10aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS1sb2NhdGlvbiIpLGE9dGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktdmFsdWUiKSx0PSEwKToiYXBpLWtleS1sb2NhdGlvbiI9PT1lP3RoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LW5hbWUiKSYmdGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktdmFsdWUiKSYmKG89cixuPXRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LW5hbWUiKSxhPXRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LXZhbHVlIiksdD0hMCk6ImFwaS1rZXktdmFsdWUiPT09ZSYmdGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktbmFtZSIpJiZ0aGlzLmdldEF0dHJpYnV0ZSgiYXBpLWtleS1sb2NhdGlvbiIpJiYoYT1yLG89dGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktbG9jYXRpb24iKSxuPXRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LW5hbWUiKSx0PSEwKSx0JiZ0aGlzLnJlc29sdmVkU3BlYyl7Y29uc3QgZT10aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXMuZmluZCgoZT0+ZS5zZWN1cml0eVNjaGVtZUlkPT09YXQpKTtlPyhlLm5hbWU9bixlLmluPW8sZS52YWx1ZT1hLGUuZmluYWxLZXlWYWx1ZT1hKTp0aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXMucHVzaCh7YXBpS2V5SWQ6YXQsZGVzY3JpcHRpb246ImFwaS1rZXkgcHJvdmlkZWQgaW4gcmFwaWRvYyBlbGVtZW50IGF0dHJpYnV0ZXMiLHR5cGU6ImFwaUtleSIsbmFtZTpuLGluOm8sdmFsdWU6YSxmaW5hbEtleVZhbHVlOmF9KSx0aGlzLnJlcXVlc3RVcGRhdGUoKX19c3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGUsdCxyKX1vblNwZWNVcmxDaGFuZ2UoKXt0aGlzLnNldEF0dHJpYnV0ZSgic3BlYy11cmwiLHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgic3BlYy11cmwiKS52YWx1ZSl9YXN5bmMgbG9hZFNwZWMoZSl7aWYoZSl0cnl7dGhpcy5yZXNvbHZlZFNwZWM9e3NwZWNMb2FkRXJyb3I6ITEsaXNTcGVjTG9hZGluZzohMCx0YWdzOltdfSx0aGlzLmxvYWRpbmc9ITAsdGhpcy5sb2FkRmFpbGVkPSExLHRoaXMucmVxdWVzdFVwZGF0ZSgpO2NvbnN0IHQ9YXdhaXQgTV8uY2FsbCh0aGlzLGUsInRydWUiPT09dGhpcy5nZW5lcmF0ZU1pc3NpbmdUYWdzLCJ0cnVlIj09PXRoaXMuc29ydFRhZ3MsdGhpcy5nZXRBdHRyaWJ1dGUoInNvcnQtZW5kcG9pbnRzLWJ5IiksdGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktbmFtZSIpLHRoaXMuZ2V0QXR0cmlidXRlKCJhcGkta2V5LWxvY2F0aW9uIiksdGhpcy5nZXRBdHRyaWJ1dGUoImFwaS1rZXktdmFsdWUiKSx0aGlzLmdldEF0dHJpYnV0ZSgic2VydmVyLXVybCIpKTt0aGlzLmxvYWRpbmc9ITEsdGhpcy5hZnRlclNwZWNQYXJzZWRBbmRWYWxpZGF0ZWQodCl9Y2F0Y2goZSl7dGhpcy5sb2FkaW5nPSExLHRoaXMubG9hZEZhaWxlZD0hMCx0aGlzLnJlc29sdmVkU3BlYz1udWxsLGNvbnNvbGUuZXJyb3IoYFJhcGlEb2M6IFVuYWJsZSB0byByZXNvbHZlIHRoZSBBUEkgc3BlYy4uICAke2UubWVzc2FnZX1gKX19c2V0SHR0cFVzZXJOYW1lQW5kUGFzc3dvcmQoZSx0LHIpe3JldHVybiB0UC5jYWxsKHRoaXMsZSx0LHIpfXNldEFwaUtleShlLHQpe3JldHVybiB0UC5jYWxsKHRoaXMsZSwiIiwiIix0KX1yZW1vdmVBbGxTZWN1cml0eUtleXMoKXtyZXR1cm4gclAuY2FsbCh0aGlzKX1zZXRBcGlTZXJ2ZXIoZSl7cmV0dXJuIFpQLmNhbGwodGhpcyxlKX1hc3luYyBhZnRlclNwZWNQYXJzZWRBbmRWYWxpZGF0ZWQoZSl7Zm9yKHRoaXMucmVzb2x2ZWRTcGVjPWUsdGhpcy5zZWxlY3RlZFNlcnZlcj12b2lkIDAsdGhpcy5kZWZhdWx0QXBpU2VydmVyVXJsJiYodGhpcy5kZWZhdWx0QXBpU2VydmVyVXJsPT09dGhpcy5zZXJ2ZXJVcmw/dGhpcy5zZWxlY3RlZFNlcnZlcj17dXJsOnRoaXMuc2VydmVyVXJsLGNvbXB1dGVkVXJsOnRoaXMuc2VydmVyVXJsfTp0aGlzLnJlc29sdmVkU3BlYy5zZXJ2ZXJzJiYodGhpcy5zZWxlY3RlZFNlcnZlcj10aGlzLnJlc29sdmVkU3BlYy5zZXJ2ZXJzLmZpbmQoKGU9PmUudXJsPT09dGhpcy5kZWZhdWx0QXBpU2VydmVyVXJsKSkpKSx0aGlzLnNlbGVjdGVkU2VydmVyfHx0aGlzLnJlc29sdmVkU3BlYy5zZXJ2ZXJzJiYodGhpcy5zZWxlY3RlZFNlcnZlcj10aGlzLnJlc29sdmVkU3BlYy5zZXJ2ZXJzWzBdKSx0aGlzLnJlcXVlc3RVcGRhdGUoKTshYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZTspO2NvbnN0IHQ9bmV3IEN1c3RvbUV2ZW50KCJzcGVjLWxvYWRlZCIse2RldGFpbDplfSk7dGhpcy5kaXNwYXRjaEV2ZW50KHQpfWhhbmRsZUhyZWYoZSl7aWYoImEiPT09ZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKS5zdGFydHNXaXRoKCIjIikpe2NvbnN0IHQ9dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiaHJlZiIpLnJlcGxhY2UoIiMiLCIiKSk7dCYmdC5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6ImF1dG8iLGJsb2NrOiJzdGFydCJ9KX19fSk7Y2xhc3Mga1IgZXh0ZW5kcyBIVE1MRWxlbWVudHtjb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMucmVjZWl2ZUF1dGhQYXJtcygpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzdG9yYWdlIiwoZT0+dGhpcy5yZWNlaXZlU3RvcmFnZShlKSksITApfXJlY2VpdmVBdXRoUGFybXMoKXtsZXQgZT17fTtpZihkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpe2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpO2U9e2NvZGU6dC5nZXQoImNvZGUiKSxlcnJvcjp0LmdldCgiZXJyb3IiKSxzdGF0ZTp0LmdldCgic3RhdGUiKSxyZXNwb25zZVR5cGU6ImNvZGUifX1lbHNlIGlmKHdpbmRvdy5sb2NhdGlvbi5oYXNoKXtlPXt0b2tlbl90eXBlOnRoaXMucGFyc2VRdWVyeVN0cmluZyh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSksInRva2VuX3R5cGUiKSxhY2Nlc3NfdG9rZW46dGhpcy5wYXJzZVF1ZXJ5U3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSwiYWNjZXNzX3Rva2VuIikscmVzcG9uc2VUeXBlOiJ0b2tlbiJ9fXdpbmRvdy5vcGVuZXI/d2luZG93Lm9wZW5lci5wb3N0TWVzc2FnZShlLHRoaXMudGFyZ2V0KTpzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJyYXBpZG9jLW9hdXRoLWRhdGEiLEpTT04uc3RyaW5naWZ5KGUpKX1yZWxheUF1dGhQYXJhbXMoZSl7aWYod2luZG93LnBhcmVudCYmInJhcGlkb2Mtb2F1dGgtZGF0YSI9PT1lLmtleSl7Y29uc3QgdD1KU09OLnBhcnNlKGUubmV3VmFsdWUpO3dpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UodCx0aGlzLnRhcmdldCl9fXBhcnNlUXVlcnlTdHJpbmcoZSx0KXtjb25zdCByPWUuc3BsaXQoIiYiKTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3Qgbj1yW2VdLnNwbGl0KCI9Iik7aWYoZGVjb2RlVVJJQ29tcG9uZW50KG5bMF0pPT09dClyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KG5bMV0pfX19ZnVuY3Rpb24gU1IoKXtyZXR1cm4gcWAKICA8bmF2IGNsYXNzPSduYXYtYmFyJyBwYXJ0PSJzZWN0aW9uLW5hdmJhciI+CiAgICA8c2xvdCBuYW1lPSJuYXYtbG9nbyIgY2xhc3M9ImxvZ28iPjwvc2xvdD4KICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtsaW5lLWhlaWdodDoyMnB4OyBwYWRkaW5nOjhweCI+CiAgICAgIDxpbnB1dCBpZD0ibmF2LWJhci1zZWFyY2giIAogICAgICAgIHBhcnQgPSAidGV4dGJveCB0ZXh0Ym94LW5hdi1maWx0ZXIiCiAgICAgICAgc3R5bGUgPSAid2lkdGg6MTAwJTsgaGVpZ2h0OiAyNnB4OyBwYWRkaW5nLXJpZ2h0OjIwcHg7IGNvbG9yOnZhcigtLW5hdi1ob3Zlci10ZXh0LWNvbG9yKTsgYm9yZGVyLWNvbG9yOnZhcigtLW5hdi1hY2NlbnQtY29sb3IpOyBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW5hdi1ob3Zlci1iZy1jb2xvcikiIAogICAgICAgIHR5cGUgPSAidGV4dCIKICAgICAgICBwbGFjZWhvbGRlciA9ICJGaWx0ZXIiIAogICAgICAgIEBjaGFuZ2UgPSAiJHt0aGlzLm9uU2VhcmNoQ2hhbmdlfSIgIAogICAgICAgIHNwZWxsY2hlY2sgPSAiZmFsc2UiIAogICAgICA+CiAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbjogNnB4IDVweCAwIC0yNHB4OyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpOyBjdXJzb3I6cG9pbnRlcjsiPiYjeDIxYTk7PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxuYXYgc3R5bGU9ImZsZXg6MSIgY2xhc3M9J25hdi1zY3JvbGwnIHBhcnQ9InNlY3Rpb24tbmF2YmFyLXNjcm9sbCI+CiAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuc2NoZW1hQW5kRXhhbXBsZXMubWFwKChlPT5xYAogICAgICAgIDxkaXYgY2xhc3M9J25hdi1iYXItcGF0aCcgZGF0YS1jb250ZW50LWlkPScke2UuZWxlbWVudElkfScgaWQ9J2xpbmstJHtlLmVsZW1lbnRJZH0nCiAgICAgICAgICBAY2xpY2sgPSAnJHtlPT57dGhpcy5zY3JvbGxUb0V2ZW50VGFyZ2V0KGUsITEpfX0nCiAgICAgICAgPiAKICAgICAgICAgICR7ZS5uYW1lfQogICAgICAgIDwvZGl2PmApKX0KICAgIDwvbmF2PiAgCiAgPC9uYXY+CiAgYH1mdW5jdGlvbiBBUigpe3JldHVybiBxYAogICAgJHsidHJ1ZSI9PT10aGlzLnNob3dJbmZvP1lQLmNhbGwodGhpcyk6IiJ9CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpOyI+CiAgICAke3RoaXMucmVzb2x2ZWRTcGVjLnNjaGVtYUFuZEV4YW1wbGVzLm1hcCgoZT0+e3ZhciB0O2NvbnN0IHI9QlAoZS5zY2hlbWEsImpzb24iLGUuZXhhbXBsZXMsZS5leGFtcGxlLCEwLCExLCJqc29uIiwhMCk7cmV0dXJuIGUuc2VsZWN0ZWRFeGFtcGxlPW51bGw9PT0odD1yWzBdKXx8dm9pZCAwPT09dD92b2lkIDA6dC5leGFtcGxlSWQscWAKICAgICAgICA8c2VjdGlvbiBpZD0nJHtlLmVsZW1lbnRJZH0nIGNsYXNzPSdqc29uLXNjaGVtYS1hbmQtZXhhbXBsZSByZWd1bGFyLWZvbnQnIHN0eWxlPSJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgbWFyZ2luLWJvdHRvbTozMnB4OyBib3JkZXItdG9wOiA1cHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKSI+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOjE2cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpIj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7IGZvbnQtd2VpZ2h0OmJvbGQiPiR7ZS5uYW1lfTwvZGl2PgogICAgICAgICAgICA8c3BhbiBjbGFzcz0ianNvbi1zY2hlbWEtZGVzY3JpcHRpb24gbS1tYXJrZG93biAiPiR7UV8oV2UoZS5kZXNjcmlwdGlvbnx8IiIpKX08L3NwYW4+CiAgICAgICAgICA8L2Rpdj4gIAogICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjogcm93OyBnYXA6MTZweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJqc29uLXNjaGVtYS1kZWYiIHN0eWxlPSJmbGV4OjE7IHBhZGRpbmc6MTZweCAwIDE2cHggMTZweDsgIj4KICAgICAgICAgICAgICA8c2NoZW1hLXRyZWUKICAgICAgICAgICAgICAgIC5kYXRhID0gIiR7RFAoZS5zY2hlbWEse30pfSIKICAgICAgICAgICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSAiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfSIKICAgICAgICAgICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCA9ICIke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH0iCiAgICAgICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9ICIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX0iCiAgICAgICAgICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSAiZmFsc2UiCiAgICAgICAgICAgICAgICBzY2hlbWEtaGlkZS13cml0ZS1vbmx5ID0gImZhbHNlIgogICAgICAgICAgICAgID4gPC9zY2hlbWEtdHJlZT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Impzb24tc2NoZW1hLWV4YW1wbGUtcGFuZWwiIHN0eWxlPSJ3aWR0aDo0MDBweDsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW5wdXQtYmcpOyBwYWRkaW5nOjE2cHggMCAxNnB4IDE2cHg7IGJvcmRlci1sZWZ0OiAxcHggZGFzaGVkIHZhcigtLWJvcmRlci1jb2xvcik7Ij4KICAgICAgICAgICAgICAke3IubGVuZ3RoPjE/cWA8c2VsZWN0IHN0eWxlPSJtaW4td2lkdGg6MTAwcHg7IG1heC13aWR0aDoxMDAlIiBAY2hhbmdlPScke3Q9PnRoaXMub25TZWxlY3RFeGFtcGxlKHQsZSl9Jz4KICAgICAgICAgICAgICAgICAgICAke3IubWFwKCh0PT5xYAogICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iJHt0LmV4YW1wbGVJZH0iID9zZWxlY3RlZD0ke3QuZXhhbXBsZUlkPT09ZS5zZWxlY3RlZEV4YW1wbGV9PiAKICAgICAgICAgICAgICAgICAgICAgICAgJHt0LmV4YW1wbGVTdW1tYXJ5Lmxlbmd0aD44MD90LmV4YW1wbGVJZDp0LmV4YW1wbGVTdW1tYXJ5fQogICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+YCkpfQogICAgICAgICAgICAgICAgICA8L3NlbGVjdD5gOnFgPGRpdiBzdHlsZT0iZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpO2ZvbnQtd2VpZ2h0OjcwMDsgbWFyZ2luOjVweCAwIj4gJHtyWzBdLmV4YW1wbGVTdW1tYXJ5fTwvZGl2PmB9CiAgICAgICAgICAgICAgJHtyLm1hcCgodD0+cWAKICAgICAgICAgICAgICAgIDxqc29uLXRyZWUgCiAgICAgICAgICAgICAgICAgIC5kYXRhID0gIiR7dC5leGFtcGxlVmFsdWV9IgogICAgICAgICAgICAgICAgICBkYXRhLWV4YW1wbGUgPSAiJHt0LmV4YW1wbGVJZH0iCiAgICAgICAgICAgICAgICAgIGNsYXNzID0gImV4YW1wbGUiCiAgICAgICAgICAgICAgICAgIHN0eWxlID0gIm1hcmdpbi10b3A6MTZweDsgZGlzcGxheTogJHt0LmV4YW1wbGVJZD09PWUuc2VsZWN0ZWRFeGFtcGxlPyJmbGV4Ijoibm9uZSJ9IgogICAgICAgICAgICAgICAgPjwvanNvbi10cmVlPmApKX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+YH0pKX0KICAgIDwvZGl2PgogIGB9ZnVuY3Rpb24gRVIoZT0hMSl7aWYoIXRoaXMucmVzb2x2ZWRTcGVjKXJldHVybiIiO2NvbnN0IHQ9e2JnMTpiUih0aGlzLmJnQ29sb3IpP3RoaXMuYmdDb2xvcjoiIixmZzE6YlIodGhpcy50ZXh0Q29sb3IpP3RoaXMudGV4dENvbG9yOiIiLGhlYWRlckNvbG9yOmJSKHRoaXMuaGVhZGVyQ29sb3IpP3RoaXMuaGVhZGVyQ29sb3I6IiIscHJpbWFyeUNvbG9yOmJSKHRoaXMucHJpbWFyeUNvbG9yKT90aGlzLnByaW1hcnlDb2xvcjoiIixuYXZCZ0NvbG9yOmJSKHRoaXMubmF2QmdDb2xvcik/dGhpcy5uYXZCZ0NvbG9yOiIiLG5hdlRleHRDb2xvcjpiUih0aGlzLm5hdlRleHRDb2xvcik/dGhpcy5uYXZUZXh0Q29sb3I6IiIsbmF2SG92ZXJCZ0NvbG9yOmJSKHRoaXMubmF2SG92ZXJCZ0NvbG9yKT90aGlzLm5hdkhvdmVyQmdDb2xvcjoiIixuYXZIb3ZlclRleHRDb2xvcjpiUih0aGlzLm5hdkhvdmVyVGV4dENvbG9yKT90aGlzLm5hdkhvdmVyVGV4dENvbG9yOiIiLG5hdkFjY2VudENvbG9yOmJSKHRoaXMubmF2QWNjZW50Q29sb3IpP3RoaXMubmF2QWNjZW50Q29sb3I6IiIsbmF2QWNjZW50dGV4dENvbG9yOmJSKHRoaXMubmF2QWNjZW50VGV4dENvbG9yKT90aGlzLm5hdkFjY2VudFRleHRDb2xvcjoiIn07cmV0dXJuIHRoaXMucmVzb2x2ZWRTcGVjLnNwZWNMb2FkRXJyb3I/ZT9xYAogICAgICAgICR7ImRhcmsiPT09dGhpcy50aGVtZT94Ui5jYWxsKHRoaXMsImRhcmsiLHQpOnhSLmNhbGwodGhpcywibGlnaHQiLHQpfQogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBib3JkZXI6MXB4IGRhc2hlZCB2YXIoLS1ib3JkZXItY29sb3IpOyBoZWlnaHQ6NDJweDsgcGFkZGluZzo1cHg7IGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpOyBjb2xvcjp2YXIoLS1yZWQpOyBmb250LWZhbWlseTp2YXIoLS1mb250LW1vbm8pIj4gJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmRlc2NyaXB0aW9ufSA8L2Rpdj4KICAgICAgYDpxYAogICAgICAkeyJkYXJrIj09PXRoaXMudGhlbWU/eFIuY2FsbCh0aGlzLCJkYXJrIix0KTp4Ui5jYWxsKHRoaXMsImxpZ2h0Iix0KX0KICAgICAgPCEtLSBIZWFkZXIgLS0+CiAgICAgICR7bVIuY2FsbCh0aGlzKX0KICAgICAgPGgxPiBIZWFkZXIgPC9oMT4KICAgICAgPG1haW4gY2xhc3M9Im1haW4tY29udGVudCByZWd1bGFyLWZvbnQiIHBhcnQ9InNlY3Rpb24tbWFpbi1jb250ZW50Ij4KICAgICAgICA8c2xvdD48L3Nsb3Q+CiAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luOjI0cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgPGgxIHN0eWxlPSJjb2xvcjogdmFyKC0tcmVkKSI+ICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby50aXRsZX0gPC9oMT4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OnZhcigtLWZvbnQtbW9ubykiPiAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8uZGVzY3JpcHRpb259IDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L21haW4+ICAKICAgIGA6dGhpcy5yZXNvbHZlZFNwZWMuaXNTcGVjTG9hZGluZz9xYAogICAgICAkeyJkYXJrIj09PXRoaXMudGhlbWU/eFIuY2FsbCh0aGlzLCJkYXJrIix0KTp4Ui5jYWxsKHRoaXMsImxpZ2h0Iix0KX0KICAgICAgPG1haW4gY2xhc3M9Im1haW4tY29udGVudCByZWd1bGFyLWZvbnQiIHBhcnQ9InNlY3Rpb24tbWFpbi1jb250ZW50Ij4KICAgICAgICA8c2xvdD48L3Nsb3Q+CiAgICAgICAgPGRpdiBjbGFzcz0ibWFpbi1jb250ZW50LWlubmVyLS0ke3RoaXMucmVuZGVyU3R5bGV9LW1vZGUiPgogICAgICAgICAgPGRpdiBjbGFzcz0ibG9hZGVyIj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9tYWluPiAgCiAgICBgOnFgCiAgICAkeyJkYXJrIj09PXRoaXMudGhlbWU/eFIuY2FsbCh0aGlzLCJkYXJrIix0KTp4Ui5jYWxsKHRoaXMsImxpZ2h0Iix0KX0KCiAgICA8IS0tIEhlYWRlciAtLT4KICAgICR7ImZhbHNlIj09PXRoaXMuc2hvd0hlYWRlcj8iIjptUi5jYWxsKHRoaXMpfQogICAgCiAgICA8ZGl2IGlkPSd0aGUtbWFpbi1ib2R5JyBjbGFzcz0iYm9keSAke3RoaXMuY3NzQ2xhc3Nlc30iIGRpcj0gJHt0aGlzLnBhZ2VEaXJlY3Rpb259PgoKICAgICAgPCEtLSBTaWRlIE5hdiAtLT4KICAgICAgJHtTUi5jYWxsKHRoaXMpfQoKICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+CiAgICAgIDxtYWluIGNsYXNzPSJtYWluLWNvbnRlbnQgcmVndWxhci1mb250IiBwYXJ0PSJzZWN0aW9uLW1haW4tY29udGVudCI+CiAgICAgICAgPHNsb3Q+PC9zbG90PgogICAgICAgIDxkaXYgY2xhc3M9Im1haW4tY29udGVudC1pbm5lci0tJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlIj4KICAgICAgICAgICR7ITA9PT10aGlzLmxvYWRpbmc/cWA8ZGl2IGNsYXNzPSJsb2FkZXIiPjwvZGl2PmA6cWAKICAgICAgICAgICAgICAkeyEwPT09dGhpcy5sb2FkRmFpbGVkP3FgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyO21hcmdpbjogMTZweDsiPiBVbmFibGUgdG8gbG9hZCB0aGUgU3BlYzwvZGl2PmA6cWAKICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3BlcmF0aW9ucy1yb290IiBAY2xpY2s9IiR7ZT0+e3RoaXMuaGFuZGxlSHJlZihlKX19Ij4KICAgICAgICAgICAgICAgICAgICAke0FSLmNhbGwodGhpcyl9CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgYH1gfQogICAgICAgIDwvZGl2PgogICAgICAgIDxzbG90IG5hbWU9ImZvb3RlciI+PC9zbG90PgogICAgICA8L21haW4+CiAgICA8L2Rpdj4gIAogIGB9Y3VzdG9tRWxlbWVudHMuZGVmaW5lKCJvYXV0aC1yZWNlaXZlciIsa1IpO2N1c3RvbUVsZW1lbnRzLmRlZmluZSgianNvbi1zY2hlbWEtdmlld2VyIixjbGFzcyBleHRlbmRzIGlle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmlzTWluaT0hMSx0aGlzLnVwZGF0ZVJvdXRlPSJmYWxzZSIsdGhpcy5yZW5kZXJTdHlsZT0iZm9jdXNlZCIsdGhpcy5zaG93SGVhZGVyPSJ0cnVlIix0aGlzLmFsbG93QWR2YW5jZWRTZWFyY2g9ImZhbHNlIix0aGlzLnNlbGVjdGVkRXhhbXBsZUZvckVhY2hTY2hlbWE9e319c3RhdGljIGdldCBwcm9wZXJ0aWVzKCl7cmV0dXJue3NwZWNVcmw6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToic3BlYy11cmwifSxzY2hlbWFTdHlsZTp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtc3R5bGUifSxzY2hlbWFFeHBhbmRMZXZlbDp7dHlwZTpOdW1iZXIsYXR0cmlidXRlOiJzY2hlbWEtZXhwYW5kLWxldmVsIn0sc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQifSxhbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlIn0sc2hvd0hlYWRlcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzaG93LWhlYWRlciJ9LHNob3dTaWRlTmF2Ont0eXBlOlN0cmluZyxhdHRyaWJ1dGU6InNob3ctc2lkZS1uYXYifSxzaG93SW5mbzp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJzaG93LWluZm8ifSxhbGxvd1NwZWNVcmxMb2FkOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImFsbG93LXNwZWMtdXJsLWxvYWQifSxhbGxvd1NwZWNGaWxlTG9hZDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhbGxvdy1zcGVjLWZpbGUtbG9hZCJ9LGFsbG93U3BlY0ZpbGVEb3dubG9hZDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhbGxvdy1zcGVjLWZpbGUtZG93bmxvYWQifSxhbGxvd1NlYXJjaDp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJhbGxvdy1zZWFyY2gifSx0aGVtZTp7dHlwZTpTdHJpbmd9LGJnQ29sb3I6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiYmctY29sb3IifSx0ZXh0Q29sb3I6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToidGV4dC1jb2xvciJ9LHByaW1hcnlDb2xvcjp7dHlwZTpTdHJpbmcsYXR0cmlidXRlOiJwcmltYXJ5LWNvbG9yIn0sZm9udFNpemU6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToiZm9udC1zaXplIn0scmVndWxhckZvbnQ6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToicmVndWxhci1mb250In0sbW9ub0ZvbnQ6e3R5cGU6U3RyaW5nLGF0dHJpYnV0ZToibW9uby1mb250In0sbG9hZEZvbnRzOnt0eXBlOlN0cmluZyxhdHRyaWJ1dGU6ImxvYWQtZm9udHMifSxsb2FkaW5nOnt0eXBlOkJvb2xlYW59fX1zdGF0aWMgZ2V0IHN0eWxlcygpe3JldHVybltLZSxKZSxZZSxaZSxRZSxYZSxldCx0dCxydCxjYAogICAgICA6aG9zdCB7CiAgICAgICAgZGlzcGxheTpmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgbWluLXdpZHRoOjM2MHB4OwogICAgICAgIHdpZHRoOjEwMCU7CiAgICAgICAgaGVpZ2h0OjEwMCU7CiAgICAgICAgbWFyZ2luOjA7CiAgICAgICAgcGFkZGluZzowOwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgbGV0dGVyLXNwYWNpbmc6bm9ybWFsOwogICAgICAgIGNvbG9yOnZhcigtLWZnKTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJnKTsKICAgICAgICBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOwogICAgICB9CiAgICAgIC5ib2R5IHsKICAgICAgICBkaXNwbGF5OmZsZXg7CiAgICAgICAgaGVpZ2h0OjEwMCU7CiAgICAgICAgd2lkdGg6MTAwJTsKICAgICAgICBvdmVyZmxvdzpoaWRkZW47CiAgICAgIH0KICAgICAgLm5hdi1iYXIgewogICAgICAgIHdpZHRoOiAyMzBweDsKICAgICAgICBkaXNwbGF5OmZsZXg7CiAgICAgIH0KCiAgICAgIC5tYWluLWNvbnRlbnQgeyAKICAgICAgICBtYXJnaW46MDsKICAgICAgICBwYWRkaW5nOiAxNnB4OyAKICAgICAgICBkaXNwbGF5OmJsb2NrOwogICAgICAgIGZsZXg6MTsKICAgICAgICBoZWlnaHQ6MTAwJTsKICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjsKICAgICAgICBzY3JvbGxiYXItd2lkdGg6IHRoaW47CiAgICAgICAgc2Nyb2xsYmFyLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpIHRyYW5zcGFyZW50OwogICAgICB9CiAgICAgIC5tYWluLWNvbnRlbnQtaW5uZXItLXZpZXctbW9kZSB7CiAgICAgICAgcGFkZGluZzogMCA4cHg7CiAgICAgIH0KICAgICAgLm1haW4tY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgICAgIHdpZHRoOiA4cHg7CiAgICAgICAgaGVpZ2h0OiA4cHg7CiAgICAgIH0KICAgICAgLm1haW4tY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgICAgIGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7CiAgICAgIH0KICAgICAgLm1haW4tY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJvcmRlci1jb2xvcik7CiAgICAgIH0KICAgICAgLm1haW4taGVhZGVyIHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWhlYWRlci1iZyk7CiAgICAgICAgY29sb3I6dmFyKC0taGVhZGVyLWZnKTsKICAgICAgICB3aWR0aDoxMDAlOwogICAgICB9CiAgICAgIC5oZWFkZXItdGl0bGUgewogICAgICAgIGZvbnQtc2l6ZTpjYWxjKHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKSArIDhweCk7IAogICAgICAgIHBhZGRpbmc6MCA4cHg7CiAgICAgIH0KICAgICAgaW5wdXQuaGVhZGVyLWlucHV0ewogICAgICAgIGJhY2tncm91bmQ6dmFyKC0taGVhZGVyLWNvbG9yLWRhcmtlcik7CiAgICAgICAgY29sb3I6dmFyKC0taGVhZGVyLWZnKTsKICAgICAgICBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWhlYWRlci1jb2xvci1ib3JkZXIpOwogICAgICAgIGZsZXg6MTsgCiAgICAgICAgcGFkZGluZy1yaWdodDoyNHB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6M3B4OwogICAgICB9CiAgICAgIGlucHV0LmhlYWRlci1pbnB1dDo6cGxhY2Vob2xkZXIgewogICAgICAgIG9wYWNpdHk6MC40OwogICAgICB9CiAgICAgIC5sb2FkZXIgewogICAgICAgIG1hcmdpbjogMTZweCBhdXRvIDE2cHggYXV0bzsgCiAgICAgICAgYm9yZGVyOiA0cHggc29saWQgdmFyKC0tYmczKTsKICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgYm9yZGVyLXRvcDogNHB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpOwogICAgICAgIHdpZHRoOiAzNnB4OwogICAgICAgIGhlaWdodDogMzZweDsKICAgICAgICBhbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlOwogICAgICB9CiAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIHsKICAgICAgICAub25seS1sYXJnZS1zY3JlZW57CiAgICAgICAgICBkaXNwbGF5OmJsb2NrOwogICAgICAgIH0KICAgICAgICAub25seS1sYXJnZS1zY3JlZW4tZmxleHsKICAgICAgICAgIGRpc3BsYXk6ZmxleDsKICAgICAgICB9CiAgICAgIH1gXX1jb25uZWN0ZWRDYWxsYmFjaygpe3N1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7Y29uc3QgZT10aGlzLnBhcmVudEVsZW1lbnQ7aWYoZSYmKDA9PT1lLm9mZnNldFdpZHRoJiYiIj09PWUuc3R5bGUud2lkdGgmJihlLnN0eWxlLndpZHRoPSIxMDB2dyIpLDA9PT1lLm9mZnNldEhlaWdodCYmIiI9PT1lLnN0eWxlLmhlaWdodCYmKGUuc3R5bGUuaGVpZ2h0PSIxMDB2aCIpLCJCT0RZIj09PWUudGFnTmFtZSYmKGUuc3R5bGUubWFyZ2luVG9wfHwoZS5zdHlsZS5tYXJnaW5Ub3A9IjAiKSxlLnN0eWxlLm1hcmdpblJpZ2h0fHwoZS5zdHlsZS5tYXJnaW5SaWdodD0iMCIpLGUuc3R5bGUubWFyZ2luQm90dG9tfHwoZS5zdHlsZS5tYXJnaW5Cb3R0b209IjAiKSxlLnN0eWxlLm1hcmdpbkxlZnR8fChlLnN0eWxlLm1hcmdpbkxlZnQ9IjAiKSkpLCJmYWxzZSIhPT10aGlzLmxvYWRGb250cyl7Y29uc3QgZT17ZmFtaWx5OiJPcGVuIFNhbnMiLHN0eWxlOiJub3JtYWwiLHdlaWdodDoiMzAwIix1bmljb2RlUmFuZ2U6IlUrMDAwMC0wMEZGLCBVKzAxMzEsIFUrMDE1Mi0wMTUzLCBVKzAyQkItMDJCQywgVSswMkM2LCBVKzAyREEsIFUrMDJEQywgVSsyMDAwLTIwNkYsIFUrMjA3NCwgVSsyMEFDLCBVKzIxMjIsIFUrMjE5MSwgVSsyMTkzLCBVKzIyMTIsIFUrMjIxNSwgVStGRUZGLCBVK0ZGRkQifSx0PW5ldyBGb250RmFjZSgiT3BlbiBTYW5zIiwidXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9vcGVuc2Fucy92MTgvbWVtNVlhR3MxMjZNaVpwQkEtVU5fcjhPVXVocEtLU1Rqdy53b2ZmMikgZm9ybWF0KCd3b2ZmMicpIixlKTtlLndlaWdodD0iNjAwIjtjb25zdCByPW5ldyBGb250RmFjZSgiT3BlbiBTYW5zIiwidXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9vcGVuc2Fucy92MTgvbWVtNVlhR3MxMjZNaVpwQkEtVU5pcmtPVXVocEtLU1Rqdy53b2ZmMikgZm9ybWF0KCd3b2ZmMicpIixlKTt0LmxvYWQoKS50aGVuKChlPT57ZG9jdW1lbnQuZm9udHMuYWRkKGUpfSkpLHIubG9hZCgpLnRoZW4oKGU9Pntkb2N1bWVudC5mb250cy5hZGQoZSl9KSl9dGhpcy5yZW5kZXJTdHlsZT0iZm9jdXNlZCIsdGhpcy5wYXRoc0V4cGFuZGVkPSJ0cnVlIj09PXRoaXMucGF0aHNFeHBhbmRlZCx0aGlzLnNob3dJbmZvJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLnNob3dJbmZvfSxgKXx8KHRoaXMuc2hvd0luZm89InRydWUiKSx0aGlzLnNob3dTaWRlTmF2JiYidHJ1ZSBmYWxzZSIuaW5jbHVkZXModGhpcy5zaG93U2lkZU5hdil8fCh0aGlzLnNob3dTaWRlTmF2PSJ0cnVlIiksdGhpcy5zaG93SGVhZGVyJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLnNob3dIZWFkZXJ9LGApfHwodGhpcy5zaG93SGVhZGVyPSJ0cnVlIiksdGhpcy5zY2hlbWFTdHlsZSYmInRyZWUsIHRhYmxlLCIuaW5jbHVkZXMoYCR7dGhpcy5zY2hlbWFTdHlsZX0sYCl8fCh0aGlzLnNjaGVtYVN0eWxlPSJ0cmVlIiksdGhpcy50aGVtZSYmImxpZ2h0LCBkYXJrLCIuaW5jbHVkZXMoYCR7dGhpcy50aGVtZX0sYCl8fCh0aGlzLnRoZW1lPXdpbmRvdy5tYXRjaE1lZGlhJiZ3aW5kb3cubWF0Y2hNZWRpYSgiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodCkiKS5tYXRjaGVzPyJsaWdodCI6ImRhcmsiKSx0aGlzLmFsbG93U2VhcmNoJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLmFsbG93U2VhcmNofSxgKXx8KHRoaXMuYWxsb3dTZWFyY2g9InRydWUiKSwoIXRoaXMuc2NoZW1hRXhwYW5kTGV2ZWx8fHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWw8MSkmJih0aGlzLnNjaGVtYUV4cGFuZExldmVsPTk5OTk5KSx0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQmJiJ0cnVlLCBmYWxzZSwiLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH0sYCl8fCh0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQ9ImZhbHNlIiksdGhpcy5mb250U2l6ZSYmImRlZmF1bHQsIGxhcmdlLCBsYXJnZXN0LCIuaW5jbHVkZXMoYCR7dGhpcy5mb250U2l6ZX0sYCl8fCh0aGlzLmZvbnRTaXplPSJkZWZhdWx0IiksdGhpcy5tYXRjaFR5cGUmJiJpbmNsdWRlcyByZWdleCIuaW5jbHVkZXModGhpcy5tYXRjaFR5cGUpfHwodGhpcy5tYXRjaFR5cGU9ImluY2x1ZGVzIiksdGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlJiYidHJ1ZSwgZmFsc2UsIi5pbmNsdWRlcyhgJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9LGApfHwodGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlPSJ0cnVlIiksV2Uuc2V0T3B0aW9ucyh7aGlnaGxpZ2h0OihlLHQpPT5HZSgpLmxhbmd1YWdlc1t0XT9HZSgpLmhpZ2hsaWdodChlLEdlKCkubGFuZ3VhZ2VzW3RdLHQpOmV9KX1yZW5kZXIoKXtyZXR1cm4gRVIuY2FsbCh0aGlzLCEwLCExLCExLHRoaXMucGF0aHNFeHBhbmRlZCl9YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGUsdCxyKXsic3BlYy11cmwiPT09ZSYmdCE9PXImJndpbmRvdy5zZXRUaW1lb3V0KChhc3luYygpPT57YXdhaXQgdGhpcy5sb2FkU3BlYyhyKX0pLDApLHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhlLHQscil9b25TcGVjVXJsQ2hhbmdlKCl7dGhpcy5zZXRBdHRyaWJ1dGUoInNwZWMtdXJsIix0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoInNwZWMtdXJsIikudmFsdWUpfW9uU2VhcmNoQ2hhbmdlKGUpe3RoaXMubWF0Y2hQYXRocz1lLnRhcmdldC52YWx1ZX1hc3luYyBsb2FkU3BlYyhlKXtpZihlKXRyeXt0aGlzLnJlc29sdmVkU3BlYz17c3BlY0xvYWRFcnJvcjohMSxpc1NwZWNMb2FkaW5nOiEwLHRhZ3M6W119LHRoaXMubG9hZGluZz0hMCx0aGlzLmxvYWRGYWlsZWQ9ITEsdGhpcy5yZXF1ZXN0VXBkYXRlKCk7Y29uc3QgdD1hd2FpdCBNXy5jYWxsKHRoaXMsZSwidHJ1ZSI9PT10aGlzLmdlbmVyYXRlTWlzc2luZ1RhZ3MsInRydWUiPT09dGhpcy5zb3J0VGFncyx0aGlzLmdldEF0dHJpYnV0ZSgic29ydC1lbmRwb2ludHMtYnkiKSk7dGhpcy5sb2FkaW5nPSExLHRoaXMuYWZ0ZXJTcGVjUGFyc2VkQW5kVmFsaWRhdGVkKHQpfWNhdGNoKGUpe3RoaXMubG9hZGluZz0hMSx0aGlzLmxvYWRGYWlsZWQ9ITAsdGhpcy5yZXNvbHZlZFNwZWM9bnVsbCxjb25zb2xlLmVycm9yKGBSYXBpRG9jOiBVbmFibGUgdG8gcmVzb2x2ZSB0aGUgQVBJIHNwZWMuLiAgJHtlLm1lc3NhZ2V9YCl9fWFzeW5jIGFmdGVyU3BlY1BhcnNlZEFuZFZhbGlkYXRlZChlKXt0aGlzLnJlc29sdmVkU3BlYz1lO2NvbnN0IHQ9bmV3IEN1c3RvbUV2ZW50KCJzcGVjLWxvYWRlZCIse2RldGFpbDplfSk7dGhpcy5kaXNwYXRjaEV2ZW50KHQpfWhhbmRsZUhyZWYoZSl7aWYoImEiPT09ZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKS5zdGFydHNXaXRoKCIjIikpe2NvbnN0IHQ9dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiaHJlZiIpLnJlcGxhY2UoIiMiLCIiKSk7dCYmdC5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6ImF1dG8iLGJsb2NrOiJzdGFydCJ9KX19b25TZWxlY3RFeGFtcGxlKGUpe1suLi5lLnRhcmdldC5jbG9zZXN0KCIuanNvbi1zY2hlbWEtZXhhbXBsZS1wYW5lbCIpLnF1ZXJ5U2VsZWN0b3JBbGwoIi5leGFtcGxlIildLmZvckVhY2goKHQ9Pnt0LnN0eWxlLmRpc3BsYXk9dC5kYXRhc2V0LmV4YW1wbGU9PT1lLnRhcmdldC52YWx1ZT8iZmxleCI6Im5vbmUifSkpfWFzeW5jIHNjcm9sbFRvRXZlbnRUYXJnZXQoZSl7Y29uc3QgdD1lLmN1cnJlbnRUYXJnZXQ7aWYoIXQuZGF0YXNldC5jb250ZW50SWQpcmV0dXJuO2NvbnN0IHI9dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKHQuZGF0YXNldC5jb250ZW50SWQpO3ImJnIuc2Nyb2xsSW50b1ZpZXcoe2JlaGF2aW9yOiJhdXRvIixibG9jazoic3RhcnQifSl9fSl9LDc0MjooZSx0KT0+eyJ1c2Ugc3RyaWN0Ijt0LmJ5dGVMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9bChlKSxyPXRbMF0sbj10WzFdO3JldHVybiAzKihyK24pLzQtbn0sdC50b0J5dGVBcnJheT1mdW5jdGlvbihlKXt2YXIgdCxyLGE9bChlKSxpPWFbMF0scz1hWzFdLGM9bmV3IG8oZnVuY3Rpb24oZSx0LHIpe3JldHVybiAzKih0K3IpLzQtcn0oMCxpLHMpKSxwPTAsZD1zPjA/aS00Omk7Zm9yKHI9MDtyPGQ7cis9NCl0PW5bZS5jaGFyQ29kZUF0KHIpXTw8MTh8bltlLmNoYXJDb2RlQXQocisxKV08PDEyfG5bZS5jaGFyQ29kZUF0KHIrMildPDw2fG5bZS5jaGFyQ29kZUF0KHIrMyldLGNbcCsrXT10Pj4xNiYyNTUsY1twKytdPXQ+PjgmMjU1LGNbcCsrXT0yNTUmdDsyPT09cyYmKHQ9bltlLmNoYXJDb2RlQXQocildPDwyfG5bZS5jaGFyQ29kZUF0KHIrMSldPj40LGNbcCsrXT0yNTUmdCk7MT09PXMmJih0PW5bZS5jaGFyQ29kZUF0KHIpXTw8MTB8bltlLmNoYXJDb2RlQXQocisxKV08PDR8bltlLmNoYXJDb2RlQXQocisyKV0+PjIsY1twKytdPXQ+PjgmMjU1LGNbcCsrXT0yNTUmdCk7cmV0dXJuIGN9LHQuZnJvbUJ5dGVBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lLmxlbmd0aCxvPW4lMyxhPVtdLGk9MTYzODMscz0wLGw9bi1vO3M8bDtzKz1pKWEucHVzaChjKGUscyxzK2k+bD9sOnMraSkpOzE9PT1vPyh0PWVbbi0xXSxhLnB1c2goclt0Pj4yXStyW3Q8PDQmNjNdKyI9PSIpKToyPT09byYmKHQ9KGVbbi0yXTw8OCkrZVtuLTFdLGEucHVzaChyW3Q+PjEwXStyW3Q+PjQmNjNdK3JbdDw8MiY2M10rIj0iKSk7cmV0dXJuIGEuam9pbigiIil9O2Zvcih2YXIgcj1bXSxuPVtdLG89InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIsaT0wLHM9YS5sZW5ndGg7aTxzOysraSlyW2ldPWFbaV0sblthLmNoYXJDb2RlQXQoaSldPWk7ZnVuY3Rpb24gbChlKXt2YXIgdD1lLmxlbmd0aDtpZih0JTQ+MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQiKTt2YXIgcj1lLmluZGV4T2YoIj0iKTtyZXR1cm4tMT09PXImJihyPXQpLFtyLHI9PT10PzA6NC1yJTRdfWZ1bmN0aW9uIGMoZSx0LG4pe2Zvcih2YXIgbyxhLGk9W10scz10O3M8bjtzKz0zKW89KGVbc108PDE2JjE2NzExNjgwKSsoZVtzKzFdPDw4JjY1MjgwKSsoMjU1JmVbcysyXSksaS5wdXNoKHJbKGE9byk+PjE4JjYzXStyW2E+PjEyJjYzXStyW2E+PjYmNjNdK3JbNjMmYV0pO3JldHVybiBpLmpvaW4oIiIpfW5bIi0iLmNoYXJDb2RlQXQoMCldPTYyLG5bIl8iLmNoYXJDb2RlQXQoMCldPTYzfSw3NjQ6KGUsdCxyKT0+eyJ1c2Ugc3RyaWN0Ijtjb25zdCBuPXIoNzQyKSxvPXIoNjQ1KSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wuZm9yP1N5bWJvbC5mb3IoIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tIik6bnVsbDt0LmxXPWwsdC5oMj01MDtjb25zdCBpPTIxNDc0ODM2NDc7ZnVuY3Rpb24gcyhlKXtpZihlPmkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSAiJytlKyciIGlzIGludmFsaWQgZm9yIG9wdGlvbiAic2l6ZSInKTtjb25zdCB0PW5ldyBVaW50OEFycmF5KGUpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YodCxsLnByb3RvdHlwZSksdH1mdW5jdGlvbiBsKGUsdCxyKXtpZigibnVtYmVyIj09dHlwZW9mIGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInN0cmluZyIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gZChlKX1yZXR1cm4gYyhlLHQscil9ZnVuY3Rpb24gYyhlLHQscil7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBmdW5jdGlvbihlLHQpeyJzdHJpbmciPT10eXBlb2YgdCYmIiIhPT10fHwodD0idXRmOCIpO2lmKCFsLmlzRW5jb2RpbmcodCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIit0KTtjb25zdCByPTB8bShlLHQpO2xldCBuPXMocik7Y29uc3Qgbz1uLndyaXRlKGUsdCk7byE9PXImJihuPW4uc2xpY2UoMCxvKSk7cmV0dXJuIG59KGUsdCk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXJldHVybiBmdW5jdGlvbihlKXtpZihKKGUsVWludDhBcnJheSkpe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIGgodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9cmV0dXJuIHUoZSl9KGUpO2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgIit0eXBlb2YgZSk7aWYoSihlLEFycmF5QnVmZmVyKXx8ZSYmSihlLmJ1ZmZlcixBcnJheUJ1ZmZlcikpcmV0dXJuIGgoZSx0LHIpO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXImJihKKGUsU2hhcmVkQXJyYXlCdWZmZXIpfHxlJiZKKGUuYnVmZmVyLFNoYXJlZEFycmF5QnVmZmVyKSkpcmV0dXJuIGgoZSx0LHIpO2lmKCJudW1iZXIiPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtjb25zdCBuPWUudmFsdWVPZiYmZS52YWx1ZU9mKCk7aWYobnVsbCE9biYmbiE9PWUpcmV0dXJuIGwuZnJvbShuLHQscik7Y29uc3Qgbz1mdW5jdGlvbihlKXtpZihsLmlzQnVmZmVyKGUpKXtjb25zdCB0PTB8ZihlLmxlbmd0aCkscj1zKHQpO3JldHVybiAwPT09ci5sZW5ndGh8fGUuY29weShyLDAsMCx0KSxyfWlmKHZvaWQgMCE9PWUubGVuZ3RoKXJldHVybiJudW1iZXIiIT10eXBlb2YgZS5sZW5ndGh8fFkoZS5sZW5ndGgpP3MoMCk6dShlKTtpZigiQnVmZmVyIj09PWUudHlwZSYmQXJyYXkuaXNBcnJheShlLmRhdGEpKXJldHVybiB1KGUuZGF0YSl9KGUpO2lmKG8pcmV0dXJuIG87aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPVN5bWJvbC50b1ByaW1pdGl2ZSYmImZ1bmN0aW9uIj09dHlwZW9mIGVbU3ltYm9sLnRvUHJpbWl0aXZlXSlyZXR1cm4gbC5mcm9tKGVbU3ltYm9sLnRvUHJpbWl0aXZlXSgic3RyaW5nIiksdCxyKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAiK3R5cGVvZiBlKX1mdW5jdGlvbiBwKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlICInK2UrJyIgaXMgaW52YWxpZCBmb3Igb3B0aW9uICJzaXplIicpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIHAoZSkscyhlPDA/MDowfGYoZSkpfWZ1bmN0aW9uIHUoZSl7Y29uc3QgdD1lLmxlbmd0aDwwPzA6MHxmKGUubGVuZ3RoKSxyPXModCk7Zm9yKGxldCBuPTA7bjx0O24rPTEpcltuXT0yNTUmZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBoKGUsdCxyKXtpZih0PDB8fGUuYnl0ZUxlbmd0aDx0KXRocm93IG5ldyBSYW5nZUVycm9yKCcib2Zmc2V0IiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZihlLmJ5dGVMZW5ndGg8dCsocnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJsZW5ndGgiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2xldCBuO3JldHVybiBuPXZvaWQgMD09PXQmJnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkoZSk6dm9pZCAwPT09cj9uZXcgVWludDhBcnJheShlLHQpOm5ldyBVaW50OEFycmF5KGUsdCxyKSxPYmplY3Quc2V0UHJvdG90eXBlT2YobixsLnByb3RvdHlwZSksbn1mdW5jdGlvbiBmKGUpe2lmKGU+PWkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHgiK2kudG9TdHJpbmcoMTYpKyIgYnl0ZXMiKTtyZXR1cm4gMHxlfWZ1bmN0aW9uIG0oZSx0KXtpZihsLmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fEooZSxBcnJheUJ1ZmZlcikpcmV0dXJuIGUuYnl0ZUxlbmd0aDtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJzdHJpbmciIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpO2NvbnN0IHI9ZS5sZW5ndGgsbj1hcmd1bWVudHMubGVuZ3RoPjImJiEwPT09YXJndW1lbnRzWzJdO2lmKCFuJiYwPT09cilyZXR1cm4gMDtsZXQgbz0hMTtmb3IoOzspc3dpdGNoKHQpe2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIHI7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gVihlKS5sZW5ndGg7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiAyKnI7Y2FzZSJoZXgiOnJldHVybiByPj4+MTtjYXNlImJhc2U2NCI6cmV0dXJuIEcoZSkubGVuZ3RoO2RlZmF1bHQ6aWYobylyZXR1cm4gbj8tMTpWKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLG89ITB9fWZ1bmN0aW9uIHkoZSx0LHIpe2xldCBuPSExO2lmKCh2b2lkIDA9PT10fHx0PDApJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVybiIiO2lmKCh2b2lkIDA9PT1yfHxyPnRoaXMubGVuZ3RoKSYmKHI9dGhpcy5sZW5ndGgpLHI8PTApcmV0dXJuIiI7aWYoKHI+Pj49MCk8PSh0Pj4+PTApKXJldHVybiIiO2ZvcihlfHwoZT0idXRmOCIpOzspc3dpdGNoKGUpe2Nhc2UiaGV4IjpyZXR1cm4gaih0aGlzLHQscik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gRSh0aGlzLHQscik7Y2FzZSJhc2NpaSI6cmV0dXJuIFQodGhpcyx0LHIpO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIEModGhpcyx0LHIpO2Nhc2UiYmFzZTY0IjpyZXR1cm4gQSh0aGlzLHQscik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBJKHRoaXMsdCxyKTtkZWZhdWx0OmlmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTtlPShlKyIiKS50b0xvd2VyQ2FzZSgpLG49ITB9fWZ1bmN0aW9uIGcoZSx0LHIpe2NvbnN0IG49ZVt0XTtlW3RdPWVbcl0sZVtyXT1ufWZ1bmN0aW9uIHYoZSx0LHIsbixvKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuLTE7aWYoInN0cmluZyI9PXR5cGVvZiByPyhuPXIscj0wKTpyPjIxNDc0ODM2NDc/cj0yMTQ3NDgzNjQ3OnI8LTIxNDc0ODM2NDgmJihyPS0yMTQ3NDgzNjQ4KSxZKHI9K3IpJiYocj1vPzA6ZS5sZW5ndGgtMSkscjwwJiYocj1lLmxlbmd0aCtyKSxyPj1lLmxlbmd0aCl7aWYobylyZXR1cm4tMTtyPWUubGVuZ3RoLTF9ZWxzZSBpZihyPDApe2lmKCFvKXJldHVybi0xO3I9MH1pZigic3RyaW5nIj09dHlwZW9mIHQmJih0PWwuZnJvbSh0LG4pKSxsLmlzQnVmZmVyKHQpKXJldHVybiAwPT09dC5sZW5ndGg/LTE6YihlLHQscixuLG8pO2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gdCY9MjU1LCJmdW5jdGlvbiI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP28/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUsdCxyKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUsdCxyKTpiKGUsW3RdLHIsbixvKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXIiKX1mdW5jdGlvbiBiKGUsdCxyLG4sbyl7bGV0IGEsaT0xLHM9ZS5sZW5ndGgsbD10Lmxlbmd0aDtpZih2b2lkIDAhPT1uJiYoInVjczIiPT09KG49U3RyaW5nKG4pLnRvTG93ZXJDYXNlKCkpfHwidWNzLTIiPT09bnx8InV0ZjE2bGUiPT09bnx8InV0Zi0xNmxlIj09PW4pKXtpZihlLmxlbmd0aDwyfHx0Lmxlbmd0aDwyKXJldHVybi0xO2k9MixzLz0yLGwvPTIsci89Mn1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIDE9PT1pP2VbdF06ZS5yZWFkVUludDE2QkUodCppKX1pZihvKXtsZXQgbj0tMTtmb3IoYT1yO2E8czthKyspaWYoYyhlLGEpPT09Yyh0LC0xPT09bj8wOmEtbikpe2lmKC0xPT09biYmKG49YSksYS1uKzE9PT1sKXJldHVybiBuKml9ZWxzZS0xIT09biYmKGEtPWEtbiksbj0tMX1lbHNlIGZvcihyK2w+cyYmKHI9cy1sKSxhPXI7YT49MDthLS0pe2xldCByPSEwO2ZvcihsZXQgbj0wO248bDtuKyspaWYoYyhlLGErbikhPT1jKHQsbikpe3I9ITE7YnJlYWt9aWYocilyZXR1cm4gYX1yZXR1cm4tMX1mdW5jdGlvbiB4KGUsdCxyLG4pe3I9TnVtYmVyKHIpfHwwO2NvbnN0IG89ZS5sZW5ndGgtcjtuPyhuPU51bWJlcihuKSk+byYmKG49byk6bj1vO2NvbnN0IGE9dC5sZW5ndGg7bGV0IGk7Zm9yKG4+YS8yJiYobj1hLzIpLGk9MDtpPG47KytpKXtjb25zdCBuPXBhcnNlSW50KHQuc3Vic3RyKDIqaSwyKSwxNik7aWYoWShuKSlyZXR1cm4gaTtlW3IraV09bn1yZXR1cm4gaX1mdW5jdGlvbiB3KGUsdCxyLG4pe3JldHVybiBLKFYodCxlLmxlbmd0aC1yKSxlLHIsbil9ZnVuY3Rpb24gJChlLHQscixuKXtyZXR1cm4gSyhmdW5jdGlvbihlKXtjb25zdCB0PVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKXQucHVzaCgyNTUmZS5jaGFyQ29kZUF0KHIpKTtyZXR1cm4gdH0odCksZSxyLG4pfWZ1bmN0aW9uIGsoZSx0LHIsbil7cmV0dXJuIEsoRyh0KSxlLHIsbil9ZnVuY3Rpb24gUyhlLHQscixuKXtyZXR1cm4gSyhmdW5jdGlvbihlLHQpe2xldCByLG4sbztjb25zdCBhPVtdO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysraSlyPWUuY2hhckNvZGVBdChpKSxuPXI+Pjgsbz1yJTI1NixhLnB1c2gobyksYS5wdXNoKG4pO3JldHVybiBhfSh0LGUubGVuZ3RoLXIpLGUscixuKX1mdW5jdGlvbiBBKGUsdCxyKXtyZXR1cm4gMD09PXQmJnI9PT1lLmxlbmd0aD9uLmZyb21CeXRlQXJyYXkoZSk6bi5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxyKSl9ZnVuY3Rpb24gRShlLHQscil7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtjb25zdCBuPVtdO2xldCBvPXQ7Zm9yKDtvPHI7KXtjb25zdCB0PWVbb107bGV0IGE9bnVsbCxpPXQ+MjM5PzQ6dD4yMjM/Mzp0PjE5MT8yOjE7aWYobytpPD1yKXtsZXQgcixuLHMsbDtzd2l0Y2goaSl7Y2FzZSAxOnQ8MTI4JiYoYT10KTticmVhaztjYXNlIDI6cj1lW28rMV0sMTI4PT0oMTkyJnIpJiYobD0oMzEmdCk8PDZ8NjMmcixsPjEyNyYmKGE9bCkpO2JyZWFrO2Nhc2UgMzpyPWVbbysxXSxuPWVbbysyXSwxMjg9PSgxOTImcikmJjEyOD09KDE5MiZuKSYmKGw9KDE1JnQpPDwxMnwoNjMmcik8PDZ8NjMmbixsPjIwNDcmJihsPDU1Mjk2fHxsPjU3MzQzKSYmKGE9bCkpO2JyZWFrO2Nhc2UgNDpyPWVbbysxXSxuPWVbbysyXSxzPWVbbyszXSwxMjg9PSgxOTImcikmJjEyOD09KDE5MiZuKSYmMTI4PT0oMTkyJnMpJiYobD0oMTUmdCk8PDE4fCg2MyZyKTw8MTJ8KDYzJm4pPDw2fDYzJnMsbD42NTUzNSYmbDwxMTE0MTEyJiYoYT1sKSl9fW51bGw9PT1hPyhhPTY1NTMzLGk9MSk6YT42NTUzNSYmKGEtPTY1NTM2LG4ucHVzaChhPj4+MTAmMTAyM3w1NTI5NiksYT01NjMyMHwxMDIzJmEpLG4ucHVzaChhKSxvKz1pfXJldHVybiBmdW5jdGlvbihlKXtjb25zdCB0PWUubGVuZ3RoO2lmKHQ8PU8pcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUpO2xldCByPSIiLG49MDtmb3IoO248dDspcis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5zbGljZShuLG4rPU8pKTtyZXR1cm4gcn0obil9bC5UWVBFRF9BUlJBWV9TVVBQT1JUPWZ1bmN0aW9uKCl7dHJ5e2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoMSksdD17Zm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX07cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZih0LFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KSw0Mj09PWUuZm9vKCl9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLGwuVFlQRURfQVJSQVlfU1VQUE9SVHx8InVuZGVmaW5lZCI9PXR5cGVvZiBjb25zb2xlfHwiZnVuY3Rpb24iIT10eXBlb2YgY29uc29sZS5lcnJvcnx8Y29uc29sZS5lcnJvcigiVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5IGBidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGwucHJvdG90eXBlLCJwYXJlbnQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKGwuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLnByb3RvdHlwZSwib2Zmc2V0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZihsLmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ5dGVPZmZzZXR9fSksbC5wb29sU2l6ZT04MTkyLGwuZnJvbT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGMoZSx0LHIpfSxPYmplY3Quc2V0UHJvdG90eXBlT2YobC5wcm90b3R5cGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihsLFVpbnQ4QXJyYXkpLGwuYWxsb2M9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIHAoZSksZTw9MD9zKGUpOnZvaWQgMCE9PXQ/InN0cmluZyI9PXR5cGVvZiByP3MoZSkuZmlsbCh0LHIpOnMoZSkuZmlsbCh0KTpzKGUpfShlLHQscil9LGwuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSl9LGwuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe3JldHVybiBkKGUpfSxsLmlzQnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiYhMD09PWUuX2lzQnVmZmVyJiZlIT09bC5wcm90b3R5cGV9LGwuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKEooZSxVaW50OEFycmF5KSYmKGU9bC5mcm9tKGUsZS5vZmZzZXQsZS5ieXRlTGVuZ3RoKSksSih0LFVpbnQ4QXJyYXkpJiYodD1sLmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSwhbC5pc0J1ZmZlcihlKXx8IWwuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJidWYxIiwgImJ1ZjIiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5Jyk7aWYoZT09PXQpcmV0dXJuIDA7bGV0IHI9ZS5sZW5ndGgsbj10Lmxlbmd0aDtmb3IobGV0IG89MCxhPU1hdGgubWluKHIsbik7bzxhOysrbylpZihlW29dIT09dFtvXSl7cj1lW29dLG49dFtvXTticmVha31yZXR1cm4gcjxuPy0xOm48cj8xOjB9LGwuaXNFbmNvZGluZz1mdW5jdGlvbihlKXtzd2l0Y2goU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6Y2FzZSJiYXNlNjQiOmNhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sbC5jb25jYXQ9ZnVuY3Rpb24oZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PWUubGVuZ3RoKXJldHVybiBsLmFsbG9jKDApO2xldCByO2lmKHZvaWQgMD09PXQpZm9yKHQ9MCxyPTA7cjxlLmxlbmd0aDsrK3IpdCs9ZVtyXS5sZW5ndGg7Y29uc3Qgbj1sLmFsbG9jVW5zYWZlKHQpO2xldCBvPTA7Zm9yKHI9MDtyPGUubGVuZ3RoOysrcil7bGV0IHQ9ZVtyXTtpZihKKHQsVWludDhBcnJheSkpbyt0Lmxlbmd0aD5uLmxlbmd0aD8obC5pc0J1ZmZlcih0KXx8KHQ9bC5mcm9tKHQpKSx0LmNvcHkobixvKSk6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwobix0LG8pO2Vsc2V7aWYoIWwuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO3QuY29weShuLG8pfW8rPXQubGVuZ3RofXJldHVybiBufSxsLmJ5dGVMZW5ndGg9bSxsLnByb3RvdHlwZS5faXNCdWZmZXI9ITAsbC5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmxlbmd0aDtpZihlJTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKGxldCB0PTA7dDxlO3QrPTIpZyh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30sbC5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmxlbmd0aDtpZihlJTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzIik7Zm9yKGxldCB0PTA7dDxlO3QrPTQpZyh0aGlzLHQsdCszKSxnKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LGwucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5sZW5ndGg7aWYoZSU4IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cyIpO2ZvcihsZXQgdD0wO3Q8ZTt0Kz04KWcodGhpcyx0LHQrNyksZyh0aGlzLHQrMSx0KzYpLGcodGhpcyx0KzIsdCs1KSxnKHRoaXMsdCszLHQrNCk7cmV0dXJuIHRoaXN9LGwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmxlbmd0aDtyZXR1cm4gMD09PWU/IiI6MD09PWFyZ3VtZW50cy5sZW5ndGg/RSh0aGlzLDAsZSk6eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGwucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPWwucHJvdG90eXBlLnRvU3RyaW5nLGwucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtpZighbC5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT1lfHwwPT09bC5jb21wYXJlKHRoaXMsZSl9LGwucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXtsZXQgZT0iIjtjb25zdCByPXQuaDI7cmV0dXJuIGU9dGhpcy50b1N0cmluZygiaGV4IiwwLHIpLnJlcGxhY2UoLyguezJ9KS9nLCIkMSAiKS50cmltKCksdGhpcy5sZW5ndGg+ciYmKGUrPSIgLi4uICIpLCI8QnVmZmVyICIrZSsiPiJ9LGEmJihsLnByb3RvdHlwZVthXT1sLnByb3RvdHlwZS5pbnNwZWN0KSxsLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCxyLG4sbyl7aWYoSihlLFVpbnQ4QXJyYXkpJiYoZT1sLmZyb20oZSxlLm9mZnNldCxlLmJ5dGVMZW5ndGgpKSwhbC5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInRhcmdldCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1yJiYocj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSx0PDB8fHI+ZS5sZW5ndGh8fG48MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYobj49byYmdD49cilyZXR1cm4gMDtpZihuPj1vKXJldHVybi0xO2lmKHQ+PXIpcmV0dXJuIDE7aWYodGhpcz09PWUpcmV0dXJuIDA7bGV0IGE9KG8+Pj49MCktKG4+Pj49MCksaT0ocj4+Pj0wKS0odD4+Pj0wKTtjb25zdCBzPU1hdGgubWluKGEsaSksYz10aGlzLnNsaWNlKG4sbykscD1lLnNsaWNlKHQscik7Zm9yKGxldCBlPTA7ZTxzOysrZSlpZihjW2VdIT09cFtlXSl7YT1jW2VdLGk9cFtlXTticmVha31yZXR1cm4gYTxpPy0xOmk8YT8xOjB9LGwucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZihlLHQscil9LGwucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2KHRoaXMsZSx0LHIsITApfSxsLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHYodGhpcyxlLHQsciwhMSl9LGwucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHZvaWQgMD09PXQpbj0idXRmOCIscj10aGlzLmxlbmd0aCx0PTA7ZWxzZSBpZih2b2lkIDA9PT1yJiYic3RyaW5nIj09dHlwZW9mIHQpbj10LHI9dGhpcy5sZW5ndGgsdD0wO2Vsc2V7aWYoIWlzRmluaXRlKHQpKXRocm93IG5ldyBFcnJvcigiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQiKTt0Pj4+PTAsaXNGaW5pdGUocik/KHI+Pj49MCx2b2lkIDA9PT1uJiYobj0idXRmOCIpKToobj1yLHI9dm9pZCAwKX1jb25zdCBvPXRoaXMubGVuZ3RoLXQ7aWYoKHZvaWQgMD09PXJ8fHI+bykmJihyPW8pLGUubGVuZ3RoPjAmJihyPDB8fHQ8MCl8fHQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIik7bnx8KG49InV0ZjgiKTtsZXQgYT0hMTtmb3IoOzspc3dpdGNoKG4pe2Nhc2UiaGV4IjpyZXR1cm4geCh0aGlzLGUsdCxyKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiB3KHRoaXMsZSx0LHIpO2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuICQodGhpcyxlLHQscik7Y2FzZSJiYXNlNjQiOnJldHVybiBrKHRoaXMsZSx0LHIpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gUyh0aGlzLGUsdCxyKTtkZWZhdWx0OmlmKGEpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIituKTtuPSgiIituKS50b0xvd2VyQ2FzZSgpLGE9ITB9fSxsLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiQnVmZmVyIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O2NvbnN0IE89NDA5NjtmdW5jdGlvbiBUKGUsdCxyKXtsZXQgbj0iIjtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2ZvcihsZXQgbz10O288cjsrK28pbis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmZVtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gQyhlLHQscil7bGV0IG49IiI7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtmb3IobGV0IG89dDtvPHI7KytvKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gaihlLHQscil7Y29uc3Qgbj1lLmxlbmd0aDsoIXR8fHQ8MCkmJih0PTApLCghcnx8cjwwfHxyPm4pJiYocj1uKTtsZXQgbz0iIjtmb3IobGV0IG49dDtuPHI7KytuKW8rPVpbZVtuXV07cmV0dXJuIG99ZnVuY3Rpb24gSShlLHQscil7Y29uc3Qgbj1lLnNsaWNlKHQscik7bGV0IG89IiI7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aC0xO2UrPTIpbys9U3RyaW5nLmZyb21DaGFyQ29kZShuW2VdKzI1NipuW2UrMV0pO3JldHVybiBvfWZ1bmN0aW9uIF8oZSx0LHIpe2lmKGUlMSE9MHx8ZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJvZmZzZXQgaXMgbm90IHVpbnQiKTtpZihlK3Q+cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCIpfWZ1bmN0aW9uIFAoZSx0LHIsbixvLGEpe2lmKCFsLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJidWZmZXIiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih0Pm98fHQ8YSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInZhbHVlIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYocituPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBSKGUsdCxyLG4sbyl7eih0LG4sbyxlLHIsNyk7bGV0IGE9TnVtYmVyKHQmQmlnSW50KDQyOTQ5NjcyOTUpKTtlW3IrK109YSxhPj49OCxlW3IrK109YSxhPj49OCxlW3IrK109YSxhPj49OCxlW3IrK109YTtsZXQgaT1OdW1iZXIodD4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiBlW3IrK109aSxpPj49OCxlW3IrK109aSxpPj49OCxlW3IrK109aSxpPj49OCxlW3IrK109aSxyfWZ1bmN0aW9uIEwoZSx0LHIsbixvKXt6KHQsbixvLGUsciw3KTtsZXQgYT1OdW1iZXIodCZCaWdJbnQoNDI5NDk2NzI5NSkpO2Vbcis3XT1hLGE+Pj04LGVbcis2XT1hLGE+Pj04LGVbcis1XT1hLGE+Pj04LGVbcis0XT1hO2xldCBpPU51bWJlcih0Pj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIGVbciszXT1pLGk+Pj04LGVbcisyXT1pLGk+Pj04LGVbcisxXT1pLGk+Pj04LGVbcl09aSxyKzh9ZnVuY3Rpb24gRihlLHQscixuLG8sYSl7aWYocituPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIEQoZSx0LHIsbixhKXtyZXR1cm4gdD0rdCxyPj4+PTAsYXx8RihlLDAsciw0KSxvLndyaXRlKGUsdCxyLG4sMjMsNCkscis0fWZ1bmN0aW9uIEIoZSx0LHIsbixhKXtyZXR1cm4gdD0rdCxyPj4+PTAsYXx8RihlLDAsciw4KSxvLndyaXRlKGUsdCxyLG4sNTIsOCkscis4fWwucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj10aGlzLmxlbmd0aDsoZT1+fmUpPDA/KGUrPXIpPDAmJihlPTApOmU+ciYmKGU9ciksKHQ9dm9pZCAwPT09dD9yOn5+dCk8MD8odCs9cik8MCYmKHQ9MCk6dD5yJiYodD1yKSx0PGUmJih0PWUpO2NvbnN0IG49dGhpcy5zdWJhcnJheShlLHQpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YobixsLnByb3RvdHlwZSksbn0sbC5wcm90b3R5cGUucmVhZFVpbnRMRT1sLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGUsdCxyKXtlPj4+PTAsdD4+Pj0wLHJ8fF8oZSx0LHRoaXMubGVuZ3RoKTtsZXQgbj10aGlzW2VdLG89MSxhPTA7Zm9yKDsrK2E8dCYmKG8qPTI1Nik7KW4rPXRoaXNbZSthXSpvO3JldHVybiBufSxsLnByb3RvdHlwZS5yZWFkVWludEJFPWwucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LHIpe2U+Pj49MCx0Pj4+PTAscnx8XyhlLHQsdGhpcy5sZW5ndGgpO2xldCBuPXRoaXNbZSstLXRdLG89MTtmb3IoO3Q+MCYmKG8qPTI1Nik7KW4rPXRoaXNbZSstLXRdKm87cmV0dXJuIG59LGwucHJvdG90eXBlLnJlYWRVaW50OD1sLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fF8oZSwxLHRoaXMubGVuZ3RoKSx0aGlzW2VdfSxsLnByb3RvdHlwZS5yZWFkVWludDE2TEU9bC5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxfKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LGwucHJvdG90eXBlLnJlYWRVaW50MTZCRT1sLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fF8oZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdPDw4fHRoaXNbZSsxXX0sbC5wcm90b3R5cGUucmVhZFVpbnQzMkxFPWwucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8XyhlLDQsdGhpcy5sZW5ndGgpLCh0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2KSsxNjc3NzIxNip0aGlzW2UrM119LGwucHJvdG90eXBlLnJlYWRVaW50MzJCRT1sLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fF8oZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSxsLnByb3RvdHlwZS5yZWFkQmlnVUludDY0TEU9USgoZnVuY3Rpb24oZSl7TShlPj4+PTAsIm9mZnNldCIpO2NvbnN0IHQ9dGhpc1tlXSxyPXRoaXNbZSs3XTt2b2lkIDAhPT10JiZ2b2lkIDAhPT1yfHxIKGUsdGhpcy5sZW5ndGgtOCk7Y29uc3Qgbj10KzI1Nip0aGlzWysrZV0rNjU1MzYqdGhpc1srK2VdK3RoaXNbKytlXSoyKioyNCxvPXRoaXNbKytlXSsyNTYqdGhpc1srK2VdKzY1NTM2KnRoaXNbKytlXStyKjIqKjI0O3JldHVybiBCaWdJbnQobikrKEJpZ0ludChvKTw8QmlnSW50KDMyKSl9KSksbC5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NEJFPVEoKGZ1bmN0aW9uKGUpe00oZT4+Pj0wLCJvZmZzZXQiKTtjb25zdCB0PXRoaXNbZV0scj10aGlzW2UrN107dm9pZCAwIT09dCYmdm9pZCAwIT09cnx8SChlLHRoaXMubGVuZ3RoLTgpO2NvbnN0IG49dCoyKioyNCs2NTUzNip0aGlzWysrZV0rMjU2KnRoaXNbKytlXSt0aGlzWysrZV0sbz10aGlzWysrZV0qMioqMjQrNjU1MzYqdGhpc1srK2VdKzI1Nip0aGlzWysrZV0rcjtyZXR1cm4oQmlnSW50KG4pPDxCaWdJbnQoMzIpKStCaWdJbnQobyl9KSksbC5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKGUsdCxyKXtlPj4+PTAsdD4+Pj0wLHJ8fF8oZSx0LHRoaXMubGVuZ3RoKTtsZXQgbj10aGlzW2VdLG89MSxhPTA7Zm9yKDsrK2E8dCYmKG8qPTI1Nik7KW4rPXRoaXNbZSthXSpvO3JldHVybiBvKj0xMjgsbj49byYmKG4tPU1hdGgucG93KDIsOCp0KSksbn0sbC5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKGUsdCxyKXtlPj4+PTAsdD4+Pj0wLHJ8fF8oZSx0LHRoaXMubGVuZ3RoKTtsZXQgbj10LG89MSxhPXRoaXNbZSstLW5dO2Zvcig7bj4wJiYobyo9MjU2KTspYSs9dGhpc1tlKy0tbl0qbztyZXR1cm4gbyo9MTI4LGE+PW8mJihhLT1NYXRoLnBvdygyLDgqdCkpLGF9LGwucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxfKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LGwucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7ZT4+Pj0wLHR8fF8oZSwyLHRoaXMubGVuZ3RoKTtjb25zdCByPXRoaXNbZV18dGhpc1tlKzFdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxsLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe2U+Pj49MCx0fHxfKGUsMix0aGlzLmxlbmd0aCk7Y29uc3Qgcj10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0sbC5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fF8oZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2fHRoaXNbZSszXTw8MjR9LGwucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxfKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSxsLnByb3RvdHlwZS5yZWFkQmlnSW50NjRMRT1RKChmdW5jdGlvbihlKXtNKGU+Pj49MCwib2Zmc2V0Iik7Y29uc3QgdD10aGlzW2VdLHI9dGhpc1tlKzddO3ZvaWQgMCE9PXQmJnZvaWQgMCE9PXJ8fEgoZSx0aGlzLmxlbmd0aC04KTtjb25zdCBuPXRoaXNbZSs0XSsyNTYqdGhpc1tlKzVdKzY1NTM2KnRoaXNbZSs2XSsocjw8MjQpO3JldHVybihCaWdJbnQobik8PEJpZ0ludCgzMikpK0JpZ0ludCh0KzI1Nip0aGlzWysrZV0rNjU1MzYqdGhpc1srK2VdK3RoaXNbKytlXSoyKioyNCl9KSksbC5wcm90b3R5cGUucmVhZEJpZ0ludDY0QkU9USgoZnVuY3Rpb24oZSl7TShlPj4+PTAsIm9mZnNldCIpO2NvbnN0IHQ9dGhpc1tlXSxyPXRoaXNbZSs3XTt2b2lkIDAhPT10JiZ2b2lkIDAhPT1yfHxIKGUsdGhpcy5sZW5ndGgtOCk7Y29uc3Qgbj0odDw8MjQpKzY1NTM2KnRoaXNbKytlXSsyNTYqdGhpc1srK2VdK3RoaXNbKytlXTtyZXR1cm4oQmlnSW50KG4pPDxCaWdJbnQoMzIpKStCaWdJbnQodGhpc1srK2VdKjIqKjI0KzY1NTM2KnRoaXNbKytlXSsyNTYqdGhpc1srK2VdK3IpfSkpLGwucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxfKGUsNCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMCwyMyw0KX0sbC5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fF8oZSw0LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDIzLDQpfSxsLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fF8oZSw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCEwLDUyLDgpfSxsLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fF8oZSw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDUyLDgpfSxsLnByb3RvdHlwZS53cml0ZVVpbnRMRT1sLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbihlLHQscixuKXtpZihlPStlLHQ+Pj49MCxyPj4+PTAsIW4pe1AodGhpcyxlLHQscixNYXRoLnBvdygyLDgqciktMSwwKX1sZXQgbz0xLGE9MDtmb3IodGhpc1t0XT0yNTUmZTsrK2E8ciYmKG8qPTI1Nik7KXRoaXNbdCthXT1lL28mMjU1O3JldHVybiB0K3J9LGwucHJvdG90eXBlLndyaXRlVWludEJFPWwucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGU9K2UsdD4+Pj0wLHI+Pj49MCwhbil7UCh0aGlzLGUsdCxyLE1hdGgucG93KDIsOCpyKS0xLDApfWxldCBvPXItMSxhPTE7Zm9yKHRoaXNbdCtvXT0yNTUmZTstLW8+PTAmJihhKj0yNTYpOyl0aGlzW3Qrb109ZS9hJjI1NTtyZXR1cm4gdCtyfSxsLnByb3RvdHlwZS53cml0ZVVpbnQ4PWwucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDEsMjU1LDApLHRoaXNbdF09MjU1JmUsdCsxfSxsLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFPWwucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDIsNjU1MzUsMCksdGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdCsyfSxsLnByb3RvdHlwZS53cml0ZVVpbnQxNkJFPWwucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDIsNjU1MzUsMCksdGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUsdCsyfSxsLnByb3RvdHlwZS53cml0ZVVpbnQzMkxFPWwucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSx0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUsdCs0fSxsLnByb3RvdHlwZS53cml0ZVVpbnQzMkJFPWwucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSx0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUsdCs0fSxsLnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NExFPVEoKGZ1bmN0aW9uKGUsdD0wKXtyZXR1cm4gUih0aGlzLGUsdCxCaWdJbnQoMCksQmlnSW50KCIweGZmZmZmZmZmZmZmZmZmZmYiKSl9KSksbC5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRT1RKChmdW5jdGlvbihlLHQ9MCl7cmV0dXJuIEwodGhpcyxlLHQsQmlnSW50KDApLEJpZ0ludCgiMHhmZmZmZmZmZmZmZmZmZmZmIikpfSkpLGwucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24oZSx0LHIsbil7aWYoZT0rZSx0Pj4+PTAsIW4pe2NvbnN0IG49TWF0aC5wb3coMiw4KnItMSk7UCh0aGlzLGUsdCxyLG4tMSwtbil9bGV0IG89MCxhPTEsaT0wO2Zvcih0aGlzW3RdPTI1NSZlOysrbzxyJiYoYSo9MjU2KTspZTwwJiYwPT09aSYmMCE9PXRoaXNbdCtvLTFdJiYoaT0xKSx0aGlzW3Qrb109KGUvYT4+MCktaSYyNTU7cmV0dXJuIHQrcn0sbC5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihlLHQscixuKXtpZihlPStlLHQ+Pj49MCwhbil7Y29uc3Qgbj1NYXRoLnBvdygyLDgqci0xKTtQKHRoaXMsZSx0LHIsbi0xLC1uKX1sZXQgbz1yLTEsYT0xLGk9MDtmb3IodGhpc1t0K29dPTI1NSZlOy0tbz49MCYmKGEqPTI1Nik7KWU8MCYmMD09PWkmJjAhPT10aGlzW3QrbysxXSYmKGk9MSksdGhpc1t0K29dPShlL2E+PjApLWkmMjU1O3JldHVybiB0K3J9LGwucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdD4+Pj0wLHJ8fFAodGhpcyxlLHQsMSwxMjcsLTEyOCksZTwwJiYoZT0yNTUrZSsxKSx0aGlzW3RdPTI1NSZlLHQrMX0sbC5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8UCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksdGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdCsyfSxsLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDIsMzI3NjcsLTMyNzY4KSx0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSx0KzJ9LGwucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdD4+Pj0wLHJ8fFAodGhpcyxlLHQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCszXT1lPj4+MjQsdCs0fSxsLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSksdGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlLHQrNH0sbC5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFPVEoKGZ1bmN0aW9uKGUsdD0wKXtyZXR1cm4gUih0aGlzLGUsdCwtQmlnSW50KCIweDgwMDAwMDAwMDAwMDAwMDAiKSxCaWdJbnQoIjB4N2ZmZmZmZmZmZmZmZmZmZiIpKX0pKSxsLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkU9USgoZnVuY3Rpb24oZSx0PTApe3JldHVybiBMKHRoaXMsZSx0LC1CaWdJbnQoIjB4ODAwMDAwMDAwMDAwMDAwMCIpLEJpZ0ludCgiMHg3ZmZmZmZmZmZmZmZmZmZmIikpfSkpLGwucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEQodGhpcyxlLHQsITAscil9LGwucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEQodGhpcyxlLHQsITEscil9LGwucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBCKHRoaXMsZSx0LCEwLHIpfSxsLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gQih0aGlzLGUsdCwhMSxyKX0sbC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQscixuKXtpZighbC5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXIiKTtpZihyfHwocj0wKSxufHwwPT09bnx8KG49dGhpcy5sZW5ndGgpLHQ+PWUubGVuZ3RoJiYodD1lLmxlbmd0aCksdHx8KHQ9MCksbj4wJiZuPHImJihuPXIpLG49PT1yKXJldHVybiAwO2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKHI8MHx8cj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKG48MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlRW5kIG91dCBvZiBib3VuZHMiKTtuPnRoaXMubGVuZ3RoJiYobj10aGlzLmxlbmd0aCksZS5sZW5ndGgtdDxuLXImJihuPWUubGVuZ3RoLXQrcik7Y29uc3Qgbz1uLXI7cmV0dXJuIHRoaXM9PT1lJiYiZnVuY3Rpb24iPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj90aGlzLmNvcHlXaXRoaW4odCxyLG4pOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKGUsdGhpcy5zdWJhcnJheShyLG4pLHQpLG99LGwucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oZSx0LHIsbil7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQ/KG49dCx0PTAscj10aGlzLmxlbmd0aCk6InN0cmluZyI9PXR5cGVvZiByJiYobj1yLHI9dGhpcy5sZW5ndGgpLHZvaWQgMCE9PW4mJiJzdHJpbmciIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYhbC5pc0VuY29kaW5nKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrbik7aWYoMT09PWUubGVuZ3RoKXtjb25zdCB0PWUuY2hhckNvZGVBdCgwKTsoInV0ZjgiPT09biYmdDwxMjh8fCJsYXRpbjEiPT09bikmJihlPXQpfX1lbHNlIm51bWJlciI9PXR5cGVvZiBlP2UmPTI1NToiYm9vbGVhbiI9PXR5cGVvZiBlJiYoZT1OdW1iZXIoZSkpO2lmKHQ8MHx8dGhpcy5sZW5ndGg8dHx8dGhpcy5sZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiT3V0IG9mIHJhbmdlIGluZGV4Iik7aWYocjw9dClyZXR1cm4gdGhpcztsZXQgbztpZih0Pj4+PTAscj12b2lkIDA9PT1yP3RoaXMubGVuZ3RoOnI+Pj4wLGV8fChlPTApLCJudW1iZXIiPT10eXBlb2YgZSlmb3Iobz10O288cjsrK28pdGhpc1tvXT1lO2Vsc2V7Y29uc3QgYT1sLmlzQnVmZmVyKGUpP2U6bC5mcm9tKGUsbiksaT1hLmxlbmd0aDtpZigwPT09aSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgIicrZSsnIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCAidmFsdWUiJyk7Zm9yKG89MDtvPHItdDsrK28pdGhpc1tvK3RdPWFbbyVpXX1yZXR1cm4gdGhpc307Y29uc3QgTj17fTtmdW5jdGlvbiBxKGUsdCxyKXtOW2VdPWNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIm1lc3NhZ2UiLHt2YWx1ZTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0aGlzLm5hbWU9YCR7dGhpcy5uYW1lfSBbJHtlfV1gLHRoaXMuc3RhY2ssZGVsZXRlIHRoaXMubmFtZX1nZXQgY29kZSgpe3JldHVybiBlfXNldCBjb2RlKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJjb2RlIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6ZSx3cml0YWJsZTohMH0pfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5uYW1lfSBbJHtlfV06ICR7dGhpcy5tZXNzYWdlfWB9fX1mdW5jdGlvbiBVKGUpe2xldCB0PSIiLHI9ZS5sZW5ndGg7Y29uc3Qgbj0iLSI9PT1lWzBdPzE6MDtmb3IoO3I+PW4rNDtyLT0zKXQ9YF8ke2Uuc2xpY2Uoci0zLHIpfSR7dH1gO3JldHVybmAke2Uuc2xpY2UoMCxyKX0ke3R9YH1mdW5jdGlvbiB6KGUsdCxyLG4sbyxhKXtpZihlPnJ8fGU8dCl7Y29uc3Qgbj0iYmlnaW50Ij09dHlwZW9mIHQ/Im4iOiIiO2xldCBvO3Rocm93IG89YT4zPzA9PT10fHx0PT09QmlnSW50KDApP2A+PSAwJHtufSBhbmQgPCAyJHtufSAqKiAkezgqKGErMSl9JHtufWA6YD49IC0oMiR7bn0gKiogJHs4KihhKzEpLTF9JHtufSkgYW5kIDwgMiAqKiAkezgqKGErMSktMX0ke259YDpgPj0gJHt0fSR7bn0gYW5kIDw9ICR7cn0ke259YCxuZXcgTi5FUlJfT1VUX09GX1JBTkdFKCJ2YWx1ZSIsbyxlKX0hZnVuY3Rpb24oZSx0LHIpe00odCwib2Zmc2V0Iiksdm9pZCAwIT09ZVt0XSYmdm9pZCAwIT09ZVt0K3JdfHxIKHQsZS5sZW5ndGgtKHIrMSkpfShuLG8sYSl9ZnVuY3Rpb24gTShlLHQpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgTi5FUlJfSU5WQUxJRF9BUkdfVFlQRSh0LCJudW1iZXIiLGUpfWZ1bmN0aW9uIEgoZSx0LHIpe2lmKE1hdGguZmxvb3IoZSkhPT1lKXRocm93IE0oZSxyKSxuZXcgTi5FUlJfT1VUX09GX1JBTkdFKHJ8fCJvZmZzZXQiLCJhbiBpbnRlZ2VyIixlKTtpZih0PDApdGhyb3cgbmV3IE4uRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTO3Rocm93IG5ldyBOLkVSUl9PVVRfT0ZfUkFOR0Uocnx8Im9mZnNldCIsYD49ICR7cj8xOjB9IGFuZCA8PSAke3R9YCxlKX1xKCJFUlJfQlVGRkVSX09VVF9PRl9CT1VORFMiLChmdW5jdGlvbihlKXtyZXR1cm4gZT9gJHtlfSBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHNgOiJBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzIn0pLFJhbmdlRXJyb3IpLHEoIkVSUl9JTlZBTElEX0FSR19UWVBFIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm5gVGhlICIke2V9IiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIHR9YH0pLFR5cGVFcnJvcikscSgiRVJSX09VVF9PRl9SQU5HRSIsKGZ1bmN0aW9uKGUsdCxyKXtsZXQgbj1gVGhlIHZhbHVlIG9mICIke2V9IiBpcyBvdXQgb2YgcmFuZ2UuYCxvPXI7cmV0dXJuIE51bWJlci5pc0ludGVnZXIocikmJk1hdGguYWJzKHIpPjIqKjMyP289VShTdHJpbmcocikpOiJiaWdpbnQiPT10eXBlb2YgciYmKG89U3RyaW5nKHIpLChyPkJpZ0ludCgyKSoqQmlnSW50KDMyKXx8cjwtKEJpZ0ludCgyKSoqQmlnSW50KDMyKSkpJiYobz1VKG8pKSxvKz0ibiIpLG4rPWAgSXQgbXVzdCBiZSAke3R9LiBSZWNlaXZlZCAke299YCxufSksUmFuZ2VFcnJvcik7Y29uc3QgVz0vW14rLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIFYoZSx0KXtsZXQgcjt0PXR8fDEvMDtjb25zdCBuPWUubGVuZ3RoO2xldCBvPW51bGw7Y29uc3QgYT1bXTtmb3IobGV0IGk9MDtpPG47KytpKXtpZihyPWUuY2hhckNvZGVBdChpKSxyPjU1Mjk1JiZyPDU3MzQ0KXtpZighbyl7aWYocj41NjMxOSl7KHQtPTMpPi0xJiZhLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWlmKGkrMT09PW4peyh0LT0zKT4tMSYmYS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1vPXI7Y29udGludWV9aWYocjw1NjMyMCl7KHQtPTMpPi0xJiZhLnB1c2goMjM5LDE5MSwxODkpLG89cjtjb250aW51ZX1yPTY1NTM2KyhvLTU1Mjk2PDwxMHxyLTU2MzIwKX1lbHNlIG8mJih0LT0zKT4tMSYmYS5wdXNoKDIzOSwxOTEsMTg5KTtpZihvPW51bGwscjwxMjgpe2lmKCh0LT0xKTwwKWJyZWFrO2EucHVzaChyKX1lbHNlIGlmKHI8MjA0OCl7aWYoKHQtPTIpPDApYnJlYWs7YS5wdXNoKHI+PjZ8MTkyLDYzJnJ8MTI4KX1lbHNlIGlmKHI8NjU1MzYpe2lmKCh0LT0zKTwwKWJyZWFrO2EucHVzaChyPj4xMnwyMjQscj4+NiY2M3wxMjgsNjMmcnwxMjgpfWVsc2V7aWYoIShyPDExMTQxMTIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb2RlIHBvaW50Iik7aWYoKHQtPTQpPDApYnJlYWs7YS5wdXNoKHI+PjE4fDI0MCxyPj4xMiY2M3wxMjgscj4+NiY2M3wxMjgsNjMmcnwxMjgpfX1yZXR1cm4gYX1mdW5jdGlvbiBHKGUpe3JldHVybiBuLnRvQnl0ZUFycmF5KGZ1bmN0aW9uKGUpe2lmKChlPShlPWUuc3BsaXQoIj0iKVswXSkudHJpbSgpLnJlcGxhY2UoVywiIikpLmxlbmd0aDwyKXJldHVybiIiO2Zvcig7ZS5sZW5ndGglNCE9MDspZSs9Ij0iO3JldHVybiBlfShlKSl9ZnVuY3Rpb24gSyhlLHQscixuKXtsZXQgbztmb3Iobz0wO288biYmIShvK3I+PXQubGVuZ3RofHxvPj1lLmxlbmd0aCk7KytvKXRbbytyXT1lW29dO3JldHVybiBvfWZ1bmN0aW9uIEooZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR8fG51bGwhPWUmJm51bGwhPWUuY29uc3RydWN0b3ImJm51bGwhPWUuY29uc3RydWN0b3IubmFtZSYmZS5jb25zdHJ1Y3Rvci5uYW1lPT09dC5uYW1lfWZ1bmN0aW9uIFkoZSl7cmV0dXJuIGUhPWV9Y29uc3QgWj1mdW5jdGlvbigpe2NvbnN0IGU9IjAxMjM0NTY3ODlhYmNkZWYiLHQ9bmV3IEFycmF5KDI1Nik7Zm9yKGxldCByPTA7cjwxNjsrK3Ipe2NvbnN0IG49MTYqcjtmb3IobGV0IG89MDtvPDE2Oysrbyl0W24rb109ZVtyXStlW29dfXJldHVybiB0fSgpO2Z1bmN0aW9uIFEoZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBCaWdJbnQ/WDplfWZ1bmN0aW9uIFgoKXt0aHJvdyBuZXcgRXJyb3IoIkJpZ0ludCBub3Qgc3VwcG9ydGVkIil9fSw2NDU6KGUsdCk9Pnt0LnJlYWQ9ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgYSxpLHM9OCpvLW4tMSxsPSgxPDxzKS0xLGM9bD4+MSxwPS03LGQ9cj9vLTE6MCx1PXI/LTE6MSxoPWVbdCtkXTtmb3IoZCs9dSxhPWgmKDE8PC1wKS0xLGg+Pj0tcCxwKz1zO3A+MDthPTI1NiphK2VbdCtkXSxkKz11LHAtPTgpO2ZvcihpPWEmKDE8PC1wKS0xLGE+Pj0tcCxwKz1uO3A+MDtpPTI1NippK2VbdCtkXSxkKz11LHAtPTgpO2lmKDA9PT1hKWE9MS1jO2Vsc2V7aWYoYT09PWwpcmV0dXJuIGk/TmFOOjEvMCooaD8tMToxKTtpKz1NYXRoLnBvdygyLG4pLGEtPWN9cmV0dXJuKGg/LTE6MSkqaSpNYXRoLnBvdygyLGEtbil9LHQud3JpdGU9ZnVuY3Rpb24oZSx0LHIsbixvLGEpe3ZhciBpLHMsbCxjPTgqYS1vLTEscD0oMTw8YyktMSxkPXA+PjEsdT0yMz09PW8/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGg9bj8wOmEtMSxmPW4/MTotMSxtPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8ocz1pc05hTih0KT8xOjAsaT1wKTooaT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0KihsPU1hdGgucG93KDIsLWkpKTwxJiYoaS0tLGwqPTIpLCh0Kz1pK2Q+PTE/dS9sOnUqTWF0aC5wb3coMiwxLWQpKSpsPj0yJiYoaSsrLGwvPTIpLGkrZD49cD8ocz0wLGk9cCk6aStkPj0xPyhzPSh0KmwtMSkqTWF0aC5wb3coMixvKSxpKz1kKToocz10Kk1hdGgucG93KDIsZC0xKSpNYXRoLnBvdygyLG8pLGk9MCkpO28+PTg7ZVtyK2hdPTI1NSZzLGgrPWYscy89MjU2LG8tPTgpO2ZvcihpPWk8PG98cyxjKz1vO2M+MDtlW3IraF09MjU1JmksaCs9ZixpLz0yNTYsYy09OCk7ZVtyK2gtZl18PTEyOCptfX0sODc0OigpPT57IWZ1bmN0aW9uKGUpe3ZhciB0PSJcXGIoPzpCQVNIfEJBU0hPUFRTfEJBU0hfQUxJQVNFU3xCQVNIX0FSR0N8QkFTSF9BUkdWfEJBU0hfQ01EU3xCQVNIX0NPTVBMRVRJT05fQ09NUEFUX0RJUnxCQVNIX0xJTkVOT3xCQVNIX1JFTUFUQ0h8QkFTSF9TT1VSQ0V8QkFTSF9WRVJTSU5GT3xCQVNIX1ZFUlNJT058Q09MT1JURVJNfENPTFVNTlN8Q09NUF9XT1JEQlJFQUtTfERCVVNfU0VTU0lPTl9CVVNfQUREUkVTU3xERUZBVUxUU19QQVRIfERFU0tUT1BfU0VTU0lPTnxESVJTVEFDS3xESVNQTEFZfEVVSUR8R0RNU0VTU0lPTnxHRE1fTEFOR3xHTk9NRV9LRVlSSU5HX0NPTlRST0x8R05PTUVfS0VZUklOR19QSUR8R1BHX0FHRU5UX0lORk98R1JPVVBTfEhJU1RDT05UUk9MfEhJU1RGSUxFfEhJU1RGSUxFU0laRXxISVNUU0laRXxIT01FfEhPU1ROQU1FfEhPU1RUWVBFfElGU3xJTlNUQU5DRXxKT0J8TEFOR3xMQU5HVUFHRXxMQ19BRERSRVNTfExDX0FMTHxMQ19JREVOVElGSUNBVElPTnxMQ19NRUFTVVJFTUVOVHxMQ19NT05FVEFSWXxMQ19OQU1FfExDX05VTUVSSUN8TENfUEFQRVJ8TENfVEVMRVBIT05FfExDX1RJTUV8TEVTU0NMT1NFfExFU1NPUEVOfExJTkVTfExPR05BTUV8TFNfQ09MT1JTfE1BQ0hUWVBFfE1BSUxDSEVDS3xNQU5EQVRPUllfUEFUSHxOT19BVF9CUklER0V8T0xEUFdEfE9QVEVSUnxPUFRJTkR8T1JCSVRfU09DS0VURElSfE9TVFlQRXxQQVBFUlNJWkV8UEFUSHxQSVBFU1RBVFVTfFBQSUR8UFMxfFBTMnxQUzN8UFM0fFBXRHxSQU5ET018UkVQTFl8U0VDT05EU3xTRUxJTlVYX0lOSVR8U0VTU0lPTnxTRVNTSU9OVFlQRXxTRVNTSU9OX01BTkFHRVJ8U0hFTEx8U0hFTExPUFRTfFNITFZMfFNTSF9BVVRIX1NPQ0t8VEVSTXxVSUR8VVBTVEFSVF9FVkVOVFN8VVBTVEFSVF9JTlNUQU5DRXxVUFNUQVJUX0pPQnxVUFNUQVJUX1NFU1NJT058VVNFUnxXSU5ET1dJRHxYQVVUSE9SSVRZfFhER19DT05GSUdfRElSU3xYREdfQ1VSUkVOVF9ERVNLVE9QfFhER19EQVRBX0RJUlN8WERHX0dSRUVURVJfREFUQV9ESVJ8WERHX01FTlVfUFJFRklYfFhER19SVU5USU1FX0RJUnxYREdfU0VBVHxYREdfU0VBVF9QQVRIfFhER19TRVNTSU9OX0RFU0tUT1B8WERHX1NFU1NJT05fSUR8WERHX1NFU1NJT05fUEFUSHxYREdfU0VTU0lPTl9UWVBFfFhER19WVE5SfFhNT0RJRklFUlMpXFxiIixyPXtwYXR0ZXJuOi8oXihbIiddPylcdytcMilbIFx0XStcUy4qLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJwdW5jdHVhdGlvbiIsaW5zaWRlOm51bGx9LG49e2Jhc2g6cixlbnZpcm9ubWVudDp7cGF0dGVybjpSZWdFeHAoIlxcJCIrdCksYWxpYXM6ImNvbnN0YW50In0sdmFyaWFibGU6W3twYXR0ZXJuOi9cJD9cKFwoW1xzXFNdKz9cKVwpLyxncmVlZHk6ITAsaW5zaWRlOnt2YXJpYWJsZTpbe3BhdHRlcm46LyheXCRcKFwoW1xzXFNdKylcKVwpLyxsb29rYmVoaW5kOiEwfSwvXlwkXChcKC9dLG51bWJlcjovXGIweFtcZEEtRmEtZl0rXGJ8KD86XGJcZCsoPzpcLlxkKik/fFxCXC5cZCspKD86W0VlXS0/XGQrKT8vLG9wZXJhdG9yOi8tLXxcK1wrfFwqXCo9P3w8PD0/fD4+PT98JiZ8XHxcfHxbPSErXC0qLyU8Pl4mfF09P3xbP346XS8scHVuY3R1YXRpb246L1woXCg/fFwpXCk/fCx8Oy99fSx7cGF0dGVybjovXCRcKCg/OlwoW14pXStcKXxbXigpXSkrXCl8YFteYF0rYC8sZ3JlZWR5OiEwLGluc2lkZTp7dmFyaWFibGU6L15cJFwofF5gfFwpJHxgJC99fSx7cGF0dGVybjovXCRce1tefV0rXH0vLGdyZWVkeTohMCxpbnNpZGU6e29wZXJhdG9yOi86Wy09PytdP3xbIVwvXXwjIz98JSU/fFxeXF4/fCwsPy8scHVuY3R1YXRpb246L1tcW1xdXS8sZW52aXJvbm1lbnQ6e3BhdHRlcm46UmVnRXhwKCIoXFx7KSIrdCksbG9va2JlaGluZDohMCxhbGlhczoiY29uc3RhbnQifX19LC9cJCg/Olx3K3xbIz8qIUAkXSkvXSxlbnRpdHk6L1xcKD86W2FiY2VFZm5ydHZcXCJdfE8/WzAtN117MSwzfXxVWzAtOWEtZkEtRl17OH18dVswLTlhLWZBLUZdezR9fHhbMC05YS1mQS1GXXsxLDJ9KS99O2UubGFuZ3VhZ2VzLmJhc2g9e3NoZWJhbmc6e3BhdHRlcm46L14jIVxzKlwvLiovLGFsaWFzOiJpbXBvcnRhbnQifSxjb21tZW50OntwYXR0ZXJuOi8oXnxbXiJ7XFwkXSkjLiovLGxvb2tiZWhpbmQ6ITB9LCJmdW5jdGlvbi1uYW1lIjpbe3BhdHRlcm46LyhcYmZ1bmN0aW9uXHMrKVtcdy1dKyg/PSg/OlxzKlwoPzpccypcKSk/XHMqXHspLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJmdW5jdGlvbiJ9LHtwYXR0ZXJuOi9cYltcdy1dKyg/PVxzKlwoXHMqXClccypceykvLGFsaWFzOiJmdW5jdGlvbiJ9XSwiZm9yLW9yLXNlbGVjdCI6e3BhdHRlcm46LyhcYig/OmZvcnxzZWxlY3QpXHMrKVx3Kyg/PVxzK2luXHMpLyxhbGlhczoidmFyaWFibGUiLGxvb2tiZWhpbmQ6ITB9LCJhc3NpZ24tbGVmdCI6e3BhdHRlcm46LyhefFtcczt8Jl18Wzw+XVwoKVx3Kyg/OlwuXHcrKSooPz1cKz89KS8saW5zaWRlOntlbnZpcm9ubWVudDp7cGF0dGVybjpSZWdFeHAoIihefFtcXHM7fCZdfFs8Pl1cXCgpIit0KSxsb29rYmVoaW5kOiEwLGFsaWFzOiJjb25zdGFudCJ9fSxhbGlhczoidmFyaWFibGUiLGxvb2tiZWhpbmQ6ITB9LHBhcmFtZXRlcjp7cGF0dGVybjovKF58XHMpLXsxLDJ9KD86XHcrOlsrLV0/KT9cdysoPzpcLlx3KykqKD89Wz1cc118JCkvLGFsaWFzOiJ2YXJpYWJsZSIsbG9va2JlaGluZDohMH0sc3RyaW5nOlt7cGF0dGVybjovKCg/Ol58W148XSk8PC0/XHMqKShcdyspXHNbXHNcU10qPyg/OlxyP1xufFxyKVwyLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6bn0se3BhdHRlcm46LygoPzpefFtePF0pPDwtP1xzKikoWyInXSkoXHcrKVwyXHNbXHNcU10qPyg/OlxyP1xufFxyKVwzLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6e2Jhc2g6cn19LHtwYXR0ZXJuOi8oXnxbXlxcXSg/OlxcXFwpKikiKD86XFxbXHNcU118XCRcKFteKV0rXCl8XCQoPyFcKCl8YFteYF0rYHxbXiJcXGAkXSkqIi8sbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOm59LHtwYXR0ZXJuOi8oXnxbXiRcXF0pJ1teJ10qJy8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOi9cJCcoPzpbXidcXF18XFxbXHNcU10pKicvLGdyZWVkeTohMCxpbnNpZGU6e2VudGl0eTpuLmVudGl0eX19XSxlbnZpcm9ubWVudDp7cGF0dGVybjpSZWdFeHAoIlxcJD8iK3QpLGFsaWFzOiJjb25zdGFudCJ9LHZhcmlhYmxlOm4udmFyaWFibGUsZnVuY3Rpb246e3BhdHRlcm46LyhefFtcczt8Jl18Wzw+XVwoKSg/OmFkZHxhcHJvcG9zfGFwdHxhcHQtY2FjaGV8YXB0LWdldHxhcHRpdHVkZXxhc3BlbGx8YXV0b215c3FsYmFja3VwfGF3a3xiYXNlbmFtZXxiYXNofGJjfGJjb25zb2xlfGJnfGJ6aXAyfGNhbHxjYXJnb3xjYXR8Y2ZkaXNrfGNoZ3JwfGNoa2NvbmZpZ3xjaG1vZHxjaG93bnxjaHJvb3R8Y2tzdW18Y2xlYXJ8Y21wfGNvbHVtbnxjb21tfGNvbXBvc2VyfGNwfGNyb258Y3JvbnRhYnxjc3BsaXR8Y3VybHxjdXR8ZGF0ZXxkY3xkZHxkZHJlc2N1ZXxkZWJvb3RzdHJhcHxkZnxkaWZmfGRpZmYzfGRpZ3xkaXJ8ZGlyY29sb3JzfGRpcm5hbWV8ZGlyc3xkbWVzZ3xkb2NrZXJ8ZG9ja2VyLWNvbXBvc2V8ZHV8ZWdyZXB8ZWplY3R8ZW52fGV0aHRvb2x8ZXhwYW5kfGV4cGVjdHxleHByfGZkZm9ybWF0fGZkaXNrfGZnfGZncmVwfGZpbGV8ZmluZHxmbXR8Zm9sZHxmb3JtYXR8ZnJlZXxmc2NrfGZ0cHxmdXNlcnxnYXdrfGdpdHxncGFydGVkfGdyZXB8Z3JvdXBhZGR8Z3JvdXBkZWx8Z3JvdXBtb2R8Z3JvdXBzfGdydWItbWtjb25maWd8Z3ppcHxoYWx0fGhlYWR8aGd8aGlzdG9yeXxob3N0fGhvc3RuYW1lfGh0b3B8aWNvbnZ8aWR8aWZjb25maWd8aWZkb3dufGlmdXB8aW1wb3J0fGluc3RhbGx8aXB8amF2YXxqb2JzfGpvaW58a2lsbHxraWxsYWxsfGxlc3N8bGlua3xsbnxsb2NhdGV8bG9nbmFtZXxsb2dyb3RhdGV8bG9va3xscGN8bHByfGxwcmludHxscHJpbnRkfGxwcmludHF8bHBybXxsc3xsc29mfGx5bnh8bWFrZXxtYW58bWN8bWRhZG18bWtjb25maWd8bWtkaXJ8bWtlMmZzfG1rZmlmb3xta2ZzfG1raXNvZnN8bWtub2R8bWtzd2FwfG1tdnxtb3JlfG1vc3R8bW91bnR8bXRvb2xzfG10cnxtdXR0fG12fG5hbm98bmN8bmV0c3RhdHxuaWNlfG5sfG5vZGV8bm9odXB8bm90aWZ5LXNlbmR8bnBtfG5zbG9va3VwfG9wfG9wZW58cGFydGVkfHBhc3N3ZHxwYXN0ZXxwYXRoY2hrfHBpbmd8cGtpbGx8cG5wbXxwb2RtYW58cG9kbWFuLWNvbXBvc2V8cG9wZHxwcnxwcmludGNhcHxwcmludGVudnxwc3xwdXNoZHxwdnxxdW90YXxxdW90YWNoZWNrfHF1b3RhY3RsfHJhbXxyYXJ8cmNwfHJlYm9vdHxyZW1zeW5jfHJlbmFtZXxyZW5pY2V8cmV2fHJtfHJtZGlyfHJwbXxyc3luY3xzY3B8c2NyZWVufHNkaWZmfHNlZHxzZW5kbWFpbHxzZXF8c2VydmljZXxzZnRwfHNofHNoZWxsY2hlY2t8c2h1ZnxzaHV0ZG93bnxzbGVlcHxzbG9jYXRlfHNvcnR8c3BsaXR8c3NofHN0YXR8c3RyYWNlfHN1fHN1ZG98c3VtfHN1c3BlbmR8c3dhcG9ufHN5bmN8c3lzY3RsfHRhY3x0YWlsfHRhcnx0ZWV8dGltZXx0aW1lb3V0fHRvcHx0b3VjaHx0cnx0cmFjZXJvdXRlfHRzb3J0fHR0eXx1bW91bnR8dW5hbWV8dW5leHBhbmR8dW5pcXx1bml0c3x1bnJhcnx1bnNoYXJ8dW56aXB8dXBkYXRlLWdydWJ8dXB0aW1lfHVzZXJhZGR8dXNlcmRlbHx1c2VybW9kfHVzZXJzfHV1ZGVjb2RlfHV1ZW5jb2RlfHZ8dmNwa2d8dmRpcnx2aXx2aW18dmlyc2h8dm1zdGF0fHdhaXR8d2F0Y2h8d2N8d2dldHx3aGVyZWlzfHdoaWNofHdob3x3aG9hbWl8d3JpdGV8eGFyZ3N8eGRnLW9wZW58eWFybnx5ZXN8emVuaXR5fHppcHx6c2h8enlwcGVyKSg/PSR8Wylcczt8Jl0pLyxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOntwYXR0ZXJuOi8oXnxbXHM7fCZdfFs8Pl1cKCkoPzpjYXNlfGRvfGRvbmV8ZWxpZnxlbHNlfGVzYWN8Zml8Zm9yfGZ1bmN0aW9ufGlmfGlufHNlbGVjdHx0aGVufHVudGlsfHdoaWxlKSg/PSR8Wylcczt8Jl0pLyxsb29rYmVoaW5kOiEwfSxidWlsdGluOntwYXR0ZXJuOi8oXnxbXHM7fCZdfFs8Pl1cKCkoPzpcLnw6fGFsaWFzfGJpbmR8YnJlYWt8YnVpbHRpbnxjYWxsZXJ8Y2R8Y29tbWFuZHxjb250aW51ZXxkZWNsYXJlfGVjaG98ZW5hYmxlfGV2YWx8ZXhlY3xleGl0fGV4cG9ydHxnZXRvcHRzfGhhc2h8aGVscHxsZXR8bG9jYWx8bG9nb3V0fG1hcGZpbGV8cHJpbnRmfHB3ZHxyZWFkfHJlYWRhcnJheXxyZWFkb25seXxyZXR1cm58c2V0fHNoaWZ0fHNob3B0fHNvdXJjZXx0ZXN0fHRpbWVzfHRyYXB8dHlwZXx0eXBlc2V0fHVsaW1pdHx1bWFza3x1bmFsaWFzfHVuc2V0KSg/PSR8Wylcczt8Jl0pLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJjbGFzcy1uYW1lIn0sYm9vbGVhbjp7cGF0dGVybjovKF58W1xzO3wmXXxbPD5dXCgpKD86ZmFsc2V8dHJ1ZSkoPz0kfFspXHM7fCZdKS8sbG9va2JlaGluZDohMH0sImZpbGUtZGVzY3JpcHRvciI6e3BhdHRlcm46L1xCJlxkXGIvLGFsaWFzOiJpbXBvcnRhbnQifSxvcGVyYXRvcjp7cGF0dGVybjovXGQ/PD58Plx8fFwrPXw9Wz1+XT98IT0/fDw8WzwtXT98WyZcZF0/Pj58XGRbPD5dJj98Wzw+XVsmPV0/fCZbPiZdP3xcfFsmfF0/LyxpbnNpZGU6eyJmaWxlLWRlc2NyaXB0b3IiOntwYXR0ZXJuOi9eXGQvLGFsaWFzOiJpbXBvcnRhbnQifX19LHB1bmN0dWF0aW9uOi9cJD9cKFwoP3xcKVwpP3xcLlwufFt7fVtcXTtcXF0vLG51bWJlcjp7cGF0dGVybjovKF58XHMpKD86WzEtOV1cZCp8MCkoPzpbLixdXGQrKT9cYi8sbG9va2JlaGluZDohMH19LHIuaW5zaWRlPWUubGFuZ3VhZ2VzLmJhc2g7Zm9yKHZhciBvPVsiY29tbWVudCIsImZ1bmN0aW9uLW5hbWUiLCJmb3Itb3Itc2VsZWN0IiwiYXNzaWduLWxlZnQiLCJwYXJhbWV0ZXIiLCJzdHJpbmciLCJlbnZpcm9ubWVudCIsImZ1bmN0aW9uIiwia2V5d29yZCIsImJ1aWx0aW4iLCJib29sZWFuIiwiZmlsZS1kZXNjcmlwdG9yIiwib3BlcmF0b3IiLCJwdW5jdHVhdGlvbiIsIm51bWJlciJdLGE9bi52YXJpYWJsZVsxXS5pbnNpZGUsaT0wO2k8by5sZW5ndGg7aSsrKWFbb1tpXV09ZS5sYW5ndWFnZXMuYmFzaFtvW2ldXTtlLmxhbmd1YWdlcy5zaD1lLmxhbmd1YWdlcy5iYXNoLGUubGFuZ3VhZ2VzLnNoZWxsPWUubGFuZ3VhZ2VzLmJhc2h9KFByaXNtKX0sMTY6KCk9PnshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiBlLnJlcGxhY2UoLzw8KFxkKyk+Pi9nLChmdW5jdGlvbihlLHIpe3JldHVybiIoPzoiK3RbK3JdKyIpIn0pKX1mdW5jdGlvbiByKGUscixuKXtyZXR1cm4gUmVnRXhwKHQoZSxyKSxufHwiIil9ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgcj0wO3I8dDtyKyspZT1lLnJlcGxhY2UoLzw8c2VsZj4+L2csKGZ1bmN0aW9uKCl7cmV0dXJuIig/OiIrZSsiKSJ9KSk7cmV0dXJuIGUucmVwbGFjZSgvPDxzZWxmPj4vZywiW15cXHNcXFNdIil9dmFyIG89ImJvb2wgYnl0ZSBjaGFyIGRlY2ltYWwgZG91YmxlIGR5bmFtaWMgZmxvYXQgaW50IGxvbmcgb2JqZWN0IHNieXRlIHNob3J0IHN0cmluZyB1aW50IHVsb25nIHVzaG9ydCB2YXIgdm9pZCIsYT0iY2xhc3MgZW51bSBpbnRlcmZhY2UgcmVjb3JkIHN0cnVjdCIsaT0iYWRkIGFsaWFzIGFuZCBhc2NlbmRpbmcgYXN5bmMgYXdhaXQgYnkgZGVzY2VuZGluZyBmcm9tKD89XFxzKig/Olxcd3wkKSkgZ2V0IGdsb2JhbCBncm91cCBpbnRvIGluaXQoPz1cXHMqOykgam9pbiBsZXQgbmFtZW9mIG5vdCBub3RudWxsIG9uIG9yIG9yZGVyYnkgcGFydGlhbCByZW1vdmUgc2VsZWN0IHNldCB1bm1hbmFnZWQgdmFsdWUgd2hlbiB3aGVyZSB3aXRoKD89XFxzKnspIixzPSJhYnN0cmFjdCBhcyBiYXNlIGJyZWFrIGNhc2UgY2F0Y2ggY2hlY2tlZCBjb25zdCBjb250aW51ZSBkZWZhdWx0IGRlbGVnYXRlIGRvIGVsc2UgZXZlbnQgZXhwbGljaXQgZXh0ZXJuIGZpbmFsbHkgZml4ZWQgZm9yIGZvcmVhY2ggZ290byBpZiBpbXBsaWNpdCBpbiBpbnRlcm5hbCBpcyBsb2NrIG5hbWVzcGFjZSBuZXcgbnVsbCBvcGVyYXRvciBvdXQgb3ZlcnJpZGUgcGFyYW1zIHByaXZhdGUgcHJvdGVjdGVkIHB1YmxpYyByZWFkb25seSByZWYgcmV0dXJuIHNlYWxlZCBzaXplb2Ygc3RhY2thbGxvYyBzdGF0aWMgc3dpdGNoIHRoaXMgdGhyb3cgdHJ5IHR5cGVvZiB1bmNoZWNrZWQgdW5zYWZlIHVzaW5nIHZpcnR1YWwgdm9sYXRpbGUgd2hpbGUgeWllbGQiO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIlxcYig/OiIrZS50cmltKCkucmVwbGFjZSgvIC9nLCJ8IikrIilcXGIifXZhciBjPWwoYSkscD1SZWdFeHAobChvKyIgIithKyIgIitpKyIgIitzKSksZD1sKGErIiAiK2krIiAiK3MpLHU9bChvKyIgIithKyIgIitzKSxoPW4oLzwoPzpbXjw+Oz0rXC0qLyUmfF5dfDw8c2VsZj4+KSo+Ly5zb3VyY2UsMiksZj1uKC9cKCg/OlteKCldfDw8c2VsZj4+KSpcKS8uc291cmNlLDIpLG09L0A/XGJbQS1aYS16X11cdypcYi8uc291cmNlLHk9dCgvPDwwPj4oPzpccyo8PDE+Pik/Ly5zb3VyY2UsW20saF0pLGc9dCgvKD8hPDwwPj4pPDwxPj4oPzpccypcLlxzKjw8MT4+KSovLnNvdXJjZSxbZCx5XSksdj0vXFtccyooPzosXHMqKSpcXS8uc291cmNlLGI9dCgvPDwwPj4oPzpccyooPzpcP1xzKik/PDwxPj4pKig/OlxzKlw/KT8vLnNvdXJjZSxbZyx2XSkseD10KC9bXiwoKTw+W1xdOz0rXC0qLyUmfF5dfDw8MD4+fDw8MT4+fDw8Mj4+Ly5zb3VyY2UsW2gsZix2XSksdz10KC9cKDw8MD4+Kyg/Oiw8PDA+PispK1wpLy5zb3VyY2UsW3hdKSwkPXQoLyg/Ojw8MD4+fDw8MT4+KSg/OlxzKig/Olw/XHMqKT88PDI+PikqKD86XHMqXD8pPy8uc291cmNlLFt3LGcsdl0pLGs9e2tleXdvcmQ6cCxwdW5jdHVhdGlvbjovWzw+KCk/LC46W1xdXS99LFM9LycoPzpbXlxyXG4nXFxdfFxcLnxcXFtVdXhdW1xkYS1mQS1GXXsxLDh9KScvLnNvdXJjZSxBPS8iKD86XFwufFteXFwiXHJcbl0pKiIvLnNvdXJjZSxFPS9AIig/OiIifFxcW1xzXFNdfFteXFwiXSkqIig/ISIpLy5zb3VyY2U7ZS5sYW5ndWFnZXMuY3NoYXJwPWUubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHtzdHJpbmc6W3twYXR0ZXJuOnIoLyhefFteJFxcXSk8PDA+Pi8uc291cmNlLFtFXSksbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOnIoLyhefFteQCRcXF0pPDwwPj4vLnNvdXJjZSxbQV0pLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfV0sImNsYXNzLW5hbWUiOlt7cGF0dGVybjpyKC8oXGJ1c2luZ1xzK3N0YXRpY1xzKyk8PDA+Pig/PVxzKjspLy5zb3VyY2UsW2ddKSxsb29rYmVoaW5kOiEwLGluc2lkZTprfSx7cGF0dGVybjpyKC8oXGJ1c2luZ1xzKzw8MD4+XHMqPVxzKik8PDE+Pig/PVxzKjspLy5zb3VyY2UsW20sJF0pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOmt9LHtwYXR0ZXJuOnIoLyhcYnVzaW5nXHMrKTw8MD4+KD89XHMqPSkvLnNvdXJjZSxbbV0pLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOnIoLyhcYjw8MD4+XHMrKTw8MT4+Ly5zb3VyY2UsW2MseV0pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOmt9LHtwYXR0ZXJuOnIoLyhcYmNhdGNoXHMqXChccyopPDwwPj4vLnNvdXJjZSxbZ10pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOmt9LHtwYXR0ZXJuOnIoLyhcYndoZXJlXHMrKTw8MD4+Ly5zb3VyY2UsW21dKSxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjpyKC8oXGIoPzppcyg/OlxzK25vdCk/fGFzKVxzKyk8PDA+Pi8uc291cmNlLFtiXSksbG9va2JlaGluZDohMCxpbnNpZGU6a30se3BhdHRlcm46cigvXGI8PDA+Pig/PVxzKyg/ITw8MT4+fHdpdGhccypceyk8PDI+Pig/OlxzKls9LDs6eylcXV18XHMrKD86aW58d2hlbilcYikpLy5zb3VyY2UsWyQsdSxtXSksaW5zaWRlOmt9XSxrZXl3b3JkOnAsbnVtYmVyOi8oPzpcYjAoPzp4W1xkYS1mX10qW1xkYS1mXXxiWzAxX10qWzAxXSl8KD86XEJcLlxkKyg/Ol8rXGQrKSp8XGJcZCsoPzpfK1xkKykqKD86XC5cZCsoPzpfK1xkKykqKT8pKD86ZVstK10/XGQrKD86XytcZCspKik/KSg/OltkZmxtdV18bHV8dWwpP1xiL2ksb3BlcmF0b3I6Lz4+PT98PDw9P3xbLT1dPnwoWy0rJnxdKVwxfH58XD9cPz0/fFstKyovJSZ8XiE9PD5dPT8vLHB1bmN0dWF0aW9uOi9cP1wuP3w6Onxbe31bXF07KCksLjpdL30pLGUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiY3NoYXJwIiwibnVtYmVyIix7cmFuZ2U6e3BhdHRlcm46L1wuXC4vLGFsaWFzOiJvcGVyYXRvciJ9fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJjc2hhcnAiLCJwdW5jdHVhdGlvbiIseyJuYW1lZC1wYXJhbWV0ZXIiOntwYXR0ZXJuOnIoLyhbKCxdXHMqKTw8MD4+KD89XHMqOikvLnNvdXJjZSxbbV0pLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InB1bmN0dWF0aW9uIn19KSxlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImNzaGFycCIsImNsYXNzLW5hbWUiLHtuYW1lc3BhY2U6e3BhdHRlcm46cigvKFxiKD86bmFtZXNwYWNlfHVzaW5nKVxzKyk8PDA+Pig/OlxzKlwuXHMqPDwwPj4pKig/PVxzKls7e10pLy5zb3VyY2UsW21dKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1wuL319LCJ0eXBlLWV4cHJlc3Npb24iOntwYXR0ZXJuOnIoLyhcYig/OmRlZmF1bHR8c2l6ZW9mfHR5cGVvZilccypcKFxzKig/IVxzKSkoPzpbXigpXHNdfFxzKD8hXHMpfDw8MD4+KSooPz1ccypcKSkvLnNvdXJjZSxbZl0pLGxvb2tiZWhpbmQ6ITAsYWxpYXM6ImNsYXNzLW5hbWUiLGluc2lkZTprfSwicmV0dXJuLXR5cGUiOntwYXR0ZXJuOnIoLzw8MD4+KD89XHMrKD86PDwxPj5ccyooPzo9PnxbKHtdfFwuXHMqdGhpc1xzKlxbKXx0aGlzXHMqXFspKS8uc291cmNlLFskLGddKSxpbnNpZGU6ayxhbGlhczoiY2xhc3MtbmFtZSJ9LCJjb25zdHJ1Y3Rvci1pbnZvY2F0aW9uIjp7cGF0dGVybjpyKC8oXGJuZXdccyspPDwwPj4oPz1ccypbWyh7XSkvLnNvdXJjZSxbJF0pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOmssYWxpYXM6ImNsYXNzLW5hbWUifSwiZ2VuZXJpYy1tZXRob2QiOntwYXR0ZXJuOnIoLzw8MD4+XHMqPDwxPj4oPz1ccypcKCkvLnNvdXJjZSxbbSxoXSksaW5zaWRlOntmdW5jdGlvbjpyKC9ePDwwPj4vLnNvdXJjZSxbbV0pLGdlbmVyaWM6e3BhdHRlcm46UmVnRXhwKGgpLGFsaWFzOiJjbGFzcy1uYW1lIixpbnNpZGU6a319fSwidHlwZS1saXN0Ijp7cGF0dGVybjpyKC9cYigoPzo8PDA+PlxzKzw8MT4+fHJlY29yZFxzKzw8MT4+XHMqPDw1Pj58d2hlcmVccys8PDI+Pilccyo6XHMqKSg/Ojw8Mz4+fDw8ND4+fDw8MT4+XHMqPDw1Pj58PDw2Pj4pKD86XHMqLFxzKig/Ojw8Mz4+fDw8ND4+fDw8Nj4+KSkqKD89XHMqKD86d2hlcmV8W3s7XXw9PnwkKSkvLnNvdXJjZSxbYyx5LG0sJCxwLnNvdXJjZSxmLC9cYm5ld1xzKlwoXHMqXCkvLnNvdXJjZV0pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsicmVjb3JkLWFyZ3VtZW50cyI6e3BhdHRlcm46cigvKF4oPyFuZXdccypcKCk8PDA+PlxzKik8PDE+Pi8uc291cmNlLFt5LGZdKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6ZS5sYW5ndWFnZXMuY3NoYXJwfSxrZXl3b3JkOnAsImNsYXNzLW5hbWUiOntwYXR0ZXJuOlJlZ0V4cCgkKSxncmVlZHk6ITAsaW5zaWRlOmt9LHB1bmN0dWF0aW9uOi9bLCgpXS99fSxwcmVwcm9jZXNzb3I6e3BhdHRlcm46LyheW1x0IF0qKSMuKi9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InByb3BlcnR5IixpbnNpZGU6e2RpcmVjdGl2ZTp7cGF0dGVybjovKCMpXGIoPzpkZWZpbmV8ZWxpZnxlbHNlfGVuZGlmfGVuZHJlZ2lvbnxlcnJvcnxpZnxsaW5lfG51bGxhYmxlfHByYWdtYXxyZWdpb258dW5kZWZ8d2FybmluZylcYi8sbG9va2JlaGluZDohMCxhbGlhczoia2V5d29yZCJ9fX19KTt2YXIgTz1BKyJ8IitTLFQ9dCgvXC8oPyFbKi9dKXxcL1wvW15cclxuXSpbXHJcbl18XC9cKig/OlteKl18XCooPyFcLykpKlwqXC98PDwwPj4vLnNvdXJjZSxbT10pLEM9bih0KC9bXiInLygpXXw8PDA+PnxcKDw8c2VsZj4+KlwpLy5zb3VyY2UsW1RdKSwyKSxqPS9cYig/OmFzc2VtYmx5fGV2ZW50fGZpZWxkfG1ldGhvZHxtb2R1bGV8cGFyYW18cHJvcGVydHl8cmV0dXJufHR5cGUpXGIvLnNvdXJjZSxJPXQoLzw8MD4+KD86XHMqXCg8PDE+PipcKSk/Ly5zb3VyY2UsW2csQ10pO2UubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiY3NoYXJwIiwiY2xhc3MtbmFtZSIse2F0dHJpYnV0ZTp7cGF0dGVybjpyKC8oKD86XnxbXlxzXHc+KT9dKVxzKlxbXHMqKSg/Ojw8MD4+XHMqOlxzKik/PDwxPj4oPzpccyosXHMqPDwxPj4pKig/PVxzKlxdKS8uc291cmNlLFtqLEldKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6e3RhcmdldDp7cGF0dGVybjpyKC9ePDwwPj4oPz1ccyo6KS8uc291cmNlLFtqXSksYWxpYXM6ImtleXdvcmQifSwiYXR0cmlidXRlLWFyZ3VtZW50cyI6e3BhdHRlcm46cigvXCg8PDA+PipcKS8uc291cmNlLFtDXSksaW5zaWRlOmUubGFuZ3VhZ2VzLmNzaGFycH0sImNsYXNzLW5hbWUiOntwYXR0ZXJuOlJlZ0V4cChnKSxpbnNpZGU6e3B1bmN0dWF0aW9uOi9cLi99fSxwdW5jdHVhdGlvbjovWzosXS99fX0pO3ZhciBfPS86W159XHJcbl0rLy5zb3VyY2UsUD1uKHQoL1teIicvKCldfDw8MD4+fFwoPDxzZWxmPj4qXCkvLnNvdXJjZSxbVF0pLDIpLFI9dCgvXHsoPyFceykoPzooPyFbfTpdKTw8MD4+KSo8PDE+Pj9cfS8uc291cmNlLFtQLF9dKSxMPW4odCgvW14iJy8oKV18XC8oPyFcKil8XC9cKig/OlteKl18XCooPyFcLykpKlwqXC98PDwwPj58XCg8PHNlbGY+PipcKS8uc291cmNlLFtPXSksMiksRj10KC9ceyg/IVx7KSg/Oig/IVt9Ol0pPDwwPj4pKjw8MT4+P1x9Ly5zb3VyY2UsW0wsX10pO2Z1bmN0aW9uIEQodCxuKXtyZXR1cm57aW50ZXJwb2xhdGlvbjp7cGF0dGVybjpyKC8oKD86XnxbXntdKSg/Olx7XHspKik8PDA+Pi8uc291cmNlLFt0XSksbG9va2JlaGluZDohMCxpbnNpZGU6eyJmb3JtYXQtc3RyaW5nIjp7cGF0dGVybjpyKC8oXlx7KD86KD8hW306XSk8PDA+PikqKTw8MT4+KD89XH0kKS8uc291cmNlLFtuLF9dKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L146L319LHB1bmN0dWF0aW9uOi9eXHt8XH0kLyxleHByZXNzaW9uOntwYXR0ZXJuOi9bXHNcU10rLyxhbGlhczoibGFuZ3VhZ2UtY3NoYXJwIixpbnNpZGU6ZS5sYW5ndWFnZXMuY3NoYXJwfX19LHN0cmluZzovW1xzXFNdKy99fWUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiY3NoYXJwIiwic3RyaW5nIix7ImludGVycG9sYXRpb24tc3RyaW5nIjpbe3BhdHRlcm46cigvKF58W15cXF0pKD86XCRAfEBcJCkiKD86IiJ8XFxbXHNcU118XHtce3w8PDA+PnxbXlxceyJdKSoiLy5zb3VyY2UsW1JdKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6RChSLFApfSx7cGF0dGVybjpyKC8oXnxbXkBcXF0pXCQiKD86XFwufFx7XHt8PDwwPj58W15cXCJ7XSkqIi8uc291cmNlLFtGXSksbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOkQoRixMKX1dLGNoYXI6e3BhdHRlcm46UmVnRXhwKFMpLGdyZWVkeTohMH19KSxlLmxhbmd1YWdlcy5kb3RuZXQ9ZS5sYW5ndWFnZXMuY3M9ZS5sYW5ndWFnZXMuY3NoYXJwfShQcmlzbSl9LDI1MTooKT0+eyFmdW5jdGlvbihlKXt2YXIgdD0vKD86Iig/OlxcKD86XHJcbnxbXHNcU10pfFteIlxcXHJcbl0pKiJ8Jyg/OlxcKD86XHJcbnxbXHNcU10pfFteJ1xcXHJcbl0pKicpLztlLmxhbmd1YWdlcy5jc3M9e2NvbW1lbnQ6L1wvXCpbXHNcU10qP1wqXC8vLGF0cnVsZTp7cGF0dGVybjpSZWdFeHAoIkBbXFx3LV0oPzoiKy9bXjt7XHMiJ118XHMrKD8hXHMpLy5zb3VyY2UrInwiK3Quc291cmNlKyIpKj8iKy8oPzo7fCg/PVxzKlx7KSkvLnNvdXJjZSksaW5zaWRlOntydWxlOi9eQFtcdy1dKy8sInNlbGVjdG9yLWZ1bmN0aW9uLWFyZ3VtZW50Ijp7cGF0dGVybjovKFxic2VsZWN0b3JccypcKFxzKig/IVtccyldKSkoPzpbXigpXHNdfFxzKyg/IVtccyldKXxcKCg/OlteKCldfFwoW14oKV0qXCkpKlwpKSsoPz1ccypcKSkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InNlbGVjdG9yIn0sa2V5d29yZDp7cGF0dGVybjovKF58W15cdy1dKSg/OmFuZHxub3R8b25seXxvcikoPyFbXHctXSkvLGxvb2tiZWhpbmQ6ITB9fX0sdXJsOntwYXR0ZXJuOlJlZ0V4cCgiXFxidXJsXFwoKD86Iit0LnNvdXJjZSsifCIrLyg/OlteXFxcclxuKCkiJ118XFxbXHNcU10pKi8uc291cmNlKyIpXFwpIiwiaSIpLGdyZWVkeTohMCxpbnNpZGU6e2Z1bmN0aW9uOi9edXJsL2kscHVuY3R1YXRpb246L15cKHxcKSQvLHN0cmluZzp7cGF0dGVybjpSZWdFeHAoIl4iK3Quc291cmNlKyIkIiksYWxpYXM6InVybCJ9fX0sc2VsZWN0b3I6e3BhdHRlcm46UmVnRXhwKCIoXnxbe31cXHNdKVtee31cXHNdKD86W157fTtcIidcXHNdfFxccysoPyFbXFxze10pfCIrdC5zb3VyY2UrIikqKD89XFxzKlxceykiKSxsb29rYmVoaW5kOiEwfSxzdHJpbmc6e3BhdHRlcm46dCxncmVlZHk6ITB9LHByb3BlcnR5OntwYXR0ZXJuOi8oXnxbXi1cd1x4QTAtXHVGRkZGXSkoPyFccylbLV9hLXpceEEwLVx1RkZGRl0oPzooPyFccylbLVx3XHhBMC1cdUZGRkZdKSooPz1ccyo6KS9pLGxvb2tiZWhpbmQ6ITB9LGltcG9ydGFudDovIWltcG9ydGFudFxiL2ksZnVuY3Rpb246e3BhdHRlcm46LyhefFteLWEtejAtOV0pWy1hLXowLTldKyg/PVwoKS9pLGxvb2tiZWhpbmQ6ITB9LHB1bmN0dWF0aW9uOi9bKCl7fTs6LF0vfSxlLmxhbmd1YWdlcy5jc3MuYXRydWxlLmluc2lkZS5yZXN0PWUubGFuZ3VhZ2VzLmNzczt2YXIgcj1lLmxhbmd1YWdlcy5tYXJrdXA7ciYmKHIudGFnLmFkZElubGluZWQoInN0eWxlIiwiY3NzIiksci50YWcuYWRkQXR0cmlidXRlKCJzdHlsZSIsImNzcyIpKX0oUHJpc20pfSw0NjooKT0+e1ByaXNtLmxhbmd1YWdlcy5nbz1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIse3N0cmluZzp7cGF0dGVybjovKF58W15cXF0pIig/OlxcLnxbXiJcXFxyXG5dKSoifGBbXmBdKmAvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfSxrZXl3b3JkOi9cYig/OmJyZWFrfGNhc2V8Y2hhbnxjb25zdHxjb250aW51ZXxkZWZhdWx0fGRlZmVyfGVsc2V8ZmFsbHRocm91Z2h8Zm9yfGZ1bmN8Z28oPzp0byk/fGlmfGltcG9ydHxpbnRlcmZhY2V8bWFwfHBhY2thZ2V8cmFuZ2V8cmV0dXJufHNlbGVjdHxzdHJ1Y3R8c3dpdGNofHR5cGV8dmFyKVxiLyxib29sZWFuOi9cYig/Ol98ZmFsc2V8aW90YXxuaWx8dHJ1ZSlcYi8sbnVtYmVyOlsvXGIwKD86YlswMV9dK3xvWzAtN19dKylpP1xiL2ksL1xiMHgoPzpbYS1mXGRfXSsoPzpcLlthLWZcZF9dKik/fFwuW2EtZlxkX10rKSg/OnBbKy1dP1xkKyg/Ol9cZCspKik/aT8oPyFcdykvaSwvKD86XGJcZFtcZF9dKig/OlwuW1xkX10qKT98XEJcLlxkW1xkX10qKSg/OmVbKy1dP1tcZF9dKyk/aT8oPyFcdykvaV0sb3BlcmF0b3I6L1sqXC8lXiE9XT0/fFwrWz0rXT98LVs9LV0/fFx8Wz18XT98Jig/Oj18JnxcXj0/KT98Pig/Oj49P3w9KT98PCg/Ojw9P3w9fC0pP3w6PXxcLlwuXC4vLGJ1aWx0aW46L1xiKD86YXBwZW5kfGJvb2x8Ynl0ZXxjYXB8Y2xvc2V8Y29tcGxleHxjb21wbGV4KD86NjR8MTI4KXxjb3B5fGRlbGV0ZXxlcnJvcnxmbG9hdCg/OjMyfDY0KXx1P2ludCg/Ojh8MTZ8MzJ8NjQpP3xpbWFnfGxlbnxtYWtlfG5ld3xwYW5pY3xwcmludCg/OmxuKT98cmVhbHxyZWNvdmVyfHJ1bmV8c3RyaW5nfHVpbnRwdHIpXGIvfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgiZ28iLCJzdHJpbmciLHtjaGFyOntwYXR0ZXJuOi8nKD86XFwufFteJ1xcXHJcbl0pezAsMTB9Jy8sZ3JlZWR5OiEwfX0pLGRlbGV0ZSBQcmlzbS5sYW5ndWFnZXMuZ29bImNsYXNzLW5hbWUiXX0sNTc6KCk9PnshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gUmVnRXhwKCIoXig/OiIrZSsiKTpbIFx0XSooPyFbIFx0XSkpW15dKyIsImkiKX1lLmxhbmd1YWdlcy5odHRwPXsicmVxdWVzdC1saW5lIjp7cGF0dGVybjovXig/OkNPTk5FQ1R8REVMRVRFfEdFVHxIRUFEfE9QVElPTlN8UEFUQ0h8UE9TVHxQUkl8UFVUfFNFQVJDSHxUUkFDRSlccyg/Omh0dHBzPzpcL1wvfFwvKVxTKlxzSFRUUFwvW1xkLl0rL20saW5zaWRlOnttZXRob2Q6e3BhdHRlcm46L15bQS1aXStcYi8sYWxpYXM6InByb3BlcnR5In0sInJlcXVlc3QtdGFyZ2V0Ijp7cGF0dGVybjovXihccykoPzpodHRwcz86XC9cL3xcLylcUyooPz1ccykvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InVybCIsaW5zaWRlOmUubGFuZ3VhZ2VzLnVyaX0sImh0dHAtdmVyc2lvbiI6e3BhdHRlcm46L14oXHMpSFRUUFwvW1xkLl0rLyxsb29rYmVoaW5kOiEwLGFsaWFzOiJwcm9wZXJ0eSJ9fX0sInJlc3BvbnNlLXN0YXR1cyI6e3BhdHRlcm46L15IVFRQXC9bXGQuXSsgXGQrIC4rL20saW5zaWRlOnsiaHR0cC12ZXJzaW9uIjp7cGF0dGVybjovXkhUVFBcL1tcZC5dKy8sYWxpYXM6InByb3BlcnR5In0sInN0YXR1cy1jb2RlIjp7cGF0dGVybjovXihccylcZCsoPz1ccykvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6Im51bWJlciJ9LCJyZWFzb24tcGhyYXNlIjp7cGF0dGVybjovXihccykuKy8sbG9va2JlaGluZDohMCxhbGlhczoic3RyaW5nIn19fSxoZWFkZXI6e3BhdHRlcm46L15bXHctXSs6LisoPzooPzpcclxuP3xcbilbIFx0XS4rKSovbSxpbnNpZGU6eyJoZWFkZXItdmFsdWUiOlt7cGF0dGVybjp0KC9Db250ZW50LVNlY3VyaXR5LVBvbGljeS8uc291cmNlKSxsb29rYmVoaW5kOiEwLGFsaWFzOlsiY3NwIiwibGFuZ3VhZ2VzLWNzcCJdLGluc2lkZTplLmxhbmd1YWdlcy5jc3B9LHtwYXR0ZXJuOnQoL1B1YmxpYy1LZXktUGlucyg/Oi1SZXBvcnQtT25seSk/Ly5zb3VyY2UpLGxvb2tiZWhpbmQ6ITAsYWxpYXM6WyJocGtwIiwibGFuZ3VhZ2VzLWhwa3AiXSxpbnNpZGU6ZS5sYW5ndWFnZXMuaHBrcH0se3BhdHRlcm46dCgvU3RyaWN0LVRyYW5zcG9ydC1TZWN1cml0eS8uc291cmNlKSxsb29rYmVoaW5kOiEwLGFsaWFzOlsiaHN0cyIsImxhbmd1YWdlcy1oc3RzIl0saW5zaWRlOmUubGFuZ3VhZ2VzLmhzdHN9LHtwYXR0ZXJuOnQoL1teOl0rLy5zb3VyY2UpLGxvb2tiZWhpbmQ6ITB9XSwiaGVhZGVyLW5hbWUiOntwYXR0ZXJuOi9eW146XSsvLGFsaWFzOiJrZXl3b3JkIn0scHVuY3R1YXRpb246L146L319fTt2YXIgcixuPWUubGFuZ3VhZ2VzLG89eyJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0IjpuLmphdmFzY3JpcHQsImFwcGxpY2F0aW9uL2pzb24iOm4uanNvbnx8bi5qYXZhc2NyaXB0LCJhcHBsaWNhdGlvbi94bWwiOm4ueG1sLCJ0ZXh0L3htbCI6bi54bWwsInRleHQvaHRtbCI6bi5odG1sLCJ0ZXh0L2NzcyI6bi5jc3MsInRleHQvcGxhaW4iOm4ucGxhaW59LGE9eyJhcHBsaWNhdGlvbi9qc29uIjohMCwiYXBwbGljYXRpb24veG1sIjohMH07ZnVuY3Rpb24gaShlKXt2YXIgdD1lLnJlcGxhY2UoL15bYS16XStcLy8sIiIpO3JldHVybiIoPzoiK2UrInwiKygiXFx3Ky8oPzpbXFx3Li1dK1xcKykrIit0KyIoPyFbK1xcdy4tXSkiKSsiKSJ9Zm9yKHZhciBzIGluIG8paWYob1tzXSl7cj1yfHx7fTt2YXIgbD1hW3NdP2kocyk6cztyW3MucmVwbGFjZSgvXC8vZywiLSIpXT17cGF0dGVybjpSZWdFeHAoIigiKy9jb250ZW50LXR5cGU6XHMqLy5zb3VyY2UrbCsvKD86KD86XHJcbj98XG4pW1x3LV0uKikqKD86XHIoPzpcbnwoPyFcbikpfFxuKS8uc291cmNlKyIpIisvW14gXHRcdy1dW1xzXFNdKi8uc291cmNlLCJpIiksbG9va2JlaGluZDohMCxpbnNpZGU6b1tzXX19ciYmZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJodHRwIiwiaGVhZGVyIixyKX0oUHJpc20pfSw1MDM6KCk9PnshZnVuY3Rpb24oZSl7dmFyIHQ9L1xiKD86YWJzdHJhY3R8YXNzZXJ0fGJvb2xlYW58YnJlYWt8Ynl0ZXxjYXNlfGNhdGNofGNoYXJ8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVmYXVsdHxkb3xkb3VibGV8ZWxzZXxlbnVtfGV4cG9ydHN8ZXh0ZW5kc3xmaW5hbHxmaW5hbGx5fGZsb2F0fGZvcnxnb3RvfGlmfGltcGxlbWVudHN8aW1wb3J0fGluc3RhbmNlb2Z8aW50fGludGVyZmFjZXxsb25nfG1vZHVsZXxuYXRpdmV8bmV3fG5vbi1zZWFsZWR8bnVsbHxvcGVufG9wZW5zfHBhY2thZ2V8cGVybWl0c3xwcml2YXRlfHByb3RlY3RlZHxwcm92aWRlc3xwdWJsaWN8cmVjb3JkKD8hXHMqWygpe31bXF08Pj0lfi46LDs/K1wtKi8mfF5dKXxyZXF1aXJlc3xyZXR1cm58c2VhbGVkfHNob3J0fHN0YXRpY3xzdHJpY3RmcHxzdXBlcnxzd2l0Y2h8c3luY2hyb25pemVkfHRoaXN8dGhyb3d8dGhyb3dzfHRvfHRyYW5zaWVudHx0cmFuc2l0aXZlfHRyeXx1c2VzfHZhcnx2b2lkfHZvbGF0aWxlfHdoaWxlfHdpdGh8eWllbGQpXGIvLHI9Lyg/OlthLXpdXHcqXHMqXC5ccyopKig/OltBLVpdXHcqXHMqXC5ccyopKi8uc291cmNlLG49e3BhdHRlcm46UmVnRXhwKC8oXnxbXlx3Ll0pLy5zb3VyY2UrcisvW0EtWl0oPzpbXGRfQS1aXSpbYS16XVx3Kik/XGIvLnNvdXJjZSksbG9va2JlaGluZDohMCxpbnNpZGU6e25hbWVzcGFjZTp7cGF0dGVybjovXlthLXpdXHcqKD86XHMqXC5ccypbYS16XVx3KikqKD86XHMqXC4pPy8saW5zaWRlOntwdW5jdHVhdGlvbjovXC4vfX0scHVuY3R1YXRpb246L1wuL319O2UubGFuZ3VhZ2VzLmphdmE9ZS5sYW5ndWFnZXMuZXh0ZW5kKCJjbGlrZSIse3N0cmluZzp7cGF0dGVybjovKF58W15cXF0pIig/OlxcLnxbXiJcXFxyXG5dKSoiLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH0sImNsYXNzLW5hbWUiOltuLHtwYXR0ZXJuOlJlZ0V4cCgvKF58W15cdy5dKS8uc291cmNlK3IrL1tBLVpdXHcqKD89XHMrXHcrXHMqWzssPSgpXXxccyooPzpcW1tccyxdKlxdXHMqKT86OlxzKm5ld1xiKS8uc291cmNlKSxsb29rYmVoaW5kOiEwLGluc2lkZTpuLmluc2lkZX0se3BhdHRlcm46UmVnRXhwKC8oXGIoPzpjbGFzc3xlbnVtfGV4dGVuZHN8aW1wbGVtZW50c3xpbnN0YW5jZW9mfGludGVyZmFjZXxuZXd8cmVjb3JkfHRocm93cylccyspLy5zb3VyY2UrcisvW0EtWl1cdypcYi8uc291cmNlKSxsb29rYmVoaW5kOiEwLGluc2lkZTpuLmluc2lkZX1dLGtleXdvcmQ6dCxmdW5jdGlvbjpbZS5sYW5ndWFnZXMuY2xpa2UuZnVuY3Rpb24se3BhdHRlcm46Lyg6OlxzKilbYS16X11cdyovLGxvb2tiZWhpbmQ6ITB9XSxudW1iZXI6L1xiMGJbMDFdWzAxX10qTD9cYnxcYjB4KD86XC5bXGRhLWZfcCstXSt8W1xkYS1mX10rKD86XC5bXGRhLWZfcCstXSspPylcYnwoPzpcYlxkW1xkX10qKD86XC5bXGRfXSopP3xcQlwuXGRbXGRfXSopKD86ZVsrLV0/XGRbXGRfXSopP1tkZmxdPy9pLG9wZXJhdG9yOntwYXR0ZXJuOi8oXnxbXi5dKSg/Ojw8PT98Pj4+Pz0/fC0+fC0tfFwrXCt8JiZ8XHxcfHw6OnxbPzp+XXxbLSsqLyUmfF4hPTw+XT0/KS9tLGxvb2tiZWhpbmQ6ITB9LGNvbnN0YW50Oi9cYltBLVpdW0EtWl9cZF0rXGIvfSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJqYXZhIiwic3RyaW5nIix7InRyaXBsZS1xdW90ZWQtc3RyaW5nIjp7cGF0dGVybjovIiIiWyBcdF0qW1xyXG5dKD86KD86InwiIik/KD86XFwufFteIlxcXSkpKiIiIi8sZ3JlZWR5OiEwLGFsaWFzOiJzdHJpbmcifSxjaGFyOntwYXR0ZXJuOi8nKD86XFwufFteJ1xcXHJcbl0pezEsNn0nLyxncmVlZHk6ITB9fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJqYXZhIiwiY2xhc3MtbmFtZSIse2Fubm90YXRpb246e3BhdHRlcm46LyhefFteLl0pQFx3Kyg/OlxzKlwuXHMqXHcrKSovLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InB1bmN0dWF0aW9uIn0sZ2VuZXJpY3M6e3BhdHRlcm46LzwoPzpbXHdccywuP118Jig/ISYpfDwoPzpbXHdccywuP118Jig/ISYpfDwoPzpbXHdccywuP118Jig/ISYpfDwoPzpbXHdccywuP118Jig/ISYpKSo+KSo+KSo+KSo+LyxpbnNpZGU6eyJjbGFzcy1uYW1lIjpuLGtleXdvcmQ6dCxwdW5jdHVhdGlvbjovWzw+KCksLjpdLyxvcGVyYXRvcjovWz8mfF0vfX0saW1wb3J0Olt7cGF0dGVybjpSZWdFeHAoLyhcYmltcG9ydFxzKykvLnNvdXJjZStyKy8oPzpbQS1aXVx3KnxcKikoPz1ccyo7KS8uc291cmNlKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7bmFtZXNwYWNlOm4uaW5zaWRlLm5hbWVzcGFjZSxwdW5jdHVhdGlvbjovXC4vLG9wZXJhdG9yOi9cKi8sImNsYXNzLW5hbWUiOi9cdysvfX0se3BhdHRlcm46UmVnRXhwKC8oXGJpbXBvcnRccytzdGF0aWNccyspLy5zb3VyY2UrcisvKD86XHcrfFwqKSg/PVxzKjspLy5zb3VyY2UpLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InN0YXRpYyIsaW5zaWRlOntuYW1lc3BhY2U6bi5pbnNpZGUubmFtZXNwYWNlLHN0YXRpYzovXGJcdyskLyxwdW5jdHVhdGlvbjovXC4vLG9wZXJhdG9yOi9cKi8sImNsYXNzLW5hbWUiOi9cdysvfX1dLG5hbWVzcGFjZTp7cGF0dGVybjpSZWdFeHAoLyhcYig/OmV4cG9ydHN8aW1wb3J0KD86XHMrc3RhdGljKT98bW9kdWxlfG9wZW58b3BlbnN8cGFja2FnZXxwcm92aWRlc3xyZXF1aXJlc3x0b3x0cmFuc2l0aXZlfHVzZXN8d2l0aClccyspKD8hPGtleXdvcmQ+KVthLXpdXHcqKD86XC5bYS16XVx3KikqXC4/Ly5zb3VyY2UucmVwbGFjZSgvPGtleXdvcmQ+L2csKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc291cmNlfSkpKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1wuL319fSl9KFByaXNtKX0sMjc3OigpPT57UHJpc20ubGFuZ3VhZ2VzLmpzb249e3Byb3BlcnR5OntwYXR0ZXJuOi8oXnxbXlxcXSkiKD86XFwufFteXFwiXHJcbl0pKiIoPz1ccyo6KS8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHN0cmluZzp7cGF0dGVybjovKF58W15cXF0pIig/OlxcLnxbXlxcIlxyXG5dKSoiKD8hXHMqOikvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfSxjb21tZW50OntwYXR0ZXJuOi9cL1wvLip8XC9cKltcc1xTXSo/KD86XCpcL3wkKS8sZ3JlZWR5OiEwfSxudW1iZXI6Ly0/XGJcZCsoPzpcLlxkKyk/KD86ZVsrLV0/XGQrKT9cYi9pLHB1bmN0dWF0aW9uOi9be31bXF0sXS8sb3BlcmF0b3I6LzovLGJvb2xlYW46L1xiKD86ZmFsc2V8dHJ1ZSlcYi8sbnVsbDp7cGF0dGVybjovXGJudWxsXGIvLGFsaWFzOiJrZXl3b3JkIn19LFByaXNtLmxhbmd1YWdlcy53ZWJtYW5pZmVzdD1QcmlzbS5sYW5ndWFnZXMuanNvbn0sMzY2OigpPT57UHJpc20ubGFuZ3VhZ2VzLnB5dGhvbj17Y29tbWVudDp7cGF0dGVybjovKF58W15cXF0pIy4qLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH0sInN0cmluZy1pbnRlcnBvbGF0aW9uIjp7cGF0dGVybjovKD86ZnxmcnxyZikoPzooIiIifCcnJylbXHNcU10qP1wxfCgifCcpKD86XFwufCg/IVwyKVteXFxcclxuXSkqXDIpL2ksZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjp7cGF0dGVybjovKCg/Ol58W157XSkoPzpce1x7KSopXHsoPyFceykoPzpbXnt9XXxceyg/IVx7KSg/Oltee31dfFx7KD8hXHspKD86W157fV0pK1x9KStcfSkrXH0vLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnsiZm9ybWF0LXNwZWMiOntwYXR0ZXJuOi8oOilbXjooKXt9XSsoPz1cfSQpLyxsb29rYmVoaW5kOiEwfSwiY29udmVyc2lvbi1vcHRpb24iOntwYXR0ZXJuOi8hW3NyYV0oPz1bOn1dJCkvLGFsaWFzOiJwdW5jdHVhdGlvbiJ9LHJlc3Q6bnVsbH19LHN0cmluZzovW1xzXFNdKy99fSwidHJpcGxlLXF1b3RlZC1zdHJpbmciOntwYXR0ZXJuOi8oPzpbcnViXXxicnxyYik/KCIiInwnJycpW1xzXFNdKj9cMS9pLGdyZWVkeTohMCxhbGlhczoic3RyaW5nIn0sc3RyaW5nOntwYXR0ZXJuOi8oPzpbcnViXXxicnxyYik/KCJ8JykoPzpcXC58KD8hXDEpW15cXFxyXG5dKSpcMS9pLGdyZWVkeTohMH0sZnVuY3Rpb246e3BhdHRlcm46LygoPzpefFxzKWRlZlsgXHRdKylbYS16QS1aX11cdyooPz1ccypcKCkvZyxsb29rYmVoaW5kOiEwfSwiY2xhc3MtbmFtZSI6e3BhdHRlcm46LyhcYmNsYXNzXHMrKVx3Ky9pLGxvb2tiZWhpbmQ6ITB9LGRlY29yYXRvcjp7cGF0dGVybjovKF5bXHQgXSopQFx3Kyg/OlwuXHcrKSovbSxsb29rYmVoaW5kOiEwLGFsaWFzOlsiYW5ub3RhdGlvbiIsInB1bmN0dWF0aW9uIl0saW5zaWRlOntwdW5jdHVhdGlvbjovXC4vfX0sa2V5d29yZDovXGIoPzpfKD89XHMqOil8YW5kfGFzfGFzc2VydHxhc3luY3xhd2FpdHxicmVha3xjYXNlfGNsYXNzfGNvbnRpbnVlfGRlZnxkZWx8ZWxpZnxlbHNlfGV4Y2VwdHxleGVjfGZpbmFsbHl8Zm9yfGZyb218Z2xvYmFsfGlmfGltcG9ydHxpbnxpc3xsYW1iZGF8bWF0Y2h8bm9ubG9jYWx8bm90fG9yfHBhc3N8cHJpbnR8cmFpc2V8cmV0dXJufHRyeXx3aGlsZXx3aXRofHlpZWxkKVxiLyxidWlsdGluOi9cYig/Ol9faW1wb3J0X198YWJzfGFsbHxhbnl8YXBwbHl8YXNjaWl8YmFzZXN0cmluZ3xiaW58Ym9vbHxidWZmZXJ8Ynl0ZWFycmF5fGJ5dGVzfGNhbGxhYmxlfGNocnxjbGFzc21ldGhvZHxjbXB8Y29lcmNlfGNvbXBpbGV8Y29tcGxleHxkZWxhdHRyfGRpY3R8ZGlyfGRpdm1vZHxlbnVtZXJhdGV8ZXZhbHxleGVjZmlsZXxmaWxlfGZpbHRlcnxmbG9hdHxmb3JtYXR8ZnJvemVuc2V0fGdldGF0dHJ8Z2xvYmFsc3xoYXNhdHRyfGhhc2h8aGVscHxoZXh8aWR8aW5wdXR8aW50fGludGVybnxpc2luc3RhbmNlfGlzc3ViY2xhc3N8aXRlcnxsZW58bGlzdHxsb2NhbHN8bG9uZ3xtYXB8bWF4fG1lbW9yeXZpZXd8bWlufG5leHR8b2JqZWN0fG9jdHxvcGVufG9yZHxwb3d8cHJvcGVydHl8cmFuZ2V8cmF3X2lucHV0fHJlZHVjZXxyZWxvYWR8cmVwcnxyZXZlcnNlZHxyb3VuZHxzZXR8c2V0YXR0cnxzbGljZXxzb3J0ZWR8c3RhdGljbWV0aG9kfHN0cnxzdW18c3VwZXJ8dHVwbGV8dHlwZXx1bmljaHJ8dW5pY29kZXx2YXJzfHhyYW5nZXx6aXApXGIvLGJvb2xlYW46L1xiKD86RmFsc2V8Tm9uZXxUcnVlKVxiLyxudW1iZXI6L1xiMCg/OmIoPzpfP1swMV0pK3xvKD86Xz9bMC03XSkrfHgoPzpfP1thLWYwLTldKSspXGJ8KD86XGJcZCsoPzpfXGQrKSooPzpcLig/OlxkKyg/Ol9cZCspKik/KT98XEJcLlxkKyg/Ol9cZCspKikoPzplWystXT9cZCsoPzpfXGQrKSopP2o/KD8hXHcpL2ksb3BlcmF0b3I6L1stKyU9XT0/fCE9fDo9fFwqXCo/PT98XC9cLz89P3w8Wzw9Pl0/fD5bPT5dP3xbJnxefl0vLHB1bmN0dWF0aW9uOi9be31bXF07KCksLjpdL30sUHJpc20ubGFuZ3VhZ2VzLnB5dGhvblsic3RyaW5nLWludGVycG9sYXRpb24iXS5pbnNpZGUuaW50ZXJwb2xhdGlvbi5pbnNpZGUucmVzdD1QcmlzbS5sYW5ndWFnZXMucHl0aG9uLFByaXNtLmxhbmd1YWdlcy5weT1QcmlzbS5sYW5ndWFnZXMucHl0aG9ufSwzNTg6KCk9PnshZnVuY3Rpb24oZSl7dmFyIHQ9L1sqJl1bXlxzW1xde30sXSsvLHI9LyEoPzo8W1x3XC0lIzsvPzpAJj0rJCwuIX4qJygpW1xdXSs+fCg/OlthLXpBLVpcZC1dKiEpP1tcd1wtJSM7Lz86QCY9KyQufionKCldKyk/LyxuPSIoPzoiK3Iuc291cmNlKyIoPzpbIFx0XSsiK3Quc291cmNlKyIpP3wiK3Quc291cmNlKyIoPzpbIFx0XSsiK3Iuc291cmNlKyIpPykiLG89Lyg/OlteXHNceDAwLVx4MDhceDBlLVx4MWYhIiMlJicqLFwtOj4/QFtcXWB7fH1ceDdmLVx4ODRceDg2LVx4OWZcdWQ4MDAtXHVkZmZmXHVmZmZlXHVmZmZmXXxbPzotXTxQTEFJTj4pKD86WyBcdF0qKD86KD8hWyM6XSk8UExBSU4+fDo8UExBSU4+KSkqLy5zb3VyY2UucmVwbGFjZSgvPFBMQUlOPi9nLChmdW5jdGlvbigpe3JldHVybi9bXlxzXHgwMC1ceDA4XHgwZS1ceDFmLFtcXXt9XHg3Zi1ceDg0XHg4Ni1ceDlmXHVkODAwLVx1ZGZmZlx1ZmZmZVx1ZmZmZl0vLnNvdXJjZX0pKSxhPS8iKD86W14iXFxcclxuXXxcXC4pKiJ8Jyg/OlteJ1xcXHJcbl18XFwuKSonLy5zb3VyY2U7ZnVuY3Rpb24gaShlLHQpe3Q9KHR8fCIiKS5yZXBsYWNlKC9tL2csIiIpKyJtIjt2YXIgcj0vKFs6XC0sW3tdXHMqKD86XHM8PHByb3A+PlsgXHRdKyk/KSg/Ojw8dmFsdWU+PikoPz1bIFx0XSooPzokfCx8XF18XH18KD86W1xyXG5dXHMqKT8jKSkvLnNvdXJjZS5yZXBsYWNlKC88PHByb3A+Pi9nLChmdW5jdGlvbigpe3JldHVybiBufSkpLnJlcGxhY2UoLzw8dmFsdWU+Pi9nLChmdW5jdGlvbigpe3JldHVybiBlfSkpO3JldHVybiBSZWdFeHAocix0KX1lLmxhbmd1YWdlcy55YW1sPXtzY2FsYXI6e3BhdHRlcm46UmVnRXhwKC8oW1wtOl1ccyooPzpcczw8cHJvcD4+WyBcdF0rKT9bfD5dKVsgXHRdKig/OigoPzpccj9cbnxccilbIFx0XSspXFNbXlxyXG5dKig/OlwyW15cclxuXSspKikvLnNvdXJjZS5yZXBsYWNlKC88PHByb3A+Pi9nLChmdW5jdGlvbigpe3JldHVybiBufSkpKSxsb29rYmVoaW5kOiEwLGFsaWFzOiJzdHJpbmcifSxjb21tZW50Oi8jLiovLGtleTp7cGF0dGVybjpSZWdFeHAoLygoPzpefFs6XC0sW3tcclxuP10pWyBcdF0qKD86PDxwcm9wPj5bIFx0XSspPyk8PGtleT4+KD89XHMqOlxzKS8uc291cmNlLnJlcGxhY2UoLzw8cHJvcD4+L2csKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSkucmVwbGFjZSgvPDxrZXk+Pi9nLChmdW5jdGlvbigpe3JldHVybiIoPzoiK28rInwiK2ErIikifSkpKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxhbGlhczoiYXRydWxlIn0sZGlyZWN0aXZlOntwYXR0ZXJuOi8oXlsgXHRdKiklLisvbSxsb29rYmVoaW5kOiEwLGFsaWFzOiJpbXBvcnRhbnQifSxkYXRldGltZTp7cGF0dGVybjppKC9cZHs0fS1cZFxkPy1cZFxkPyg/Olt0VF18WyBcdF0rKVxkXGQ/OlxkezJ9OlxkezJ9KD86XC5cZCopPyg/OlsgXHRdKig/Olp8Wy0rXVxkXGQ/KD86OlxkezJ9KT8pKT98XGR7NH0tXGR7Mn0tXGR7Mn18XGRcZD86XGR7Mn0oPzo6XGR7Mn0oPzpcLlxkKik/KT8vLnNvdXJjZSksbG9va2JlaGluZDohMCxhbGlhczoibnVtYmVyIn0sYm9vbGVhbjp7cGF0dGVybjppKC9mYWxzZXx0cnVlLy5zb3VyY2UsImkiKSxsb29rYmVoaW5kOiEwLGFsaWFzOiJpbXBvcnRhbnQifSxudWxsOntwYXR0ZXJuOmkoL251bGx8fi8uc291cmNlLCJpIiksbG9va2JlaGluZDohMCxhbGlhczoiaW1wb3J0YW50In0sc3RyaW5nOntwYXR0ZXJuOmkoYSksbG9va2JlaGluZDohMCxncmVlZHk6ITB9LG51bWJlcjp7cGF0dGVybjppKC9bKy1dPyg/OjB4W1xkYS1mXSt8MG9bMC03XSt8KD86XGQrKD86XC5cZCopP3xcLlxkKykoPzplWystXT9cZCspP3xcLmluZnxcLm5hbikvLnNvdXJjZSwiaSIpLGxvb2tiZWhpbmQ6ITB9LHRhZzpyLGltcG9ydGFudDp0LHB1bmN0dWF0aW9uOi8tLS18WzpbXF17fVwtLHw+P118XC5cLlwuL30sZS5sYW5ndWFnZXMueW1sPWUubGFuZ3VhZ2VzLnlhbWx9KFByaXNtKX0sNjYwOihlLHQscik9Pnt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD0vKD86XnxccylsYW5nKD86dWFnZSk/LShbXHctXSspKD89XHN8JCkvaSxyPTAsbj17fSxvPXttYW51YWw6ZS5QcmlzbSYmZS5QcmlzbS5tYW51YWwsZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyOmUuUHJpc20mJmUuUHJpc20uZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyLHV0aWw6e2VuY29kZTpmdW5jdGlvbiBlKHQpe3JldHVybiB0IGluc3RhbmNlb2YgYT9uZXcgYSh0LnR5cGUsZSh0LmNvbnRlbnQpLHQuYWxpYXMpOkFycmF5LmlzQXJyYXkodCk/dC5tYXAoZSk6dC5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvXHUwMGEwL2csIiAiKX0sdHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpfSxvYmpJZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX2lkfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19pZCIse3ZhbHVlOisrcn0pLGUuX19pZH0sY2xvbmU6ZnVuY3Rpb24gZSh0LHIpe3ZhciBuLGE7c3dpdGNoKHI9cnx8e30sby51dGlsLnR5cGUodCkpe2Nhc2UiT2JqZWN0IjppZihhPW8udXRpbC5vYmpJZCh0KSxyW2FdKXJldHVybiByW2FdO2Zvcih2YXIgaSBpbiBuPXt9LHJbYV09bix0KXQuaGFzT3duUHJvcGVydHkoaSkmJihuW2ldPWUodFtpXSxyKSk7cmV0dXJuIG47Y2FzZSJBcnJheSI6cmV0dXJuIGE9by51dGlsLm9iaklkKHQpLHJbYV0/clthXToobj1bXSxyW2FdPW4sdC5mb3JFYWNoKChmdW5jdGlvbih0LG8pe25bb109ZSh0LHIpfSkpLG4pO2RlZmF1bHQ6cmV0dXJuIHR9fSxnZXRMYW5ndWFnZTpmdW5jdGlvbihlKXtmb3IoO2U7KXt2YXIgcj10LmV4ZWMoZS5jbGFzc05hbWUpO2lmKHIpcmV0dXJuIHJbMV0udG9Mb3dlckNhc2UoKTtlPWUucGFyZW50RWxlbWVudH1yZXR1cm4ibm9uZSJ9LHNldExhbmd1YWdlOmZ1bmN0aW9uKGUscil7ZS5jbGFzc05hbWU9ZS5jbGFzc05hbWUucmVwbGFjZShSZWdFeHAodCwiZ2kiKSwiIiksZS5jbGFzc0xpc3QuYWRkKCJsYW5ndWFnZS0iK3IpfSxjdXJyZW50U2NyaXB0OmZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBkb2N1bWVudClyZXR1cm4gbnVsbDtpZigiY3VycmVudFNjcmlwdCJpbiBkb2N1bWVudClyZXR1cm4gZG9jdW1lbnQuY3VycmVudFNjcmlwdDt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKG4pe3ZhciBlPSgvYXQgW14oXHJcbl0qXCgoLiopOlteOl0rOlteOl0rXCkkL2kuZXhlYyhuLnN0YWNrKXx8W10pWzFdO2lmKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKTtmb3IodmFyIHIgaW4gdClpZih0W3JdLnNyYz09ZSlyZXR1cm4gdFtyXX1yZXR1cm4gbnVsbH19LGlzQWN0aXZlOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49Im5vLSIrdDtlOyl7dmFyIG89ZS5jbGFzc0xpc3Q7aWYoby5jb250YWlucyh0KSlyZXR1cm4hMDtpZihvLmNvbnRhaW5zKG4pKXJldHVybiExO2U9ZS5wYXJlbnRFbGVtZW50fXJldHVybiEhcn19LGxhbmd1YWdlczp7cGxhaW46bixwbGFpbnRleHQ6bix0ZXh0Om4sdHh0Om4sZXh0ZW5kOmZ1bmN0aW9uKGUsdCl7dmFyIHI9by51dGlsLmNsb25lKG8ubGFuZ3VhZ2VzW2VdKTtmb3IodmFyIG4gaW4gdClyW25dPXRbbl07cmV0dXJuIHJ9LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLHQscixuKXt2YXIgYT0obj1ufHxvLmxhbmd1YWdlcylbZV0saT17fTtmb3IodmFyIHMgaW4gYSlpZihhLmhhc093blByb3BlcnR5KHMpKXtpZihzPT10KWZvcih2YXIgbCBpbiByKXIuaGFzT3duUHJvcGVydHkobCkmJihpW2xdPXJbbF0pO3IuaGFzT3duUHJvcGVydHkocyl8fChpW3NdPWFbc10pfXZhciBjPW5bZV07cmV0dXJuIG5bZV09aSxvLmxhbmd1YWdlcy5ERlMoby5sYW5ndWFnZXMsKGZ1bmN0aW9uKHQscil7cj09PWMmJnQhPWUmJih0aGlzW3RdPWkpfSkpLGl9LERGUzpmdW5jdGlvbiBlKHQscixuLGEpe2E9YXx8e307dmFyIGk9by51dGlsLm9iaklkO2Zvcih2YXIgcyBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkocykpe3IuY2FsbCh0LHMsdFtzXSxufHxzKTt2YXIgbD10W3NdLGM9by51dGlsLnR5cGUobCk7Ik9iamVjdCIhPT1jfHxhW2kobCldPyJBcnJheSIhPT1jfHxhW2kobCldfHwoYVtpKGwpXT0hMCxlKGwscixzLGEpKTooYVtpKGwpXT0hMCxlKGwscixudWxsLGEpKX19fSxwbHVnaW5zOnt9LGhpZ2hsaWdodEFsbDpmdW5jdGlvbihlLHQpe28uaGlnaGxpZ2h0QWxsVW5kZXIoZG9jdW1lbnQsZSx0KX0saGlnaGxpZ2h0QWxsVW5kZXI6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXtjYWxsYmFjazpyLGNvbnRhaW5lcjplLHNlbGVjdG9yOidjb2RlW2NsYXNzKj0ibGFuZ3VhZ2UtIl0sIFtjbGFzcyo9Imxhbmd1YWdlLSJdIGNvZGUsIGNvZGVbY2xhc3MqPSJsYW5nLSJdLCBbY2xhc3MqPSJsYW5nLSJdIGNvZGUnfTtvLmhvb2tzLnJ1bigiYmVmb3JlLWhpZ2hsaWdodGFsbCIsbiksbi5lbGVtZW50cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkobi5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChuLnNlbGVjdG9yKSksby5ob29rcy5ydW4oImJlZm9yZS1hbGwtZWxlbWVudHMtaGlnaGxpZ2h0IixuKTtmb3IodmFyIGEsaT0wO2E9bi5lbGVtZW50c1tpKytdOylvLmhpZ2hsaWdodEVsZW1lbnQoYSwhMD09PXQsbi5jYWxsYmFjayl9LGhpZ2hsaWdodEVsZW1lbnQ6ZnVuY3Rpb24odCxyLG4pe3ZhciBhPW8udXRpbC5nZXRMYW5ndWFnZSh0KSxpPW8ubGFuZ3VhZ2VzW2FdO28udXRpbC5zZXRMYW5ndWFnZSh0LGEpO3ZhciBzPXQucGFyZW50RWxlbWVudDtzJiYicHJlIj09PXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmby51dGlsLnNldExhbmd1YWdlKHMsYSk7dmFyIGw9e2VsZW1lbnQ6dCxsYW5ndWFnZTphLGdyYW1tYXI6aSxjb2RlOnQudGV4dENvbnRlbnR9O2Z1bmN0aW9uIGMoZSl7bC5oaWdobGlnaHRlZENvZGU9ZSxvLmhvb2tzLnJ1bigiYmVmb3JlLWluc2VydCIsbCksbC5lbGVtZW50LmlubmVySFRNTD1sLmhpZ2hsaWdodGVkQ29kZSxvLmhvb2tzLnJ1bigiYWZ0ZXItaGlnaGxpZ2h0IixsKSxvLmhvb2tzLnJ1bigiY29tcGxldGUiLGwpLG4mJm4uY2FsbChsLmVsZW1lbnQpfWlmKG8uaG9va3MucnVuKCJiZWZvcmUtc2FuaXR5LWNoZWNrIixsKSwocz1sLmVsZW1lbnQucGFyZW50RWxlbWVudCkmJiJwcmUiPT09cy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYhcy5oYXNBdHRyaWJ1dGUoInRhYmluZGV4IikmJnMuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIjAiKSwhbC5jb2RlKXJldHVybiBvLmhvb2tzLnJ1bigiY29tcGxldGUiLGwpLHZvaWQobiYmbi5jYWxsKGwuZWxlbWVudCkpO2lmKG8uaG9va3MucnVuKCJiZWZvcmUtaGlnaGxpZ2h0IixsKSxsLmdyYW1tYXIpaWYociYmZS5Xb3JrZXIpe3ZhciBwPW5ldyBXb3JrZXIoby5maWxlbmFtZSk7cC5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7YyhlLmRhdGEpfSxwLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtsYW5ndWFnZTpsLmxhbmd1YWdlLGNvZGU6bC5jb2RlLGltbWVkaWF0ZUNsb3NlOiEwfSkpfWVsc2UgYyhvLmhpZ2hsaWdodChsLmNvZGUsbC5ncmFtbWFyLGwubGFuZ3VhZ2UpKTtlbHNlIGMoby51dGlsLmVuY29kZShsLmNvZGUpKX0saGlnaGxpZ2h0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj17Y29kZTplLGdyYW1tYXI6dCxsYW5ndWFnZTpyfTtpZihvLmhvb2tzLnJ1bigiYmVmb3JlLXRva2VuaXplIixuKSwhbi5ncmFtbWFyKXRocm93IG5ldyBFcnJvcignVGhlIGxhbmd1YWdlICInK24ubGFuZ3VhZ2UrJyIgaGFzIG5vIGdyYW1tYXIuJyk7cmV0dXJuIG4udG9rZW5zPW8udG9rZW5pemUobi5jb2RlLG4uZ3JhbW1hciksby5ob29rcy5ydW4oImFmdGVyLXRva2VuaXplIixuKSxhLnN0cmluZ2lmeShvLnV0aWwuZW5jb2RlKG4udG9rZW5zKSxuLmxhbmd1YWdlKX0sdG9rZW5pemU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnJlc3Q7aWYocil7Zm9yKHZhciBuIGluIHIpdFtuXT1yW25dO2RlbGV0ZSB0LnJlc3R9dmFyIG89bmV3IGw7cmV0dXJuIGMobyxvLmhlYWQsZSkscyhlLG8sdCxvLmhlYWQsMCksZnVuY3Rpb24oZSl7dmFyIHQ9W10scj1lLmhlYWQubmV4dDtmb3IoO3IhPT1lLnRhaWw7KXQucHVzaChyLnZhbHVlKSxyPXIubmV4dDtyZXR1cm4gdH0obyl9LGhvb2tzOnthbGw6e30sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIHI9by5ob29rcy5hbGw7cltlXT1yW2VdfHxbXSxyW2VdLnB1c2godCl9LHJ1bjpmdW5jdGlvbihlLHQpe3ZhciByPW8uaG9va3MuYWxsW2VdO2lmKHImJnIubGVuZ3RoKWZvcih2YXIgbixhPTA7bj1yW2ErK107KW4odCl9fSxUb2tlbjphfTtmdW5jdGlvbiBhKGUsdCxyLG4pe3RoaXMudHlwZT1lLHRoaXMuY29udGVudD10LHRoaXMuYWxpYXM9cix0aGlzLmxlbmd0aD0wfChufHwiIikubGVuZ3RofWZ1bmN0aW9uIGkoZSx0LHIsbil7ZS5sYXN0SW5kZXg9dDt2YXIgbz1lLmV4ZWMocik7aWYobyYmbiYmb1sxXSl7dmFyIGE9b1sxXS5sZW5ndGg7by5pbmRleCs9YSxvWzBdPW9bMF0uc2xpY2UoYSl9cmV0dXJuIG99ZnVuY3Rpb24gcyhlLHQscixuLGwsZCl7Zm9yKHZhciB1IGluIHIpaWYoci5oYXNPd25Qcm9wZXJ0eSh1KSYmclt1XSl7dmFyIGg9clt1XTtoPUFycmF5LmlzQXJyYXkoaCk/aDpbaF07Zm9yKHZhciBmPTA7ZjxoLmxlbmd0aDsrK2Ype2lmKGQmJmQuY2F1c2U9PXUrIiwiK2YpcmV0dXJuO3ZhciBtPWhbZl0seT1tLmluc2lkZSxnPSEhbS5sb29rYmVoaW5kLHY9ISFtLmdyZWVkeSxiPW0uYWxpYXM7aWYodiYmIW0ucGF0dGVybi5nbG9iYWwpe3ZhciB4PW0ucGF0dGVybi50b1N0cmluZygpLm1hdGNoKC9baW1zdXldKiQvKVswXTttLnBhdHRlcm49UmVnRXhwKG0ucGF0dGVybi5zb3VyY2UseCsiZyIpfWZvcih2YXIgdz1tLnBhdHRlcm58fG0sJD1uLm5leHQsaz1sOyQhPT10LnRhaWwmJiEoZCYmaz49ZC5yZWFjaCk7ays9JC52YWx1ZS5sZW5ndGgsJD0kLm5leHQpe3ZhciBTPSQudmFsdWU7aWYodC5sZW5ndGg+ZS5sZW5ndGgpcmV0dXJuO2lmKCEoUyBpbnN0YW5jZW9mIGEpKXt2YXIgQSxFPTE7aWYodil7aWYoIShBPWkodyxrLGUsZykpfHxBLmluZGV4Pj1lLmxlbmd0aClicmVhazt2YXIgTz1BLmluZGV4LFQ9QS5pbmRleCtBWzBdLmxlbmd0aCxDPWs7Zm9yKEMrPSQudmFsdWUubGVuZ3RoO08+PUM7KUMrPSgkPSQubmV4dCkudmFsdWUubGVuZ3RoO2lmKGs9Qy09JC52YWx1ZS5sZW5ndGgsJC52YWx1ZSBpbnN0YW5jZW9mIGEpY29udGludWU7Zm9yKHZhciBqPSQ7aiE9PXQudGFpbCYmKEM8VHx8InN0cmluZyI9PXR5cGVvZiBqLnZhbHVlKTtqPWoubmV4dClFKyssQys9ai52YWx1ZS5sZW5ndGg7RS0tLFM9ZS5zbGljZShrLEMpLEEuaW5kZXgtPWt9ZWxzZSBpZighKEE9aSh3LDAsUyxnKSkpY29udGludWU7Tz1BLmluZGV4O3ZhciBJPUFbMF0sXz1TLnNsaWNlKDAsTyksUD1TLnNsaWNlKE8rSS5sZW5ndGgpLFI9aytTLmxlbmd0aDtkJiZSPmQucmVhY2gmJihkLnJlYWNoPVIpO3ZhciBMPSQucHJldjtpZihfJiYoTD1jKHQsTCxfKSxrKz1fLmxlbmd0aCkscCh0LEwsRSksJD1jKHQsTCxuZXcgYSh1LHk/by50b2tlbml6ZShJLHkpOkksYixJKSksUCYmYyh0LCQsUCksRT4xKXt2YXIgRj17Y2F1c2U6dSsiLCIrZixyZWFjaDpSfTtzKGUsdCxyLCQucHJldixrLEYpLGQmJkYucmVhY2g+ZC5yZWFjaCYmKGQucmVhY2g9Ri5yZWFjaCl9fX19fX1mdW5jdGlvbiBsKCl7dmFyIGU9e3ZhbHVlOm51bGwscHJldjpudWxsLG5leHQ6bnVsbH0sdD17dmFsdWU6bnVsbCxwcmV2OmUsbmV4dDpudWxsfTtlLm5leHQ9dCx0aGlzLmhlYWQ9ZSx0aGlzLnRhaWw9dCx0aGlzLmxlbmd0aD0wfWZ1bmN0aW9uIGMoZSx0LHIpe3ZhciBuPXQubmV4dCxvPXt2YWx1ZTpyLHByZXY6dCxuZXh0Om59O3JldHVybiB0Lm5leHQ9byxuLnByZXY9byxlLmxlbmd0aCsrLG99ZnVuY3Rpb24gcChlLHQscil7Zm9yKHZhciBuPXQubmV4dCxvPTA7bzxyJiZuIT09ZS50YWlsO28rKyluPW4ubmV4dDt0Lm5leHQ9bixuLnByZXY9dCxlLmxlbmd0aC09b31pZihlLlByaXNtPW8sYS5zdHJpbmdpZnk9ZnVuY3Rpb24gZSh0LHIpe2lmKCJzdHJpbmciPT10eXBlb2YgdClyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgbj0iIjtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtuKz1lKHQscil9KSksbn12YXIgYT17dHlwZTp0LnR5cGUsY29udGVudDplKHQuY29udGVudCxyKSx0YWc6InNwYW4iLGNsYXNzZXM6WyJ0b2tlbiIsdC50eXBlXSxhdHRyaWJ1dGVzOnt9LGxhbmd1YWdlOnJ9LGk9dC5hbGlhcztpJiYoQXJyYXkuaXNBcnJheShpKT9BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmNsYXNzZXMsaSk6YS5jbGFzc2VzLnB1c2goaSkpLG8uaG9va3MucnVuKCJ3cmFwIixhKTt2YXIgcz0iIjtmb3IodmFyIGwgaW4gYS5hdHRyaWJ1dGVzKXMrPSIgIitsKyc9IicrKGEuYXR0cmlidXRlc1tsXXx8IiIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7IikrJyInO3JldHVybiI8IithLnRhZysnIGNsYXNzPSInK2EuY2xhc3Nlcy5qb2luKCIgIikrJyInK3MrIj4iK2EuY29udGVudCsiPC8iK2EudGFnKyI+In0sIWUuZG9jdW1lbnQpcmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcj8oby5kaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXJ8fGUuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKHQpe3ZhciByPUpTT04ucGFyc2UodC5kYXRhKSxuPXIubGFuZ3VhZ2UsYT1yLmNvZGUsaT1yLmltbWVkaWF0ZUNsb3NlO2UucG9zdE1lc3NhZ2Uoby5oaWdobGlnaHQoYSxvLmxhbmd1YWdlc1tuXSxuKSksaSYmZS5jbG9zZSgpfSksITEpLG8pOm87dmFyIGQ9by51dGlsLmN1cnJlbnRTY3JpcHQoKTtmdW5jdGlvbiB1KCl7by5tYW51YWx8fG8uaGlnaGxpZ2h0QWxsKCl9aWYoZCYmKG8uZmlsZW5hbWU9ZC5zcmMsZC5oYXNBdHRyaWJ1dGUoImRhdGEtbWFudWFsIikmJihvLm1hbnVhbD0hMCkpLCFvLm1hbnVhbCl7dmFyIGg9ZG9jdW1lbnQucmVhZHlTdGF0ZTsibG9hZGluZyI9PT1ofHwiaW50ZXJhY3RpdmUiPT09aCYmZCYmZC5kZWZlcj9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix1KTp3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodSk6d2luZG93LnNldFRpbWVvdXQodSwxNil9cmV0dXJuIG99KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGU/c2VsZjp7fSk7ZS5leHBvcnRzJiYoZS5leHBvcnRzPW4pLHZvaWQgMCE9PXIuZyYmKHIuZy5QcmlzbT1uKSxuLmxhbmd1YWdlcy5tYXJrdXA9e2NvbW1lbnQ6e3BhdHRlcm46LzwhLS0oPzooPyE8IS0tKVtcc1xTXSkqPy0tPi8sZ3JlZWR5OiEwfSxwcm9sb2c6e3BhdHRlcm46LzxcP1tcc1xTXSs/XD8+LyxncmVlZHk6ITB9LGRvY3R5cGU6e3BhdHRlcm46LzwhRE9DVFlQRSg/OltePiInW1xdXXwiW14iXSoifCdbXiddKicpKyg/OlxbKD86W148IidcXV18IlteIl0qInwnW14nXSonfDwoPyEhLS0pfDwhLS0oPzpbXi1dfC0oPyEtPikpKi0tPikqXF1ccyopPz4vaSxncmVlZHk6ITAsaW5zaWRlOnsiaW50ZXJuYWwtc3Vic2V0Ijp7cGF0dGVybjovKF5bXlxbXSpcWylbXHNcU10rKD89XF0+JCkvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTpudWxsfSxzdHJpbmc6e3BhdHRlcm46LyJbXiJdKiJ8J1teJ10qJy8sZ3JlZWR5OiEwfSxwdW5jdHVhdGlvbjovXjwhfD4kfFtbXF1dLywiZG9jdHlwZS10YWciOi9eRE9DVFlQRS9pLG5hbWU6L1teXHM8PiciXSsvfX0sY2RhdGE6e3BhdHRlcm46LzwhXFtDREFUQVxbW1xzXFNdKj9cXVxdPi9pLGdyZWVkeTohMH0sdGFnOntwYXR0ZXJuOi88XC8/KD8hXGQpW15ccz5cLz0kPCVdKyg/OlxzKD86XHMqW15ccz5cLz1dKyg/OlxzKj1ccyooPzoiW14iXSoifCdbXiddKid8W15ccyciPj1dKyg/PVtccz5dKSl8KD89W1xzLz5dKSkpKyk/XHMqXC8/Pi8sZ3JlZWR5OiEwLGluc2lkZTp7dGFnOntwYXR0ZXJuOi9ePFwvP1teXHM+XC9dKy8saW5zaWRlOntwdW5jdHVhdGlvbjovXjxcLz8vLG5hbWVzcGFjZTovXlteXHM+XC86XSs6L319LCJzcGVjaWFsLWF0dHIiOltdLCJhdHRyLXZhbHVlIjp7cGF0dGVybjovPVxzKig/OiJbXiJdKiJ8J1teJ10qJ3xbXlxzJyI+PV0rKS8saW5zaWRlOntwdW5jdHVhdGlvbjpbe3BhdHRlcm46L149LyxhbGlhczoiYXR0ci1lcXVhbHMifSx7cGF0dGVybjovXihccyopWyInXXxbIiddJC8sbG9va2JlaGluZDohMH1dfX0scHVuY3R1YXRpb246L1wvPz4vLCJhdHRyLW5hbWUiOntwYXR0ZXJuOi9bXlxzPlwvXSsvLGluc2lkZTp7bmFtZXNwYWNlOi9eW15ccz5cLzpdKzovfX19fSxlbnRpdHk6W3twYXR0ZXJuOi8mW1xkYS16XXsxLDh9Oy9pLGFsaWFzOiJuYW1lZC1lbnRpdHkifSwvJiN4P1tcZGEtZl17MSw4fTsvaV19LG4ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlWyJhdHRyLXZhbHVlIl0uaW5zaWRlLmVudGl0eT1uLmxhbmd1YWdlcy5tYXJrdXAuZW50aXR5LG4ubGFuZ3VhZ2VzLm1hcmt1cC5kb2N0eXBlLmluc2lkZVsiaW50ZXJuYWwtc3Vic2V0Il0uaW5zaWRlPW4ubGFuZ3VhZ2VzLm1hcmt1cCxuLmhvb2tzLmFkZCgid3JhcCIsKGZ1bmN0aW9uKGUpeyJlbnRpdHkiPT09ZS50eXBlJiYoZS5hdHRyaWJ1dGVzLnRpdGxlPWUuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sIiYiKSl9KSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ubGFuZ3VhZ2VzLm1hcmt1cC50YWcsImFkZElubGluZWQiLHt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXt9O3JbImxhbmd1YWdlLSIrdF09e3BhdHRlcm46LyhePCFcW0NEQVRBXFspW1xzXFNdKz8oPz1cXVxdPiQpL2ksbG9va2JlaGluZDohMCxpbnNpZGU6bi5sYW5ndWFnZXNbdF19LHIuY2RhdGE9L148IVxbQ0RBVEFcW3xcXVxdPiQvaTt2YXIgbz17ImluY2x1ZGVkLWNkYXRhIjp7cGF0dGVybjovPCFcW0NEQVRBXFtbXHNcU10qP1xdXF0+L2ksaW5zaWRlOnJ9fTtvWyJsYW5ndWFnZS0iK3RdPXtwYXR0ZXJuOi9bXHNcU10rLyxpbnNpZGU6bi5sYW5ndWFnZXNbdF19O3ZhciBhPXt9O2FbZV09e3BhdHRlcm46UmVnRXhwKC8oPF9fW14+XSo+KSg/OjwhXFtDREFUQVxbKD86W15cXV18XF0oPyFcXT4pKSpcXVxdPnwoPyE8IVxbQ0RBVEFcWylbXHNcU10pKj8oPz08XC9fXz4pLy5zb3VyY2UucmVwbGFjZSgvX18vZywoZnVuY3Rpb24oKXtyZXR1cm4gZX0pKSwiaSIpLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTpvfSxuLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoIm1hcmt1cCIsImNkYXRhIixhKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5sYW5ndWFnZXMubWFya3VwLnRhZywiYWRkQXR0cmlidXRlIix7dmFsdWU6ZnVuY3Rpb24oZSx0KXtuLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVsic3BlY2lhbC1hdHRyIl0ucHVzaCh7cGF0dGVybjpSZWdFeHAoLyhefFsiJ1xzXSkvLnNvdXJjZSsiKD86IitlKyIpIisvXHMqPVxzKig/OiJbXiJdKiJ8J1teJ10qJ3xbXlxzJyI+PV0rKD89W1xzPl0pKS8uc291cmNlLCJpIiksbG9va2JlaGluZDohMCxpbnNpZGU6eyJhdHRyLW5hbWUiOi9eW15ccz1dKy8sImF0dHItdmFsdWUiOntwYXR0ZXJuOi89W1xzXFNdKy8saW5zaWRlOnt2YWx1ZTp7cGF0dGVybjovKF49XHMqKFsiJ118KD8hWyInXSkpKVxTW1xzXFNdKig/PVwyJCkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6W3QsImxhbmd1YWdlLSIrdF0saW5zaWRlOm4ubGFuZ3VhZ2VzW3RdfSxwdW5jdHVhdGlvbjpbe3BhdHRlcm46L149LyxhbGlhczoiYXR0ci1lcXVhbHMifSwvInwnL119fX19KX19KSxuLmxhbmd1YWdlcy5odG1sPW4ubGFuZ3VhZ2VzLm1hcmt1cCxuLmxhbmd1YWdlcy5tYXRobWw9bi5sYW5ndWFnZXMubWFya3VwLG4ubGFuZ3VhZ2VzLnN2Zz1uLmxhbmd1YWdlcy5tYXJrdXAsbi5sYW5ndWFnZXMueG1sPW4ubGFuZ3VhZ2VzLmV4dGVuZCgibWFya3VwIix7fSksbi5sYW5ndWFnZXMuc3NtbD1uLmxhbmd1YWdlcy54bWwsbi5sYW5ndWFnZXMuYXRvbT1uLmxhbmd1YWdlcy54bWwsbi5sYW5ndWFnZXMucnNzPW4ubGFuZ3VhZ2VzLnhtbCxmdW5jdGlvbihlKXt2YXIgdD0vKD86Iig/OlxcKD86XHJcbnxbXHNcU10pfFteIlxcXHJcbl0pKiJ8Jyg/OlxcKD86XHJcbnxbXHNcU10pfFteJ1xcXHJcbl0pKicpLztlLmxhbmd1YWdlcy5jc3M9e2NvbW1lbnQ6L1wvXCpbXHNcU10qP1wqXC8vLGF0cnVsZTp7cGF0dGVybjpSZWdFeHAoIkBbXFx3LV0oPzoiKy9bXjt7XHMiJ118XHMrKD8hXHMpLy5zb3VyY2UrInwiK3Quc291cmNlKyIpKj8iKy8oPzo7fCg/PVxzKlx7KSkvLnNvdXJjZSksaW5zaWRlOntydWxlOi9eQFtcdy1dKy8sInNlbGVjdG9yLWZ1bmN0aW9uLWFyZ3VtZW50Ijp7cGF0dGVybjovKFxic2VsZWN0b3JccypcKFxzKig/IVtccyldKSkoPzpbXigpXHNdfFxzKyg/IVtccyldKXxcKCg/OlteKCldfFwoW14oKV0qXCkpKlwpKSsoPz1ccypcKSkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6InNlbGVjdG9yIn0sa2V5d29yZDp7cGF0dGVybjovKF58W15cdy1dKSg/OmFuZHxub3R8b25seXxvcikoPyFbXHctXSkvLGxvb2tiZWhpbmQ6ITB9fX0sdXJsOntwYXR0ZXJuOlJlZ0V4cCgiXFxidXJsXFwoKD86Iit0LnNvdXJjZSsifCIrLyg/OlteXFxcclxuKCkiJ118XFxbXHNcU10pKi8uc291cmNlKyIpXFwpIiwiaSIpLGdyZWVkeTohMCxpbnNpZGU6e2Z1bmN0aW9uOi9edXJsL2kscHVuY3R1YXRpb246L15cKHxcKSQvLHN0cmluZzp7cGF0dGVybjpSZWdFeHAoIl4iK3Quc291cmNlKyIkIiksYWxpYXM6InVybCJ9fX0sc2VsZWN0b3I6e3BhdHRlcm46UmVnRXhwKCIoXnxbe31cXHNdKVtee31cXHNdKD86W157fTtcIidcXHNdfFxccysoPyFbXFxze10pfCIrdC5zb3VyY2UrIikqKD89XFxzKlxceykiKSxsb29rYmVoaW5kOiEwfSxzdHJpbmc6e3BhdHRlcm46dCxncmVlZHk6ITB9LHByb3BlcnR5OntwYXR0ZXJuOi8oXnxbXi1cd1x4QTAtXHVGRkZGXSkoPyFccylbLV9hLXpceEEwLVx1RkZGRl0oPzooPyFccylbLVx3XHhBMC1cdUZGRkZdKSooPz1ccyo6KS9pLGxvb2tiZWhpbmQ6ITB9LGltcG9ydGFudDovIWltcG9ydGFudFxiL2ksZnVuY3Rpb246e3BhdHRlcm46LyhefFteLWEtejAtOV0pWy1hLXowLTldKyg/PVwoKS9pLGxvb2tiZWhpbmQ6ITB9LHB1bmN0dWF0aW9uOi9bKCl7fTs6LF0vfSxlLmxhbmd1YWdlcy5jc3MuYXRydWxlLmluc2lkZS5yZXN0PWUubGFuZ3VhZ2VzLmNzczt2YXIgcj1lLmxhbmd1YWdlcy5tYXJrdXA7ciYmKHIudGFnLmFkZElubGluZWQoInN0eWxlIiwiY3NzIiksci50YWcuYWRkQXR0cmlidXRlKCJzdHlsZSIsImNzcyIpKX0obiksbi5sYW5ndWFnZXMuY2xpa2U9e2NvbW1lbnQ6W3twYXR0ZXJuOi8oXnxbXlxcXSlcL1wqW1xzXFNdKj8oPzpcKlwvfCQpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH0se3BhdHRlcm46LyhefFteXFw6XSlcL1wvLiovLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfV0sc3RyaW5nOntwYXR0ZXJuOi8oWyInXSkoPzpcXCg/OlxyXG58W1xzXFNdKXwoPyFcMSlbXlxcXHJcbl0pKlwxLyxncmVlZHk6ITB9LCJjbGFzcy1uYW1lIjp7cGF0dGVybjovKFxiKD86Y2xhc3N8ZXh0ZW5kc3xpbXBsZW1lbnRzfGluc3RhbmNlb2Z8aW50ZXJmYWNlfG5ld3x0cmFpdClccyt8XGJjYXRjaFxzK1woKVtcdy5cXF0rL2ksbG9va2JlaGluZDohMCxpbnNpZGU6e3B1bmN0dWF0aW9uOi9bLlxcXS99fSxrZXl3b3JkOi9cYig/OmJyZWFrfGNhdGNofGNvbnRpbnVlfGRvfGVsc2V8ZmluYWxseXxmb3J8ZnVuY3Rpb258aWZ8aW58aW5zdGFuY2VvZnxuZXd8bnVsbHxyZXR1cm58dGhyb3d8dHJ5fHdoaWxlKVxiLyxib29sZWFuOi9cYig/OmZhbHNlfHRydWUpXGIvLGZ1bmN0aW9uOi9cYlx3Kyg/PVwoKS8sbnVtYmVyOi9cYjB4W1xkYS1mXStcYnwoPzpcYlxkKyg/OlwuXGQqKT98XEJcLlxkKykoPzplWystXT9cZCspPy9pLG9wZXJhdG9yOi9bPD5dPT98WyE9XT0/PT98LS0/fFwrXCs/fCYmP3xcfFx8P3xbPyovfl4lXS8scHVuY3R1YXRpb246L1t7fVtcXTsoKSwuOl0vfSxuLmxhbmd1YWdlcy5qYXZhc2NyaXB0PW4ubGFuZ3VhZ2VzLmV4dGVuZCgiY2xpa2UiLHsiY2xhc3MtbmFtZSI6W24ubGFuZ3VhZ2VzLmNsaWtlWyJjbGFzcy1uYW1lIl0se3BhdHRlcm46LyhefFteJFx3XHhBMC1cdUZGRkZdKSg/IVxzKVtfJEEtWlx4QTAtXHVGRkZGXSg/Oig/IVxzKVskXHdceEEwLVx1RkZGRl0pKig/PVwuKD86Y29uc3RydWN0b3J8cHJvdG90eXBlKSkvLGxvb2tiZWhpbmQ6ITB9XSxrZXl3b3JkOlt7cGF0dGVybjovKCg/Ol58XH0pXHMqKWNhdGNoXGIvLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXnxbXi5dfFwuXC5cLlxzKilcYig/OmFzfGFzc2VydCg/PVxzKlx7KXxhc3luYyg/PVxzKig/OmZ1bmN0aW9uXGJ8XCh8WyRcd1x4QTAtXHVGRkZGXXwkKSl8YXdhaXR8YnJlYWt8Y2FzZXxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmluYWxseSg/PVxzKig/Olx7fCQpKXxmb3J8ZnJvbSg/PVxzKig/OlsnIl18JCkpfGZ1bmN0aW9ufCg/OmdldHxzZXQpKD89XHMqKD86WyNcWyRcd1x4QTAtXHVGRkZGXXwkKSl8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx1bmRlZmluZWR8dmFyfHZvaWR8d2hpbGV8d2l0aHx5aWVsZClcYi8sbG9va2JlaGluZDohMH1dLGZ1bmN0aW9uOi8jPyg/IVxzKVtfJGEtekEtWlx4QTAtXHVGRkZGXSg/Oig/IVxzKVskXHdceEEwLVx1RkZGRl0pKig/PVxzKig/OlwuXHMqKD86YXBwbHl8YmluZHxjYWxsKVxzKik/XCgpLyxudW1iZXI6e3BhdHRlcm46UmVnRXhwKC8oXnxbXlx3JF0pLy5zb3VyY2UrIig/OiIrL05hTnxJbmZpbml0eS8uc291cmNlKyJ8IisvMFtiQl1bMDFdKyg/Ol9bMDFdKykqbj8vLnNvdXJjZSsifCIrLzBbb09dWzAtN10rKD86X1swLTddKykqbj8vLnNvdXJjZSsifCIrLzBbeFhdW1xkQS1GYS1mXSsoPzpfW1xkQS1GYS1mXSspKm4/Ly5zb3VyY2UrInwiKy9cZCsoPzpfXGQrKSpuLy5zb3VyY2UrInwiKy8oPzpcZCsoPzpfXGQrKSooPzpcLig/OlxkKyg/Ol9cZCspKik/KT98XC5cZCsoPzpfXGQrKSopKD86W0VlXVsrLV0/XGQrKD86X1xkKykqKT8vLnNvdXJjZSsiKSIrLyg/IVtcdyRdKS8uc291cmNlKSxsb29rYmVoaW5kOiEwfSxvcGVyYXRvcjovLS18XCtcK3xcKlwqPT98PT58JiY9P3xcfFx8PT98WyE9XT09fDw8PT98Pj4+Pz0/fFstKyovJSZ8XiE9PD5dPT98XC57M318XD9cPz0/fFw/XC4/fFt+Ol0vfSksbi5sYW5ndWFnZXMuamF2YXNjcmlwdFsiY2xhc3MtbmFtZSJdWzBdLnBhdHRlcm49LyhcYig/OmNsYXNzfGV4dGVuZHN8aW1wbGVtZW50c3xpbnN0YW5jZW9mfGludGVyZmFjZXxuZXcpXHMrKVtcdy5cXF0rLyxuLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImphdmFzY3JpcHQiLCJrZXl3b3JkIix7cmVnZXg6e3BhdHRlcm46UmVnRXhwKC8oKD86XnxbXiRcd1x4QTAtXHVGRkZGLiInXF0pXHNdfFxiKD86cmV0dXJufHlpZWxkKSlccyopLy5zb3VyY2UrL1wvLy5zb3VyY2UrIig/OiIrLyg/OlxbKD86W15cXVxcXHJcbl18XFwuKSpcXXxcXC58W14vXFxcW1xyXG5dKStcL1tkZ2lteXVzXXswLDd9Ly5zb3VyY2UrInwiKy8oPzpcWyg/OlteW1xdXFxcclxuXXxcXC58XFsoPzpbXltcXVxcXHJcbl18XFwufFxbKD86W15bXF1cXFxyXG5dfFxcLikqXF0pKlxdKSpcXXxcXC58W14vXFxcW1xyXG5dKStcL1tkZ2lteXVzXXswLDd9dltkZ2lteXVzXXswLDd9Ly5zb3VyY2UrIikiKy8oPz0oPzpcc3xcL1wqKD86W14qXXxcKig/IVwvKSkqXCpcLykqKD86JHxbXHJcbiwuOzp9KVxdXXxcL1wvKSkvLnNvdXJjZSksbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOnsicmVnZXgtc291cmNlIjp7cGF0dGVybjovXihcLylbXHNcU10rKD89XC9bYS16XSokKS8sbG9va2JlaGluZDohMCxhbGlhczoibGFuZ3VhZ2UtcmVnZXgiLGluc2lkZTpuLmxhbmd1YWdlcy5yZWdleH0sInJlZ2V4LWRlbGltaXRlciI6L15cL3xcLyQvLCJyZWdleC1mbGFncyI6L15bYS16XSskL319LCJmdW5jdGlvbi12YXJpYWJsZSI6e3BhdHRlcm46LyM/KD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKD89XHMqWz06XVxzKig/OmFzeW5jXHMqKT8oPzpcYmZ1bmN0aW9uXGJ8KD86XCgoPzpbXigpXXxcKFteKCldKlwpKSpcKXwoPyFccylbXyRhLXpBLVpceEEwLVx1RkZGRl0oPzooPyFccylbJFx3XHhBMC1cdUZGRkZdKSopXHMqPT4pKS8sYWxpYXM6ImZ1bmN0aW9uIn0scGFyYW1ldGVyOlt7cGF0dGVybjovKGZ1bmN0aW9uKD86XHMrKD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqKT9ccypcKFxzKikoPyFccykoPzpbXigpXHNdfFxzKyg/IVtccyldKXxcKFteKCldKlwpKSsoPz1ccypcKSkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOm4ubGFuZ3VhZ2VzLmphdmFzY3JpcHR9LHtwYXR0ZXJuOi8oXnxbXiRcd1x4QTAtXHVGRkZGXSkoPyFccylbXyRhLXpceEEwLVx1RkZGRl0oPzooPyFccylbJFx3XHhBMC1cdUZGRkZdKSooPz1ccyo9PikvaSxsb29rYmVoaW5kOiEwLGluc2lkZTpuLmxhbmd1YWdlcy5qYXZhc2NyaXB0fSx7cGF0dGVybjovKFwoXHMqKSg/IVxzKSg/OlteKClcc118XHMrKD8hW1xzKV0pfFwoW14oKV0qXCkpKyg/PVxzKlwpXHMqPT4pLyxsb29rYmVoaW5kOiEwLGluc2lkZTpuLmxhbmd1YWdlcy5qYXZhc2NyaXB0fSx7cGF0dGVybjovKCg/OlxifFxzfF4pKD8hKD86YXN8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmluYWxseXxmb3J8ZnJvbXxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dW5kZWZpbmVkfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpKD8hWyRcd1x4QTAtXHVGRkZGXSkpKD86KD8hXHMpW18kYS16QS1aXHhBMC1cdUZGRkZdKD86KD8hXHMpWyRcd1x4QTAtXHVGRkZGXSkqXHMqKVwoXHMqfFxdXHMqXChccyopKD8hXHMpKD86W14oKVxzXXxccysoPyFbXHMpXSl8XChbXigpXSpcKSkrKD89XHMqXClccypceykvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOm4ubGFuZ3VhZ2VzLmphdmFzY3JpcHR9XSxjb25zdGFudDovXGJbQS1aXSg/OltBLVpfXXxcZHg/KSpcYi99KSxuLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoImphdmFzY3JpcHQiLCJzdHJpbmciLHtoYXNoYmFuZzp7cGF0dGVybjovXiMhLiovLGdyZWVkeTohMCxhbGlhczoiY29tbWVudCJ9LCJ0ZW1wbGF0ZS1zdHJpbmciOntwYXR0ZXJuOi9gKD86XFxbXHNcU118XCRceyg/Oltee31dfFx7KD86W157fV18XHtbXn1dKlx9KSpcfSkrXH18KD8hXCRceylbXlxcYF0pKmAvLGdyZWVkeTohMCxpbnNpZGU6eyJ0ZW1wbGF0ZS1wdW5jdHVhdGlvbiI6e3BhdHRlcm46L15gfGAkLyxhbGlhczoic3RyaW5nIn0saW50ZXJwb2xhdGlvbjp7cGF0dGVybjovKCg/Ol58W15cXF0pKD86XFx7Mn0pKilcJFx7KD86W157fV18XHsoPzpbXnt9XXxce1tefV0qXH0pKlx9KStcfS8sbG9va2JlaGluZDohMCxpbnNpZGU6eyJpbnRlcnBvbGF0aW9uLXB1bmN0dWF0aW9uIjp7cGF0dGVybjovXlwkXHt8XH0kLyxhbGlhczoicHVuY3R1YXRpb24ifSxyZXN0Om4ubGFuZ3VhZ2VzLmphdmFzY3JpcHR9fSxzdHJpbmc6L1tcc1xTXSsvfX0sInN0cmluZy1wcm9wZXJ0eSI6e3BhdHRlcm46LygoPzpefFsse10pWyBcdF0qKShbIiddKSg/OlxcKD86XHJcbnxbXHNcU10pfCg/IVwyKVteXFxcclxuXSkqXDIoPz1ccyo6KS9tLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGFsaWFzOiJwcm9wZXJ0eSJ9fSksbi5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCJqYXZhc2NyaXB0Iiwib3BlcmF0b3IiLHsibGl0ZXJhbC1wcm9wZXJ0eSI6e3BhdHRlcm46LygoPzpefFsse10pWyBcdF0qKSg/IVxzKVtfJGEtekEtWlx4QTAtXHVGRkZGXSg/Oig/IVxzKVskXHdceEEwLVx1RkZGRl0pKig/PVxzKjopL20sbG9va2JlaGluZDohMCxhbGlhczoicHJvcGVydHkifX0pLG4ubGFuZ3VhZ2VzLm1hcmt1cCYmKG4ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuYWRkSW5saW5lZCgic2NyaXB0IiwiamF2YXNjcmlwdCIpLG4ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuYWRkQXR0cmlidXRlKC9vbig/OmFib3J0fGJsdXJ8Y2hhbmdlfGNsaWNrfGNvbXBvc2l0aW9uKD86ZW5kfHN0YXJ0fHVwZGF0ZSl8ZGJsY2xpY2t8ZXJyb3J8Zm9jdXMoPzppbnxvdXQpP3xrZXkoPzpkb3dufHVwKXxsb2FkfG1vdXNlKD86ZG93bnxlbnRlcnxsZWF2ZXxtb3ZlfG91dHxvdmVyfHVwKXxyZXNldHxyZXNpemV8c2Nyb2xsfHNlbGVjdHxzbG90Y2hhbmdlfHN1Ym1pdHx1bmxvYWR8d2hlZWwpLy5zb3VyY2UsImphdmFzY3JpcHQiKSksbi5sYW5ndWFnZXMuanM9bi5sYW5ndWFnZXMuamF2YXNjcmlwdCxmdW5jdGlvbigpe2lmKHZvaWQgMCE9PW4mJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe0VsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fChFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzPUVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yfHxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IpO3ZhciBlPXtqczoiamF2YXNjcmlwdCIscHk6InB5dGhvbiIscmI6InJ1YnkiLHBzMToicG93ZXJzaGVsbCIscHNtMToicG93ZXJzaGVsbCIsc2g6ImJhc2giLGJhdDoiYmF0Y2giLGg6ImMiLHRleDoibGF0ZXgifSx0PSJkYXRhLXNyYy1zdGF0dXMiLHI9ImxvYWRpbmciLG89ImxvYWRlZCIsYT0ncHJlW2RhdGEtc3JjXTpub3QoW2RhdGEtc3JjLXN0YXR1cz0ibG9hZGVkIl0pOm5vdChbZGF0YS1zcmMtc3RhdHVzPSJsb2FkaW5nIl0pJztuLmhvb2tzLmFkZCgiYmVmb3JlLWhpZ2hsaWdodGFsbCIsKGZ1bmN0aW9uKGUpe2Uuc2VsZWN0b3IrPSIsICIrYX0pKSxuLmhvb2tzLmFkZCgiYmVmb3JlLXNhbml0eS1jaGVjayIsKGZ1bmN0aW9uKGkpe3ZhciBzPWkuZWxlbWVudDtpZihzLm1hdGNoZXMoYSkpe2kuY29kZT0iIixzLnNldEF0dHJpYnV0ZSh0LHIpO3ZhciBsPXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiQ09ERSIpKTtsLnRleHRDb250ZW50PSJMb2FkaW5n4oCmIjt2YXIgYz1zLmdldEF0dHJpYnV0ZSgiZGF0YS1zcmMiKSxwPWkubGFuZ3VhZ2U7aWYoIm5vbmUiPT09cCl7dmFyIGQ9KC9cLihcdyspJC8uZXhlYyhjKXx8Wywibm9uZSJdKVsxXTtwPWVbZF18fGR9bi51dGlsLnNldExhbmd1YWdlKGwscCksbi51dGlsLnNldExhbmd1YWdlKHMscCk7dmFyIHU9bi5wbHVnaW5zLmF1dG9sb2FkZXI7dSYmdS5sb2FkTGFuZ3VhZ2VzKHApLGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgWE1MSHR0cFJlcXVlc3Q7bi5vcGVuKCJHRVQiLGUsITApLG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09bi5yZWFkeVN0YXRlJiYobi5zdGF0dXM8NDAwJiZuLnJlc3BvbnNlVGV4dD90KG4ucmVzcG9uc2VUZXh0KTpuLnN0YXR1cz49NDAwP3IoIuKcliBFcnJvciAiK24uc3RhdHVzKyIgd2hpbGUgZmV0Y2hpbmcgZmlsZTogIituLnN0YXR1c1RleHQpOnIoIuKcliBFcnJvcjogRmlsZSBkb2VzIG5vdCBleGlzdCBvciBpcyBlbXB0eSIpKX0sbi5zZW5kKG51bGwpfShjLChmdW5jdGlvbihlKXtzLnNldEF0dHJpYnV0ZSh0LG8pO3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB0PS9eXHMqKFxkKylccyooPzooLClccyooPzooXGQrKVxzKik/KT8kLy5leGVjKGV8fCIiKTtpZih0KXt2YXIgcj1OdW1iZXIodFsxXSksbj10WzJdLG89dFszXTtyZXR1cm4gbj9vP1tyLE51bWJlcihvKV06W3Isdm9pZCAwXTpbcixyXX19KHMuZ2V0QXR0cmlidXRlKCJkYXRhLXJhbmdlIikpO2lmKHIpe3ZhciBhPWUuc3BsaXQoL1xyXG4/fFxuL2cpLGk9clswXSxjPW51bGw9PXJbMV0/YS5sZW5ndGg6clsxXTtpPDAmJihpKz1hLmxlbmd0aCksaT1NYXRoLm1heCgwLE1hdGgubWluKGktMSxhLmxlbmd0aCkpLGM8MCYmKGMrPWEubGVuZ3RoKSxjPU1hdGgubWF4KDAsTWF0aC5taW4oYyxhLmxlbmd0aCkpLGU9YS5zbGljZShpLGMpLmpvaW4oIlxuIikscy5oYXNBdHRyaWJ1dGUoImRhdGEtc3RhcnQiKXx8cy5zZXRBdHRyaWJ1dGUoImRhdGEtc3RhcnQiLFN0cmluZyhpKzEpKX1sLnRleHRDb250ZW50PWUsbi5oaWdobGlnaHRFbGVtZW50KGwpfSksKGZ1bmN0aW9uKGUpe3Muc2V0QXR0cmlidXRlKHQsImZhaWxlZCIpLGwudGV4dENvbnRlbnQ9ZX0pKX19KSksbi5wbHVnaW5zLmZpbGVIaWdobGlnaHQ9e2hpZ2hsaWdodDpmdW5jdGlvbihlKXtmb3IodmFyIHQscj0oZXx8ZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoYSksbz0wO3Q9cltvKytdOyluLmhpZ2hsaWdodEVsZW1lbnQodCl9fTt2YXIgaT0hMTtuLmZpbGVIaWdobGlnaHQ9ZnVuY3Rpb24oKXtpfHwoY29uc29sZS53YXJuKCJQcmlzbS5maWxlSGlnaGxpZ2h0IGlzIGRlcHJlY2F0ZWQuIFVzZSBgUHJpc20ucGx1Z2lucy5maWxlSGlnaGxpZ2h0LmhpZ2hsaWdodGAgaW5zdGVhZC4iKSxpPSEwKSxuLnBsdWdpbnMuZmlsZUhpZ2hsaWdodC5oaWdobGlnaHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KCl9LDQ2NDplPT57InVzZSBzdHJpY3QiO3ZhciB0LHI9IiI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsbil7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoImV4cGVjdGVkIGEgc3RyaW5nIik7aWYoMT09PW4pcmV0dXJuIGU7aWYoMj09PW4pcmV0dXJuIGUrZTt2YXIgbz1lLmxlbmd0aCpuO2lmKHQhPT1lfHx2b2lkIDA9PT10KXQ9ZSxyPSIiO2Vsc2UgaWYoci5sZW5ndGg+PW8pcmV0dXJuIHIuc3Vic3RyKDAsbyk7Zm9yKDtvPnIubGVuZ3RoJiZuPjE7KTEmbiYmKHIrPWUpLG4+Pj0xLGUrPWU7cmV0dXJuIHI9KHIrPWUpLnN1YnN0cigwLG8pfX0sMTMxOihlLHQscik9PnsidXNlIHN0cmljdCI7dmFyIG49cig0NjQpLG89ZnVuY3Rpb24oZSl7cmV0dXJuLzxcLytbXj5dKz4vLnRlc3QoZSl9LGE9ZnVuY3Rpb24oZSl7cmV0dXJuLzxbXj5dK1wvPi8udGVzdChlKX07ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5zcGxpdCgvKDxcLz9bXj5dKz4pL2cpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lLnRyaW0oKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt2YWx1ZTplLHR5cGU6cyhlKX19KSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gbyhlKT8iQ2xvc2luZ1RhZyI6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybi88W14+IV0rPi8udGVzdChlKX0oZSkmJiFvKGUpJiYhYShlKX0oZSk/Ik9wZW5pbmdUYWciOmEoZSk/IlNlbGZDbG9zaW5nVGFnIjoiVGV4dCJ9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXQuaW5kZW50b3Isbz10LnRleHROb2Rlc09uU2FtZUxpbmUsYT0wLHM9W107cj1yfHwiICAgICI7dmFyIGw9aShlKS5tYXAoKGZ1bmN0aW9uKGUsdCxpKXt2YXIgbD1lLnZhbHVlLGM9ZS50eXBlOyJDbG9zaW5nVGFnIj09PWMmJmEtLTt2YXIgcD1uKHIsYSksZD1wK2w7aWYoIk9wZW5pbmdUYWciPT09YyYmYSsrLG8pe3ZhciB1PWlbdC0xXSxoPWlbdC0yXTsiQ2xvc2luZ1RhZyI9PT1jJiYiVGV4dCI9PT11LnR5cGUmJiJPcGVuaW5nVGFnIj09PWgudHlwZSYmKGQ9IiIrcCtoLnZhbHVlK3UudmFsdWUrbCxzLnB1c2godC0yLHQtMSkpfXJldHVybiBkfSkpO3JldHVybiBzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBsW2VdPW51bGx9KSksbC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKS5qb2luKCJcbiIpfX19LG49e307ZnVuY3Rpb24gbyhlKXt2YXIgdD1uW2VdO2lmKHZvaWQgMCE9PXQpe2lmKHZvaWQgMCE9PXQuZXJyb3IpdGhyb3cgdC5lcnJvcjtyZXR1cm4gdC5leHBvcnRzfXZhciBhPW5bZV09e2V4cG9ydHM6e319O3RyeXt2YXIgaT17aWQ6ZSxtb2R1bGU6YSxmYWN0b3J5OnJbZV0scmVxdWlyZTpvfTtvLmkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZShpKX0pKSxhPWkubW9kdWxlLGkuZmFjdG9yeS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyxpLnJlcXVpcmUpfWNhdGNoKGUpe3Rocm93IGEuZXJyb3I9ZSxlfXJldHVybiBhLmV4cG9ydHN9by5tPXIsby5jPW4sby5pPVtdLG8ubj1lPT57dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPygpPT5lLmRlZmF1bHQ6KCk9PmU7cmV0dXJuIG8uZCh0LHthOnR9KSx0fSxvLmQ9KGUsdCk9Pntmb3IodmFyIHIgaW4gdClvLm8odCxyKSYmIW8ubyhlLHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtlbnVtZXJhYmxlOiEwLGdldDp0W3JdfSl9LG8uaHU9ZT0+ZSsiLiIrby5oKCkrIi5ob3QtdXBkYXRlLmpzIixvLmhtckY9KCk9PiJtYWluLiIrby5oKCkrIi5ob3QtdXBkYXRlLmpzb24iLG8uaD0oKT0+ImZkZjczNGFmZDdhNmY1NzRjN2ZmIixvLmc9ZnVuY3Rpb24oKXtpZigib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaChlKXtpZigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKSxvLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLGU9e30sdD0icmFwaWRvYzoiLG8ubD0ocixuLGEsaSk9PntpZihlW3JdKWVbcl0ucHVzaChuKTtlbHNle3ZhciBzLGw7aWYodm9pZCAwIT09YSlmb3IodmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLHA9MDtwPGMubGVuZ3RoO3ArKyl7dmFyIGQ9Y1twXTtpZihkLmdldEF0dHJpYnV0ZSgic3JjIik9PXJ8fGQuZ2V0QXR0cmlidXRlKCJkYXRhLXdlYnBhY2siKT09dCthKXtzPWQ7YnJlYWt9fXN8fChsPSEwLChzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpKS5jaGFyc2V0PSJ1dGYtOCIscy50aW1lb3V0PTEyMCxvLm5jJiZzLnNldEF0dHJpYnV0ZSgibm9uY2UiLG8ubmMpLHMuc2V0QXR0cmlidXRlKCJkYXRhLXdlYnBhY2siLHQrYSkscy5zcmM9ciksZVtyXT1bbl07dmFyIHU9KHQsbik9PntzLm9uZXJyb3I9cy5vbmxvYWQ9bnVsbCxjbGVhclRpbWVvdXQoaCk7dmFyIG89ZVtyXTtpZihkZWxldGUgZVtyXSxzLnBhcmVudE5vZGUmJnMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKSxvJiZvLmZvckVhY2goKGU9PmUobikpKSx0KXJldHVybiB0KG4pfSxoPXNldFRpbWVvdXQodS5iaW5kKG51bGwsdm9pZCAwLHt0eXBlOiJ0aW1lb3V0Iix0YXJnZXQ6c30pLDEyZTQpO3Mub25lcnJvcj11LmJpbmQobnVsbCxzLm9uZXJyb3IpLHMub25sb2FkPXUuYmluZChudWxsLHMub25sb2FkKSxsJiZkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHMpfX0sKCgpPT57dmFyIGUsdCxyLG49e30sYT1vLmMsaT1bXSxzPVtdLGw9ImlkbGUiLGM9MCxwPVtdO2Z1bmN0aW9uIGQoZSl7bD1lO2Zvcih2YXIgdD1bXSxyPTA7cjxzLmxlbmd0aDtyKyspdFtyXT1zW3JdLmNhbGwobnVsbCxlKTtyZXR1cm4gUHJvbWlzZS5hbGwodCl9ZnVuY3Rpb24gdSgpezA9PS0tYyYmZCgicmVhZHkiKS50aGVuKChmdW5jdGlvbigpe2lmKDA9PT1jKXt2YXIgZT1wO3A9W107Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XSgpfX0pKX1mdW5jdGlvbiBoKGUpe2lmKCJpZGxlIiE9PWwpdGhyb3cgbmV3IEVycm9yKCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1cyIpO3JldHVybiBkKCJjaGVjayIpLnRoZW4oby5obXJNKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gcj9kKCJwcmVwYXJlIikudGhlbigoZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gdD1bXSxQcm9taXNlLmFsbChPYmplY3Qua2V5cyhvLmhtckMpLnJlZHVjZSgoZnVuY3Rpb24oZSxhKXtyZXR1cm4gby5obXJDW2FdKHIuYyxyLnIsci5tLGUsdCxuKSxlfSksW10pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0PWZ1bmN0aW9uKCl7cmV0dXJuIGU/bShlKTpkKCJyZWFkeSIpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSl9LDA9PT1jP3QoKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cC5wdXNoKChmdW5jdGlvbigpe2UodCgpKX0pKX0pKTt2YXIgdH0pKX0pKTpkKHkoKT8icmVhZHkiOiJpZGxlIikudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pKX0pKX1mdW5jdGlvbiBmKGUpe3JldHVybiJyZWFkeSIhPT1sP1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXMgKHN0YXRlOiAiK2wrIikiKX0pKTptKGUpfWZ1bmN0aW9uIG0oZSl7ZT1lfHx7fSx5KCk7dmFyIG49dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUpfSkpO3Q9dm9pZCAwO3ZhciBvPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5lcnJvcn0pKS5maWx0ZXIoQm9vbGVhbik7aWYoby5sZW5ndGg+MClyZXR1cm4gZCgiYWJvcnQiKS50aGVuKChmdW5jdGlvbigpe3Rocm93IG9bMF19KSk7dmFyIGE9ZCgiZGlzcG9zZSIpO24uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5kaXNwb3NlJiZlLmRpc3Bvc2UoKX0pKTt2YXIgaSxzPWQoImFwcGx5IiksbD1mdW5jdGlvbihlKXtpfHwoaT1lKX0sYz1bXTtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLmFwcGx5KXt2YXIgdD1lLmFwcGx5KGwpO2lmKHQpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspYy5wdXNoKHRbcl0pfX0pKSxQcm9taXNlLmFsbChbYSxzXSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gaT9kKCJmYWlsIikudGhlbigoZnVuY3Rpb24oKXt0aHJvdyBpfSkpOnI/bShlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gYy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLmluZGV4T2YodCk8MCYmZS5wdXNoKHQpfSkpLGV9KSk6ZCgiaWRsZSIpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSl9KSl9ZnVuY3Rpb24geSgpe2lmKHIpcmV0dXJuIHR8fCh0PVtdKSxPYmplY3Qua2V5cyhvLmhtckkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuZm9yRWFjaCgoZnVuY3Rpb24ocil7by5obXJJW2VdKHIsdCl9KSl9KSkscj12b2lkIDAsITB9by5obXJEPW4sby5pLnB1c2goKGZ1bmN0aW9uKHApe3ZhciBtLHksZyx2LGI9cC5tb2R1bGUseD1mdW5jdGlvbih0LHIpe3ZhciBuPWFbcl07aWYoIW4pcmV0dXJuIHQ7dmFyIG89ZnVuY3Rpb24obyl7aWYobi5ob3QuYWN0aXZlKXtpZihhW29dKXt2YXIgcz1hW29dLnBhcmVudHM7LTE9PT1zLmluZGV4T2YocikmJnMucHVzaChyKX1lbHNlIGk9W3JdLGU9bzstMT09PW4uY2hpbGRyZW4uaW5kZXhPZihvKSYmbi5jaGlsZHJlbi5wdXNoKG8pfWVsc2UgY29uc29sZS53YXJuKCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoIitvKyIpIGZyb20gZGlzcG9zZWQgbW9kdWxlICIrciksaT1bXTtyZXR1cm4gdChvKX0scz1mdW5jdGlvbihlKXtyZXR1cm57Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbZV19LHNldDpmdW5jdGlvbihyKXt0W2VdPXJ9fX07Zm9yKHZhciBwIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscCkmJiJlIiE9PXAmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLHAscyhwKSk7cmV0dXJuIG8uZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7c3dpdGNoKGwpe2Nhc2UicmVhZHkiOmQoInByZXBhcmUiKTtjYXNlInByZXBhcmUiOnJldHVybiBjKyssZS50aGVuKHUsdSksZTtkZWZhdWx0OnJldHVybiBlfX0odC5lKGUpKX0sb30ocC5yZXF1aXJlLHAuaWQpO2IuaG90PShtPXAuaWQseT1iLHY9e19hY2NlcHRlZERlcGVuZGVuY2llczp7fSxfYWNjZXB0ZWRFcnJvckhhbmRsZXJzOnt9LF9kZWNsaW5lZERlcGVuZGVuY2llczp7fSxfc2VsZkFjY2VwdGVkOiExLF9zZWxmRGVjbGluZWQ6ITEsX3NlbGZJbnZhbGlkYXRlZDohMSxfZGlzcG9zZUhhbmRsZXJzOltdLF9tYWluOmc9ZSE9PW0sX3JlcXVpcmVTZWxmOmZ1bmN0aW9uKCl7aT15LnBhcmVudHMuc2xpY2UoKSxlPWc/dm9pZCAwOm0sbyhtKX0sYWN0aXZlOiEwLGFjY2VwdDpmdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSl2Ll9zZWxmQWNjZXB0ZWQ9ITA7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZSl2Ll9zZWxmQWNjZXB0ZWQ9ZTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9PWUpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdi5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZVtuXV09dHx8ZnVuY3Rpb24oKXt9LHYuX2FjY2VwdGVkRXJyb3JIYW5kbGVyc1tlW25dXT1yO2Vsc2Ugdi5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZV09dHx8ZnVuY3Rpb24oKXt9LHYuX2FjY2VwdGVkRXJyb3JIYW5kbGVyc1tlXT1yfSxkZWNsaW5lOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdi5fc2VsZkRlY2xpbmVkPSEwO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl2Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tlW3RdXT0hMDtlbHNlIHYuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2VdPSEwfSxkaXNwb3NlOmZ1bmN0aW9uKGUpe3YuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGUpfSxhZGREaXNwb3NlSGFuZGxlcjpmdW5jdGlvbihlKXt2Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChlKX0scmVtb3ZlRGlzcG9zZUhhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9di5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoZSk7dD49MCYmdi5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZSh0LDEpfSxpbnZhbGlkYXRlOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuX3NlbGZJbnZhbGlkYXRlZD0hMCxsKXtjYXNlImlkbGUiOnQ9W10sT2JqZWN0LmtleXMoby5obXJJKS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLmhtcklbZV0obSx0KX0pKSxkKCJyZWFkeSIpO2JyZWFrO2Nhc2UicmVhZHkiOk9iamVjdC5rZXlzKG8uaG1ySSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by5obXJJW2VdKG0sdCl9KSk7YnJlYWs7Y2FzZSJwcmVwYXJlIjpjYXNlImNoZWNrIjpjYXNlImRpc3Bvc2UiOmNhc2UiYXBwbHkiOihyPXJ8fFtdKS5wdXNoKG0pfX0sY2hlY2s6aCxhcHBseTpmLHN0YXR1czpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4gbDtzLnB1c2goZSl9LGFkZFN0YXR1c0hhbmRsZXI6ZnVuY3Rpb24oZSl7cy5wdXNoKGUpfSxyZW1vdmVTdGF0dXNIYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0PXMuaW5kZXhPZihlKTt0Pj0wJiZzLnNwbGljZSh0LDEpfSxkYXRhOm5bbV19LGU9dm9pZCAwLHYpLGIucGFyZW50cz1pLGIuY2hpbGRyZW49W10saT1bXSxwLnJlcXVpcmU9eH0pKSxvLmhtckM9e30sby5obXJJPXt9fSkoKSxvLnA9IiIsKCgpPT57dmFyIGUsdCxyLG4sYSxpPW8uaG1yU19qc29ucD1vLmhtclNfanNvbnB8fHsxNzk6MH0scz17fTtmdW5jdGlvbiBsKHQscil7cmV0dXJuIGU9cixuZXcgUHJvbWlzZSgoKGUscik9PntzW3RdPWU7dmFyIG49by5wK28uaHUodCksYT1uZXcgRXJyb3I7by5sKG4sKGU9PntpZihzW3RdKXtzW3RdPXZvaWQgMDt2YXIgbj1lJiYoImxvYWQiPT09ZS50eXBlPyJtaXNzaW5nIjplLnR5cGUpLG89ZSYmZS50YXJnZXQmJmUudGFyZ2V0LnNyYzthLm1lc3NhZ2U9IkxvYWRpbmcgaG90IHVwZGF0ZSBjaHVuayAiK3QrIiBmYWlsZWQuXG4oIituKyI6ICIrbysiKSIsYS5uYW1lPSJDaHVua0xvYWRFcnJvciIsYS50eXBlPW4sYS5yZXF1ZXN0PW8scihhKX19KSl9KSl9ZnVuY3Rpb24gYyhlKXtmdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD1bZV0scj17fSxuPXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm57Y2hhaW46W2VdLGlkOmV9fSkpO24ubGVuZ3RoPjA7KXt2YXIgYT1uLnBvcCgpLGk9YS5pZCxzPWEuY2hhaW4sYz1vLmNbaV07aWYoYyYmKCFjLmhvdC5fc2VsZkFjY2VwdGVkfHxjLmhvdC5fc2VsZkludmFsaWRhdGVkKSl7aWYoYy5ob3QuX3NlbGZEZWNsaW5lZClyZXR1cm57dHlwZToic2VsZi1kZWNsaW5lZCIsY2hhaW46cyxtb2R1bGVJZDppfTtpZihjLmhvdC5fbWFpbilyZXR1cm57dHlwZToidW5hY2NlcHRlZCIsY2hhaW46cyxtb2R1bGVJZDppfTtmb3IodmFyIHA9MDtwPGMucGFyZW50cy5sZW5ndGg7cCsrKXt2YXIgZD1jLnBhcmVudHNbcF0sdT1vLmNbZF07aWYodSl7aWYodS5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2ldKXJldHVybnt0eXBlOiJkZWNsaW5lZCIsY2hhaW46cy5jb25jYXQoW2RdKSxtb2R1bGVJZDppLHBhcmVudElkOmR9Oy0xPT09dC5pbmRleE9mKGQpJiYodS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2ldPyhyW2RdfHwocltkXT1bXSksbChyW2RdLFtpXSkpOihkZWxldGUgcltkXSx0LnB1c2goZCksbi5wdXNoKHtjaGFpbjpzLmNvbmNhdChbZF0pLGlkOmR9KSkpfX19fXJldHVybnt0eXBlOiJhY2NlcHRlZCIsbW9kdWxlSWQ6ZSxvdXRkYXRlZE1vZHVsZXM6dCxvdXRkYXRlZERlcGVuZGVuY2llczpyfX1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07LTE9PT1lLmluZGV4T2YobikmJmUucHVzaChuKX19by5mJiZkZWxldGUgby5mLmpzb25wSG1yLHQ9dm9pZCAwO3ZhciBjPXt9LHA9W10sZD17fSx1PWZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybigiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKCIrZS5pZCsiKSB0byBkaXNwb3NlZCBtb2R1bGUiKX07Zm9yKHZhciBoIGluIHIpaWYoby5vKHIsaCkpe3ZhciBmLG09cltoXSx5PSExLGc9ITEsdj0hMSxiPSIiO3N3aXRjaCgoZj1tP3MoaCk6e3R5cGU6ImRpc3Bvc2VkIixtb2R1bGVJZDpofSkuY2hhaW4mJihiPSJcblVwZGF0ZSBwcm9wYWdhdGlvbjogIitmLmNoYWluLmpvaW4oIiAtPiAiKSksZi50eXBlKXtjYXNlInNlbGYtZGVjbGluZWQiOmUub25EZWNsaW5lZCYmZS5vbkRlY2xpbmVkKGYpLGUuaWdub3JlRGVjbGluZWR8fCh5PW5ldyBFcnJvcigiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogIitmLm1vZHVsZUlkK2IpKTticmVhaztjYXNlImRlY2xpbmVkIjplLm9uRGVjbGluZWQmJmUub25EZWNsaW5lZChmKSxlLmlnbm9yZURlY2xpbmVkfHwoeT1uZXcgRXJyb3IoIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiAiK2YubW9kdWxlSWQrIiBpbiAiK2YucGFyZW50SWQrYikpO2JyZWFrO2Nhc2UidW5hY2NlcHRlZCI6ZS5vblVuYWNjZXB0ZWQmJmUub25VbmFjY2VwdGVkKGYpLGUuaWdub3JlVW5hY2NlcHRlZHx8KHk9bmV3IEVycm9yKCJBYm9ydGVkIGJlY2F1c2UgIitoKyIgaXMgbm90IGFjY2VwdGVkIitiKSk7YnJlYWs7Y2FzZSJhY2NlcHRlZCI6ZS5vbkFjY2VwdGVkJiZlLm9uQWNjZXB0ZWQoZiksZz0hMDticmVhaztjYXNlImRpc3Bvc2VkIjplLm9uRGlzcG9zZWQmJmUub25EaXNwb3NlZChmKSx2PSEwO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmV4Y2VwdGlvbiB0eXBlICIrZi50eXBlKX1pZih5KXJldHVybntlcnJvcjp5fTtpZihnKWZvcihoIGluIGRbaF09bSxsKHAsZi5vdXRkYXRlZE1vZHVsZXMpLGYub3V0ZGF0ZWREZXBlbmRlbmNpZXMpby5vKGYub3V0ZGF0ZWREZXBlbmRlbmNpZXMsaCkmJihjW2hdfHwoY1toXT1bXSksbChjW2hdLGYub3V0ZGF0ZWREZXBlbmRlbmNpZXNbaF0pKTt2JiYobChwLFtmLm1vZHVsZUlkXSksZFtoXT11KX1yPXZvaWQgMDtmb3IodmFyIHgsdz1bXSwkPTA7JDxwLmxlbmd0aDskKyspe3ZhciBrPXBbJF0sUz1vLmNba107UyYmKFMuaG90Ll9zZWxmQWNjZXB0ZWR8fFMuaG90Ll9tYWluKSYmZFtrXSE9PXUmJiFTLmhvdC5fc2VsZkludmFsaWRhdGVkJiZ3LnB1c2goe21vZHVsZTprLHJlcXVpcmU6Uy5ob3QuX3JlcXVpcmVTZWxmLGVycm9ySGFuZGxlcjpTLmhvdC5fc2VsZkFjY2VwdGVkfSl9cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgZTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2RlbGV0ZSBpW2VdfSkpLG49dm9pZCAwO2Zvcih2YXIgdCxyPXAuc2xpY2UoKTtyLmxlbmd0aD4wOyl7dmFyIGE9ci5wb3AoKSxzPW8uY1thXTtpZihzKXt2YXIgbD17fSxkPXMuaG90Ll9kaXNwb3NlSGFuZGxlcnM7Zm9yKCQ9MDskPGQubGVuZ3RoOyQrKylkWyRdLmNhbGwobnVsbCxsKTtmb3Ioby5obXJEW2FdPWwscy5ob3QuYWN0aXZlPSExLGRlbGV0ZSBvLmNbYV0sZGVsZXRlIGNbYV0sJD0wOyQ8cy5jaGlsZHJlbi5sZW5ndGg7JCsrKXt2YXIgdT1vLmNbcy5jaGlsZHJlblskXV07dSYmKChlPXUucGFyZW50cy5pbmRleE9mKGEpKT49MCYmdS5wYXJlbnRzLnNwbGljZShlLDEpKX19fWZvcih2YXIgaCBpbiBjKWlmKG8ubyhjLGgpJiYocz1vLmNbaF0pKWZvcih4PWNbaF0sJD0wOyQ8eC5sZW5ndGg7JCsrKXQ9eFskXSwoZT1zLmNoaWxkcmVuLmluZGV4T2YodCkpPj0wJiZzLmNoaWxkcmVuLnNwbGljZShlLDEpfSxhcHBseTpmdW5jdGlvbih0KXtmb3IodmFyIHIgaW4gZClvLm8oZCxyKSYmKG8ubVtyXT1kW3JdKTtmb3IodmFyIG49MDtuPGEubGVuZ3RoO24rKylhW25dKG8pO2Zvcih2YXIgaSBpbiBjKWlmKG8ubyhjLGkpKXt2YXIgcz1vLmNbaV07aWYocyl7eD1jW2ldO2Zvcih2YXIgbD1bXSx1PVtdLGg9W10sZj0wO2Y8eC5sZW5ndGg7ZisrKXt2YXIgbT14W2ZdLHk9cy5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21dLGc9cy5ob3QuX2FjY2VwdGVkRXJyb3JIYW5kbGVyc1ttXTtpZih5KXtpZigtMSE9PWwuaW5kZXhPZih5KSljb250aW51ZTtsLnB1c2goeSksdS5wdXNoKGcpLGgucHVzaChtKX19Zm9yKHZhciB2PTA7djxsLmxlbmd0aDt2KyspdHJ5e2xbdl0uY2FsbChudWxsLHgpfWNhdGNoKHIpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB1W3ZdKXRyeXt1W3ZdKHIse21vZHVsZUlkOmksZGVwZW5kZW5jeUlkOmhbdl19KX1jYXRjaChuKXtlLm9uRXJyb3JlZCYmZS5vbkVycm9yZWQoe3R5cGU6ImFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWQiLG1vZHVsZUlkOmksZGVwZW5kZW5jeUlkOmhbdl0sZXJyb3I6bixvcmlnaW5hbEVycm9yOnJ9KSxlLmlnbm9yZUVycm9yZWR8fCh0KG4pLHQocikpfWVsc2UgZS5vbkVycm9yZWQmJmUub25FcnJvcmVkKHt0eXBlOiJhY2NlcHQtZXJyb3JlZCIsbW9kdWxlSWQ6aSxkZXBlbmRlbmN5SWQ6aFt2XSxlcnJvcjpyfSksZS5pZ25vcmVFcnJvcmVkfHx0KHIpfX19Zm9yKHZhciBiPTA7Yjx3Lmxlbmd0aDtiKyspe3ZhciAkPXdbYl0saz0kLm1vZHVsZTt0cnl7JC5yZXF1aXJlKGspfWNhdGNoKHIpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiAkLmVycm9ySGFuZGxlcil0cnl7JC5lcnJvckhhbmRsZXIocix7bW9kdWxlSWQ6ayxtb2R1bGU6by5jW2tdfSl9Y2F0Y2gobil7ZS5vbkVycm9yZWQmJmUub25FcnJvcmVkKHt0eXBlOiJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWQiLG1vZHVsZUlkOmssZXJyb3I6bixvcmlnaW5hbEVycm9yOnJ9KSxlLmlnbm9yZUVycm9yZWR8fCh0KG4pLHQocikpfWVsc2UgZS5vbkVycm9yZWQmJmUub25FcnJvcmVkKHt0eXBlOiJzZWxmLWFjY2VwdC1lcnJvcmVkIixtb2R1bGVJZDprLGVycm9yOnJ9KSxlLmlnbm9yZUVycm9yZWR8fHQocil9fXJldHVybiBwfX19c2VsZi53ZWJwYWNrSG90VXBkYXRlcmFwaWRvYz0odCxuLGkpPT57Zm9yKHZhciBsIGluIG4pby5vKG4sbCkmJihyW2xdPW5bbF0sZSYmZS5wdXNoKGwpKTtpJiZhLnB1c2goaSksc1t0XSYmKHNbdF0oKSxzW3RdPXZvaWQgMCl9LG8uaG1ySS5qc29ucD1mdW5jdGlvbihlLHQpe3J8fChyPXt9LGE9W10sbj1bXSx0LnB1c2goYykpLG8ubyhyLGUpfHwocltlXT1vLm1bZV0pfSxvLmhtckMuanNvbnA9ZnVuY3Rpb24oZSxzLHAsZCx1LGgpe3UucHVzaChjKSx0PXt9LG49cyxyPXAucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPSExLGV9KSx7fSksYT1bXSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe28ubyhpLGUpJiZ2b2lkIDAhPT1pW2VdPyhkLnB1c2gobChlLGgpKSx0W2VdPSEwKTp0W2VdPSExfSkpLG8uZiYmKG8uZi5qc29ucEhtcj1mdW5jdGlvbihlLHIpe3QmJm8ubyh0LGUpJiYhdFtlXSYmKHIucHVzaChsKGUpKSx0W2VdPSEwKX0pfSxvLmhtck09KCk9PntpZigidW5kZWZpbmVkIj09dHlwZW9mIGZldGNoKXRocm93IG5ldyBFcnJvcigiTm8gYnJvd3NlciBzdXBwb3J0OiBuZWVkIGZldGNoIEFQSSIpO3JldHVybiBmZXRjaChvLnArby5obXJGKCkpLnRoZW4oKGU9PntpZig0MDQhPT1lLnN0YXR1cyl7aWYoIWUub2spdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggdXBkYXRlIG1hbmlmZXN0ICIrZS5zdGF0dXNUZXh0KTtyZXR1cm4gZS5qc29uKCl9fSkpfX0pKCk7byg2NTYpfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFwaWRvYy1taW4uanMubWFw`,
  );
}

export function rapidocMap() {
  return decodeBase64(
    `eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFwaWRvYy1taW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDREE7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNLQTs7QUNLQTtBQ29SQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBSUE7QUFFQTs7O0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFHQTs7QUFHQTtBQUNBO0FBQ0E7O0FBSUE7O0FBR0E7QUFDQTs7OztBQUlBO0FBR0E7QUFDQTs7O0FBSUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUdBO0FBQ0E7OztBQUtBOztBQUtBO0FBdUJBOzs7O0FBSUE7QUFFQTs7QUFFQTs7QUFJQTs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUlBOztBQUdBO0FBQ0E7O0FBSUE7O0FBR0E7OztBQU1BO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7Ozs7O0FBTUE7QUFDQTs7QUFFQTs7O0FBR0E7O0FBRUE7OztBQUtBOzs7QUFJQTs7O0FBYUE7O0FBSUE7OztBQXRHQTs7O0FBcUpBO0FBQ0E7QUFFQTs7O0FBR0E7OztBQU1BOztBQUVBOzs7OztBQU9BOztBQUVBO0FBS0E7O0FBR0E7QUFJQTtBQUNBO0FBQ0E7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFNQTs7O0FBdkZBOzs7QUNsZkE7O0FBWUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJQTs7QUMxQkE7O0FBRUE7QUFDQTs7O0FBR0E7OztBQUdBOztBQUVBOztBQUVBOzs7O0FBSUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7O0FBUUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BOzs7Ozs7QUFPQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ29GQTtBQVFBOzs7O0FBSUE7O0FBR0E7QUFZQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFJQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMlBBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTdSQTtBQVFBOztBQUVBO0FBQ0E7OztBQUlBO0FBQ0E7O0FBSUE7QUFDQTtBQUVBOztBQVNBO0FBMEJBO0FBQ0E7QUFTQTtBQXlEQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQXdCQTs7O0FBSUE7QUFTQTtBQTRCQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTs7OztBQUlBO0FBRUE7QUFLQTtBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFJQTs7QUNoVUE7QUFDQTs7QUFHQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUhBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNpRUE7QUFPQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBSUE7QUEwREE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFLQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBSnZIQTtBSTJNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOzs7QUFNQTtBQUVBO0FBQ0E7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFLQTs7QUFJQTtBQU9BO0FBQ0E7O0FBRUE7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBS0E7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFPQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBTUE7QUFHQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7O0FBR0E7OztBQUtBOztBQUVBO0FBQ0E7OztBQUlBO0FBR0E7OztBQUdBOztBQUdBO0FBMEVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFPQTtBQXFCQTs7QUFFQTtBQUdBO0FBQ0E7QUFDQTs7OztBQUtBO0FBR0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7QUFXQTs7QUFvQkE7O0FBT0E7QUFJQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFJQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUtBO0FBSUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFJQTs7O0FBbUJBO0FBaUJBO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBOzs7O0FBS0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQU1BO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7O0FBTUE7QUFDQTs7Ozs7Ozs7QUFRQTs7O0FBSUE7QUFDQTtBQUNBOzs7QUFHQTs7O0FBR0E7QUFFQTtBQUdBO0FBRUE7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBT0E7O0FBSUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBV0E7O0FBSUE7OztBQU1BOzs7O0FBTUE7QUFDQTs7O0FBS0E7O0FBR0E7O0FBR0E7O0FBSUE7Ozs7QUFJQTtBQUNBOzs7QUFHQTtBQUVBO0FBSUE7QUFDQTtBQUNBOztBQUdBOztBQXVCQTs7QUFFQTs7O0FBR0E7QUFJQTtBQUNBO0FBQ0E7O0FBSUE7QUFFQTtBQUNBOzs7QUFHQTtBQUlBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBT0E7QUFDQTs7QUFJQTs7QUFFQTtBQUNBOzs7QUFJQTs7QUFFQTs7QUFNQTs7OztBQUlBOzs7O0FBSUE7QUFFQTtBQUVBO0FBSUE7OztBQU9BO0FBR0E7OztBQUdBOztBQUVBO0FBR0E7OztBQUdBOztBQUVBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuaUNBO0FBUUE7O0FBRUE7QUFDQTs7O0FBSUE7O0FBRUE7O0FBSUE7Ozs7Ozs7QUFPQTtBQUVBOzs7QUFVQTtBQXlCQTtBQUNBO0FBQ0E7QUFVQTtBQXNDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBTUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTs7OztBQUtBOzs7QUFHQTs7QUFLQTtBQUdBO0FBQ0E7QUF3QkE7OztBQVNBO0FBWUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQU1BOztBQUVBO0FBQ0E7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7OztBQUlBO0FDL1FBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBOztBQUdBOzs7OztBQUtBO0FBQ0E7O0FBSUE7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7O0FBS0E7QUFHQTtBQUNBOztBQUlBO0FBQ0E7OztBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU9BO0FBS0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7QUFTQTs7O0FBaEJBOztBQ2pLQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUtBOztBQVFBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7OztBQUtBO0FBS0E7QUFDQTtBQUNBOztBQUVBOzs7O0FBSUE7OztBQVZBOztBQzVDQTtBQUNBOztBQUdBO0FBQ0E7O0FBRUE7QUFGQTs7O0FBT0E7QUFFQTtBQUNBO0FBR0E7QUFJQTtBQUVBO0FBTUE7QUFJQTs7QUFHQTtBQUNBO0FBSUE7Ozs7QUFNQTs7QUFTQTs7QUFLQTs7O0FDdENBOztBQUVBOztBQUVBOztBQUdBO0FBQ0E7O0FBRUE7OztBQUlBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBOztBQUdBOzs7OztBQU1BO0FBQ0E7QUFDQTs7OztBQUlBOzs7QUFNQTtBQU9BOzs7QUFHQTtBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7OztBQWJBO0FBa0JBOzs7QUFHQTtBQUVBOzs7O0FDbERBO0FBQ0E7O0FBRUE7QUFHQTtBQUNBOzs7Ozs7O0FBU0E7Ozs7O0FBS0E7QUFFQTs7QUFFQTs7QUFLQTtBQUdBOzs7Ozs7QUFRQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7O0FBSUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7O0FBSUE7QUFDQTtBQUVBOztBQTFCQTs7QUFnQ0E7QUFJQTs7QUFLQTs7QUFFQTs7Ozs7Ozs7OztBQVdBOzs7Ozs7QUFRQTtBQUdBO0FBQ0E7O0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOzs7O0FBS0E7QUFFQTs7QUFJQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUlBOztBQUVBOztBQU9BOzs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTs7Ozs7QUFRQTs7O0FBSUE7Ozs7O0FBTUE7Ozs7QUFLQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFVQTs7QUN6UEE7QUFFQTtBQWlCQTtBQUNBOztBQUdBO0FBTUE7QUFJQTs7O0FBc0JBO0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUlBO0FBR0E7O0FBR0E7O0FBS0E7QUFxQkE7O0FBRUE7QUFNQTs7QUFHQTs7QUFLQTs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BOzs7O0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBT0E7QUFLQTs7QUFHQTs7OztBQUlBOzs7O0FBSUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQU1BO0FBQ0E7QUFDQTs7O0FBSUE7O0FBR0E7QUFNQTtBQUNBO0FBQ0E7Ozs7QUFuREE7Ozs7QUN0TEE7QUFFQTs7Ozs7Ozs7Ozs7OztBQ09BOzs7QUFHQTs7Ozs7OztBQVNBO0FBQ0E7Ozs7O0FBTUE7Ozs7O0FBT0E7QUFDQTs7O0FBR0E7OztBQUlBO0FBR0E7Ozs7QUFLQTtBQUdBOzs7OztBRHREQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FFOEVBO0FBT0E7QUFDQTtBQUNBOzs7QUFHQTs7O0FBSUE7QUFnREE7QUFFQTtBQUNBOztBQUlBO0FBUUE7QUFDQTs7O0FBR0E7QUFDQTs7O0FBT0E7QUFDQTs7QUFFQTtBQUNBOztBQUtBOztBQUlBO0FBQ0E7QUFDQTs7QUFFQTs7QUFLQTtBQUVBO0FBQ0E7QUFFQTs7O0FBSUE7QUFJQTs7O0FBTUE7OztBQUdBOzs7QUFHQTs7O0FBR0E7OztBQUdBOzs7QUFHQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBa0JBO0FBRUE7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTs7QUFFQTs7Ozs7QUF4Q0E7QUFDQTtBQWdEQTtBQVNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBdkJBO0FBQ0E7QUEwQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3RVQTs7O0FBT0E7Ozs7Ozs7OztBQVNBOzs7O0FBSUE7Ozs7QUFJQTs7OztBQUlBOzs7O0FBSUE7Ozs7QUFJQTs7Ozs7O0FBTUE7OztBQUdBO0FBQ0E7O0FBRUE7O0FBU0E7QUFDQTtBQUNBOzs7O0FBTUE7QUN2QkE7Ozs7QUFLQTtBQUNBOzs7Ozs7QUFNQTs7Ozs7OztBQzhJQTtBQUNBO0FBQ0E7O0FBRUE7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUMzUEE7QUFDQTtBQUdBO0FBQ0E7O0FBRUE7Ozs7QUFJQTtBQUNBOzs7QUFLQTtBQUVBOzs7QUFHQTs7OztBQU9BO0FBQ0E7OztBQUdBOzs7QUFHQTs7QUFFQTs7QUFFQTs7Ozs7QUFTQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBOzs7O0FBSUE7Ozs7Ozs7O0FBZUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzRSQTs7Ozs7Ozs7O0FBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNVJBOzs7Ozs7Ozs7QUN2R0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTs7QUFJQTs7OztBQU1BO0FBS0E7O0FBRUE7QUFJQTs7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUVBO0FBQ0E7QUFDQTs7QUFHQTtBQUdBOztBQUVBO0FBQ0E7O0FBRUE7Ozs7QUFLQTs7QUFLQTtBQXlCQTtBQUNBO0FBR0E7QUFDQTs7QUFFQTs7Ozs7QUFLQTtBQUNBOzs7QUFLQTtBQUVBOzs7QUFHQTs7OztBQU9BO0FBQ0E7OztBQUdBOztBQUVBOzs7QUFHQTs7Ozs7QUFLQTtBQUNBO0FBR0E7QUFHQTtBQUNBOzs7Ozs7O0FBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVEEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL3N0eWxlcy9pbnB1dC1zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy9zdHlsZXMvZmxleC1zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy9zdHlsZXMvdGFibGUtc3R5bGVzLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvc3R5bGVzL2VuZHBvaW50LXN0eWxlcy5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL3N0eWxlcy9wcmlzbS1zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy9zdHlsZXMvdGFiLXN0eWxlcy5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL3N0eWxlcy9uYXYtc3R5bGVzLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvc3R5bGVzL2luZm8tc3R5bGVzLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvc3R5bGVzL2N1c3RvbS1zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy91dGlscy9jb21tb24tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy90ZW1wbGF0ZXMvc2VjdXJpdHktc2NoZW1lLXRlbXBsYXRlLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvdGVtcGxhdGVzL2NvZGUtc2FtcGxlcy10ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL3RlbXBsYXRlcy9jYWxsYmFjay10ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL3V0aWxzL3NjaGVtYS11dGlscy5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL2NvbXBvbmVudHMvanNvbi10cmVlLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvY29tcG9uZW50cy9zY2hlbWEtdHJlZS5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL2NvbXBvbmVudHMvdGFnLWlucHV0LmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvY29tcG9uZW50cy9hcGktcmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL2NvbXBvbmVudHMvc2NoZW1hLXRhYmxlLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvdGVtcGxhdGVzL2V4cGFuZGVkLWVuZHBvaW50LXRlbXBsYXRlLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvdGVtcGxhdGVzL2NvbXBvbmVudHMtdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy90ZW1wbGF0ZXMvb3ZlcnZpZXctdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy90ZW1wbGF0ZXMvc2VydmVyLXRlbXBsYXRlLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvdGVtcGxhdGVzL25hdmJhci10ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL3RlbXBsYXRlcy9mb2N1c2VkLWVuZHBvaW50LXRlbXBsYXRlLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvdGVtcGxhdGVzL2VuZHBvaW50LXRlbXBsYXRlLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvdGVtcGxhdGVzL2xvZ28tdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy90ZW1wbGF0ZXMvaGVhZGVyLXRlbXBsYXRlLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvY29tcG9uZW50cy9hcGktcmVzcG9uc2UuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy90ZW1wbGF0ZXMvYWR2YW5jZS1zZWFyY2gtdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy9jb21wb25lbnRzL2RpYWxvZy1ib3guanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy91dGlscy90aGVtZS5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL3RlbXBsYXRlcy9tYWluLWJvZHktdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vcmFwaWRvYy8uL3NyYy9yYXBpZG9jLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvcmFwaWRvYy1taW5pLmpzIiwid2VicGFjazovL3JhcGlkb2MvLi9zcmMvdGVtcGxhdGVzL2pzb24tc2NoZW1hLXZpZXdlci10ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly9yYXBpZG9jLy4vc3JjL2pzb24tc2NoZW1hLXZpZXdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5leHBvcnQgZGVmYXVsdCBjc3NgXG4vKiBCdXR0b24gKi9cbi5tLWJ0biB7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICBmb250LXdlaWdodDogNjAwO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmc6IDZweCAxNnB4O1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7XG4gIG91dGxpbmU6IDA7XG4gIGxpbmUtaGVpZ2h0OiAxO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMTIpLCAwIDFweCAycHggcmdiYSgwLDAsMCwwLjI0KTtcbn1cbi5tLWJ0bi5wcmltYXJ5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLWludmVydCk7XG59XG4ubS1idG4udGhpbi1ib3JkZXIgeyBib3JkZXItd2lkdGg6IDFweDsgfVxuLm0tYnRuLmxhcmdlIHsgcGFkZGluZzo4cHggMTRweDsgfVxuLm0tYnRuLnNtYWxsIHsgcGFkZGluZzo1cHggMTJweDsgfVxuLm0tYnRuLnRpbnkgeyBwYWRkaW5nOjVweCA2cHg7IH1cbi5tLWJ0bi5jaXJjbGUgeyBib3JkZXItcmFkaXVzOiA1MCU7IH1cbi5tLWJ0bjpob3ZlciB7IFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3ItaW52ZXJ0KTtcbn1cbi5tLWJ0bi5uYXYgeyBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1uYXYtYWNjZW50LWNvbG9yKTsgfVxuLm0tYnRuLm5hdjpob3ZlciB7IFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uYXYtYWNjZW50LWNvbG9yKTtcbn1cbi5tLWJ0bjpkaXNhYmxlZHsgXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnMyk7XG4gIGNvbG9yOiB2YXIoLS1mZzMpO1xuICBib3JkZXItY29sb3I6IHZhcigtLWZnMyk7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gIG9wYWNpdHk6IDAuNDtcbn1cbi50b29sYmFyLWJ0bntcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwYWRkaW5nOiA0cHg7XG4gIG1hcmdpbjowIDJweDtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpO1xuICBtaW4td2lkdGg6IDUwcHg7XG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLWludmVydCk7XG4gIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbn1cblxuaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIGJ1dHRvbiwgcHJlIHtcbiAgY29sb3I6dmFyKC0tZmcpO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pbnB1dC1iZyk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xufVxuYnV0dG9uIHtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtcmVndWxhcik7XG59XG5cbi8qIEZvcm0gSW5wdXRzICovXG5wcmUsXG5zZWxlY3QsXG50ZXh0YXJlYSxcbmlucHV0W3R5cGU9XCJmaWxlXCJdLFxuaW5wdXRbdHlwZT1cInRleHRcIl0sXG5pbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0ge1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vKTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpO1xuICB0cmFuc2l0aW9uOiBib3JkZXIgLjJzO1xuICBwYWRkaW5nOiA2cHggNXB4O1xufVxuXG5zZWxlY3Qge1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1yZWd1bGFyKTtcbiAgcGFkZGluZzogNXB4IDMwcHggNXB4IDVweDtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMTIlMjIlMjBoZWlnaHQlM0QlMjIxMiUyMiUzRSUzQ3BhdGglMjBkJTNEJTIyTTEwLjMlMjAzLjNMNiUyMDcuNiUyMDEuNyUyMDMuM0ExJTIwMSUyMDAlMjAwMC4zJTIwNC43bDUlMjA1YTElMjAxJTIwMCUyMDAwMS40JTIwMGw1LTVhMSUyMDElMjAwJTIwMTAtMS40LTEuNHolMjIlMjBmaWxsJTNEJTIyJTIzNzc3Nzc3JTIyJTJGJTNFJTNDJTJGc3ZnJTNFXCIpOyBcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2FsYygxMDAlIC0gNXB4KSBjZW50ZXI7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7ICBcbiAgYmFja2dyb3VuZC1zaXplOiAxMHB4O1xuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG5zZWxlY3Q6aG92ZXIge1xuICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xufVxuXG50ZXh0YXJlYTo6cGxhY2Vob2xkZXIsXG5pbnB1dFt0eXBlPVwidGV4dFwiXTo6cGxhY2Vob2xkZXIsXG5pbnB1dFt0eXBlPVwicGFzc3dvcmRcIl06OnBsYWNlaG9sZGVyIHtcbiAgY29sb3I6IHZhcigtLXBsYWNlaG9sZGVyLWNvbG9yKTtcbiAgb3BhY2l0eToxO1xufVxuXG5cbmlucHV0W3R5cGU9XCJmaWxlXCJde1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1yZWd1bGFyKTtcbiAgcGFkZGluZzoycHg7XG4gIGN1cnNvcjpwb2ludGVyO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgbWluLWhlaWdodDogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgMThweCk7XG59XG5cbmlucHV0W3R5cGU9XCJmaWxlXCJdOjotd2Via2l0LWZpbGUtdXBsb2FkLWJ1dHRvbiB7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXJlZ3VsYXIpO1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGN1cnNvcjpwb2ludGVyO1xuICBwYWRkaW5nOiAzcHggOHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLWludmVydCk7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpOztcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xufVxuXG5wcmUsXG50ZXh0YXJlYSB7XG4gIHNjcm9sbGJhci13aWR0aDogdGhpbjtcbiAgc2Nyb2xsYmFyLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpIHZhcigtLWlucHV0LWJnKTtcbn1cblxucHJlOjotd2Via2l0LXNjcm9sbGJhcixcbnRleHRhcmVhOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiA4cHg7XG4gIGhlaWdodDogOHB4O1xufVxuXG5wcmU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrLFxudGV4dGFyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgYmFja2dyb3VuZDp2YXIoLS1pbnB1dC1iZyk7XG59XG4gXG5wcmU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iLFxudGV4dGFyZWE6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpO1xufVxuXG4ubGluayB7XG4gIGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgY29sb3I6dmFyKC0tYmx1ZSk7XG4gIGZvbnQtZmFtaWx5OnZhcigtLWZvbnQtbW9ubyk7XG4gIG1hcmdpbi1ib3R0b206MnB4O1xufVxuXG4vKiBUb2dnbGUgQm9keSAqL1xuaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdIHtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC1iZyk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJnKTtcbiAgYm9yZGVyLXJhZGl1czogOXB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGhlaWdodDogMThweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0cmFuc2l0aW9uOiBib3JkZXIgLjI1cyAuMTVzLCBib3gtc2hhZG93IC4yNXMgLjNzLCBwYWRkaW5nIC4yNXM7XG4gIG1pbi13aWR0aDogMzZweDtcbiAgd2lkdGg6IDM2cHg7XG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XG59XG4vKiBUb2dnbGUgVGh1bWIgKi9cbmlucHV0W3R5cGU9XCJjaGVja2JveFwiXTphZnRlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmcpO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodC1iZyk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgY29udGVudDogJyc7XG4gIHRvcDogMHB4O1xuICBsZWZ0OiAwcHg7XG4gIHJpZ2h0OiAxNnB4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgaGVpZ2h0OiAxNnB4O1xuICB0cmFuc2l0aW9uOiBib3JkZXIgLjI1cyAuMTVzLCBsZWZ0IC4yNXMgLjFzLCByaWdodCAuMTVzIC4xNzVzO1xufVxuXG4vKiBUb2dnbGUgQm9keSAtIENoZWNrZWQgKi9cbmlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpjaGVja2VkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ3JlZW4pO1xuICBib3JkZXItY29sb3I6IHZhcigtLWdyZWVuKTtcbn1cbi8qIFRvZ2dsZSBUaHVtYiAtIENoZWNrZWQqL1xuaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQ6YWZ0ZXIge1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ncmVlbik7XG4gIGxlZnQ6IDE2cHg7XG4gIHJpZ2h0OiAxcHg7XG4gIHRyYW5zaXRpb246IGJvcmRlciAuMjVzLCBsZWZ0IC4xNXMgLjI1cywgcmlnaHQgLjI1cyAuMTc1cztcbn1gO1xuIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgY3NzYFxuLnJvdywgLmNvbHtcbiAgZGlzcGxheTpmbGV4O1xufSBcbi5yb3cge1xuICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG59XG4uY29sIHtcbiAgYWxpZ24taXRlbXM6c3RyZXRjaDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbmA7XG4iLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjc3NgXG4ubS10YWJsZSB7XG4gIGJvcmRlci1zcGFjaW5nOiAwOyAgXG4gIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICBtYXJnaW46IDA7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgZGlyZWN0aW9uOiBsdHI7XG59XG4ubS10YWJsZSB0cjpmaXJzdC1jaGlsZCB0ZCxcbi5tLXRhYmxlIHRyOmZpcnN0LWNoaWxkIHRoIHtcbiAgICBib3JkZXItdG9wOiAwIG5vbmU7XG59XG4ubS10YWJsZSB0ZCwgXG4ubS10YWJsZSB0aCB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTtcbiAgbGluZS1oZWlnaHQ6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDRweCk7XG4gIHBhZGRpbmc6IDRweCA1cHggNHB4O1xuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xufVxuXG4ubS10YWJsZS5wYWRkZWQtMTIgdGQsIFxuLm0tdGFibGUucGFkZGVkLTEyIHRoIHtcbiAgcGFkZGluZzogMTJweDtcbn1cblxuLm0tdGFibGUgdGQ6bm90KFthbGlnbl0pLCBcbi5tLXRhYmxlIHRoOm5vdChbYWxpZ25dKSB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbi5tLXRhYmxlIHRoIHtcbiAgY29sb3I6IHZhcigtLWZnMik7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTtcbiAgbGluZS1oZWlnaHQ6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDE4cHgpO1xuICBmb250LXdlaWdodDogNjAwO1xuICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZzIpO1xuICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTtcbn1cblxuLm0tdGFibGUgPiB0Ym9keSA+IHRyID4gdGQsXG4ubS10YWJsZSA+IHRyID4gdGQge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4udGFibGUtdGl0bGUge1xuICBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTtcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgbWFyZ2luOiAxMnB4IDAgNHB4IDA7XG59XG5gO1xuIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgY3NzYFxuLm9ubHktbGFyZ2Utc2NyZWVuIHsgZGlzcGxheTpub25lOyB9XG4uZW5kcG9pbnQtaGVhZCAucGF0aHtcbiAgZGlzcGxheTogZmxleDtcbiAgZm9udC1mYW1pbHk6dmFyKC0tZm9udC1tb25vKTtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XG59XG5cbi5lbmRwb2ludC1oZWFkIC5kZXNjciB7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTtcbiAgY29sb3I6dmFyKC0tbGlnaHQtZmcpO1xuICBmb250LXdlaWdodDo0MDA7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcbiAgZGlzcGxheTpub25lO1xufVxuXG4ubS1lbmRwb2ludC5leHBhbmRlZHttYXJnaW4tYm90dG9tOjE2cHg7IH1cbi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWR7XG4gIGJvcmRlci13aWR0aDoxcHggMXB4IDFweCA1cHg7XG4gIGJvcmRlci1zdHlsZTpzb2xpZDtcbiAgYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O1xuICBib3JkZXItdG9wLWNvbG9yOnZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7XG4gIGRpc3BsYXk6ZmxleDtcbiAgcGFkZGluZzo2cHggMTZweDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5wdXQ6aG92ZXIsXG4ubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLnB1dC5leHBhbmRlZHtcbiAgYm9yZGVyLWNvbG9yOnZhcigtLW9yYW5nZSk7IFxuICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWxpZ2h0LW9yYW5nZSk7IFxufVxuLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5wb3N0OmhvdmVyLFxuLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5wb3N0LmV4cGFuZGVkIHtcbiAgYm9yZGVyLWNvbG9yOnZhcigtLWdyZWVuKTsgXG4gIGJhY2tncm91bmQtY29sb3I6dmFyKC0tbGlnaHQtZ3JlZW4pOyBcbn1cbi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQuZ2V0OmhvdmVyLFxuLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5nZXQuZXhwYW5kZWQge1xuICBib3JkZXItY29sb3I6dmFyKC0tYmx1ZSk7IFxuICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWxpZ2h0LWJsdWUpOyBcbn1cbi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQuZGVsZXRlOmhvdmVyLFxuLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5kZWxldGUuZXhwYW5kZWQge1xuICBib3JkZXItY29sb3I6dmFyKC0tcmVkKTsgXG4gIGJhY2tncm91bmQtY29sb3I6dmFyKC0tbGlnaHQtcmVkKTsgXG59XG5cbi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQuaGVhZDpob3Zlcixcbi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQuaGVhZC5leHBhbmRlZCxcbi5tLWVuZHBvaW50ID4gLmVuZHBvaW50LWhlYWQucGF0Y2g6aG92ZXIsXG4ubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLnBhdGNoLmV4cGFuZGVkLFxuLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5vcHRpb25zOmhvdmVyLFxuLm0tZW5kcG9pbnQgPiAuZW5kcG9pbnQtaGVhZC5vcHRpb25zLmV4cGFuZGVkIHtcbiAgYm9yZGVyLWNvbG9yOnZhcigtLXllbGxvdyk7IFxuICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWxpZ2h0LXllbGxvdyk7IFxufVxuXG4ubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLmRlcHJlY2F0ZWQ6aG92ZXIsXG4ubS1lbmRwb2ludCA+IC5lbmRwb2ludC1oZWFkLmRlcHJlY2F0ZWQuZXhwYW5kZWQge1xuICBib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTsgXG4gIGZpbHRlcjpvcGFjaXR5KDAuNik7XG59XG5cbi5tLWVuZHBvaW50IC5lbmRwb2ludC1ib2R5IHtcbiAgZmxleC13cmFwOndyYXA7XG4gIHBhZGRpbmc6MTZweCAwcHggMCAwcHg7XG4gIGJvcmRlci13aWR0aDowcHggMXB4IDFweCA1cHg7XG4gIGJvcmRlci1zdHlsZTpzb2xpZDtcbiAgYm94LXNoYWRvdzogMHB4IDRweCAzcHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xufVxuLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkuZGVsZXRleyBib3JkZXItY29sb3I6dmFyKC0tcmVkKTsgfVxuLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkucHV0eyBib3JkZXItY29sb3I6dmFyKC0tb3JhbmdlKTsgfVxuLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkucG9zdHtib3JkZXItY29sb3I6dmFyKC0tZ3JlZW4pO31cbi5tLWVuZHBvaW50IC5lbmRwb2ludC1ib2R5LmdldHsgYm9yZGVyLWNvbG9yOnZhcigtLWJsdWUpOyB9XG4ubS1lbmRwb2ludCAuZW5kcG9pbnQtYm9keS5oZWFkLFxuLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkucGF0Y2gsXG4ubS1lbmRwb2ludCAuZW5kcG9pbnQtYm9keS5vcHRpb25zIHsgXG4gIGJvcmRlci1jb2xvcjp2YXIoLS15ZWxsb3cpOyBcbn1cblxuLm0tZW5kcG9pbnQgLmVuZHBvaW50LWJvZHkuZGVwcmVjYXRlZHsgXG4gIGJvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO1xuICBmaWx0ZXI6b3BhY2l0eSgwLjYpO1xufVxuXG4uZW5kcG9pbnQtaGVhZCAuZGVwcmVjYXRlZHtcbiAgY29sb3I6IHZhcigtLWxpZ2h0LWZnKTtcbiAgZmlsdGVyOm9wYWNpdHkoMC42KTtcbn1cblxuLnN1bW1hcnl7XG4gIHBhZGRpbmc6OHB4IDhweDtcbn1cbi5zdW1tYXJ5IC50aXRsZXtcbiAgZm9udC1zaXplOmNhbGModmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpICsgMnB4KTtcbiAgbWFyZ2luLWJvdHRvbTogNnB4O1xuICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XG59XG5cbi5lbmRwb2ludC1oZWFkIC5tZXRob2R7XG4gIHBhZGRpbmc6MnB4IDVweDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7XG4gIGhlaWdodDogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgMTZweCk7XG4gIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA4cHgpO1xuICB3aWR0aDogNjBweDtcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xuICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO1xuICBtYXJnaW4tcmlnaHQ6NXB4O1xufVxuLmVuZHBvaW50LWhlYWQgLm1ldGhvZC5kZWxldGV7IGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLXJlZCk7fVxuLmVuZHBvaW50LWhlYWQgLm1ldGhvZC5wdXR7IGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLW9yYW5nZSk7IH1cbi5lbmRwb2ludC1oZWFkIC5tZXRob2QucG9zdHsgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZ3JlZW4pOyB9XG4uZW5kcG9pbnQtaGVhZCAubWV0aG9kLmdldHsgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmx1ZSk7IH1cbi5lbmRwb2ludC1oZWFkIC5tZXRob2QuZ2V0LmRlcHJlY2F0ZWR7IGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IH1cbi5lbmRwb2ludC1oZWFkIC5tZXRob2QuaGVhZCxcbi5lbmRwb2ludC1oZWFkIC5tZXRob2QucGF0Y2gsXG4uZW5kcG9pbnQtaGVhZCAubWV0aG9kLm9wdGlvbnMgeyBcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0teWVsbG93KTsgXG59XG5cbi5yZXEtcmVzcC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW4tdG9wOjE2cHg7XG4gIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGJvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7XG59XG5cbi52aWV3LW1vZGUtcmVxdWVzdCxcbmFwaS1yZXNwb25zZS52aWV3LW1vZGUge1xuICBmbGV4OjE7IFxuICBtaW4taGVpZ2h0OjEwMHB4O1xuICBwYWRkaW5nOjE2cHggOHB4O1xuICBvdmVyZmxvdzpoaWRkZW47XG59XG4udmlldy1tb2RlLXJlcXVlc3Qge1xuICBib3JkZXItd2lkdGg6MCAwIDFweCAwO1xuICBib3JkZXItc3R5bGU6ZGFzaGVkO1xufVxuXG4uaGVhZCAudmlldy1tb2RlLXJlcXVlc3QsXG4ucGF0Y2ggLnZpZXctbW9kZS1yZXF1ZXN0LFxuLm9wdGlvbnMgLnZpZXctbW9kZS1yZXF1ZXN0IHsgXG4gIGJvcmRlci1jb2xvcjp2YXIoLS15ZWxsb3cpOyBcbn1cbi5wdXQgLnZpZXctbW9kZS1yZXF1ZXN0IHsgXG4gIGJvcmRlci1jb2xvcjp2YXIoLS1vcmFuZ2UpOyBcbn1cbi5wb3N0IC52aWV3LW1vZGUtcmVxdWVzdCB7IFxuICBib3JkZXItY29sb3I6dmFyKC0tZ3JlZW4pOyBcbn1cbi5nZXQgLnZpZXctbW9kZS1yZXF1ZXN0IHsgXG4gIGJvcmRlci1jb2xvcjp2YXIoLS1ibHVlKTsgXG59XG4uZGVsZXRlIC52aWV3LW1vZGUtcmVxdWVzdCB7IFxuICBib3JkZXItY29sb3I6dmFyKC0tcmVkKTsgXG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTAyNHB4KSB7XG4gIC5vbmx5LWxhcmdlLXNjcmVlbiB7IGRpc3BsYXk6YmxvY2s7IH1cbiAgLmVuZHBvaW50LWhlYWQgLnBhdGh7XG4gICAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtcmVndWxhcik7XG4gIH1cbiAgLmVuZHBvaW50LWhlYWQgLmRlc2Nye1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gIH1cbiAgLmVuZHBvaW50LWhlYWQgLm0tbWFya2Rvd24tc21hbGwsXG4gIC5kZXNjciAubS1tYXJrZG93bi1zbWFsbHtcbiAgICBkaXNwbGF5OmJsb2NrO1xuICB9XG4gIC5yZXEtcmVzcC1jb250YWluZXJ7XG4gICAgZmxleC1kaXJlY3Rpb246IHZhcigtLWxheW91dCwgcm93KTtcbiAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgfVxuICBhcGktcmVzcG9uc2Uudmlldy1tb2RlIHtcbiAgICBwYWRkaW5nOjE2cHg7XG4gIH1cbiAgLnZpZXctbW9kZS1yZXF1ZXN0LnJvdy1sYXlvdXQge1xuICAgIGJvcmRlci13aWR0aDowIDFweCAwIDA7XG4gICAgcGFkZGluZzoxNnB4O1xuICB9XG4gIC5zdW1tYXJ5e1xuICAgIHBhZGRpbmc6OHB4IDE2cHg7XG4gIH1cbn1cbmA7XG4iLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjc3NgXG5jb2RlW2NsYXNzKj1cImxhbmd1YWdlLVwiXSxcbnByZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0ge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB3aGl0ZS1zcGFjZTogcHJlO1xuICB3b3JkLXNwYWNpbmc6IG5vcm1hbDtcbiAgd29yZC1icmVhazogbm9ybWFsO1xuICB3b3JkLXdyYXA6IG5vcm1hbDtcbiAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgdGFiLXNpemU6IDI7XG5cbiAgLXdlYmtpdC1oeXBoZW5zOiBub25lO1xuICAtbW96LWh5cGhlbnM6IG5vbmU7XG4gIC1tcy1oeXBoZW5zOiBub25lO1xuICBoeXBoZW5zOiBub25lO1xufVxuXG4vKiBDb2RlIGJsb2NrcyAqL1xucHJlW2NsYXNzKj1cImxhbmd1YWdlLVwiXSB7XG4gIHBhZGRpbmc6IDFlbTtcbiAgbWFyZ2luOiAuNWVtIDA7XG4gIG92ZXJmbG93OiBhdXRvO1xufVxuXG4vKiBJbmxpbmUgY29kZSAqL1xuOm5vdChwcmUpID4gY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0ge1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xufVxuXG4udG9rZW4uY29tbWVudCxcbi50b2tlbi5ibG9jay1jb21tZW50LFxuLnRva2VuLnByb2xvZyxcbi50b2tlbi5kb2N0eXBlLFxuLnRva2VuLmNkYXRhIHtcbiAgY29sb3I6IHZhcigtLWxpZ2h0LWZnKVxufVxuXG4udG9rZW4ucHVuY3R1YXRpb24ge1xuICBjb2xvcjogdmFyKC0tZmcpO1xufVxuXG4udG9rZW4udGFnLFxuLnRva2VuLmF0dHItbmFtZSxcbi50b2tlbi5uYW1lc3BhY2UsXG4udG9rZW4uZGVsZXRlZCB7XG4gIGNvbG9yOnZhcigtLXBpbmspO1xufVxuXG4udG9rZW4uZnVuY3Rpb24tbmFtZSB7XG4gIGNvbG9yOiB2YXIoLS1ibHVlKTtcbn1cblxuLnRva2VuLmJvb2xlYW4sXG4udG9rZW4ubnVtYmVyLFxuLnRva2VuLmZ1bmN0aW9uIHtcbiAgY29sb3I6IHZhcigtLXJlZCk7XG59XG5cbi50b2tlbi5wcm9wZXJ0eSxcbi50b2tlbi5jbGFzcy1uYW1lLFxuLnRva2VuLmNvbnN0YW50LFxuLnRva2VuLnN5bWJvbCB7XG4gIGNvbG9yOiB2YXIoLS1jb2RlLXByb3BlcnR5LWNvbG9yKTtcbn1cblxuLnRva2VuLnNlbGVjdG9yLFxuLnRva2VuLmltcG9ydGFudCxcbi50b2tlbi5hdHJ1bGUsXG4udG9rZW4ua2V5d29yZCxcbi50b2tlbi5idWlsdGluIHtcbiAgY29sb3I6IHZhcigtLWNvZGUta2V5d29yZC1jb2xvcik7XG59XG5cbi50b2tlbi5zdHJpbmcsXG4udG9rZW4uY2hhcixcbi50b2tlbi5hdHRyLXZhbHVlLFxuLnRva2VuLnJlZ2V4LFxuLnRva2VuLnZhcmlhYmxlIHsgXG4gIGNvbG9yOiB2YXIoLS1ncmVlbik7XG59XG5cbi50b2tlbi5vcGVyYXRvcixcbi50b2tlbi5lbnRpdHksXG4udG9rZW4udXJsIHtcbiAgY29sb3I6IHZhcigtLWNvZGUtb3BlcmF0b3ItY29sb3IpO1xufVxuXG4udG9rZW4uaW1wb3J0YW50LFxuLnRva2VuLmJvbGQge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbi50b2tlbi5pdGFsaWMge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5cbi50b2tlbi5lbnRpdHkge1xuICBjdXJzb3I6IGhlbHA7XG59XG5cbi50b2tlbi5pbnNlcnRlZCB7XG4gIGNvbG9yOiBncmVlbjtcbn1cbmA7XG4iLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjc3NgXG4udGFiLXBhbmVsIHtcbiAgYm9yZGVyOiBub25lO1xufVxuLnRhYi1idXR0b25zIHtcbiAgaGVpZ2h0OjMwcHg7XG4gIHBhZGRpbmc6IDRweCA0cHggMCA0cHg7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpIDtcbiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluO1xufVxuLnRhYi1idXR0b25zOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIGhlaWdodDogMXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpO1xufVxuLnRhYi1idG4ge1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB0cmFuc3BhcmVudDsgXG4gIGNvbG9yOiB2YXIoLS1saWdodC1mZyk7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBjdXJzb3I6cG9pbnRlcjtcbiAgb3V0bGluZTpub25lO1xuICBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOyBcbiAgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7XG4gIG1hcmdpbi1yaWdodDoxNnB4O1xuICBwYWRkaW5nOjFweDtcbn1cbi50YWItYnRuLmFjdGl2ZSB7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTsgXG4gIGZvbnQtd2VpZ2h0OmJvbGQ7XG4gIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpO1xufVxuXG4udGFiLWJ0bjpob3ZlciB7XG4gIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpO1xufVxuLnRhYi1jb250ZW50IHtcbiAgbWFyZ2luOi0xcHggMCAwIDA7XG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xuICBtaW4taGVpZ2h0OiA1MHB4O1xufVxuYDtcbiIsImltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNzc2Bcbi5uYXYtYmFyLWluZm86Zm9jdXMtdmlzaWJsZSxcbi5uYXYtYmFyLXRhZzpmb2N1cy12aXNpYmxlLFxuLm5hdi1iYXItcGF0aDpmb2N1cy12aXNpYmxlIHtcbiAgb3V0bGluZTogMXB4IHNvbGlkO1xuICBib3gtc2hhZG93OiBub25lO1xuICBvdXRsaW5lLW9mZnNldDogLTRweDtcbn1cbi5uYXYtYmFyLWV4cGFuZC1hbGw6Zm9jdXMtdmlzaWJsZSxcbi5uYXYtYmFyLWNvbGxhcHNlLWFsbDpmb2N1cy12aXNpYmxlLFxuLm5hdi1iYXItdGFnLWljb246Zm9jdXMtdmlzaWJsZSB7XG4gIG91dGxpbmU6IDFweCBzb2xpZDtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgb3V0bGluZS1vZmZzZXQ6IDJweDtcbn1cbi5uYXYtYmFyIHtcbiAgd2lkdGg6MDtcbiAgaGVpZ2h0OjEwMCU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGNvbG9yOnZhcigtLW5hdi10ZXh0LWNvbG9yKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbmF2LWJnLWNvbG9yKTtcbiAgYmFja2dyb3VuZC1ibGVuZC1tb2RlOiBtdWx0aXBseTtcbiAgbGluZS1oZWlnaHQ6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDRweCk7XG4gIGRpc3BsYXk6bm9uZTtcbiAgcG9zaXRpb246cmVsYXRpdmU7XG4gIGZsZXgtZGlyZWN0aW9uOmNvbHVtbjtcbiAgZmxleC13cmFwOm5vd3JhcDtcbiAgd29yZC1icmVhazpicmVhay13b3JkO1xufVxuOjpzbG90dGVkKFtzbG90PW5hdi1sb2dvXSl7XG4gIHBhZGRpbmc6MTZweCAxNnB4IDAgMTZweDtcbn1cbi5uYXYtc2Nyb2xsIHtcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBvdmVyZmxvdy15OiBvdmVybGF5O1xuICBzY3JvbGxiYXItd2lkdGg6IHRoaW47XG4gIHNjcm9sbGJhci1jb2xvcjogdmFyKC0tbmF2LWhvdmVyLWJnLWNvbG9yKSB0cmFuc3BhcmVudDtcbn1cblxuLm5hdi1iYXItdGFnIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuLm5hdi1iYXIucmVhZCAubmF2LWJhci10YWctaWNvbiB7XG4gIGRpc3BsYXk6bm9uZTtcbn1cbi5uYXYtYmFyLXBhdGhzLXVuZGVyLXRhZyB7XG4gIG92ZXJmbG93OmhpZGRlbjtcbiAgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAuMnMgZWFzZS1vdXQsIHZpc2liaWxpdHkgLjNzO1xufVxuLmNvbGxhcHNlZCAubmF2LWJhci1wYXRocy11bmRlci10YWcge1xuICB2aXNpYmlsaXR5OiBoaWRkZW47XG59XG5cbi5uYXYtYmFyLWV4cGFuZC1hbGwge1xuICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7IFxuICBjdXJzb3I6cG9pbnRlcjsgXG4gIG1hcmdpbi1yaWdodDoxMHB4O1xufVxuLm5hdi1iYXItY29sbGFwc2UtYWxsIHtcbiAgdHJhbnNmb3JtOiByb3RhdGUoMjcwZGVnKTsgXG4gIGN1cnNvcjpwb2ludGVyO1xufVxuLm5hdi1iYXItZXhwYW5kLWFsbDpob3ZlciwgLm5hdi1iYXItY29sbGFwc2UtYWxsOmhvdmVyIHtcbiAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xufVxuXG4ubmF2LWJhci10YWctaWNvbiB7XG4gIGNvbG9yOiB2YXIoLS1uYXYtdGV4dC1jb2xvcik7XG4gIGZvbnQtc2l6ZTogMjBweDsgXG59XG4ubmF2LWJhci10YWctaWNvbjpob3ZlciB7XG4gIGNvbG9yOnZhcigtLW5hdi1ob3Zlci10ZXh0LWNvbG9yKTtcbn1cbi5uYXYtYmFyLmZvY3VzZWQgLm5hdi1iYXItdGFnLWFuZC1wYXRocy5jb2xsYXBzZWQgLm5hdi1iYXItdGFnLWljb246OmFmdGVyIHtcbiAgY29udGVudDogJ+KMtSc7XG4gIHdpZHRoOjE2cHg7XG4gIGhlaWdodDoxNnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZS1vdXQgMHM7XG59XG4ubmF2LWJhci5mb2N1c2VkIC5uYXYtYmFyLXRhZy1hbmQtcGF0aHMuZXhwYW5kZWQgLm5hdi1iYXItdGFnLWljb246OmFmdGVyIHtcbiAgY29udGVudDogJ+KMtSc7XG4gIHdpZHRoOjE2cHg7XG4gIGhlaWdodDoxNnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZS1vdXQgMHM7XG59XG4ubmF2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICB3aWR0aDogdmFyKC0tc2Nyb2xsLWJhci13aWR0aCwgOHB4KTtcbn1cbi5uYXYtc2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gIGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7XG59XG4ubmF2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uYXYtaG92ZXItYmctY29sb3IpO1xufVxuXG4ubmF2LWJhci10YWcge1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKTtcbiAgY29sb3I6IHZhcigtLW5hdi1hY2NlbnQtY29sb3IpO1xuICBib3JkZXItbGVmdDo0cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGZvbnQtd2VpZ2h0OmJvbGQ7XG4gIHBhZGRpbmc6IDE1cHggMTVweCAxNXB4IDEwcHg7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xufVxuXG4ubmF2LWJhci1jb21wb25lbnRzLFxuLm5hdi1iYXItaDEsXG4ubmF2LWJhci1oMixcbi5uYXYtYmFyLWluZm8sXG4ubmF2LWJhci10YWcsXG4ubmF2LWJhci1wYXRoIHtcbiAgZGlzcGxheTpmbGV4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6NHB4OyBcbiAgY29sb3I6IHZhcigtLW5hdi10ZXh0LWNvbG9yKTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1sZWZ0OjRweCBzb2xpZCB0cmFuc3BhcmVudDtcbn1cblxuLm5hdi1iYXItaDEsXG4ubmF2LWJhci1oMixcbi5uYXYtYmFyLXBhdGgge1xuICBmb250LXNpemU6IGNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDFweCk7XG4gIHBhZGRpbmc6IHZhcigtLW5hdi1pdGVtLXBhZGRpbmcpO1xufVxuLm5hdi1iYXItcGF0aC5zbWFsbC1mb250IHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpO1xufVxuXG4ubmF2LWJhci1pbmZvIHtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtcmVndWxhcik7XG4gIHBhZGRpbmc6IDE2cHggMTBweDtcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcbn1cbi5uYXYtYmFyLXNlY3Rpb24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTtcbiAgY29sb3I6IHZhcigtLW5hdi10ZXh0LWNvbG9yKTtcbiAgcGFkZGluZzogdmFyKC0tbmF2LWl0ZW0tcGFkZGluZyk7XG4gIGZvbnQtd2VpZ2h0OmJvbGQ7XG59XG4ubmF2LWJhci1zZWN0aW9uLm9wZXJhdGlvbnMge1xuICBjdXJzb3I6cG9pbnRlcjtcbn1cbi5uYXYtYmFyLXNlY3Rpb24ub3BlcmF0aW9uczpob3ZlciB7XG4gIGNvbG9yOnZhcigtLW5hdi1ob3Zlci10ZXh0LWNvbG9yKTtcbiAgYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1uYXYtaG92ZXItYmctY29sb3IpO1xufVxuXG4ubmF2LWJhci1zZWN0aW9uOmZpcnN0LWNoaWxkIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbi5uYXYtYmFyLWgyIHttYXJnaW4tbGVmdDoxMnB4O31cblxuLm5hdi1iYXItaDEubGVmdC1iYXIuYWN0aXZlLFxuLm5hdi1iYXItaDIubGVmdC1iYXIuYWN0aXZlLFxuLm5hdi1iYXItaW5mby5sZWZ0LWJhci5hY3RpdmUsXG4ubmF2LWJhci10YWcubGVmdC1iYXIuYWN0aXZlLFxuLm5hdi1iYXItcGF0aC5sZWZ0LWJhci5hY3RpdmUsXG4ubmF2LWJhci1zZWN0aW9uLmxlZnQtYmFyLm9wZXJhdGlvbnMuYWN0aXZlIHtcbiAgYm9yZGVyLWxlZnQ6NHB4IHNvbGlkIHZhcigtLW5hdi1hY2NlbnQtY29sb3IpO1xuICBjb2xvcjp2YXIoLS1uYXYtaG92ZXItdGV4dC1jb2xvcik7XG59XG5cbi5uYXYtYmFyLWgxLmNvbG9yZWQtYmxvY2suYWN0aXZlLFxuLm5hdi1iYXItaDIuY29sb3JlZC1ibG9jay5hY3RpdmUsXG4ubmF2LWJhci1pbmZvLmNvbG9yZWQtYmxvY2suYWN0aXZlLFxuLm5hdi1iYXItdGFnLmNvbG9yZWQtYmxvY2suYWN0aXZlLFxuLm5hdi1iYXItcGF0aC5jb2xvcmVkLWJsb2NrLmFjdGl2ZSxcbi5uYXYtYmFyLXNlY3Rpb24uY29sb3JlZC1ibG9jay5vcGVyYXRpb25zLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5hdi1hY2NlbnQtY29sb3IpO1xuICBjb2xvcjogdmFyKC0tbmF2LWFjY2VudC10ZXh0LWNvbG9yKTtcbiAgYm9yZGVyLXJhZGl1czogMDtcbn1cblxuLm5hdi1iYXItaDE6aG92ZXIsXG4ubmF2LWJhci1oMjpob3Zlcixcbi5uYXYtYmFyLWluZm86aG92ZXIsXG4ubmF2LWJhci10YWc6aG92ZXIsXG4ubmF2LWJhci1wYXRoOmhvdmVyIHtcbiAgY29sb3I6dmFyKC0tbmF2LWhvdmVyLXRleHQtY29sb3IpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW5hdi1ob3Zlci1iZy1jb2xvcik7XG59XG5gO1xuIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgY3NzYFxuI2FwaS1pbmZvIHtcbiAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKSAtIDFweCk7XG4gIG1hcmdpbi10b3A6IDhweDtcbiAgbWFyZ2luLWxlZnQ6IC0xNXB4O1xufVxuXG4jYXBpLWluZm8gc3BhbjpiZWZvcmUge1xuICBjb250ZW50OiBcInxcIjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBvcGFjaXR5OiAwLjU7XG4gIHdpZHRoOiAxNXB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4jYXBpLWluZm8gc3BhbjpmaXJzdC1jaGlsZDpiZWZvcmUge1xuICBjb250ZW50OiBcIlwiO1xuICB3aWR0aDogMHB4O1xufVxuYDtcbiIsImltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5cbi8qXG5UaGlzIGZpbGUgaXMgcmVzZXJ2ZWQgZm9yIGFueSBjdXN0b20gY3NzIHRoYXQgZGV2ZWxvcGVycyB3YW50IHRvIGFkZCB0b1xuY3VzdG9taXplIHRoZWlyIHRoZW1lLiBTaW1wbHkgYWRkIHlvdXIgY3NzIHRvIHRoaXMgZmlsZSBhbmQgeWFybiBidWlsZC5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGNzc2BcblxuYDtcbiIsIi8qIEZvciBEZWxheWVkIEV2ZW50IEhhbmRsZXIgRXhlY3V0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZm4sIGRlbGF5KSB7XG4gIGxldCB0aW1lb3V0SUQgPSBudWxsO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElEKTtcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICB0aW1lb3V0SUQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGZuLmFwcGx5KHRoYXQsIGFyZ3MpO1xuICAgIH0sIGRlbGF5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGludmFsaWRDaGFyc1JlZ0V4ID0gL1tcXHMjOj8mPXt9XS9nOyAvLyB1c2VkIGZvciBnZW5lcmF0aW5nIHZhbGlkIGh0bWwgZWxlbWVudCBpZHMgYnkgcmVwbGFjaW5nIHRoZSBpbnZhbGlkIGNoYXJzIHdpdGggaHlwaGVuICgtKVxuZXhwb3J0IGNvbnN0IHJhcGlkb2NBcGlLZXkgPSAnX3JhcGlkb2NfYXBpX2tleSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGVlcChtcykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvbWlzZS1leGVjdXRvci1yZXR1cm5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5VG9DbGlwYm9hcmQoZGF0YSwgZSkge1xuICBjb25zdCBidG5FbCA9IGUudGFyZ2V0O1xuICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIHRleHRBcmVhLnZhbHVlID0gZGF0YTtcbiAgdGV4dEFyZWEuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnOyAvLyBhdm9pZCBzY3JvbGxpbmcgdG8gYm90dG9tXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dEFyZWEpO1xuICB0ZXh0QXJlYS5mb2N1cygpO1xuICB0ZXh0QXJlYS5zZWxlY3QoKTtcbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgIGJ0bkVsLmlubmVyVGV4dCA9ICdDb3BpZWQnO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYnRuRWwuaW5uZXJUZXh0ID0gJ0NvcHknO1xuICAgIH0sIDUwMDApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gY29weScsIGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFzZVVybEZyb21VcmwodXJsKSB7XG4gIGNvbnN0IHBhdGhBcnJheSA9IHVybC5zcGxpdCgnLycpO1xuICByZXR1cm4gYCR7cGF0aEFycmF5WzBdfS8vJHtwYXRoQXJyYXlbMl19YDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdhaXQobXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dChyZXNvbHZlLCBtcyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50SXNJblNlYXJjaChzZWFyY2hWYWwsIGNvbXBvbmVudCkge1xuICByZXR1cm4gY29tcG9uZW50Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hWYWwudG9Mb3dlckNhc2UoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRoSXNJblNlYXJjaChzZWFyY2hWYWwsIHBhdGgsIG1hdGNoVHlwZSA9ICdpbmNsdWRlcycpIHtcbiAgaWYgKG1hdGNoVHlwZSA9PT0gJ2luY2x1ZGVzJykge1xuICAgIGNvbnN0IHN0cmluZ1RvU2VhcmNoID0gYCR7cGF0aC5tZXRob2R9ICR7cGF0aC5wYXRofSAke3BhdGguc3VtbWFyeSB8fCBwYXRoLmRlc2NyaXB0aW9uIHx8ICcnfSAke3BhdGgub3BlcmF0aW9uSWQgfHwgJyd9YC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBzdHJpbmdUb1NlYXJjaC5pbmNsdWRlcyhzZWFyY2hWYWwudG9Mb3dlckNhc2UoKSk7XG4gIH1cbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHNlYXJjaFZhbCwgJ2knKTtcbiAgcmV0dXJuIHJlZ2V4LnRlc3QoYCR7cGF0aC5tZXRob2R9ICR7cGF0aC5wYXRofWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NoZW1hS2V5cyhzY2hlbWFQcm9wcywgcmVzdWx0ID0gbmV3IFNldCgpKSB7XG4gIGlmICghc2NoZW1hUHJvcHMpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIE9iamVjdC5rZXlzKHNjaGVtYVByb3BzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICByZXN1bHQuYWRkKGtleSk7XG4gICAgaWYgKHNjaGVtYVByb3BzW2tleV0ucHJvcGVydGllcykge1xuICAgICAgc2NoZW1hS2V5cyhzY2hlbWFQcm9wc1trZXldLnByb3BlcnRpZXMsIHJlc3VsdCk7XG4gICAgfSBlbHNlIGlmIChzY2hlbWFQcm9wc1trZXldLml0ZW1zPy5wcm9wZXJ0aWVzKSB7XG4gICAgICBzY2hlbWFLZXlzKHNjaGVtYVByb3BzW2tleV0uaXRlbXM/LnByb3BlcnRpZXMsIHJlc3VsdCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkdmFuY2VkU2VhcmNoKHNlYXJjaFZhbCwgYWxsU3BlY1RhZ3MsIHNlYXJjaE9wdGlvbnMgPSBbXSkge1xuICBpZiAoIXNlYXJjaFZhbC50cmltKCkgfHwgc2VhcmNoT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwYXRoc01hdGNoZWQgPSBbXTtcbiAgYWxsU3BlY1RhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG4gICAgdGFnLnBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICAgIGxldCBzdHJpbmdUb1NlYXJjaCA9ICcnO1xuICAgICAgaWYgKHNlYXJjaE9wdGlvbnMuaW5jbHVkZXMoJ3NlYXJjaC1hcGktcGF0aCcpKSB7XG4gICAgICAgIHN0cmluZ1RvU2VhcmNoID0gcGF0aC5wYXRoO1xuICAgICAgfVxuICAgICAgaWYgKHNlYXJjaE9wdGlvbnMuaW5jbHVkZXMoJ3NlYXJjaC1hcGktZGVzY3InKSkge1xuICAgICAgICBzdHJpbmdUb1NlYXJjaCA9IGAke3N0cmluZ1RvU2VhcmNofSAke3BhdGguc3VtbWFyeSB8fCBwYXRoLmRlc2NyaXB0aW9uIHx8ICcnfWA7XG4gICAgICB9XG4gICAgICBpZiAoc2VhcmNoT3B0aW9ucy5pbmNsdWRlcygnc2VhcmNoLWFwaS1wYXJhbXMnKSkge1xuICAgICAgICBzdHJpbmdUb1NlYXJjaCA9IGAke3N0cmluZ1RvU2VhcmNofSAke3BhdGgucGFyYW1ldGVycz8ubWFwKCh2KSA9PiB2Lm5hbWUpLmpvaW4oJyAnKSB8fCAnJ31gO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VhcmNoT3B0aW9ucy5pbmNsdWRlcygnc2VhcmNoLWFwaS1yZXF1ZXN0LWJvZHknKSAmJiBwYXRoLnJlcXVlc3RCb2R5KSB7XG4gICAgICAgIGxldCBzY2hlbWFLZXlTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgY29udGVudFR5cGUgaW4gcGF0aC5yZXF1ZXN0Qm9keT8uY29udGVudCkge1xuICAgICAgICAgIGlmIChwYXRoLnJlcXVlc3RCb2R5LmNvbnRlbnRbY29udGVudFR5cGVdLnNjaGVtYT8ucHJvcGVydGllcykge1xuICAgICAgICAgICAgc2NoZW1hS2V5U2V0ID0gc2NoZW1hS2V5cyhwYXRoLnJlcXVlc3RCb2R5LmNvbnRlbnRbY29udGVudFR5cGVdLnNjaGVtYT8ucHJvcGVydGllcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0cmluZ1RvU2VhcmNoID0gYCR7c3RyaW5nVG9TZWFyY2h9ICR7Wy4uLnNjaGVtYUtleVNldF0uam9pbignICcpfWA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHNlYXJjaE9wdGlvbnMuaW5jbHVkZXMoJ3NlYXJjaC1hcGktcmVzcC1kZXNjcicpKSB7XG4gICAgICAgIHN0cmluZ1RvU2VhcmNoID0gYCR7c3RyaW5nVG9TZWFyY2h9ICR7T2JqZWN0LnZhbHVlcyhwYXRoLnJlc3BvbnNlcykubWFwKCh2KSA9PiB2LmRlc2NyaXB0aW9uIHx8ICcnKS5qb2luKCcgJyl9YDtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0cmluZ1RvU2VhcmNoLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVmFsLnRyaW0oKS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICBwYXRoc01hdGNoZWQucHVzaCh7XG4gICAgICAgICAgZWxlbWVudElkOiBwYXRoLmVsZW1lbnRJZCxcbiAgICAgICAgICBtZXRob2Q6IHBhdGgubWV0aG9kLFxuICAgICAgICAgIHBhdGg6IHBhdGgucGF0aCxcbiAgICAgICAgICBzdW1tYXJ5OiBwYXRoLnN1bW1hcnkgfHwgcGF0aC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBkZXByZWNhdGVkOiBwYXRoLmRlcHJlY2F0ZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHBhdGhzTWF0Y2hlZDtcbn1cblxuLypcbmV4cG9ydCBmdW5jdGlvbiBwcmV0dHlYbWwoc291cmNlWG1sU3RyaW5nKSB7XG4gIGNvbnN0IHhtbERvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoc291cmNlWG1sU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgY29uc3QgeHNsdERvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoW1xuICAgIC8vIGRlc2NyaWJlcyBob3cgd2Ugd2FudCB0byBtb2RpZnkgdGhlIFhNTCAtIGluZGVudCBldmVyeXRoaW5nXG4gICAgYDx4c2w6c3R5bGVzaGVldCB4bWxuczp4c2w9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L1hTTC9UcmFuc2Zvcm1cIj5cbiAgICAgIDx4c2w6c3RyaXAtc3BhY2UgZWxlbWVudHM9XCIqXCIvPlxuICAgICAgICA8eHNsOnRlbXBsYXRlIG1hdGNoPVwicGFyYVtjb250ZW50LXN0eWxlXVtub3QodGV4dCgpKV1cIj5cbiAgICAgICAgICA8eHNsOnZhbHVlLW9mIHNlbGVjdD1cIm5vcm1hbGl6ZS1zcGFjZSguKVwiLz5cbiAgICAgICAgPC94c2w6dGVtcGxhdGU+XG4gICAgICAgIDx4c2w6dGVtcGxhdGUgbWF0Y2g9XCJub2RlKCl8QCpcIj5cbiAgICAgICAgICA8eHNsOmNvcHk+PHhzbDphcHBseS10ZW1wbGF0ZXMgc2VsZWN0PVwibm9kZSgpfEAqXCIvPjwveHNsOmNvcHk+XG4gICAgICAgIDwveHNsOnRlbXBsYXRlPlxuICAgICAgICA8eHNsOm91dHB1dCBpbmRlbnQ9XCJ5ZXNcIi8+XG4gICAgICA8L3hzbDpzdHlsZXNoZWV0PmAsXG4gIF0uam9pbignXFxuJyksICdhcHBsaWNhdGlvbi94bWwnKTtcbiAgY29uc3QgeHNsdFByb2Nlc3NvciA9IG5ldyBYU0xUUHJvY2Vzc29yKCk7XG4gIHhzbHRQcm9jZXNzb3IuaW1wb3J0U3R5bGVzaGVldCh4c2x0RG9jKTtcbiAgY29uc3QgcmVzdWx0RG9jID0geHNsdFByb2Nlc3Nvci50cmFuc2Zvcm1Ub0RvY3VtZW50KHhtbERvYyk7XG4gIHJldHVybiBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHJlc3VsdERvYyk7XG59XG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRSZXNvdXJjZSh1cmwsIGZpbGVOYW1lKSB7XG4gIGlmICh1cmwpIHtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgYS5zdHlsZSA9ICdkaXNwbGF5OiBub25lJztcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgYS5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgIGEuY2xpY2soKTtcbiAgICBhLnJlbW92ZSgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWV3UmVzb3VyY2UodXJsKSB7XG4gIGlmICh1cmwpIHtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgYS5zdHlsZSA9ICdkaXNwbGF5OiBub25lJztcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgYS50YXJnZXQgPSAnX2JsYW5rJztcbiAgICBhLmNsaWNrKCk7XG4gICAgYS5yZW1vdmUoKTtcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgYXJyb3ctYm9keS1zdHlsZSAqL1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyB1bnNhZmVIVE1MIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwuanMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9leHRlbnNpb25zXG5pbXBvcnQgeyBtYXJrZWQgfSBmcm9tICdtYXJrZWQnO1xuXG5jb25zdCBjb2RlVmVyaWZpZXIgPSAnNzMxREIxQzNGN0VBNTMzQjg1RTI5NDkyRDI2QUEtMTIzNDU2Nzg5MC0xMjM0NTY3ODkwJztcbmNvbnN0IGNvZGVDaGFsbGVuZ2UgPSAnNEZhdFZEQkpLUEFvNEpnTExhYVFGTVVjUVBuNUNyUFJ2TGxhb2I5UFRZYyc7IC8vIEJhc2U2NCBlbmNvZGVkIFNIQS0yNTZcblxuY29uc3QgbG9jYWxTdG9yYWdlS2V5ID0gJ3JhcGlkb2MnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlBcGlLZXkoc2VjdXJpdHlTY2hlbWVJZCwgdXNlcm5hbWUgPSAnJywgcGFzc3dvcmQgPSAnJywgcHJvdmlkZWRBcGlrZXlWYWwgPSAnJykge1xuICBjb25zdCBzZWN1cml0eU9iaiA9IHRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcz8uZmluZCgodikgPT4gKHYuc2VjdXJpdHlTY2hlbWVJZCA9PT0gc2VjdXJpdHlTY2hlbWVJZCkpO1xuICBpZiAoIXNlY3VyaXR5T2JqKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBmaW5hbEFwaUtleVZhbHVlID0gJyc7XG4gIGlmIChzZWN1cml0eU9iai5zY2hlbWU/LnRvTG93ZXJDYXNlKCkgPT09ICdiYXNpYycpIHtcbiAgICBpZiAodXNlcm5hbWUpIHtcbiAgICAgIGZpbmFsQXBpS2V5VmFsdWUgPSBgQmFzaWMgJHtCdWZmZXIuZnJvbShgJHt1c2VybmFtZX06JHtwYXNzd29yZH1gLCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKX1gO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwcm92aWRlZEFwaWtleVZhbCkge1xuICAgIHNlY3VyaXR5T2JqLnZhbHVlID0gcHJvdmlkZWRBcGlrZXlWYWw7XG4gICAgZmluYWxBcGlLZXlWYWx1ZSA9IGAke3NlY3VyaXR5T2JqLnNjaGVtZT8udG9Mb3dlckNhc2UoKSA9PT0gJ2JlYXJlcicgPyAnQmVhcmVyICcgOiAnJ30ke3Byb3ZpZGVkQXBpa2V5VmFsfWA7XG4gIH1cbiAgaWYgKGZpbmFsQXBpS2V5VmFsdWUpIHtcbiAgICBzZWN1cml0eU9iai5maW5hbEtleVZhbHVlID0gZmluYWxBcGlLZXlWYWx1ZTtcbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkNsZWFyQWxsQXBpS2V5cygpIHtcbiAgdGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzPy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgdi51c2VyID0gJyc7XG4gICAgdi5wYXNzd29yZCA9ICcnO1xuICAgIHYudmFsdWUgPSAnJztcbiAgICB2LmZpbmFsS2V5VmFsdWUgPSAnJztcbiAgfSk7XG4gIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBnZXRQZXJzaXN0ZWRBcGlLZXlzKCkge1xuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NhbFN0b3JhZ2VLZXkpKSB8fCB7fTtcbn1cblxuZnVuY3Rpb24gc2V0UGVyc2lzdGVkQXBpS2V5cyhvYmopIHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShvYmopKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY292ZXJQZXJzaXN0ZWRBcGlLZXlzKCkge1xuICBjb25zdCByYXBpZG9jTHMgPSBnZXRQZXJzaXN0ZWRBcGlLZXlzLmNhbGwodGhpcyk7XG4gIE9iamVjdC52YWx1ZXMocmFwaWRvY0xzKS5mb3JFYWNoKChwKSA9PiB7XG4gICAgYXBwbHlBcGlLZXkuY2FsbCh0aGlzLCBwLnNlY3VyaXR5U2NoZW1lSWQsIHAudXNlcm5hbWUsIHAucGFzc3dvcmQsIHAudmFsdWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25BcGlLZXlDaGFuZ2Uoc2VjdXJpdHlTY2hlbWVJZCkge1xuICBsZXQgYXBpS2V5VmFsdWUgPSAnJztcbiAgY29uc3Qgc2VjdXJpdHlPYmogPSB0aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXMuZmluZCgodikgPT4gKHYuc2VjdXJpdHlTY2hlbWVJZCA9PT0gc2VjdXJpdHlTY2hlbWVJZCkpO1xuICBpZiAoc2VjdXJpdHlPYmopIHtcbiAgICBjb25zdCB0ckVsID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGBzZWN1cml0eS1zY2hlbWUtJHtzZWN1cml0eVNjaGVtZUlkfWApO1xuICAgIGlmICh0ckVsKSB7XG4gICAgICBpZiAoc2VjdXJpdHlPYmoudHlwZSAmJiBzZWN1cml0eU9iai5zY2hlbWUgJiYgc2VjdXJpdHlPYmoudHlwZSA9PT0gJ2h0dHAnICYmIHNlY3VyaXR5T2JqLnNjaGVtZS50b0xvd2VyQ2FzZSgpID09PSAnYmFzaWMnKSB7XG4gICAgICAgIGNvbnN0IHVzZXJWYWwgPSB0ckVsLnF1ZXJ5U2VsZWN0b3IoJy5hcGkta2V5LXVzZXInKS52YWx1ZS50cmltKCk7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkVmFsID0gdHJFbC5xdWVyeVNlbGVjdG9yKCcuYXBpLWtleS1wYXNzd29yZCcpLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgYXBwbHlBcGlLZXkuY2FsbCh0aGlzLCBzZWN1cml0eVNjaGVtZUlkLCB1c2VyVmFsLCBwYXNzd29yZFZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGlLZXlWYWx1ZSA9IHRyRWwucXVlcnlTZWxlY3RvcignLmFwaS1rZXktaW5wdXQnKS52YWx1ZS50cmltKCk7XG4gICAgICAgIGFwcGx5QXBpS2V5LmNhbGwodGhpcywgc2VjdXJpdHlTY2hlbWVJZCwgJycsICcnLCBhcGlLZXlWYWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wZXJzaXN0QXV0aCA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGNvbnN0IHJhcGlkb2NMcyA9IGdldFBlcnNpc3RlZEFwaUtleXMuY2FsbCh0aGlzKTtcbiAgICAgICAgcmFwaWRvY0xzW3NlY3VyaXR5U2NoZW1lSWRdID0gc2VjdXJpdHlPYmo7XG4gICAgICAgIHNldFBlcnNpc3RlZEFwaUtleXMuY2FsbCh0aGlzLCByYXBpZG9jTHMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBVcGRhdGVzIHRoZSBPQXV0aCBBY2Nlc3MgVG9rZW4gKEFQSSBrZXkpLCBzbyBpdCByZWZsZWN0cyBpbiBVSSBhbmQgZ2V0cyB1c2VkIGluIFRSWSBjYWxsc1xuZnVuY3Rpb24gdXBkYXRlT0F1dGhLZXkoc2VjdXJpdHlTY2hlbWVJZCwgYWNjZXNzVG9rZW4sIHRva2VuVHlwZSA9ICdCZWFyZXInKSB7XG4gIGNvbnN0IHNlY3VyaXR5T2JqID0gdGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLmZpbmQoKHYpID0+ICh2LnNlY3VyaXR5U2NoZW1lSWQgPT09IHNlY3VyaXR5U2NoZW1lSWQpKTtcbiAgc2VjdXJpdHlPYmouZmluYWxLZXlWYWx1ZSA9IGAkeyh0b2tlblR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2JlYXJlcicgPyAnQmVhcmVyJyA6ICh0b2tlblR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ21hYycgPyAnTUFDJyA6IHRva2VuVHlwZSkpfSAke2FjY2Vzc1Rva2VufWA7XG4gIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4vLyBHZXRzIEFjY2Vzcy1Ub2tlbiBpbiBleGNoYW5nZSBvZiBBdXRob3JpemF0aW9uIENvZGVcbmFzeW5jIGZ1bmN0aW9uIGZldGNoQWNjZXNzVG9rZW4odG9rZW5VcmwsIGNsaWVudElkLCBjbGllbnRTZWNyZXQsIHJlZGlyZWN0VXJsLCBncmFudFR5cGUsIGF1dGhDb2RlLCBzZWN1cml0eVNjaGVtZUlkLCBhdXRoRmxvd0RpdkVsLCBzZW5kQ2xpZW50U2VjcmV0SW4gPSAnaGVhZGVyJywgc2NvcGVzID0gbnVsbCwgdXNlcm5hbWUgPSBudWxsLCBwYXNzd29yZCA9IG51bGwpIHtcbiAgY29uc3QgcmVzcERpc3BsYXlFbCA9IGF1dGhGbG93RGl2RWwgPyBhdXRoRmxvd0RpdkVsLnF1ZXJ5U2VsZWN0b3IoJy5vYXV0aC1yZXNwLWRpc3BsYXknKSA6IHVuZGVmaW5lZDtcbiAgY29uc3QgdXJsRm9ybVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIHVybEZvcm1QYXJhbXMuYXBwZW5kKCdncmFudF90eXBlJywgZ3JhbnRUeXBlKTtcbiAgaWYgKGdyYW50VHlwZSA9PT0gJ2F1dGhvcml6YXRpb25fY29kZScpIHtcbiAgICB1cmxGb3JtUGFyYW1zLmFwcGVuZCgnY2xpZW50X2lkJywgY2xpZW50SWQpO1xuICAgIHVybEZvcm1QYXJhbXMuYXBwZW5kKCdjbGllbnRfc2VjcmV0JywgY2xpZW50U2VjcmV0KTtcbiAgfVxuICBpZiAoZ3JhbnRUeXBlICE9PSAnY2xpZW50X2NyZWRlbnRpYWxzJyAmJiBncmFudFR5cGUgIT09ICdwYXNzd29yZCcpIHtcbiAgICB1cmxGb3JtUGFyYW1zLmFwcGVuZCgncmVkaXJlY3RfdXJpJywgcmVkaXJlY3RVcmwpO1xuICB9XG4gIGlmIChhdXRoQ29kZSkge1xuICAgIHVybEZvcm1QYXJhbXMuYXBwZW5kKCdjb2RlJywgYXV0aENvZGUpO1xuICAgIHVybEZvcm1QYXJhbXMuYXBwZW5kKCdjb2RlX3ZlcmlmaWVyJywgY29kZVZlcmlmaWVyKTsgLy8gZm9yIFBLQ0VcbiAgfVxuICBpZiAoc2VuZENsaWVudFNlY3JldEluID09PSAnaGVhZGVyJykge1xuICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJhc2ljICR7QnVmZmVyLmZyb20oYCR7Y2xpZW50SWR9OiR7Y2xpZW50U2VjcmV0fWAsICd1dGY4JykudG9TdHJpbmcoJ2Jhc2U2NCcpfWApO1xuICB9IGVsc2Uge1xuICAgIHVybEZvcm1QYXJhbXMuYXBwZW5kKCdjbGllbnRfaWQnLCBjbGllbnRJZCk7XG4gICAgdXJsRm9ybVBhcmFtcy5hcHBlbmQoJ2NsaWVudF9zZWNyZXQnLCBjbGllbnRTZWNyZXQpO1xuICB9XG4gIGlmIChncmFudFR5cGUgPT09ICdwYXNzd29yZCcpIHtcbiAgICB1cmxGb3JtUGFyYW1zLmFwcGVuZCgndXNlcm5hbWUnLCB1c2VybmFtZSk7XG4gICAgdXJsRm9ybVBhcmFtcy5hcHBlbmQoJ3Bhc3N3b3JkJywgcGFzc3dvcmQpO1xuICB9XG4gIGlmIChzY29wZXMpIHtcbiAgICB1cmxGb3JtUGFyYW1zLmFwcGVuZCgnc2NvcGUnLCBzY29wZXMpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2godG9rZW5VcmwsIHsgbWV0aG9kOiAnUE9TVCcsIGhlYWRlcnMsIGJvZHk6IHVybEZvcm1QYXJhbXMgfSk7XG4gICAgY29uc3QgdG9rZW5SZXNwID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gICAgaWYgKHJlc3Aub2spIHtcbiAgICAgIGlmICh0b2tlblJlc3AudG9rZW5fdHlwZSAmJiB0b2tlblJlc3AuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHVwZGF0ZU9BdXRoS2V5LmNhbGwodGhpcywgc2VjdXJpdHlTY2hlbWVJZCwgdG9rZW5SZXNwLmFjY2Vzc190b2tlbiwgdG9rZW5SZXNwLnRva2VuX3R5cGUpO1xuICAgICAgICBpZiAocmVzcERpc3BsYXlFbCkge1xuICAgICAgICAgIHJlc3BEaXNwbGF5RWwuaW5uZXJIVE1MID0gJzxzcGFuIHN0eWxlPVwiY29sb3I6dmFyKC0tZ3JlZW4pXCI+QWNjZXNzIFRva2VuIFJlY2VpdmVkPC9zcGFuPic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChyZXNwRGlzcGxheUVsKSB7XG4gICAgICAgIHJlc3BEaXNwbGF5RWwuaW5uZXJIVE1MID0gYDxzcGFuIHN0eWxlPVwiY29sb3I6dmFyKC0tcmVkKVwiPiR7dG9rZW5SZXNwLmVycm9yX2Rlc2NyaXB0aW9uIHx8IHRva2VuUmVzcC5lcnJvcl9kZXNjcmlwdGlvbiB8fCAnVW5hYmxlIHRvIGdldCBhY2Nlc3MgdG9rZW4nfTwvc3Bhbj5gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKHJlc3BEaXNwbGF5RWwpIHtcbiAgICAgIHJlc3BEaXNwbGF5RWwuaW5uZXJIVE1MID0gJzxzcGFuIHN0eWxlPVwiY29sb3I6dmFyKC0tcmVkKVwiPkZhaWxlZCB0byBnZXQgYWNjZXNzIHRva2VuPC9zcGFuPic7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBHZXRzIGludm9rZWQgd2hlbiBpdCByZWNlaXZlcyB0aGUgQXV0aG9yaXphdGlvbiBDb2RlIGZyb20gdGhlIG90aGVyIHdpbmRvdyB2aWEgbWVzc2FnZS1ldmVudFxuYXN5bmMgZnVuY3Rpb24gb25XaW5kb3dNZXNzYWdlRXZlbnQobXNnRXZlbnQsIHdpbk9iaiwgdG9rZW5VcmwsIGNsaWVudElkLCBjbGllbnRTZWNyZXQsIHJlZGlyZWN0VXJsLCBncmFudFR5cGUsIHNlbmRDbGllbnRTZWNyZXRJbiwgc2VjdXJpdHlTY2hlbWVJZCwgYXV0aEZsb3dEaXZFbCkge1xuICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCd3aW5NZXNzYWdlRXZlbnRBY3RpdmUnKTtcbiAgd2luT2JqLmNsb3NlKCk7XG4gIGlmIChtc2dFdmVudC5kYXRhLmZha2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFtc2dFdmVudC5kYXRhKSB7XG4gICAgY29uc29sZS53YXJuKCdSYXBpRG9jOiBSZWNlaXZlZCBubyBkYXRhIHdpdGggYXV0aG9yaXphdGlvbiBtZXNzYWdlJyk7XG4gIH1cbiAgaWYgKG1zZ0V2ZW50LmRhdGEuZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ1JhcGlEb2M6IEVycm9yIHdoaWxlIHJlY2VpdmluZyBkYXRhJyk7XG4gIH1cbiAgaWYgKG1zZ0V2ZW50LmRhdGEpIHtcbiAgICBpZiAobXNnRXZlbnQuZGF0YS5yZXNwb25zZVR5cGUgPT09ICdjb2RlJykge1xuICAgICAgLy8gQXV0aG9yaXphdGlvbiBDb2RlIGZsb3dcbiAgICAgIGZldGNoQWNjZXNzVG9rZW4uY2FsbCh0aGlzLCB0b2tlblVybCwgY2xpZW50SWQsIGNsaWVudFNlY3JldCwgcmVkaXJlY3RVcmwsIGdyYW50VHlwZSwgbXNnRXZlbnQuZGF0YS5jb2RlLCBzZWN1cml0eVNjaGVtZUlkLCBhdXRoRmxvd0RpdkVsLCBzZW5kQ2xpZW50U2VjcmV0SW4pO1xuICAgIH0gZWxzZSBpZiAobXNnRXZlbnQuZGF0YS5yZXNwb25zZVR5cGUgPT09ICd0b2tlbicpIHtcbiAgICAgIC8vIEltcGxpY2l0IGZsb3dcbiAgICAgIHVwZGF0ZU9BdXRoS2V5LmNhbGwodGhpcywgc2VjdXJpdHlTY2hlbWVJZCwgbXNnRXZlbnQuZGF0YS5hY2Nlc3NfdG9rZW4sIG1zZ0V2ZW50LmRhdGEudG9rZW5fdHlwZSk7XG4gICAgfVxuICB9XG59XG5cbi8vIGNvZGVfY2hhbGxlbmdlIGdlbmVyYXRvciBmb3IgUEtDRSBmbG93XG4vLyBUT0RPOiBJbXBsZW1lbnQgZHluYW1pYyBnZW5lcmF0aW9uIG9mIGNvZGUtY2hhbGxlbmdlIGJhc2VkIG9uIGNvZGUtdmVyaWZpZXJcbi8qXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNvZGVDaGFsbGVuZ2UoKSB7XG4gIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgY29uc3QgZGF0YSA9IGVuY29kZXIuZW5jb2RlKGNvZGVWZXJpZmllcik7XG4gIGNvbnN0IHNoYTI1Nkhhc2ggPSBhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kaWdlc3QoJ1NIQS0yNTYnLCBkYXRhKTsgLy8gcmV0dXJucyBVbml0OEFycmF5XG4gIC8vIGNvbnN0IHV0ZjhEZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIC8vIGNvbnN0IGI2NEVuY29kZWRTaGEyNTYgPSBidG9hKHV0ZjhEZWNvZGVyLmRlY29kZShzaGEyNTZIYXNoKSk7XG4gIGNvbnN0IGI2NEVuY29kZWRTaGEyNTYgPSBiYXNlNjRlbmNvZGUoc2hhMjU2SGFzaCk7XG4gIHJldHVybiBiNjRFbmNvZGVkU2hhMjU2O1xufVxuKi9cblxuYXN5bmMgZnVuY3Rpb24gb25JbnZva2VPQXV0aEZsb3coc2VjdXJpdHlTY2hlbWVJZCwgZmxvd1R5cGUsIGF1dGhVcmwsIHRva2VuVXJsLCBlKSB7XG4gIGNvbnN0IGF1dGhGbG93RGl2RWwgPSBlLnRhcmdldC5jbG9zZXN0KCcub2F1dGgtZmxvdycpO1xuICBjb25zdCBjbGllbnRJZCA9IGF1dGhGbG93RGl2RWwucXVlcnlTZWxlY3RvcignLm9hdXRoLWNsaWVudC1pZCcpID8gYXV0aEZsb3dEaXZFbC5xdWVyeVNlbGVjdG9yKCcub2F1dGgtY2xpZW50LWlkJykudmFsdWUudHJpbSgpIDogJyc7XG4gIGNvbnN0IGNsaWVudFNlY3JldCA9IGF1dGhGbG93RGl2RWwucXVlcnlTZWxlY3RvcignLm9hdXRoLWNsaWVudC1zZWNyZXQnKSA/IGF1dGhGbG93RGl2RWwucXVlcnlTZWxlY3RvcignLm9hdXRoLWNsaWVudC1zZWNyZXQnKS52YWx1ZS50cmltKCkgOiAnJztcbiAgY29uc3QgdXNlcm5hbWUgPSBhdXRoRmxvd0RpdkVsLnF1ZXJ5U2VsZWN0b3IoJy5hcGkta2V5LXVzZXInKSA/IGF1dGhGbG93RGl2RWwucXVlcnlTZWxlY3RvcignLmFwaS1rZXktdXNlcicpLnZhbHVlLnRyaW0oKSA6ICcnO1xuICBjb25zdCBwYXNzd29yZCA9IGF1dGhGbG93RGl2RWwucXVlcnlTZWxlY3RvcignLmFwaS1rZXktcGFzc3dvcmQnKSA/IGF1dGhGbG93RGl2RWwucXVlcnlTZWxlY3RvcignLmFwaS1rZXktcGFzc3dvcmQnKS52YWx1ZS50cmltKCkgOiAnJztcbiAgY29uc3Qgc2VuZENsaWVudFNlY3JldEluID0gYXV0aEZsb3dEaXZFbC5xdWVyeVNlbGVjdG9yKCcub2F1dGgtc2VuZC1jbGllbnQtc2VjcmV0LWluJykgPyBhdXRoRmxvd0RpdkVsLnF1ZXJ5U2VsZWN0b3IoJy5vYXV0aC1zZW5kLWNsaWVudC1zZWNyZXQtaW4nKS52YWx1ZS50cmltKCkgOiAnaGVhZGVyJztcbiAgY29uc3QgY2hlY2tlZFNjb3BlRWxzID0gWy4uLmF1dGhGbG93RGl2RWwucXVlcnlTZWxlY3RvckFsbCgnLnNjb3BlLWNoZWNrYm94OmNoZWNrZWQnKV07XG4gIGNvbnN0IHBrY2VDaGVja2JveEVsID0gYXV0aEZsb3dEaXZFbC5xdWVyeVNlbGVjdG9yKGAjJHtzZWN1cml0eVNjaGVtZUlkfS1wa2NlYCk7XG4gIGNvbnN0IHN0YXRlID0gKGAke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDkpfXJhbmRvbSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOSl9YCk7XG4gIGNvbnN0IG5vbmNlID0gKGAke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDkpfXJhbmRvbSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOSl9YCk7XG4gIC8vIGNvbnN0IGNvZGVDaGFsbGVuZ2UgPSBhd2FpdCBnZW5lcmF0ZUNvZGVDaGFsbGVuZ2UoY29kZVZlcmlmaWVyKTtcbiAgY29uc3QgcmVkaXJlY3RVcmxPYmogPSBuZXcgVVJMKGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59JHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyaW5nKDAsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5sYXN0SW5kZXhPZignLycpKX0vJHt0aGlzLm9hdXRoUmVjZWl2ZXJ9YCk7XG4gIGxldCBncmFudFR5cGUgPSAnJztcbiAgbGV0IHJlc3BvbnNlVHlwZSA9ICcnO1xuICBsZXQgbmV3V2luZG93O1xuXG4gIC8vIGNsZWFyIHByZXZpb3VzIGVycm9yIG1lc3NhZ2VzXG4gIGNvbnN0IGVyckVscyA9IFsuLi5hdXRoRmxvd0RpdkVsLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnLm9hdXRoLXJlc3AtZGlzcGxheScpXTtcbiAgZXJyRWxzLmZvckVhY2goKHYpID0+IHsgdi5pbm5lckhUTUwgPSAnJzsgfSk7XG5cbiAgaWYgKGZsb3dUeXBlID09PSAnYXV0aG9yaXphdGlvbkNvZGUnIHx8IGZsb3dUeXBlID09PSAnaW1wbGljaXQnKSB7XG4gICAgY29uc3QgYXV0aFVybE9iaiA9IG5ldyBVUkwoYXV0aFVybCk7XG4gICAgaWYgKGZsb3dUeXBlID09PSAnYXV0aG9yaXphdGlvbkNvZGUnKSB7XG4gICAgICBncmFudFR5cGUgPSAnYXV0aG9yaXphdGlvbl9jb2RlJztcbiAgICAgIHJlc3BvbnNlVHlwZSA9ICdjb2RlJztcbiAgICB9IGVsc2UgaWYgKGZsb3dUeXBlID09PSAnaW1wbGljaXQnKSB7XG4gICAgICByZXNwb25zZVR5cGUgPSAndG9rZW4nO1xuICAgIH1cbiAgICBjb25zdCBhdXRoQ29kZVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoYXV0aFVybE9iai5zZWFyY2gpO1xuICAgIGNvbnN0IHNlbGVjdGVkU2NvcGVzID0gY2hlY2tlZFNjb3BlRWxzLm1hcCgodikgPT4gdi52YWx1ZSkuam9pbignICcpO1xuICAgIGlmIChzZWxlY3RlZFNjb3Blcykge1xuICAgICAgYXV0aENvZGVQYXJhbXMuc2V0KCdzY29wZScsIHNlbGVjdGVkU2NvcGVzKTtcbiAgICB9XG4gICAgYXV0aENvZGVQYXJhbXMuc2V0KCdjbGllbnRfaWQnLCBjbGllbnRJZCk7XG4gICAgYXV0aENvZGVQYXJhbXMuc2V0KCdyZWRpcmVjdF91cmknLCByZWRpcmVjdFVybE9iai50b1N0cmluZygpKTtcbiAgICBhdXRoQ29kZVBhcmFtcy5zZXQoJ3Jlc3BvbnNlX3R5cGUnLCByZXNwb25zZVR5cGUpO1xuICAgIGF1dGhDb2RlUGFyYW1zLnNldCgnc3RhdGUnLCBzdGF0ZSk7XG4gICAgYXV0aENvZGVQYXJhbXMuc2V0KCdub25jZScsIG5vbmNlKTtcbiAgICBpZiAocGtjZUNoZWNrYm94RWwgJiYgcGtjZUNoZWNrYm94RWwuY2hlY2tlZCkge1xuICAgICAgYXV0aENvZGVQYXJhbXMuc2V0KCdjb2RlX2NoYWxsZW5nZScsIGNvZGVDaGFsbGVuZ2UpO1xuICAgICAgYXV0aENvZGVQYXJhbXMuc2V0KCdjb2RlX2NoYWxsZW5nZV9tZXRob2QnLCAnUzI1NicpO1xuICAgIH1cbiAgICBhdXRoQ29kZVBhcmFtcy5zZXQoJ3Nob3dfZGlhbG9nJywgdHJ1ZSk7XG4gICAgYXV0aFVybE9iai5zZWFyY2ggPSBhdXRoQ29kZVBhcmFtcy50b1N0cmluZygpO1xuICAgIC8vIElmIGFueSBvbGRlciBtZXNzYWdlLWV2ZW50LWxpc3RlbmVyIGlzIGFjdGl2ZSB0aGVuIGZpcmUgYSBmYWtlIG1lc3NhZ2UgdG8gcmVtb3ZlIGl0ICh0aGVzZSBhcmUgc2luZ2xlIHRpbWUgbGlzdGVuZXJzKVxuICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd3aW5NZXNzYWdlRXZlbnRBY3RpdmUnKSA9PT0gJ3RydWUnKSB7XG4gICAgICB3aW5kb3cucG9zdE1lc3NhZ2UoeyBmYWtlOiB0cnVlIH0sIHRoaXMpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG5ld1dpbmRvdyA9IHdpbmRvdy5vcGVuKGF1dGhVcmxPYmoudG9TdHJpbmcoKSk7XG4gICAgICBpZiAoIW5ld1dpbmRvdykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBSYXBpRG9jOiBVbmFibGUgdG8gb3BlbiAke2F1dGhVcmxPYmoudG9TdHJpbmcoKX0gaW4gYSBuZXcgd2luZG93YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd3aW5NZXNzYWdlRXZlbnRBY3RpdmUnLCAndHJ1ZScpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAnbWVzc2FnZScsXG4gICAgICAgICAgKG1zZ0V2ZW50KSA9PiBvbldpbmRvd01lc3NhZ2VFdmVudC5jYWxsKHRoaXMsIG1zZ0V2ZW50LCBuZXdXaW5kb3csIHRva2VuVXJsLCBjbGllbnRJZCwgY2xpZW50U2VjcmV0LCByZWRpcmVjdFVybE9iai50b1N0cmluZygpLCBncmFudFR5cGUsIHNlbmRDbGllbnRTZWNyZXRJbiwgc2VjdXJpdHlTY2hlbWVJZCwgYXV0aEZsb3dEaXZFbCksXG4gICAgICAgICAgeyBvbmNlOiB0cnVlIH0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICB9IGVsc2UgaWYgKGZsb3dUeXBlID09PSAnY2xpZW50Q3JlZGVudGlhbHMnKSB7XG4gICAgZ3JhbnRUeXBlID0gJ2NsaWVudF9jcmVkZW50aWFscyc7XG4gICAgY29uc3Qgc2VsZWN0ZWRTY29wZXMgPSBjaGVja2VkU2NvcGVFbHMubWFwKCh2KSA9PiB2LnZhbHVlKS5qb2luKCcgJyk7XG4gICAgZmV0Y2hBY2Nlc3NUb2tlbi5jYWxsKHRoaXMsIHRva2VuVXJsLCBjbGllbnRJZCwgY2xpZW50U2VjcmV0LCByZWRpcmVjdFVybE9iai50b1N0cmluZygpLCBncmFudFR5cGUsICcnLCBzZWN1cml0eVNjaGVtZUlkLCBhdXRoRmxvd0RpdkVsLCBzZW5kQ2xpZW50U2VjcmV0SW4sIHNlbGVjdGVkU2NvcGVzKTtcbiAgfSBlbHNlIGlmIChmbG93VHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuICAgIGdyYW50VHlwZSA9ICdwYXNzd29yZCc7XG4gICAgY29uc3Qgc2VsZWN0ZWRTY29wZXMgPSBjaGVja2VkU2NvcGVFbHMubWFwKCh2KSA9PiB2LnZhbHVlKS5qb2luKCcgJyk7XG4gICAgZmV0Y2hBY2Nlc3NUb2tlbi5jYWxsKHRoaXMsIHRva2VuVXJsLCBjbGllbnRJZCwgY2xpZW50U2VjcmV0LCByZWRpcmVjdFVybE9iai50b1N0cmluZygpLCBncmFudFR5cGUsICcnLCBzZWN1cml0eVNjaGVtZUlkLCBhdXRoRmxvd0RpdkVsLCBzZW5kQ2xpZW50U2VjcmV0SW4sIHNlbGVjdGVkU2NvcGVzLCB1c2VybmFtZSwgcGFzc3dvcmQpO1xuICB9XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblxuLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5cbmZ1bmN0aW9uIG9BdXRoRmxvd1RlbXBsYXRlKGZsb3dOYW1lLCBjbGllbnRJZCwgY2xpZW50U2VjcmV0LCBzZWN1cml0eVNjaGVtZUlkLCBhdXRoRmxvdywgZGVmYXVsdFNjb3BlcyA9IFtdLCByZWNlaXZlVG9rZW5JbiA9ICdoZWFkZXInKSB7XG4gIGxldCB7IGF1dGhvcml6YXRpb25VcmwsIHRva2VuVXJsLCByZWZyZXNoVXJsIH0gPSBhdXRoRmxvdztcbiAgY29uc3QgcGtjZU9ubHkgPSBhdXRoRmxvd1sneC1wa2NlLW9ubHknXSB8fCBmYWxzZTtcbiAgY29uc3QgaXNVcmxBYnNvbHV0ZSA9ICh1cmwpID0+ICh1cmwuaW5kZXhPZignOi8vJykgPiAwIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKTtcbiAgLy8gQ2FsY3VsY2F0ZSBiYXNlIFVSTFxuICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuc2VsZWN0ZWRTZXJ2ZXIuY29tcHV0ZWRVcmwpO1xuICBjb25zdCBiYXNlVXJsID0gdXJsLm9yaWdpbjtcblxuICBpZiAocmVmcmVzaFVybCAmJiAhaXNVcmxBYnNvbHV0ZShyZWZyZXNoVXJsKSkge1xuICAgIHJlZnJlc2hVcmwgPSBgJHtiYXNlVXJsfS8ke3JlZnJlc2hVcmwucmVwbGFjZSgvXlxcLy8sICcnKX1gO1xuICB9XG4gIGlmICh0b2tlblVybCAmJiAhaXNVcmxBYnNvbHV0ZSh0b2tlblVybCkpIHtcbiAgICB0b2tlblVybCA9IGAke2Jhc2VVcmx9LyR7dG9rZW5VcmwucmVwbGFjZSgvXlxcLy8sICcnKX1gO1xuICB9XG4gIGlmIChhdXRob3JpemF0aW9uVXJsICYmICFpc1VybEFic29sdXRlKGF1dGhvcml6YXRpb25VcmwpKSB7XG4gICAgYXV0aG9yaXphdGlvblVybCA9IGAke2Jhc2VVcmx9LyR7YXV0aG9yaXphdGlvblVybC5yZXBsYWNlKC9eXFwvLywgJycpfWA7XG4gIH1cbiAgbGV0IGZsb3dOYW1lRGlzcGxheTtcbiAgaWYgKGZsb3dOYW1lID09PSAnYXV0aG9yaXphdGlvbkNvZGUnKSB7XG4gICAgZmxvd05hbWVEaXNwbGF5ID0gJ0F1dGhvcml6YXRpb24gQ29kZSBGbG93JztcbiAgfSBlbHNlIGlmIChmbG93TmFtZSA9PT0gJ2NsaWVudENyZWRlbnRpYWxzJykge1xuICAgIGZsb3dOYW1lRGlzcGxheSA9ICdDbGllbnQgQ3JlZGVudGlhbHMgRmxvdyc7XG4gIH0gZWxzZSBpZiAoZmxvd05hbWUgPT09ICdpbXBsaWNpdCcpIHtcbiAgICBmbG93TmFtZURpc3BsYXkgPSAnSW1wbGljaXQgRmxvdyc7XG4gIH0gZWxzZSBpZiAoZmxvd05hbWUgPT09ICdwYXNzd29yZCcpIHtcbiAgICBmbG93TmFtZURpc3BsYXkgPSAnUGFzc3dvcmQgRmxvdyc7XG4gIH0gZWxzZSB7XG4gICAgZmxvd05hbWVEaXNwbGF5ID0gZmxvd05hbWU7XG4gIH1cbiAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz1cIm9hdXRoLWZsb3cgJHtmbG93TmFtZX1cIiBzdHlsZT1cInBhZGRpbmc6IDEycHggMDsgbWFyZ2luLWJvdHRvbToxMnB4O1wiPlxuICAgICAgPGRpdiBjbGFzcz1cInRpbnktdGl0bGUgdXBwZXJcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206OHB4O1wiPiR7Zmxvd05hbWVEaXNwbGF5fTwvZGl2PlxuICAgICAgJHthdXRob3JpemF0aW9uVXJsXG4gICAgICAgID8gaHRtbGA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTo1cHhcIj48c3BhbiBzdHlsZT1cIndpZHRoOjc1cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jaztcIj5BdXRoIFVSTDwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJtb25vLWZvbnRcIj4gJHthdXRob3JpemF0aW9uVXJsfSA8L3NwYW4+PC9kaXY+YFxuICAgICAgICA6ICcnXG4gICAgICB9XG4gICAgICAke3Rva2VuVXJsXG4gICAgICAgID8gaHRtbGA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTo1cHhcIj48c3BhbiBzdHlsZT1cIndpZHRoOjc1cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jaztcIj5Ub2tlbiBVUkw8L3NwYW4+IDxzcGFuIGNsYXNzPVwibW9uby1mb250XCI+JHt0b2tlblVybH08L3NwYW4+PC9kaXY+YFxuICAgICAgICA6ICcnXG4gICAgICB9XG4gICAgICAke3JlZnJlc2hVcmxcbiAgICAgICAgPyBodG1sYDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjVweFwiPjxzcGFuIHN0eWxlPVwid2lkdGg6NzVweDsgZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPlJlZnJlc2ggVVJMPC9zcGFuPiA8c3BhbiBjbGFzcz1cIm1vbm8tZm9udFwiPiR7cmVmcmVzaFVybH08L3NwYW4+PC9kaXY+YFxuICAgICAgICA6ICcnXG4gICAgICB9XG4gICAgICAke2Zsb3dOYW1lID09PSAnYXV0aG9yaXphdGlvbkNvZGUnIHx8IGZsb3dOYW1lID09PSAnY2xpZW50Q3JlZGVudGlhbHMnIHx8IGZsb3dOYW1lID09PSAnaW1wbGljaXQnIHx8IGZsb3dOYW1lID09PSAncGFzc3dvcmQnXG4gICAgICAgID8gaHRtbGBcbiAgICAgICAgICAke2F1dGhGbG93LnNjb3Blc1xuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICA8c3Bhbj4gU2NvcGVzIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0gXCJvYXV0aC1zY29wZXNcIiBwYXJ0PVwic2VjdGlvbi1hdXRoLXNjb3Blc1wiIHN0eWxlID0gXCJ3aWR0aDoxMDAlOyBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgZmxleC13cmFwOndyYXA7IG1hcmdpbjowIDAgMTBweCAyNHB4XCI+XG4gICAgICAgICAgICAgICAgJHtPYmplY3QuZW50cmllcyhhdXRoRmxvdy5zY29wZXMpLm1hcCgoc2NvcGVBbmREZXNjciwgaW5kZXgpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibS1jaGVja2JveFwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBwYXJ0PVwiY2hlY2tib3ggY2hlY2tib3gtYXV0aC1zY29wZVwiIGNsYXNzPVwic2NvcGUtY2hlY2tib3hcIiBpZD1cIiR7c2VjdXJpdHlTY2hlbWVJZH0ke2Zsb3dOYW1lfSR7aW5kZXh9XCIgP2NoZWNrZWQ9XCIke2RlZmF1bHRTY29wZXMuaW5jbHVkZXMoc2NvcGVBbmREZXNjclswXSl9XCIgdmFsdWU9XCIke3Njb3BlQW5kRGVzY3JbMF19XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCIke3NlY3VyaXR5U2NoZW1lSWR9JHtmbG93TmFtZX0ke2luZGV4fVwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6NXB4OyBjdXJzb3I6cG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibW9uby1mb250XCI+JHtzY29wZUFuZERlc2NyWzBdfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7c2NvcGVBbmREZXNjclswXSAhPT0gc2NvcGVBbmREZXNjclsxXSA/IGAgLSAke3Njb3BlQW5kRGVzY3JbMV0gfHwgJyd9YCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgYCl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgICAke2Zsb3dOYW1lID09PSAncGFzc3dvcmQnXG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46NXB4IDBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZSA9IFwiXCIgcGxhY2Vob2xkZXI9XCJ1c2VybmFtZVwiIHNwZWxsY2hlY2s9XCJmYWxzZVwiIGNsYXNzPVwib2F1dGgyICR7Zmxvd05hbWV9ICR7c2VjdXJpdHlTY2hlbWVJZH0gYXBpLWtleS11c2VyXCIgcGFydD1cInRleHRib3ggdGV4dGJveC11c2VybmFtZVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB2YWx1ZSA9IFwiXCIgcGxhY2Vob2xkZXI9XCJwYXNzd29yZFwiIHNwZWxsY2hlY2s9XCJmYWxzZVwiIGNsYXNzPVwib2F1dGgyICR7Zmxvd05hbWV9ICR7c2VjdXJpdHlTY2hlbWVJZH0gYXBpLWtleS1wYXNzd29yZFwiIHN0eWxlID0gXCJtYXJnaW46MCA1cHg7XCIgcGFydD1cInRleHRib3ggdGV4dGJveC1wYXNzd29yZFwiPlxuICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICA6ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAke2Zsb3dOYW1lID09PSAnYXV0aG9yaXphdGlvbkNvZGUnXG4gICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luOiAxNnB4IDAgNHB4XCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgcGFydD1cImNoZWNrYm94IGNoZWNrYm94LWF1dGgtc2NvcGVcIiBpZD1cIiR7c2VjdXJpdHlTY2hlbWVJZH0tcGtjZVwiIGNoZWNrZWQgP2Rpc2FibGVkPSR7cGtjZU9ubHl9PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIiR7c2VjdXJpdHlTY2hlbWVJZH0tcGtjZVwiIHN0eWxlPVwibWFyZ2luOjAgMTZweCAwIDRweDsgbGluZS1oZWlnaHQ6MjRweDsgY3Vyc29yOnBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICBTZW5kIFByb29mIEtleSBmb3IgQ29kZSBFeGNoYW5nZSAoUEtDRSlcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGFydD1cInRleHRib3ggdGV4dGJveC1hdXRoLWNsaWVudC1pZFwiIHZhbHVlID0gXCIke2NsaWVudElkIHx8ICcnfVwiIHBsYWNlaG9sZGVyPVwiY2xpZW50LWlkXCIgc3BlbGxjaGVjaz1cImZhbHNlXCIgY2xhc3M9XCJvYXV0aDIgJHtmbG93TmFtZX0gJHtzZWN1cml0eVNjaGVtZUlkfSBvYXV0aC1jbGllbnQtaWRcIj5cbiAgICAgICAgICAgICR7Zmxvd05hbWUgPT09ICdhdXRob3JpemF0aW9uQ29kZScgfHwgZmxvd05hbWUgPT09ICdjbGllbnRDcmVkZW50aWFscycgfHwgZmxvd05hbWUgPT09ICdwYXNzd29yZCdcbiAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCIgcGFydD1cInRleHRib3ggdGV4dGJveC1hdXRoLWNsaWVudC1zZWNyZXRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBcIiR7Y2xpZW50U2VjcmV0IHx8ICcnfVwiIHBsYWNlaG9sZGVyPVwiY2xpZW50LXNlY3JldFwiIHNwZWxsY2hlY2s9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cIm9hdXRoMiAke2Zsb3dOYW1lfSAke3NlY3VyaXR5U2NoZW1lSWR9XG4gICAgICAgICAgICAgICAgICBvYXV0aC1jbGllbnQtc2VjcmV0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlID0gXCJtYXJnaW46MCA1cHg7JHtwa2NlT25seSA/ICdkaXNwbGF5Om5vbmU7JyA6ICcnfVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzZWxlY3Qgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6NXB4OyR7cGtjZU9ubHkgPyAnZGlzcGxheTpub25lOycgOiAnJ31cIiBjbGFzcz1cIiR7Zmxvd05hbWV9ICR7c2VjdXJpdHlTY2hlbWVJZH0gb2F1dGgtc2VuZC1jbGllbnQtc2VjcmV0LWluXCI+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlID0gJ2hlYWRlcicgLnNlbGVjdGVkID0gJHtyZWNlaXZlVG9rZW5JbiA9PT0gJ2hlYWRlcid9ID4gQXV0aG9yaXphdGlvbiBIZWFkZXIgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlID0gJ3JlcXVlc3QtYm9keScgLnNlbGVjdGVkID0gJHtyZWNlaXZlVG9rZW5JbiA9PT0gJ3JlcXVlc3QtYm9keSd9PiBSZXF1ZXN0IEJvZHkgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+YFxuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAke2Zsb3dOYW1lID09PSAnYXV0aG9yaXphdGlvbkNvZGUnIHx8IGZsb3dOYW1lID09PSAnY2xpZW50Q3JlZGVudGlhbHMnIHx8IGZsb3dOYW1lID09PSAnaW1wbGljaXQnIHx8IGZsb3dOYW1lID09PSAncGFzc3dvcmQnXG4gICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibS1idG4gdGhpbi1ib3JkZXJcIiBwYXJ0PVwiYnRuIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgIEBjbGljaz1cIiR7KGUpID0+IHsgb25JbnZva2VPQXV0aEZsb3cuY2FsbCh0aGlzLCBzZWN1cml0eVNjaGVtZUlkLCBmbG93TmFtZSwgYXV0aG9yaXphdGlvblVybCwgdG9rZW5VcmwsIGUpOyB9fVwiXG4gICAgICAgICAgICAgICAgPiBHRVQgVE9LRU4gPC9idXR0b24+YFxuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm9hdXRoLXJlc3AtZGlzcGxheSByZWQtdGV4dCBzbWFsbC1mb250LXNpemVcIj48L2Rpdj5cbiAgICAgICAgICBgXG4gICAgICAgIDogJydcbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgYDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQXBpS2V5KHNlY3VyaXR5U2NoZW1lSWQpIHtcbiAgY29uc3Qgc2VjdXJpdHlPYmogPSB0aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXM/LmZpbmQoKHYpID0+ICh2LnNlY3VyaXR5U2NoZW1lSWQgPT09IHNlY3VyaXR5U2NoZW1lSWQpKTtcbiAgc2VjdXJpdHlPYmoudXNlciA9ICcnO1xuICBzZWN1cml0eU9iai5wYXNzd29yZCA9ICcnO1xuICBzZWN1cml0eU9iai52YWx1ZSA9ICcnO1xuICBzZWN1cml0eU9iai5maW5hbEtleVZhbHVlID0gJyc7XG4gIGlmICh0aGlzLnBlcnNpc3RBdXRoID09PSAndHJ1ZScpIHtcbiAgICBjb25zdCByYXBpZG9jTHMgPSBnZXRQZXJzaXN0ZWRBcGlLZXlzLmNhbGwodGhpcyk7XG4gICAgZGVsZXRlIHJhcGlkb2NMc1tzZWN1cml0eU9iai5zZWN1cml0eVNjaGVtZUlkXTtcbiAgICBzZXRQZXJzaXN0ZWRBcGlLZXlzLmNhbGwodGhpcywgcmFwaWRvY0xzKTtcbiAgfVxuICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VjdXJpdHlTY2hlbWVUZW1wbGF0ZSgpIHtcbiAgaWYgKCF0aGlzLnJlc29sdmVkU3BlYykgeyByZXR1cm4gJyc7IH1cbiAgY29uc3QgcHJvdmlkZWRBcGlLZXlzID0gdGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzPy5maWx0ZXIoKHYpID0+ICh2LmZpbmFsS2V5VmFsdWUpKTtcbiAgaWYgKCFwcm92aWRlZEFwaUtleXMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIGh0bWxgXG4gIDxzZWN0aW9uIGlkPSdhdXRoJyBwYXJ0PVwic2VjdGlvbi1hdXRoXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOmxlZnQ7IGRpcmVjdGlvbjpsdHI7IG1hcmdpbi10b3A6MjRweDsgbWFyZ2luLWJvdHRvbToyNHB4O1wiIGNsYXNzID0gJ29ic2VydmUtbWUgJHsncmVhZCBmb2N1c2VkJy5pbmNsdWRlcyh0aGlzLnJlbmRlclN0eWxlKSA/ICdzZWN0aW9uLWdhcC0tcmVhZC1tb2RlJyA6ICdzZWN0aW9uLWdhcCAnfSc+XG4gICAgPGRpdiBjbGFzcz0nc3ViLXRpdGxlIHJlZ3VsYXItZm9udCc+IEFVVEhFTlRJQ0FUSU9OIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInNtYWxsLWZvbnQtc2l6ZVwiIHN0eWxlPVwiZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBtaW4taGVpZ2h0OjMwcHhcIj5cbiAgICAgICR7cHJvdmlkZWRBcGlLZXlzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJibHVlLXRleHRcIj4gJHtwcm92aWRlZEFwaUtleXMubGVuZ3RofSBBUEkga2V5IGFwcGxpZWQgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6MVwiPjwvZGl2PlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtLWJ0biB0aGluLWJvcmRlclwiIHBhcnQ9XCJidG4gYnRuLW91dGxpbmVcIiBAY2xpY2s9JHsoKSA9PiB7IG9uQ2xlYXJBbGxBcGlLZXlzLmNhbGwodGhpcyk7IH19PkNMRUFSIEFMTCBBUEkgS0VZUzwvYnV0dG9uPmBcbiAgICAgICAgOiBodG1sYDxkaXYgY2xhc3M9XCJyZWQtdGV4dFwiPk5vIEFQSSBrZXkgYXBwbGllZDwvZGl2PmBcbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgICAke3RoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcyAmJiB0aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXMubGVuZ3RoID4gMFxuICAgICAgPyBodG1sYFxuICAgICAgICA8dGFibGUgcm9sZT1cInByZXNlbnRhdGlvblwiIGlkPVwiYXV0aC10YWJsZVwiIGNsYXNzPSdtLXRhYmxlIHBhZGRlZC0xMicgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPlxuICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLm1hcCgodikgPT4gaHRtbGBcbiAgICAgICAgICAgIDx0ciBpZD1cInNlY3VyaXR5LXNjaGVtZS0ke3Yuc2VjdXJpdHlTY2hlbWVJZH1cIiBjbGFzcz1cIiR7di50eXBlLnRvTG93ZXJDYXNlKCl9XCI+XG4gICAgICAgICAgICAgIDx0ZCBzdHlsZT1cIm1heC13aWR0aDo1MDBweDsgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwibGluZS1oZWlnaHQ6MjhweDsgbWFyZ2luLWJvdHRvbTo1cHg7XCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OmJvbGQ7IGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtcmVndWxhcilcIj4ke3YudHlwZURpc3BsYXl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgJHt2LmZpbmFsS2V5VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdibHVlLXRleHQnPiAgJHt2LmZpbmFsS2V5VmFsdWUgPyAnS2V5IEFwcGxpZWQnIDogJyd9IDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibS1idG4gdGhpbi1ib3JkZXIgc21hbGxcIiBwYXJ0PVwiYnRuIGJ0bi1vdXRsaW5lXCIgQGNsaWNrPSR7KCkgPT4geyByZW1vdmVBcGlLZXkuY2FsbCh0aGlzLCB2LnNlY3VyaXR5U2NoZW1lSWQpOyB9fT5SRU1PVkU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAke3YuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm0tbWFya2Rvd25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAke3Vuc2FmZUhUTUwobWFya2VkKHYuZGVzY3JpcHRpb24gfHwgJycpKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICR7KHYudHlwZS50b0xvd2VyQ2FzZSgpID09PSAnYXBpa2V5JykgfHwgKHYudHlwZS50b0xvd2VyQ2FzZSgpID09PSAnaHR0cCcgJiYgdi5zY2hlbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2JlYXJlcicpXG4gICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOjVweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICR7di50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdhcGlrZXknXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgU2VuZCA8Y29kZT4ke3YubmFtZX08L2NvZGU+IGluIDxjb2RlPiR7di5pbn08L2NvZGU+YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBodG1sYFNlbmQgPGNvZGU+QXV0aG9yaXphdGlvbjwvY29kZT4gaW4gPGNvZGU+aGVhZGVyPC9jb2RlPiBjb250YWluaW5nIHRoZSB3b3JkIDxjb2RlPkJlYXJlcjwvY29kZT4gZm9sbG93ZWQgYnkgYSBzcGFjZSBhbmQgYSBUb2tlbiBTdHJpbmcuYFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXgtaGVpZ2h0OjI4cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt2LmluICE9PSAnY29va2llJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZSA9IFwidGV4dFwiIHZhbHVlID0gXCIke3YudmFsdWV9XCIgY2xhc3M9XCIke3YudHlwZX0gJHt2LnNlY3VyaXR5U2NoZW1lSWR9IGFwaS1rZXktaW5wdXRcIiBwbGFjZWhvbGRlciA9IFwiYXBpLXRva2VuXCIgc3BlbGxjaGVjayA9IFwiZmFsc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm0tYnRuIHRoaW4tYm9yZGVyXCIgc3R5bGUgPSBcIm1hcmdpbi1sZWZ0OjVweDtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQgPSBcImJ0biBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiJHsoZSkgPT4geyBvbkFwaUtleUNoYW5nZS5jYWxsKHRoaXMsIHYuc2VjdXJpdHlTY2hlbWVJZCwgZSk7IH19XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt2LmZpbmFsS2V5VmFsdWUgPyAnVVBEQVRFJyA6ICdTRVQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGh0bWxgPHNwYW4gY2xhc3M9XCJncmF5LXRleHRcIiBzdHlsZT1cImZvbnQtc2l6ZTo6dmFyKC0tZm9udC1zaXplLXNtYWxsKVwiPiBjb29raWVzIGNhbm5vdCBiZSBzZXQgZnJvbSBoZXJlPC9zcGFuPmBcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHt2LnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2h0dHAnICYmIHYuc2NoZW1lLnRvTG93ZXJDYXNlKCkgPT09ICdiYXNpYydcbiAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206NXB4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgU2VuZCA8Y29kZT5BdXRob3JpemF0aW9uPC9jb2RlPiBpbiA8Y29kZT5oZWFkZXI8L2NvZGU+IGNvbnRhaW5pbmcgdGhlIHdvcmQgPGNvZGU+QmFzaWM8L2NvZGU+IGZvbGxvd2VkIGJ5IGEgc3BhY2UgYW5kIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIDxjb2RlPnVzZXJuYW1lOnBhc3N3b3JkPC9jb2RlPi5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWUgPSBcIiR7di51c2VyfVwiIHBsYWNlaG9sZGVyPVwidXNlcm5hbWVcIiBzcGVsbGNoZWNrPVwiZmFsc2VcIiBjbGFzcz1cIiR7di50eXBlfSAke3Yuc2VjdXJpdHlTY2hlbWVJZH0gYXBpLWtleS11c2VyXCIgc3R5bGU9XCJ3aWR0aDoxMDBweFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB2YWx1ZSA9IFwiJHt2LnBhc3N3b3JkfVwiIHBsYWNlaG9sZGVyPVwicGFzc3dvcmRcIiBzcGVsbGNoZWNrPVwiZmFsc2VcIiBjbGFzcz1cIiR7di50eXBlfSAke3Yuc2VjdXJpdHlTY2hlbWVJZH0gYXBpLWtleS1wYXNzd29yZFwiIHN0eWxlID0gXCJ3aWR0aDoxMDBweDsgbWFyZ2luOjAgNXB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtLWJ0biB0aGluLWJvcmRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCIkeyhlKSA9PiB7IG9uQXBpS2V5Q2hhbmdlLmNhbGwodGhpcywgdi5zZWN1cml0eVNjaGVtZUlkLCBlKTsgfX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9IFwiYnRuIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3YuZmluYWxLZXlWYWx1ZSA/ICdVUERBVEUnIDogJ1NFVCd9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgJHt2LnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ29hdXRoMidcbiAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cImJvcmRlcjpub25lOyBwYWRkaW5nLWxlZnQ6NDhweFwiPlxuICAgICAgICAgICAgICAgICAgICAke09iamVjdC5rZXlzKHYuZmxvd3MpLm1hcCgoZikgPT4gb0F1dGhGbG93VGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmLFxuICAgICAgICAgICAgICAgICAgICAgICAgKHYuZmxvd3NbZl1bJ3gtY2xpZW50LWlkJ10gfHwgdlsneC1jbGllbnQtaWQnXSB8fCAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAodi5mbG93c1tmXVsneC1jbGllbnQtc2VjcmV0J10gfHwgdlsneC1jbGllbnQtc2VjcmV0J10gfHwgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdi5zZWN1cml0eVNjaGVtZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdi5mbG93c1tmXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICh2LmZsb3dzW2ZdWyd4LWRlZmF1bHQtc2NvcGVzJ10gfHwgdlsneC1kZWZhdWx0LXNjb3BlcyddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICh2LmZsb3dzW2ZdWyd4LXJlY2VpdmUtdG9rZW4taW4nXSB8fCB2Wyd4LXJlY2VpdmUtdG9rZW4taW4nXSksXG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgYCl9XG4gICAgICAgIDwvdGFibGU+YFxuICAgICAgOiAnJ1xuICAgIH1cbiAgICA8c2xvdCBuYW1lPVwiYXV0aFwiPjwvc2xvdD5cbiAgPC9zZWN0aW9uPlxuYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhTZWN1cml0eVRlbXBsYXRlKHBhdGhTZWN1cml0eSkge1xuICBpZiAodGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzICYmIHBhdGhTZWN1cml0eSkge1xuICAgIGNvbnN0IG9yU2VjdXJpdHlLZXlzMSA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHBhdGhTZWN1cml0eSkpIHtcbiAgICAgIGlmIChwYXRoU2VjdXJpdHkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBwYXRoU2VjdXJpdHkuZm9yRWFjaCgocFNlY3VyaXR5KSA9PiB7XG4gICAgICBjb25zdCBhbmRTZWN1cml0eUtleXMxID0gW107XG4gICAgICBjb25zdCBhbmRLZXlUeXBlcyA9IFtdO1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHBTZWN1cml0eSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG9yU2VjdXJpdHlLZXlzMS5wdXNoKHtcbiAgICAgICAgICBzZWN1cml0eVR5cGVzOiAnTm9uZScsXG4gICAgICAgICAgc2VjdXJpdHlEZWZzOiBbXSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3Qua2V5cyhwU2VjdXJpdHkpLmZvckVhY2goKHBhdGhTZWN1cml0eUtleSkgPT4ge1xuICAgICAgICAgIGxldCBwYXRoU2NvcGVzID0gJyc7XG4gICAgICAgICAgY29uc3QgcyA9IHRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5maW5kKChzcykgPT4gc3Muc2VjdXJpdHlTY2hlbWVJZCA9PT0gcGF0aFNlY3VyaXR5S2V5KTtcbiAgICAgICAgICBpZiAocFNlY3VyaXR5W3BhdGhTZWN1cml0eUtleV0gJiYgQXJyYXkuaXNBcnJheShwU2VjdXJpdHlbcGF0aFNlY3VyaXR5S2V5XSkpIHtcbiAgICAgICAgICAgIHBhdGhTY29wZXMgPSBwU2VjdXJpdHlbcGF0aFNlY3VyaXR5S2V5XS5qb2luKCcsICcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgYW5kS2V5VHlwZXMucHVzaChzLnR5cGVEaXNwbGF5KTtcbiAgICAgICAgICAgIGFuZFNlY3VyaXR5S2V5czEucHVzaCh7IC4uLnMsIC4uLih7IHNjb3BlczogcGF0aFNjb3BlcyB9KSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvclNlY3VyaXR5S2V5czEucHVzaCh7XG4gICAgICAgICAgc2VjdXJpdHlUeXBlczogYW5kS2V5VHlwZXMubGVuZ3RoID4gMSA/IGAke2FuZEtleVR5cGVzWzBdfSArICR7YW5kS2V5VHlwZXMubGVuZ3RoIC0gMX0gbW9yZWAgOiBhbmRLZXlUeXBlc1swXSxcbiAgICAgICAgICBzZWN1cml0eURlZnM6IGFuZFNlY3VyaXR5S2V5czEsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBodG1sYDxkaXYgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjNweDsgcmlnaHQ6MnB4OyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsgbGluZS1oZWlnaHQ6IDEuNTtcIj5cbiAgICAgIDxkaXYgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgZGlzcGxheTpmbGV4OyBtaW4td2lkdGg6MzUwcHg7IG1heC13aWR0aDo3MDBweDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcIj5cbiAgICAgICAgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgZmlsbD1cIm5vbmVcIiBzdHlsZT1cInN0cm9rZTp2YXIoLS1mZzMpXCI+IDxyZWN0IHg9XCI1XCIgeT1cIjExXCIgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjEwXCIgcng9XCIyXCIgLz4gPGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxNlwiIHI9XCIxXCIgLz4gPHBhdGggZD1cIk04IDExdi00YTQgNCAwIDAgMSA4IDB2NFwiIC8+PC9zdmc+XG4gICAgICAgICAgJHtvclNlY3VyaXR5S2V5czEubWFwKChvclNlY3VyaXR5SXRlbTEsIGkpID0+IGh0bWxgXG4gICAgICAgICAgJHtvclNlY3VyaXR5SXRlbTEuc2VjdXJpdHlUeXBlc1xuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAke2kgIT09IDAgPyBodG1sYDxkaXYgc3R5bGU9XCJwYWRkaW5nOjNweCA0cHg7XCI+IE9SIDwvZGl2PmAgOiAnJ31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2x0aXBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlID0gXCJwYWRkaW5nOjJweCA0cHg7IHdoaXRlLXNwYWNlOm5vd3JhcDsgdGV4dC1vdmVyZmxvdzplbGxpcHNpczttYXgtd2lkdGg6MTUwcHg7IG92ZXJmbG93OmhpZGRlbjtcIj5cbiAgICAgICAgICAgICAgICAgICR7dGhpcy51cGRhdGVSb3V0ZSA9PT0gJ3RydWUnICYmIHRoaXMuYWxsb3dBdXRoZW50aWNhdGlvbiA9PT0gJ3RydWUnXG4gICAgICAgICAgICAgICAgICAgID8gaHRtbGA8YSBwYXJ0PVwiYW5jaG9yIGFuY2hvci1vcGVyYXRpb24tc2VjdXJpdHlcIiBocmVmPVwiI2F1dGhcIj4gJHtvclNlY3VyaXR5SXRlbTEuc2VjdXJpdHlUeXBlc30gPC9hPmBcbiAgICAgICAgICAgICAgICAgICAgOiBodG1sYCR7b3JTZWN1cml0eUl0ZW0xLnNlY3VyaXR5VHlwZXN9YFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sdGlwLXRleHRcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBjb2xvcjogdmFyKC0tZmcpOyB0b3A6MjZweDsgcmlnaHQ6MDsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO3BhZGRpbmc6MnB4IDRweDsgZGlzcGxheTpibG9jaztcIj5cbiAgICAgICAgICAgICAgICAgICR7b3JTZWN1cml0eUl0ZW0xLnNlY3VyaXR5RGVmcy5sZW5ndGggPiAxID8gaHRtbGA8ZGl2PlJlcXVpcmVzIDxiPmFsbDwvYj4gb2YgdGhlIGZvbGxvd2luZyA8L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZy1sZWZ0OiA4cHhcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtvclNlY3VyaXR5SXRlbTEuc2VjdXJpdHlEZWZzLm1hcCgoYW5kU2VjdXJpdHlJdGVtLCBqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcGVIdG1sID0gaHRtbGAke2FuZFNlY3VyaXR5SXRlbS5zY29wZXMgIT09ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+UmVxdWlyZWQgc2NvcGVzOjwvYj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tbGVmdDo4cHhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7YW5kU2VjdXJpdHlJdGVtLnNjb3Blcy5zcGxpdCgnLCcpLm1hcCgoc2NvcGUsIGNudCkgPT4gaHRtbGAke2NudCA9PT0gMCA/ICcnIDogJ+KUgyd9PHNwYW4+JHtzY29wZX08L3NwYW4+YCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgICAgICB9YDtcblxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICR7YW5kU2VjdXJpdHlJdGVtLnR5cGUgPT09ICdvYXV0aDInXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtvclNlY3VyaXR5SXRlbTEuc2VjdXJpdHlEZWZzLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8Yj4ke2ogKyAxfS48L2I+ICZuYnNwO2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ05lZWRzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPQXV0aCBUb2tlbiA8c3BhbiBzdHlsZT1cImZvbnQtZmFtaWx5OnZhcigtLWZvbnQtbW9ubyk7IGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpO1wiPiR7YW5kU2VjdXJpdHlJdGVtLnNlY3VyaXR5U2NoZW1lSWR9PC9zcGFuPiBpbiA8Yj5BdXRob3JpemF0aW9uIGhlYWRlcjwvYj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Njb3BlSHRtbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBhbmRTZWN1cml0eUl0ZW0udHlwZSA9PT0gJ2h0dHAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtvclNlY3VyaXR5SXRlbTEuc2VjdXJpdHlEZWZzLmxlbmd0aCA+IDEgPyBodG1sYDxiPiR7aiArIDF9LjwvYj4gJm5ic3A7YCA6IGh0bWxgUmVxdWlyZXNgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHthbmRTZWN1cml0eUl0ZW0uc2NoZW1lID09PSAnYmFzaWMnID8gJ0Jhc2UgNjQgZW5jb2RlZCB1c2VybmFtZTpwYXNzd29yZCcgOiAnQmVhcmVyIFRva2VuJ30gaW4gPGI+QXV0aG9yaXphdGlvbiBoZWFkZXI8L2I+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Njb3BlSHRtbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtvclNlY3VyaXR5SXRlbTEuc2VjdXJpdHlEZWZzLmxlbmd0aCA+IDEgPyBodG1sYDxiPiR7aiArIDF9LjwvYj4gJm5ic3A7YCA6IGh0bWxgUmVxdWlyZXNgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9rZW4gaW4gPGI+JHthbmRTZWN1cml0eUl0ZW0ubmFtZX0gJHthbmRTZWN1cml0eUl0ZW0uaW59PC9iPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzY29wZUh0bWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgICAgICAgICAgICAgIH1gO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgIDogJydcbiAgICAgICAgICB9XG4gICAgICAgIGApXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyB1bnNhZmVIVE1MIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwuanMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9leHRlbnNpb25zXG5pbXBvcnQgUHJpc20gZnJvbSAncHJpc21qcyc7XG5pbXBvcnQgeyBjb3B5VG9DbGlwYm9hcmQgfSBmcm9tICd+L3V0aWxzL2NvbW1vbi11dGlscyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29kZVNhbXBsZXNUZW1wbGF0ZSh4Q29kZVNhbXBsZXMpIHtcbiAgcmV0dXJuIGh0bWxgXG4gIDxzZWN0aW9uIGNsYXNzPVwidGFibGUtdGl0bGVcIiBzdHlsZT1cIm1hcmdpbi10b3A6MjRweDtcIj5DT0RFIFNBTVBMRVM8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cInRhYi1wYW5lbCBjb2xcIlxuICAgIEBjbGljaz1cIiR7XG4gICAgICAoZSkgPT4ge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFiLWJ0bicpKSB7IHJldHVybjsgfVxuICAgICAgICBjb25zdCBjbGlja2VkVGFiID0gZS50YXJnZXQuZGF0YXNldC50YWI7XG5cbiAgICAgICAgY29uc3QgdGFiQnV0dG9ucyA9IFsuLi5lLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1idG4nKV07XG4gICAgICAgIGNvbnN0IHRhYkNvbnRlbnRzID0gWy4uLmUuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWNvbnRlbnQnKV07XG4gICAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaCgodGFiQnRuRWwpID0+IHRhYkJ0bkVsLmNsYXNzTGlzdFt0YWJCdG5FbC5kYXRhc2V0LnRhYiA9PT0gY2xpY2tlZFRhYiA/ICdhZGQnIDogJ3JlbW92ZSddKCdhY3RpdmUnKSk7XG4gICAgICAgIHRhYkNvbnRlbnRzLmZvckVhY2goKHRhYkJvZHlFbCkgPT4geyB0YWJCb2R5RWwuc3R5bGUuZGlzcGxheSA9ICh0YWJCb2R5RWwuZGF0YXNldC50YWIgPT09IGNsaWNrZWRUYWIgPyAnYmxvY2snIDogJ25vbmUnKTsgfSk7XG4gICAgICB9XG4gICAgfVwiPlxuICAgIDxkaXYgY2xhc3M9XCJ0YWItYnV0dG9ucyByb3dcIiBzdHlsZT1cIndpZHRoOjEwMDsgb3ZlcmZsb3dcIj5cbiAgICAgICR7eENvZGVTYW1wbGVzLm1hcCgodiwgaSkgPT4gaHRtbGA8YnV0dG9uIGNsYXNzPVwidGFiLWJ0biAke2kgPT09IDAgPyAnYWN0aXZlJyA6ICcnfVwiIGRhdGEtdGFiID0gJyR7di5sYW5nfSR7aX0nPiAke3YubGFiZWwgfHwgdi5sYW5nfSA8L2J1dHRvbj5gKX1cbiAgICA8L2Rpdj5cbiAgICAke3hDb2RlU2FtcGxlcy5tYXAoKHYsIGkpID0+IGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgbS1tYXJrZG93blwiIHN0eWxlPSBcImRpc3BsYXk6JHtpID09PSAwID8gJ2Jsb2NrJyA6ICdub25lJ31cIiBkYXRhLXRhYiA9ICcke3YubGFuZ30ke2l9Jz5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvb2xiYXItYnRuXCIgc3R5bGUgPSBcInBvc2l0aW9uOmFic29sdXRlOyB0b3A6MTJweDsgcmlnaHQ6OHB4XCIgQGNsaWNrPSckeyhlKSA9PiB7IGNvcHlUb0NsaXBib2FyZCh2LnNvdXJjZSwgZSk7IH19Jz4gQ29weSA8L2J1dHRvbj5cbiAgICAgICAgPHByZT48Y29kZSBjbGFzcz1cImxhbmd1YWdlXCI+JHtQcmlzbS5sYW5ndWFnZXNbdi5sYW5nPy50b0xvd2VyQ2FzZSgpXSA/IHVuc2FmZUhUTUwoUHJpc20uaGlnaGxpZ2h0KHYuc291cmNlLCBQcmlzbS5sYW5ndWFnZXNbdi5sYW5nPy50b0xvd2VyQ2FzZSgpXSwgdi5sYW5nPy50b0xvd2VyQ2FzZSgpKSkgOiB2LnNvdXJjZX08L2NvZGU+PC9wcmU+XG4gICAgICA8L2Rpdj5gKVxuICAgIH1cbiAgPC9kaXY+ICBcbiAgPC9zZWN0aW9uPmA7XG59XG4vKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJ2xpdCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2FsbGJhY2tUZW1wbGF0ZShjYWxsYmFja3MpIHtcbiAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz1cInJlcS1yZXMtdGl0bGVcIiBzdHlsZT1cIm1hcmdpbi10b3A6MTJweFwiPkNBTExCQUNLUzwvZGl2PlxuICAgICR7T2JqZWN0LmVudHJpZXMoY2FsbGJhY2tzKS5tYXAoKGt2KSA9PiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cInRpbnktdGl0bGVcIiBzdHlsZT1cInBhZGRpbmc6IDEycHg7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKVwiPiBcbiAgICAgICAgJHtrdlswXX1cbiAgICAgICAgJHtPYmplY3QuZW50cmllcyhrdlsxXSkubWFwKChwYXRoT2JqKSA9PiBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb25vLWZvbnQgc21hbGwtZm9udC1zaXplXCIgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IG1hcmdpbi1sZWZ0OjE2cHg7XCI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6MTAwJVwiPiBcbiAgICAgICAgICAgICAgJHtPYmplY3QuZW50cmllcyhwYXRoT2JqWzFdKS5tYXAoKG1ldGhvZCkgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6MTJweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldGhvZCBtZXRob2QtZmcgJHttZXRob2RbMF19XCIgc3R5bGU9XCJ3aWR0aDo3MHB4OyBib3JkZXI6bm9uZTsgbWFyZ2luOjA7IHBhZGRpbmc6MDsgbGluZS1oZWlnaHQ6MjBweDsgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO3RleHQtYWxpZ246bGVmdFwiPiBcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZToyMHB4O1wiPiAmI3gyOTQ0OyA8L3NwYW4+IFxuICAgICAgICAgICAgICAgICAgICAgICR7bWV0aG9kWzBdfSBcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwibGluZS1oZWlnaHQ6MjBweDsgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1wiPiR7cGF0aE9ialswXX0gPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2V4cGFuZGVkLXJlcS1yZXNwLWNvbnRhaW5lcic+XG4gICAgICAgICAgICAgICAgICAgIDxhcGktcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzID0gXCIke3RoaXMucmVuZGVyU3R5bGV9LW1vZGUgY2FsbGJhY2tcIiAgXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBcIndpZHRoOjEwMCU7XCJcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgbWV0aG9kID0gXCIke21ldGhvZFswXSB8fCAnJ31cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFwiJHtwYXRoT2JqWzBdIHx8ICcnfVwiIFxuICAgICAgICAgICAgICAgICAgICAgIC5wYXJhbWV0ZXJzID0gXCIke21ldGhvZFsxXT8ucGFyYW1ldGVycyB8fCAnJ31cIiBcbiAgICAgICAgICAgICAgICAgICAgICAucmVxdWVzdF9ib2R5ID0gXCIke21ldGhvZFsxXT8ucmVxdWVzdEJvZHkgfHwgJyd9XCJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxsLXJlcXVlc3QtZmllbGRzLXdpdGgtZXhhbXBsZSA9IFwiJHt0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICBhbGxvdy10cnkgPSBcImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXItc3R5bGU9XCIke3RoaXMucmVuZGVyU3R5bGV9XCIgXG4gICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLXN0eWxlID0gXCIke3RoaXMuc2NoZW1hU3R5bGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmUtc2NoZW1hLXRhYiA9IFwiJHt0aGlzLmRlZmF1bHRTY2hlbWFUYWJ9XCJcbiAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gXCIke3RoaXMuc2NoZW1hRXhwYW5kTGV2ZWx9XCJcbiAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSBcIiR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkfVwiXG4gICAgICAgICAgICAgICAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSBcIiR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfVwiXG4gICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gXCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9IFwiJHt0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkgPT09ICduZXZlcicgPyAnZmFsc2UnIDogJ3RydWUnfVwiXG4gICAgICAgICAgICAgICAgICAgICAgZmV0Y2gtY3JlZGVudGlhbHMgPSBcIiR7dGhpcy5mZXRjaENyZWRlbnRpYWxzfVwiXG4gICAgICAgICAgICAgICAgICAgICAgZXhwb3J0cGFydHMgPSBcIndyYXAtcmVxdWVzdC1idG46d3JhcC1yZXF1ZXN0LWJ0biwgYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1vdXRsaW5lOmJ0bi1vdXRsaW5lLCBidG4tdHJ5OmJ0bi10cnksIGJ0bi1jbGVhcjpidG4tY2xlYXIsIGJ0bi1jbGVhci1yZXNwOmJ0bi1jbGVhci1yZXNwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS1pbnB1dDpmaWxlLWlucHV0LCB0ZXh0Ym94OnRleHRib3gsIHRleHRib3gtcGFyYW06dGV4dGJveC1wYXJhbSwgdGV4dGFyZWE6dGV4dGFyZWEsIHRleHRhcmVhLXBhcmFtOnRleHRhcmVhLXBhcmFtLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjphbmNob3IsIGFuY2hvci1wYXJhbS1leGFtcGxlOmFuY2hvci1wYXJhbS1leGFtcGxlLCBzY2hlbWEtZGVzY3JpcHRpb246c2NoZW1hLWRlc2NyaXB0aW9uLCBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZTpzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgPiA8L2FwaS1yZXF1ZXN0PlxuXG4gICAgICAgICAgICAgICAgICAgIDxhcGktcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IFwid2lkdGg6MTAwJTtcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzID0gXCIke3RoaXMucmVuZGVyU3R5bGV9LW1vZGVcIlxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gXCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAucmVzcG9uc2VzPVwiJHttZXRob2RbMV0/LnJlc3BvbnNlc31cIlxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlci1zdHlsZT1cIiR7dGhpcy5yZW5kZXJTdHlsZX1cIlxuICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1zdHlsZT1cIiR7dGhpcy5zY2hlbWFTdHlsZX1cIlxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZS1zY2hlbWEtdGFiID0gXCIke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn1cIlxuICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSBcIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH1cIlxuICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCA9IFwiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9XCJcbiAgICAgICAgICAgICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9IFwiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSBcIiR7dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkgPT09ICduZXZlcicgPyAnZmFsc2UnIDogJ3RydWUnfVwiXG4gICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9IFwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gXCJidG46YnRuLCBidG4tcmVzcG9uc2Utc3RhdHVzOmJ0bi1yZXNwb25zZS1zdGF0dXMsIGJ0bi1zZWxlY3RlZC1yZXNwb25zZS1zdGF0dXM6YnRuLXNlbGVjdGVkLXJlc3BvbnNlLXN0YXR1cywgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1jb3B5OmJ0bi1jb3B5LFxuICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbjpzY2hlbWEtZGVzY3JpcHRpb24sIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlOnNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgPiA8L2FwaS1yZXNwb25zZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICAgIGApfVxuICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICBgKX1cbiAgICAgIDwvZGl2PiAgXG4gICAgYCl9XG4gIGA7XG59XG4vKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xuIiwiLy8gVGFrZXMgYSB2YWx1ZSBhcyBpbnB1dCBhbmQgcHJvdmlkZXMgYSBwcmludGFibGUgc3RyaW5nIHRvIHJlcGxyZXNlbnQgbnVsbCB2YWx1ZXMsIHNwYWNlcywgYmxhbmtzdHJpbmcgZXRjXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJpbnRhYmxlVmFsKHZhbCkge1xuICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgIHJldHVybiAnbnVsbCc7XG4gIH1cbiAgaWYgKHZhbCA9PT0gJycpIHtcbiAgICByZXR1cm4gJ+KIhSc7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBgJHt2YWx9YDtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgcmV0dXJuIHZhbC5tYXAoKHYpID0+ICh2ID09PSBudWxsID8gJ251bGwnIDogdiA9PT0gJycgPyAn4oiFJyA6IHYudG9TdHJpbmcoKS5yZXBsYWNlKC9eICt8ICskL2csIChtKSA9PiAn4pePJy5yZXBlYXQobS5sZW5ndGgpKSB8fCAnJykpLmpvaW4oJywgJyk7XG4gIH1cbiAgcmV0dXJuIHZhbC50b1N0cmluZygpLnJlcGxhY2UoL14gK3wgKyQvZywgKG0pID0+ICfil48nLnJlcGVhdChtLmxlbmd0aCkpIHx8ICcnO1xufVxuXG4vKiBHZW5lcmF0ZXMgYW4gc2NoZW1hIG9iamVjdCBjb250YWluaW5nIHR5cGUgYW5kIGNvbnN0cmFpbnQgaW5mbyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGVJbmZvKHNjaGVtYSkge1xuICBpZiAoIXNjaGVtYSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZGF0YVR5cGUgPSAnJztcbiAgbGV0IGNvbnN0cmFpbiA9ICcnO1xuICAvLyBsZXQgZXhhbXBsZXM7XG5cbiAgaWYgKHNjaGVtYS4kcmVmKSB7XG4gICAgY29uc3QgbiA9IHNjaGVtYS4kcmVmLmxhc3RJbmRleE9mKCcvJyk7XG4gICAgY29uc3Qgc2NoZW1hTm9kZSA9IHNjaGVtYS4kcmVmLnN1YnN0cmluZyhuICsgMSk7XG4gICAgZGF0YVR5cGUgPSBge3JlY3Vyc2l2ZTogJHtzY2hlbWFOb2RlfX0gYDtcbiAgfSBlbHNlIGlmIChzY2hlbWEudHlwZSkge1xuICAgIGRhdGFUeXBlID0gQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkgPyBzY2hlbWEudHlwZS5qb2luKHNjaGVtYS5sZW5ndGggPT09IDIgPyAnIG9yICcgOiAn4pSDJykgOiBzY2hlbWEudHlwZTtcbiAgICBpZiAoc2NoZW1hLmZvcm1hdCB8fCBzY2hlbWEuZW51bSB8fCBzY2hlbWEuY29uc3QpIHtcbiAgICAgIGRhdGFUeXBlID0gZGF0YVR5cGUucmVwbGFjZSgnc3RyaW5nJywgc2NoZW1hLmVudW0gPyAnZW51bScgOiBzY2hlbWEuY29uc3QgPyAnY29uc3QnIDogc2NoZW1hLmZvcm1hdCk7XG4gICAgfVxuICAgIGlmIChzY2hlbWEubnVsbGFibGUpIHtcbiAgICAgIGRhdGFUeXBlICs9ICfilINudWxsJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoc2NoZW1hLmNvbnN0KSB7XG4gICAgZGF0YVR5cGUgPSAnY29uc3QnO1xuICB9IGVsc2UgaWYgKE9iamVjdC5rZXlzKHNjaGVtYSkubGVuZ3RoID09PSAwKSB7XG4gICAgZGF0YVR5cGUgPSAnYW55JztcbiAgfSBlbHNlIHtcbiAgICBkYXRhVHlwZSA9ICd7bWlzc2luZy10eXBlLWluZm99JztcbiAgfVxuXG4gIGNvbnN0IGluZm8gPSB7XG4gICAgdHlwZTogZGF0YVR5cGUsXG4gICAgZm9ybWF0OiBzY2hlbWEuZm9ybWF0IHx8ICcnLFxuICAgIHBhdHRlcm46IChzY2hlbWEucGF0dGVybiAmJiAhc2NoZW1hLmVudW0pID8gc2NoZW1hLnBhdHRlcm4gOiAnJyxcbiAgICByZWFkT3JXcml0ZU9ubHk6IChzY2hlbWEucmVhZE9ubHkgPyAn8J+GgScgOiBzY2hlbWEud3JpdGVPbmx5ID8gJ/CfhoYnIDogJycpLFxuICAgIGRlcHJlY2F0ZWQ6IHNjaGVtYS5kZXByZWNhdGVkID8gJ+KdjCcgOiAnJyxcbiAgICBleGFtcGxlczogc2NoZW1hLmV4YW1wbGVzIHx8IHNjaGVtYS5leGFtcGxlLFxuICAgIGRlZmF1bHQ6IGdldFByaW50YWJsZVZhbChzY2hlbWEuZGVmYXVsdCksXG4gICAgZGVzY3JpcHRpb246IHNjaGVtYS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICBjb25zdHJhaW46ICcnLFxuICAgIGFsbG93ZWRWYWx1ZXM6ICcnLFxuICAgIGFycmF5VHlwZTogJycsXG4gICAgaHRtbDogJycsXG4gIH07XG5cbiAgaWYgKGluZm8udHlwZSA9PT0gJ3tyZWN1cnNpdmV9Jykge1xuICAgIGluZm8uZGVzY3JpcHRpb24gPSBzY2hlbWEuJHJlZi5zdWJzdHJpbmcoc2NoZW1hLiRyZWYubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICB9IGVsc2UgaWYgKGluZm8udHlwZSA9PT0gJ3ttaXNzaW5nLXR5cGUtaW5mb30nIHx8IGluZm8udHlwZSA9PT0gJ2FueScpIHtcbiAgICBpbmZvLmRlc2NyaXB0aW9uID0gaW5mby5kZXNjcmlwdGlvbiB8fCAnJztcbiAgfVxuICAvLyBTZXQgQWxsb3dlZCBWYWx1ZXNcbiAgaW5mby5hbGxvd2VkVmFsdWVzID0gc2NoZW1hLmNvbnN0XG4gICAgPyBzY2hlbWEuY29uc3RcbiAgICA6IEFycmF5LmlzQXJyYXkoc2NoZW1hLmVudW0pXG4gICAgICA/IHNjaGVtYS5lbnVtLm1hcCgodikgPT4gKGdldFByaW50YWJsZVZhbCh2KSkpLmpvaW4oJ+KUgycpXG4gICAgICA6ICcnO1xuXG4gIGlmIChkYXRhVHlwZSA9PT0gJ2FycmF5JyAmJiBzY2hlbWEuaXRlbXMpIHtcbiAgICBjb25zdCBhcnJheUl0ZW1UeXBlID0gc2NoZW1hLml0ZW1zPy50eXBlO1xuICAgIGNvbnN0IGFycmF5SXRlbURlZmF1bHQgPSBnZXRQcmludGFibGVWYWwoc2NoZW1hLml0ZW1zLmRlZmF1bHQpO1xuXG4gICAgaW5mby5hcnJheVR5cGUgPSBgJHtzY2hlbWEudHlwZX0gb2YgJHtBcnJheS5pc0FycmF5KGFycmF5SXRlbVR5cGUpID8gYXJyYXlJdGVtVHlwZS5qb2luKCcnKSA6IGFycmF5SXRlbVR5cGV9YDtcbiAgICBpbmZvLmRlZmF1bHQgPSBhcnJheUl0ZW1EZWZhdWx0O1xuICAgIGluZm8uYWxsb3dlZFZhbHVlcyA9IHNjaGVtYS5pdGVtcy5jb25zdFxuICAgICAgPyBzY2hlbWEuY29uc3RcbiAgICAgIDogQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXM/LmVudW0pXG4gICAgICAgID8gc2NoZW1hLml0ZW1zLmVudW0ubWFwKCh2KSA9PiAoZ2V0UHJpbnRhYmxlVmFsKHYpKSkuam9pbign4pSDJylcbiAgICAgICAgOiAnJztcbiAgfVxuICBpZiAoZGF0YVR5cGUubWF0Y2goL2ludGVnZXJ8bnVtYmVyL2cpKSB7XG4gICAgaWYgKHNjaGVtYS5taW5pbXVtICE9PSB1bmRlZmluZWQgfHwgc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3RyYWluICs9IHNjaGVtYS5taW5pbXVtICE9PSB1bmRlZmluZWQgPyBgTWluICR7c2NoZW1hLm1pbmltdW19YCA6IGBNb3JlIHRoYW4gJHtzY2hlbWEuZXhjbHVzaXZlTWluaW11bX1gO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLm1heGltdW0gIT09IHVuZGVmaW5lZCB8fCBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdHJhaW4gKz0gc2NoZW1hLm1heGltdW0gIT09IHVuZGVmaW5lZCA/IGAke2NvbnN0cmFpbiA/ICfilIMnIDogJyd9TWF4ICR7c2NoZW1hLm1heGltdW19YCA6IGAke2NvbnN0cmFpbiA/ICfilIMnIDogJyd9TGVzcyB0aGFuICR7c2NoZW1hLmV4Y2x1c2l2ZU1heGltdW19YDtcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5tdWx0aXBsZU9mICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0cmFpbiArPSBgJHtjb25zdHJhaW4gPyAn4pSDJyA6ICcnfSBtdWx0aXBsZSBvZiAke3NjaGVtYS5tdWx0aXBsZU9mfWA7XG4gICAgfVxuICB9XG4gIGlmIChkYXRhVHlwZS5tYXRjaCgvc3RyaW5nL2cpKSB7XG4gICAgaWYgKHNjaGVtYS5taW5MZW5ndGggIT09IHVuZGVmaW5lZCAmJiBzY2hlbWEubWF4TGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0cmFpbiArPSBgJHtjb25zdHJhaW4gPyAn4pSDJyA6ICcnfSR7c2NoZW1hLm1pbkxlbmd0aH0gdG8gJHtzY2hlbWEubWF4TGVuZ3RofSBjaGFyc2A7XG4gICAgfSBlbHNlIGlmIChzY2hlbWEubWluTGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0cmFpbiArPSBgJHtjb25zdHJhaW4gPyAn4pSDJyA6ICcnfU1pbiAke3NjaGVtYS5taW5MZW5ndGh9IGNoYXJzYDtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYS5tYXhMZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3RyYWluICs9IGBNYXggJHtjb25zdHJhaW4gPyAn4pSDJyA6ICcnfSR7c2NoZW1hLm1heExlbmd0aH0gY2hhcnNgO1xuICAgIH1cbiAgfVxuICBpbmZvLmNvbnN0cmFpbiA9IGNvbnN0cmFpbjtcbiAgaW5mby5odG1sID0gYCR7aW5mby50eXBlfX58fiR7aW5mby5yZWFkT3JXcml0ZU9ubHl9fnx+JHtpbmZvLmNvbnN0cmFpbn1+fH4ke2luZm8uZGVmYXVsdH1+fH4ke2luZm8uYWxsb3dlZFZhbHVlc31+fH4ke2luZm8ucGF0dGVybn1+fH4ke2luZm8uZGVzY3JpcHRpb259fnx+JHtzY2hlbWEudGl0bGUgfHwgJyd9fnx+JHtpbmZvLmRlcHJlY2F0ZWQgPyAnZGVwcmVjYXRlZCcgOiAnJ31gO1xuICByZXR1cm4gaW5mbztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lc3RFeGFtcGxlSWZQcmVzZW50KGV4YW1wbGUpIHtcbiAgaWYgKHR5cGVvZiBleGFtcGxlID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGV4YW1wbGUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEV4YW1wbGU6IHsgdmFsdWU6IGAke2V4YW1wbGV9YCB9LFxuICAgIH07XG4gIH1cbiAgaWYgKGV4YW1wbGUgPT09ICcnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEV4YW1wbGU6IHsgdmFsdWU6ICcnIH0sXG4gICAgfTtcbiAgfVxuICByZXR1cm4gZXhhbXBsZSA/IHsgRXhhbXBsZTogeyB2YWx1ZTogZXhhbXBsZSB9IH0gOiBleGFtcGxlO1xufVxuXG4vKipcbiAqICBOb3JtYWxpemUgZXhhbXBsZSBvYmplY3QgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQgKExpc3Qgb2Ygb2JqZWN0IHdoaWNoIGlzIHVzZWQgdG8gcmVuZGVyIGV4YW1wbGUgbGlua3MgYW5kIGZpbGwgdGhlIGlucHV0IGJveGVzKVxuICogIFt7XG4gKiAgICAgZXhhbXBsZVZhbCAgOiAndmFsdWUgdG8gYmUgcmVuZGVyZWQgb24gdGhlIGlucHV0IGNvbnRyb2wgKHRleHQtYm94KScsXG4gKiAgICAgZXhhbXBsZUxpc3QgOiBbXG4gKiAgICAgICB2YWx1ZSAgICAgICAgIDogJycsXG4gKiAgICAgICBwcmludGFibGVWYWx1ZTogJycsXG4gKiAgICAgICBzdW1tYXJ5ICAgICAgIDogJycsXG4gKiAgICAgICBkZXNjcmlwdGlvbiAgIDogJydcbiAqICAgICBdXG4gKiAgfV1cbiAqICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplRXhhbXBsZXMoZXhhbXBsZXMsIGRhdGFUeXBlID0gJ3N0cmluZycpIHtcbiAgaWYgKCFleGFtcGxlcykge1xuICAgIHJldHVybiB7XG4gICAgICBleGFtcGxlVmFsOiAnJyxcbiAgICAgIGV4YW1wbGVMaXN0OiBbXSxcbiAgICB9O1xuICB9XG4gIGlmIChleGFtcGxlcy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgY29uc3QgZXhhbXBsZUxpc3QgPSBPYmplY3QudmFsdWVzKGV4YW1wbGVzKVxuICAgICAgLmZpbHRlcigodikgPT4gKHZbJ3gtZXhhbXBsZS1zaG93LXZhbHVlJ10gIT09IGZhbHNlKSlcbiAgICAgIC5tYXAoKHYpID0+ICh7XG4gICAgICAgIHZhbHVlOiAodHlwZW9mIHYudmFsdWUgPT09ICdib29sZWFuJyB8fCB0eXBlb2Ygdi52YWx1ZSA9PT0gJ251bWJlcicgPyBgJHt2LnZhbHVlfWAgOiAodi52YWx1ZSB8fCAnJykpLFxuICAgICAgICBwcmludGFibGVWYWx1ZTogZ2V0UHJpbnRhYmxlVmFsKHYudmFsdWUpLFxuICAgICAgICBzdW1tYXJ5OiB2LnN1bW1hcnkgfHwgJycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB2LmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgfSkpO1xuICAgIGNvbnN0IGV4YW1wbGVWYWwgPSBleGFtcGxlTGlzdC5sZW5ndGggPiAwXG4gICAgICA/IGV4YW1wbGVMaXN0WzBdLnZhbHVlLnRvU3RyaW5nKClcbiAgICAgIDogJyc7XG4gICAgcmV0dXJuIHsgZXhhbXBsZVZhbCwgZXhhbXBsZUxpc3QgfTtcbiAgfVxuXG4gIC8vIFRoaXMgaXMgbm9uLXN0YW5kYXJkIHdheSB0byBwcm92aWRlIGV4YW1wbGUgYnV0IHdpbGwgc3VwcG9ydCBmb3Igbm93XG4gIGlmICghQXJyYXkuaXNBcnJheShleGFtcGxlcykpIHtcbiAgICBleGFtcGxlcyA9IGV4YW1wbGVzID8gW2V4YW1wbGVzXSA6IFtdO1xuICB9XG5cbiAgaWYgKGV4YW1wbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBleGFtcGxlVmFsOiAnJyxcbiAgICAgIGV4YW1wbGVMaXN0OiBbXSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGRhdGFUeXBlID09PSAnYXJyYXknKSB7XG4gICAgY29uc3QgW2V4YW1wbGVWYWxdID0gZXhhbXBsZXM7XG4gICAgY29uc3QgZXhhbXBsZUxpc3QgPSBleGFtcGxlcy5tYXAoKHYpID0+ICh7XG4gICAgICB2YWx1ZTogdixcbiAgICAgIHByaW50YWJsZVZhbHVlOiBnZXRQcmludGFibGVWYWwodiksXG4gICAgfSkpO1xuICAgIHJldHVybiB7IGV4YW1wbGVWYWwsIGV4YW1wbGVMaXN0IH07XG4gIH1cblxuICBjb25zdCBleGFtcGxlVmFsID0gZXhhbXBsZXNbMF0udG9TdHJpbmcoKTtcbiAgY29uc3QgZXhhbXBsZUxpc3QgPSBleGFtcGxlcy5tYXAoKHYpID0+ICh7XG4gICAgdmFsdWU6IHYudG9TdHJpbmcoKSxcbiAgICBwcmludGFibGVWYWx1ZTogZ2V0UHJpbnRhYmxlVmFsKHYpLFxuICB9KSk7XG4gIHJldHVybiB7IGV4YW1wbGVWYWwsIGV4YW1wbGVMaXN0IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbnlFeGFtcGxlV2l0aFN1bW1hcnlPckRlc2NyaXB0aW9uKGV4YW1wbGVzKSB7XG4gIHJldHVybiBleGFtcGxlcy5zb21lKCh4KSA9PiB4LnN1bW1hcnk/Lmxlbmd0aCA+IDAgfHwgeC5kZXNjcmlwdGlvbj8ubGVuZ3RoID4gMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTYW1wbGVWYWx1ZUJ5VHlwZShzY2hlbWFPYmopIHtcbiAgY29uc3QgZXhhbXBsZSA9IHNjaGVtYU9iai5leGFtcGxlc1xuICAgID8gc2NoZW1hT2JqLmV4YW1wbGVzWzBdXG4gICAgOiBzY2hlbWFPYmouZXhhbXBsZSA9PT0gbnVsbFxuICAgICAgPyBudWxsXG4gICAgICA6IHNjaGVtYU9iai5leGFtcGxlIHx8IHVuZGVmaW5lZDtcbiAgaWYgKGV4YW1wbGUgPT09ICcnKSB7IHJldHVybiAnJzsgfVxuICBpZiAoZXhhbXBsZSA9PT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuICBpZiAoZXhhbXBsZSA9PT0gMCkgeyByZXR1cm4gMDsgfVxuICBpZiAoZXhhbXBsZSA9PT0gZmFsc2UpIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGlmIChleGFtcGxlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHN3aXRjaCAoc2NoZW1hT2JqLmZvcm1hdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgcmV0dXJuIGV4YW1wbGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgIHJldHVybiBleGFtcGxlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVsxXTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBleGFtcGxlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuICB9XG4gIGlmIChleGFtcGxlKSB7IHJldHVybiBleGFtcGxlOyB9XG5cbiAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYU9iaikubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHNjaGVtYU9iai4kcmVmKSB7XG4gICAgLy8gSW5kaWNhdGVzIGEgQ2lyY3VsYXIgcmVmXG4gICAgcmV0dXJuIHNjaGVtYU9iai4kcmVmO1xuICB9XG4gIGlmIChzY2hlbWFPYmouY29uc3QgPT09IGZhbHNlIHx8IHNjaGVtYU9iai5jb25zdCA9PT0gMCB8fCBzY2hlbWFPYmouY29uc3QgPT09IG51bGwgfHwgc2NoZW1hT2JqLmNvbnN0ID09PSAnJykge1xuICAgIHJldHVybiBzY2hlbWFPYmouY29uc3Q7XG4gIH1cbiAgaWYgKHNjaGVtYU9iai5jb25zdCkge1xuICAgIHJldHVybiBzY2hlbWFPYmouY29uc3Q7XG4gIH1cbiAgY29uc3QgdHlwZVZhbHVlID0gQXJyYXkuaXNBcnJheShzY2hlbWFPYmoudHlwZSkgPyBzY2hlbWFPYmoudHlwZVswXSA6IHNjaGVtYU9iai50eXBlO1xuICBpZiAoIXR5cGVWYWx1ZSkge1xuICAgIHJldHVybiAnPyc7XG4gIH1cbiAgaWYgKHR5cGVWYWx1ZS5tYXRjaCgvXmludGVnZXJ8Xm51bWJlci9nKSkge1xuICAgIGNvbnN0IG11bHRpcGxlT2YgPSBOdW1iZXIuaXNOYU4oTnVtYmVyKHNjaGVtYU9iai5tdWx0aXBsZU9mKSkgPyB1bmRlZmluZWQgOiBOdW1iZXIoc2NoZW1hT2JqLm11bHRpcGxlT2YpO1xuICAgIGNvbnN0IG1heGltdW0gPSBOdW1iZXIuaXNOYU4oTnVtYmVyKHNjaGVtYU9iai5tYXhpbXVtKSkgPyB1bmRlZmluZWQgOiBOdW1iZXIoc2NoZW1hT2JqLm1heGltdW0pO1xuICAgIGNvbnN0IG1pbmltdW1Qb3NzaWJsZVZhbCA9IE51bWJlci5pc05hTihOdW1iZXIoc2NoZW1hT2JqLm1pbmltdW0pKVxuICAgICAgPyBOdW1iZXIuaXNOYU4oTnVtYmVyKHNjaGVtYU9iai5leGNsdXNpdmVNaW5pbXVtKSlcbiAgICAgICAgPyBtYXhpbXVtIHx8IDBcbiAgICAgICAgOiBOdW1iZXIoc2NoZW1hT2JqLmV4Y2x1c2l2ZU1pbmltdW0pICsgKHR5cGVWYWx1ZS5zdGFydHNXaXRoKCdpbnRlZ2VyJykgPyAxIDogMC4wMDEpXG4gICAgICA6IE51bWJlcihzY2hlbWFPYmoubWluaW11bSk7XG4gICAgY29uc3QgZmluYWxWYWwgPSBtdWx0aXBsZU9mXG4gICAgICA/IG11bHRpcGxlT2YgPj0gbWluaW11bVBvc3NpYmxlVmFsXG4gICAgICAgID8gbXVsdGlwbGVPZlxuICAgICAgICA6IG1pbmltdW1Qb3NzaWJsZVZhbCAlIG11bHRpcGxlT2YgPT09IDBcbiAgICAgICAgICA/IG1pbmltdW1Qb3NzaWJsZVZhbFxuICAgICAgICAgIDogTWF0aC5jZWlsKG1pbmltdW1Qb3NzaWJsZVZhbCAvIG11bHRpcGxlT2YpICogbXVsdGlwbGVPZlxuICAgICAgOiBtaW5pbXVtUG9zc2libGVWYWw7XG4gICAgcmV0dXJuIGZpbmFsVmFsO1xuICB9XG4gIGlmICh0eXBlVmFsdWUubWF0Y2goL15ib29sZWFuL2cpKSB7IHJldHVybiBmYWxzZTsgfVxuICBpZiAodHlwZVZhbHVlLm1hdGNoKC9ebnVsbC9nKSkgeyByZXR1cm4gbnVsbDsgfVxuICBpZiAodHlwZVZhbHVlLm1hdGNoKC9ec3RyaW5nL2cpKSB7XG4gICAgaWYgKHNjaGVtYU9iai5lbnVtKSB7IHJldHVybiBzY2hlbWFPYmouZW51bVswXTsgfVxuICAgIGlmIChzY2hlbWFPYmouY29uc3QpIHsgcmV0dXJuIHNjaGVtYU9iai5jb25zdDsgfVxuICAgIGlmIChzY2hlbWFPYmoucGF0dGVybikgeyByZXR1cm4gc2NoZW1hT2JqLnBhdHRlcm47IH1cbiAgICBpZiAoc2NoZW1hT2JqLmZvcm1hdCkge1xuICAgICAgY29uc3QgdSA9IGAke0RhdGUubm93KCkudG9TdHJpbmcoMTYpfSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygxNil9MGAucmVwZWF0KDE2KTtcbiAgICAgIHN3aXRjaCAoc2NoZW1hT2JqLmZvcm1hdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgIGNhc2UgJ3VyaSc6XG4gICAgICAgICAgcmV0dXJuICdodHRwOi8vZXhhbXBsZS5jb20nO1xuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICByZXR1cm4gKG5ldyBEYXRlKDApKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICAgIHJldHVybiAobmV3IERhdGUoMCkpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVsxXTtcbiAgICAgICAgY2FzZSAnZGF0ZS10aW1lJzpcbiAgICAgICAgICByZXR1cm4gKG5ldyBEYXRlKDApKS50b0lTT1N0cmluZygpO1xuICAgICAgICBjYXNlICdkdXJhdGlvbic6XG4gICAgICAgICAgcmV0dXJuICdQM1k2TTREVDEySDMwTTVTJzsgLy8gUD1QZXJpb2QgMy1ZZWFycyA2LU1vbnRocyA0LURheXMgMTItSG91cnMgMzAtTWludXRlcyA1LVNlY29uZHNcbiAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICBjYXNlICdpZG4tZW1haWwnOlxuICAgICAgICAgIHJldHVybiAndXNlckBleGFtcGxlLmNvbSc7XG4gICAgICAgIGNhc2UgJ2hvc3RuYW1lJzpcbiAgICAgICAgY2FzZSAnaWRuLWhvc3RuYW1lJzpcbiAgICAgICAgICByZXR1cm4gJ3d3dy5leGFtcGxlLmNvbSc7XG4gICAgICAgIGNhc2UgJ2lwdjQnOlxuICAgICAgICAgIHJldHVybiAnMTk4LjUxLjEwMC40Mic7XG4gICAgICAgIGNhc2UgJ2lwdjYnOlxuICAgICAgICAgIHJldHVybiAnMjAwMTowZGI4OjViOTY6MDAwMDowMDAwOjQyNmY6OGUxNzo2NDJhJztcbiAgICAgICAgY2FzZSAndXVpZCc6XG4gICAgICAgICAgcmV0dXJuIFt1LnN1YnN0cigwLCA4KSwgdS5zdWJzdHIoOCwgNCksIGA0MDAwLTgke3Uuc3Vic3RyKDEzLCAzKX1gLCB1LnN1YnN0cigxNiwgMTIpXS5qb2luKCctJyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtaW5MZW5ndGggPSBOdW1iZXIuaXNOYU4oc2NoZW1hT2JqLm1pbkxlbmd0aCkgPyB1bmRlZmluZWQgOiBOdW1iZXIoc2NoZW1hT2JqLm1pbkxlbmd0aCk7XG4gICAgICBjb25zdCBtYXhMZW5ndGggPSBOdW1iZXIuaXNOYU4oc2NoZW1hT2JqLm1heExlbmd0aCkgPyB1bmRlZmluZWQgOiBOdW1iZXIoc2NoZW1hT2JqLm1heExlbmd0aCk7XG4gICAgICBjb25zdCBmaW5hbExlbmd0aCA9IG1pbkxlbmd0aCB8fCAobWF4TGVuZ3RoID4gNiA/IDYgOiBtYXhMZW5ndGggfHwgdW5kZWZpbmVkKTtcbiAgICAgIHJldHVybiBmaW5hbExlbmd0aCA/ICdBJy5yZXBlYXQoZmluYWxMZW5ndGgpIDogJ3N0cmluZyc7XG4gICAgfVxuICB9XG4gIC8vIElmIHR5cGUgY2Fubm90IGJlIGRldGVybWluZWRcbiAgcmV0dXJuICc/Jztcbn1cblxuLypcbmpzb24yeG1sLSBUZXN0Q2FzZVxuICB7XG4gICAgJ3Byb3AxJyA6ICdvbmUnLFxuICAgICdwcm9wMicgOiAndHdvJyxcbiAgICAncHJvcDMnIDogWyAnYScsICdiJywgJ2MnIF0sXG4gICAgJ3Byb3A0JyA6IHtcbiAgICAgICdvYjEnIDogJ3ZhbC0xJyxcbiAgICAgICdvYjInIDogJ3ZhbC0yJ1xuICAgIH1cbiAgfVxuICA8cm9vdD5cbiAgICA8cHJvcDE+c2ltcGxlPC9wcm9wMT5cbiAgICA8cHJvcDI+XG4gICAgICA8MD5hPC8wPlxuICAgICAgPDE+YjwvMT5cbiAgICAgIDwyPmM8LzI+XG4gICAgPC9wcm9wMj5cbiAgICA8cHJvcDM+XG4gICAgICA8b2IxPnZhbC0xPC9vYjE+XG4gICAgICA8b2IyPnZhbC0yPC9vYjI+XG4gICAgPC9wcm9wMz5cbiAgPC9yb290PlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uMnhtbChvYmosIGxldmVsID0gMSkge1xuICBjb25zdCBpbmRlbnQgPSAnICAnLnJlcGVhdChsZXZlbCk7XG4gIGxldCB4bWxUZXh0ID0gJyc7XG4gIGlmIChsZXZlbCA9PT0gMSAmJiB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBgXFxuJHtpbmRlbnR9JHtvYmoudG9TdHJpbmcoKX1gO1xuICB9XG4gIGZvciAoY29uc3QgcHJvcCBpbiBvYmopIHtcbiAgICBjb25zdCB0YWdOYW1lT3JQcm9wID0gKG9ialtwcm9wXVsnOjpYTUxfVEFHJ10gfHwgcHJvcCk7XG4gICAgbGV0IHRhZ05hbWUgPSAnJztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpbcHJvcF0pKSB7XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZU9yUHJvcFswXVsnOjpYTUxfVEFHJ10gfHwgYCR7cHJvcH1gO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZU9yUHJvcDtcbiAgICB9XG4gICAgaWYgKHByb3Auc3RhcnRzV2l0aCgnOjonKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9ialtwcm9wXSkpIHtcbiAgICAgIHhtbFRleHQgPSBgJHt4bWxUZXh0fVxcbiR7aW5kZW50fTwke3RhZ05hbWV9PiR7anNvbjJ4bWwob2JqW3Byb3BdLCBsZXZlbCArIDEpfVxcbiR7aW5kZW50fTwvJHt0YWdOYW1lfT5gO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9ialtwcm9wXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHhtbFRleHQgPSBgJHt4bWxUZXh0fVxcbiR7aW5kZW50fTwke3RhZ05hbWV9PiR7anNvbjJ4bWwob2JqW3Byb3BdLCBsZXZlbCArIDEpfVxcbiR7aW5kZW50fTwvJHt0YWdOYW1lfT5gO1xuICAgIH0gZWxzZSB7XG4gICAgICB4bWxUZXh0ID0gYCR7eG1sVGV4dH1cXG4ke2luZGVudH08JHt0YWdOYW1lfT4ke29ialtwcm9wXS50b1N0cmluZygpfTwvJHt0YWdOYW1lfT5gO1xuICAgIH1cbiAgfVxuICByZXR1cm4geG1sVGV4dDtcbn1cblxuZnVuY3Rpb24gYWRkU2NoZW1hSW5mb1RvRXhhbXBsZShzY2hlbWEsIG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzY2hlbWEudGl0bGUpIHtcbiAgICBvYmpbJzo6VElUTEUnXSA9IHNjaGVtYS50aXRsZTtcbiAgfVxuICBpZiAoc2NoZW1hLmRlc2NyaXB0aW9uKSB7XG4gICAgb2JqWyc6OkRFU0NSSVBUSU9OJ10gPSBzY2hlbWEuZGVzY3JpcHRpb247XG4gIH1cbiAgaWYgKHNjaGVtYS54bWw/Lm5hbWUpIHtcbiAgICBvYmpbJzo6WE1MX1RBRyddID0gc2NoZW1hLnhtbD8ubmFtZTtcbiAgfVxuICBpZiAoc2NoZW1hLnhtbD8ud3JhcHBlZCkge1xuICAgIG9ialsnOjpYTUxfV1JBUCddID0gc2NoZW1hLnhtbD8ud3JhcHBlZC50b1N0cmluZygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRpdGxlc0FuZERlc2NyaXB0aW9ucyhvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBkZWxldGUgb2JqWyc6OlRJVExFJ107XG4gIGRlbGV0ZSBvYmpbJzo6REVTQ1JJUFRJT04nXTtcbiAgZGVsZXRlIG9ialsnOjpYTUxfVEFHJ107XG4gIGRlbGV0ZSBvYmpbJzo6WE1MX1dSQVAnXTtcbiAgZm9yIChjb25zdCBrIGluIG9iaikge1xuICAgIHJlbW92ZVRpdGxlc0FuZERlc2NyaXB0aW9ucyhvYmpba10pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZFByb3BlcnR5RXhhbXBsZVRvT2JqZWN0RXhhbXBsZXMoZXhhbXBsZSwgb2JqLCBwcm9wZXJ0eUtleSkge1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBvYmpba2V5XVtwcm9wZXJ0eUtleV0gPSBleGFtcGxlO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1lcmdlUHJvcGVydHlFeGFtcGxlcyhvYmosIHByb3BlcnR5TmFtZSwgcHJvcEV4YW1wbGVzKSB7XG4gIC8vIENyZWF0ZSBhbiBleGFtcGxlIGZvciBlYWNoIHZhcmlhbnQgb2YgdGhlIHByb3BlcnR5RXhhbXBsZSwgbWVyZ2luZyB0aGVtIHdpdGggdGhlIGN1cnJlbnQgKHBhcmVudCkgZXhhbXBsZVxuICBsZXQgaSA9IDA7XG4gIGNvbnN0IG1heENvbWJpbmF0aW9ucyA9IDEwO1xuICBjb25zdCBtZXJnZWRPYmogPSB7fTtcbiAgZm9yIChjb25zdCBleGFtcGxlS2V5IGluIG9iaikge1xuICAgIGZvciAoY29uc3QgcHJvcEV4YW1wbGVLZXkgaW4gcHJvcEV4YW1wbGVzKSB7XG4gICAgICBtZXJnZWRPYmpbYGV4YW1wbGUtJHtpfWBdID0geyAuLi5vYmpbZXhhbXBsZUtleV0gfTtcbiAgICAgIG1lcmdlZE9ialtgZXhhbXBsZS0ke2l9YF1bcHJvcGVydHlOYW1lXSA9IHByb3BFeGFtcGxlc1twcm9wRXhhbXBsZUtleV07XG4gICAgICBpKys7XG4gICAgICBpZiAoaSA+PSBtYXhDb21iaW5hdGlvbnMpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpID49IG1heENvbWJpbmF0aW9ucykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBtZXJnZWRPYmo7XG59XG5cbi8qIEZvciBjaGFuZ2luZyBKU09OLVNjaGVtYSB0byBhIFNhbXBsZSBPYmplY3QsIGFzIHBlciB0aGUgc2NoZW1hICh0byBnZW5lcmF0ZSBleGFtcGxlcyBiYXNlZCBvbiBzY2hlbWEpICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZW1hVG9TYW1wbGVPYmooc2NoZW1hLCBjb25maWcgPSB7IH0pIHtcbiAgbGV0IG9iaiA9IHt9O1xuICBpZiAoIXNjaGVtYSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2NoZW1hLmFsbE9mKSB7XG4gICAgY29uc3Qgb2JqV2l0aEFsbFByb3BzID0ge307XG5cbiAgICBpZiAoc2NoZW1hLmFsbE9mLmxlbmd0aCA9PT0gMSAmJiAhc2NoZW1hLmFsbE9mWzBdPy5wcm9wZXJ0aWVzICYmICFzY2hlbWEuYWxsT2ZbMF0/Lml0ZW1zKSB7XG4gICAgICAvLyBJZiBhbGxPZiBoYXMgc2luZ2xlIGl0ZW0gYW5kIHRoZSB0eXBlIGlzIG5vdCBhbiBvYmplY3Qgb3IgYXJyYXksIHRoZW4gaXRzIGEgcHJpbWl0aXZlXG4gICAgICBpZiAoc2NoZW1hLmFsbE9mWzBdLiRyZWYpIHtcbiAgICAgICAgcmV0dXJuICd7ICB9JztcbiAgICAgIH1cbiAgICAgIGlmIChzY2hlbWEuYWxsT2ZbMF0ucmVhZE9ubHkgJiYgY29uZmlnLmluY2x1ZGVSZWFkT25seSkge1xuICAgICAgICBjb25zdCB0ZW1wU2NoZW1hID0gc2NoZW1hLmFsbE9mWzBdO1xuICAgICAgICByZXR1cm4gZ2V0U2FtcGxlVmFsdWVCeVR5cGUodGVtcFNjaGVtYSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2NoZW1hLmFsbE9mLmZvckVhY2goKHYpID0+IHtcbiAgICAgIGlmICh2LnR5cGUgPT09ICdvYmplY3QnIHx8IHYucHJvcGVydGllcyB8fCB2LmFsbE9mIHx8IHYuYW55T2YgfHwgdi5vbmVPZikge1xuICAgICAgICBjb25zdCBwYXJ0aWFsT2JqID0gc2NoZW1hVG9TYW1wbGVPYmoodiwgY29uZmlnKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvYmpXaXRoQWxsUHJvcHMsIHBhcnRpYWxPYmopO1xuICAgICAgfSBlbHNlIGlmICh2LnR5cGUgPT09ICdhcnJheScgfHwgdi5pdGVtcykge1xuICAgICAgICBjb25zdCBwYXJ0aWFsT2JqID0gW3NjaGVtYVRvU2FtcGxlT2JqKHYsIGNvbmZpZyldO1xuICAgICAgICBPYmplY3QuYXNzaWduKG9ialdpdGhBbGxQcm9wcywgcGFydGlhbE9iaik7XG4gICAgICB9IGVsc2UgaWYgKHYudHlwZSkge1xuICAgICAgICBjb25zdCBwcm9wID0gYHByb3Ake09iamVjdC5rZXlzKG9ialdpdGhBbGxQcm9wcykubGVuZ3RofWA7XG4gICAgICAgIG9ialdpdGhBbGxQcm9wc1twcm9wXSA9IGdldFNhbXBsZVZhbHVlQnlUeXBlKHYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgb2JqID0gb2JqV2l0aEFsbFByb3BzO1xuICB9IGVsc2UgaWYgKHNjaGVtYS5vbmVPZikge1xuICAgIC8vIDEuIEZpcnN0IGNyZWF0ZSBleGFtcGxlIHdpdGggc2NoZW1lLnByb3BlcnRpZXNcbiAgICBjb25zdCBvYmpXaXRoU2NoZW1hUHJvcHMgPSB7fTtcbiAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLnByb3BlcnRpZXMgfHwgc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5wcm9wZXJ0aWVzPy5pdGVtcykge1xuICAgICAgICAgIG9ialdpdGhTY2hlbWFQcm9wc1twcm9wZXJ0eU5hbWVdID0gc2NoZW1hVG9TYW1wbGVPYmooc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSwgY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmpXaXRoU2NoZW1hUHJvcHNbcHJvcGVydHlOYW1lXSA9IGdldFNhbXBsZVZhbHVlQnlUeXBlKHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5vbmVPZi5sZW5ndGggPiAwKSB7XG4gICAgICAvKlxuICAgICAgb25lT2Y6XG4gICAgICAgIC0gdHlwZTogb2JqZWN0XG4gICAgICAgICAgcHJvcGVydGllczpcbiAgICAgICAgICAgIG9wdGlvbjFfUHJvcEE6XG4gICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICAgICAgICAgICAgb3B0aW9uMV9Qcm9wQjpcbiAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXG4gICAgICAgIC0gdHlwZTogb2JqZWN0XG4gICAgICAgICAgcHJvcGVydGllczpcbiAgICAgICAgICAgIG9wdGlvbjJfUHJvcFg6XG4gICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICAgICAgcHJvcGVydGllczpcbiAgICAgICAgcHJvcDE6XG4gICAgICAgICAgdHlwZTogc3RyaW5nXG4gICAgICAgIHByb3AyOlxuICAgICAgICAgIHR5cGU6IHN0cmluZ1xuICAgICAgICAgIG1pbkxlbmd0aDogMTBcblxuICAgICAgVGhlIGFib292ZSBTY2hlbSBzaG91bGQgZ2VuZXJhdGUgdGhlIGZvbGxvd2luZyAyIGV4YW1wbGVzXG5cbiAgICAgIEV4YW1wbGUtMVxuICAgICAge1xuICAgICAgICBwcm9wMTogJ3N0cmluZycsXG4gICAgICAgIHByb3AyOiAnQUFBQUFBQUFBQScsICAgICAgIDwtLSBtaW4tbGVuZ3RoIDEwXG4gICAgICAgIG9wdGlvbjFfUHJvcEE6ICdzdHJpbmcnLFxuICAgICAgICBvcHRpb24xX1Byb3BCOiAnc3RyaW5nJ1xuICAgICAgfVxuXG4gICAgICBFeGFtcGxlLTJcbiAgICAgIHtcbiAgICAgICAgcHJvcDE6ICdzdHJpbmcnLFxuICAgICAgICBwcm9wMjogJ0FBQUFBQUFBQUEnLCAgICAgICA8LS0gbWluLWxlbmd0aCAxMFxuICAgICAgICBvcHRpb24yX1Byb3BYOiAnc3RyaW5nJ1xuICAgICAgfVxuICAgICAgKi9cbiAgICAgIGxldCBpID0gMDtcbiAgICAgIC8vIE1lcmdlIGFsbCBleGFtcGxlcyBvZiBlYWNoIG9uZU9mLXNjaGVtYVxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLm9uZU9mKSB7XG4gICAgICAgIGNvbnN0IG9uZU9mU2FtcGxlcyA9IHNjaGVtYVRvU2FtcGxlT2JqKHNjaGVtYS5vbmVPZltrZXldLCBjb25maWcpO1xuICAgICAgICBmb3IgKGNvbnN0IHNhbXBsZUtleSBpbiBvbmVPZlNhbXBsZXMpIHtcbiAgICAgICAgICAvLyAyLiBJbiB0aGUgZmluYWwgZXhhbXBsZSBpbmNsdWRlIGEgb25lLW9mIGl0ZW0gYWxvbmcgd2l0aCBwcm9wZXJ0aWVzXG4gICAgICAgICAgbGV0IGZpbmFsRXhhbXBsZTtcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMob2JqV2l0aFNjaGVtYVByb3BzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAob25lT2ZTYW1wbGVzW3NhbXBsZUtleV0gPT09IG51bGwgfHwgdHlwZW9mIG9uZU9mU2FtcGxlc1tzYW1wbGVLZXldICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRvZXNuJ3QgcmVhbGx5IG1ha2Ugc2Vuc2Ugc2luY2UgZXZlcnkgb25lT2Ygc2NoZW1hIF9zaG91bGRfIGJlIGFuIG9iamVjdCBpZiB0aGVyZSBhcmUgY29tbW9uIHByb3BlcnRpZXMsIHNvIHdlJ2xsIHNraXAgdGhpc1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZpbmFsRXhhbXBsZSA9IE9iamVjdC5hc3NpZ24ob25lT2ZTYW1wbGVzW3NhbXBsZUtleV0sIG9ialdpdGhTY2hlbWFQcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsRXhhbXBsZSA9IG9uZU9mU2FtcGxlc1tzYW1wbGVLZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmpbYGV4YW1wbGUtJHtpfWBdID0gZmluYWxFeGFtcGxlO1xuICAgICAgICAgIGFkZFNjaGVtYUluZm9Ub0V4YW1wbGUoc2NoZW1hLm9uZU9mW2tleV0sIG9ialtgZXhhbXBsZS0ke2l9YF0pO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChzY2hlbWEuYW55T2YpIHtcbiAgICAvLyBGaXJzdCBnZW5lcmF0ZSB2YWx1ZXMgZm9yIHJlZ3VsYXIgcHJvcGVydGllc1xuICAgIGxldCBjb21tb25PYmo7XG4gICAgaWYgKHNjaGVtYS50eXBlID09PSAnb2JqZWN0JyB8fCBzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgY29tbW9uT2JqID0geyAnZXhhbXBsZS0wJzoge30gfTtcbiAgICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChzY2hlbWEuZXhhbXBsZSkge1xuICAgICAgICAgIGNvbW1vbk9iaiA9IHNjaGVtYTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5kZXByZWNhdGVkICYmICFjb25maWcuaW5jbHVkZURlcHJlY2F0ZWQpIHsgY29udGludWU7IH1cbiAgICAgICAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0ucmVhZE9ubHkgJiYgIWNvbmZpZy5pbmNsdWRlUmVhZE9ubHkpIHsgY29udGludWU7IH1cbiAgICAgICAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0ud3JpdGVPbmx5ICYmICFjb25maWcuaW5jbHVkZVdyaXRlT25seSkgeyBjb250aW51ZTsgfVxuICAgICAgICBjb21tb25PYmogPSBtZXJnZVByb3BlcnR5RXhhbXBsZXMoY29tbW9uT2JqLCBwcm9wZXJ0eU5hbWUsIHNjaGVtYVRvU2FtcGxlT2JqKHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0sIGNvbmZpZykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbWJpbmUgZXZlcnkgdmFyaWFudCBvZiB0aGUgcmVndWxhciBwcm9wZXJ0aWVzIHdpdGggZXZlcnkgdmFyaWFudCBvZiB0aGUgYW55T2Ygc2FtcGxlc1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuYW55T2YpIHtcbiAgICAgIGNvbnN0IGFueU9mU2FtcGxlcyA9IHNjaGVtYVRvU2FtcGxlT2JqKHNjaGVtYS5hbnlPZltrZXldLCBjb25maWcpO1xuICAgICAgZm9yIChjb25zdCBzYW1wbGVLZXkgaW4gYW55T2ZTYW1wbGVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29tbW9uT2JqICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGZvciAoY29uc3QgY29tbW9uS2V5IGluIGNvbW1vbk9iaikge1xuICAgICAgICAgICAgb2JqW2BleGFtcGxlLSR7aX1gXSA9IHsgLi4uY29tbW9uT2JqW2NvbW1vbktleV0sIC4uLmFueU9mU2FtcGxlc1tzYW1wbGVLZXldIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9ialtgZXhhbXBsZS0ke2l9YF0gPSBhbnlPZlNhbXBsZXNbc2FtcGxlS2V5XTtcbiAgICAgICAgfVxuICAgICAgICBhZGRTY2hlbWFJbmZvVG9FeGFtcGxlKHNjaGVtYS5hbnlPZltrZXldLCBvYmpbYGV4YW1wbGUtJHtpfWBdKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChzY2hlbWEudHlwZSA9PT0gJ29iamVjdCcgfHwgc2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICBvYmpbJ2V4YW1wbGUtMCddID0ge307XG4gICAgYWRkU2NoZW1hSW5mb1RvRXhhbXBsZShzY2hlbWEsIG9ialsnZXhhbXBsZS0wJ10pO1xuICAgIGlmIChzY2hlbWEuZXhhbXBsZSkge1xuICAgICAgb2JqWydleGFtcGxlLTAnXSA9IHNjaGVtYS5leGFtcGxlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXT8uZGVwcmVjYXRlZCAmJiAhY29uZmlnLmluY2x1ZGVEZXByZWNhdGVkKSB7IGNvbnRpbnVlOyB9XG4gICAgICAgIGlmIChzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdPy5yZWFkT25seSAmJiAhY29uZmlnLmluY2x1ZGVSZWFkT25seSkgeyBjb250aW51ZTsgfVxuICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXT8ud3JpdGVPbmx5ICYmICFjb25maWcuaW5jbHVkZVdyaXRlT25seSkgeyBjb250aW51ZTsgfVxuICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXT8udHlwZSA9PT0gJ2FycmF5JyB8fCBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdPy5pdGVtcykge1xuICAgICAgICAgIGlmIChzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLmV4YW1wbGUpIHtcbiAgICAgICAgICAgIGFkZFByb3BlcnR5RXhhbXBsZVRvT2JqZWN0RXhhbXBsZXMoc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5leGFtcGxlLCBvYmosIHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdPy5pdGVtcz8uZXhhbXBsZSkgeyAvLyBzY2hlbWFzIGFuZCBwcm9wZXJ0aWVzIHN1cHBvcnQgc2luZ2xlIGV4YW1wbGUgYnV0IG5vdCBtdWx0aXBsZSBleGFtcGxlcy5cbiAgICAgICAgICAgIGFkZFByb3BlcnR5RXhhbXBsZVRvT2JqZWN0RXhhbXBsZXMoW3NjaGVtYS5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0uaXRlbXMuZXhhbXBsZV0sIG9iaiwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXRlbVNhbXBsZXMgPSBzY2hlbWFUb1NhbXBsZU9iaihzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLml0ZW1zLCBjb25maWcpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VYbWxUYWdGb3JQcm9wKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHhtbFRhZ05hbWUgPSBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLnhtbD8ubmFtZSB8fCBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICAgIGlmIChzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLnhtbD8ud3JhcHBlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRJdGVtU2FtcGxlID0gSlNPTi5wYXJzZShgeyBcIiR7eG1sVGFnTmFtZX1cIiA6IHsgXCIke3htbFRhZ05hbWV9XCIgOiAke0pTT04uc3RyaW5naWZ5KGl0ZW1TYW1wbGVzWydleGFtcGxlLTAnXSl9IH0gfWApO1xuICAgICAgICAgICAgICAgIG9iaiA9IG1lcmdlUHJvcGVydHlFeGFtcGxlcyhvYmosIHhtbFRhZ05hbWUsIHdyYXBwZWRJdGVtU2FtcGxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmogPSBtZXJnZVByb3BlcnR5RXhhbXBsZXMob2JqLCB4bWxUYWdOYW1lLCBpdGVtU2FtcGxlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFycmF5U2FtcGxlcyA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpdGVtU2FtcGxlcykge1xuICAgICAgICAgICAgICAgIGFycmF5U2FtcGxlc1trZXldID0gW2l0ZW1TYW1wbGVzW2tleV1dO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9iaiA9IG1lcmdlUHJvcGVydHlFeGFtcGxlcyhvYmosIHByb3BlcnR5TmFtZSwgYXJyYXlTYW1wbGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqID0gbWVyZ2VQcm9wZXJ0eUV4YW1wbGVzKG9iaiwgcHJvcGVydHlOYW1lLCBzY2hlbWFUb1NhbXBsZU9iaihzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLCBjb25maWcpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoc2NoZW1hLnR5cGUgPT09ICdhcnJheScgfHwgc2NoZW1hLml0ZW1zKSB7XG4gICAgaWYgKHNjaGVtYS5pdGVtcyB8fCBzY2hlbWEuZXhhbXBsZSkge1xuICAgICAgaWYgKHNjaGVtYS5leGFtcGxlKSB7XG4gICAgICAgIG9ialsnZXhhbXBsZS0wJ10gPSBzY2hlbWEuZXhhbXBsZTtcbiAgICAgIH0gZWxzZSBpZiAoc2NoZW1hLml0ZW1zPy5leGFtcGxlKSB7IC8vIHNjaGVtYXMgYW5kIHByb3BlcnRpZXMgc3VwcG9ydCBzaW5nbGUgZXhhbXBsZSBidXQgbm90IG11bHRpcGxlIGV4YW1wbGVzLlxuICAgICAgICBvYmpbJ2V4YW1wbGUtMCddID0gW3NjaGVtYS5pdGVtcy5leGFtcGxlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNhbXBsZXMgPSBzY2hlbWFUb1NhbXBsZU9iaihzY2hlbWEuaXRlbXMsIGNvbmZpZyk7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2FtcGxlcykge1xuICAgICAgICAgIG9ialtgZXhhbXBsZS0ke2l9YF0gPSBbc2FtcGxlc1trZXldXTtcbiAgICAgICAgICBhZGRTY2hlbWFJbmZvVG9FeGFtcGxlKHNjaGVtYS5pdGVtcywgb2JqW2BleGFtcGxlLSR7aX1gXSk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialsnZXhhbXBsZS0wJ10gPSBbXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgJ2V4YW1wbGUtMCc6IGdldFNhbXBsZVZhbHVlQnlUeXBlKHNjaGVtYSkgfTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZU1hcmtkb3duRm9yQXJyYXlBbmRPYmplY3REZXNjcmlwdGlvbihzY2hlbWEsIGxldmVsID0gMCkge1xuICBsZXQgbWFya2Rvd24gPSAoKHNjaGVtYS5kZXNjcmlwdGlvbiB8fCBzY2hlbWEudGl0bGUpICYmIChzY2hlbWEubWluSXRlbXMgfHwgc2NoZW1hLm1heEl0ZW1zKSkgPyAnPHNwYW4gY2xhc3M9XCJkZXNjci1leHBhbmQtdG9nZ2xlXCI+4p6UPC9zcGFuPicgOiAnJztcbiAgaWYgKHNjaGVtYS50aXRsZSkge1xuICAgIGlmIChzY2hlbWEuZGVzY3JpcHRpb24pIHtcbiAgICAgIG1hcmtkb3duID0gYCR7bWFya2Rvd259IDxiPiR7c2NoZW1hLnRpdGxlfTo8L2I+ICR7c2NoZW1hLmRlc2NyaXB0aW9ufTxici8+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFya2Rvd24gPSBgJHttYXJrZG93bn0gJHtzY2hlbWEudGl0bGV9PGJyLz5gO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzY2hlbWEuZGVzY3JpcHRpb24pIHtcbiAgICBtYXJrZG93biA9IGAke21hcmtkb3dufSAke3NjaGVtYS5kZXNjcmlwdGlvbn08YnIvPmA7XG4gIH1cbiAgaWYgKHNjaGVtYS5taW5JdGVtcykge1xuICAgIG1hcmtkb3duID0gYCR7bWFya2Rvd259IDxiPk1pbiBJdGVtczo8L2I+ICR7c2NoZW1hLm1pbkl0ZW1zfWA7XG4gIH1cbiAgaWYgKHNjaGVtYS5tYXhJdGVtcykge1xuICAgIG1hcmtkb3duID0gYCR7bWFya2Rvd259IDxiPk1heCBJdGVtczo8L2I+ICR7c2NoZW1hLm1heEl0ZW1zfWA7XG4gIH1cbiAgaWYgKGxldmVsID4gMCAmJiBzY2hlbWEuaXRlbXM/LmRlc2NyaXB0aW9uKSB7XG4gICAgbGV0IGl0ZW1zTWFya2Rvd24gPSAnJztcbiAgICBpZiAoc2NoZW1hLml0ZW1zLm1pblByb3BlcnRpZXMpIHtcbiAgICAgIGl0ZW1zTWFya2Rvd24gPSBgPGI+TWluIFByb3BlcnRpZXM6PC9iPiAke3NjaGVtYS5pdGVtcy5taW5Qcm9wZXJ0aWVzfWA7XG4gICAgfVxuICAgIGlmIChzY2hlbWEuaXRlbXMubWF4UHJvcGVydGllcykge1xuICAgICAgaXRlbXNNYXJrZG93biA9IGAke2l0ZW1zTWFya2Rvd259IDxiPk1heCBQcm9wZXJ0aWVzOjwvYj4gJHtzY2hlbWEuaXRlbXMubWF4UHJvcGVydGllc31gO1xuICAgIH1cbiAgICBtYXJrZG93biA9IGAke21hcmtkb3dufSDirpUgJHtpdGVtc01hcmtkb3dufSBbICR7c2NoZW1hLml0ZW1zLmRlc2NyaXB0aW9ufSBdIGA7XG4gIH1cbiAgcmV0dXJuIG1hcmtkb3duO1xufVxuLyoqXG4gKiBGb3IgY2hhbmdpbmcgT3BlbkFQSS1TY2hlbWEgdG8gYW4gT2JqZWN0IE5vdGF0aW9uLFxuICogVGhpcyBPYmplY3Qgd291bGQgZnVydGhlciBiZSBhbiBpbnB1dCB0byBVSSBDb21wb25lbnRzIHRvIGdlbmVyYXRlIGFuIE9iamVjdC1UcmVlXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hIC0gU2NoZW1hIG9iamVjdCBmcm9tIE9wZW5BUEkgc3BlY1xuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIHJlY3Vyc2l2bHkgcGFzcyB0aGlzIG9iamVjdCB0byBnZW5lcmF0ZSBvYmplY3Qgbm90YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIHJlY3Vyc2lvbiBsZXZlbFxuICogQHBhcmFtIHtzdHJpbmd9IHN1ZmZpeCAtIHVzZWQgZm9yIHN1ZmZpeGluZyBwcm9wZXJ0eSBuYW1lcyB0byBhdm9pZCBkdXBsaWNhdGUgcHJvcHMgZHVyaW5nIG9iamVjdCBjb21wb3Npb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVtYUluT2JqZWN0Tm90YXRpb24oc2NoZW1hLCBvYmosIGxldmVsID0gMCwgc3VmZml4ID0gJycpIHtcbiAgaWYgKCFzY2hlbWEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHNjaGVtYS5hbGxPZikge1xuICAgIGNvbnN0IG9ialdpdGhBbGxQcm9wcyA9IHt9O1xuICAgIGlmIChzY2hlbWEuYWxsT2YubGVuZ3RoID09PSAxICYmICFzY2hlbWEuYWxsT2ZbMF0ucHJvcGVydGllcyAmJiAhc2NoZW1hLmFsbE9mWzBdLml0ZW1zKSB7XG4gICAgICAvLyBJZiBhbGxPZiBoYXMgc2luZ2xlIGl0ZW0gYW5kIHRoZSB0eXBlIGlzIG5vdCBhbiBvYmplY3Qgb3IgYXJyYXksIHRoZW4gaXRzIGEgcHJpbWl0aXZlXG4gICAgICBjb25zdCB0ZW1wU2NoZW1hID0gc2NoZW1hLmFsbE9mWzBdO1xuICAgICAgcmV0dXJuIGAke2dldFR5cGVJbmZvKHRlbXBTY2hlbWEpLmh0bWx9YDtcbiAgICB9XG4gICAgLy8gSWYgYWxsT2YgaXMgYW4gYXJyYXkgb2YgbXVsdGlwbGUgZWxlbWVudHMsIHRoZW4gYWxsIHRoZSBrZXlzIG1ha2VzIGEgc2luZ2xlIG9iamVjdFxuICAgIHNjaGVtYS5hbGxPZi5tYXAoKHYsIGkpID0+IHtcbiAgICAgIGlmICh2LnR5cGUgPT09ICdvYmplY3QnIHx8IHYucHJvcGVydGllcyB8fCB2LmFsbE9mIHx8IHYuYW55T2YgfHwgdi5vbmVPZikge1xuICAgICAgICBjb25zdCBwcm9wU3VmZml4ID0gKHYuYW55T2YgfHwgdi5vbmVPZikgJiYgaSA+IDAgPyBpIDogJyc7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxPYmogPSBzY2hlbWFJbk9iamVjdE5vdGF0aW9uKHYsIHt9LCAobGV2ZWwgKyAxKSwgcHJvcFN1ZmZpeCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob2JqV2l0aEFsbFByb3BzLCBwYXJ0aWFsT2JqKTtcbiAgICAgIH0gZWxzZSBpZiAodi50eXBlID09PSAnYXJyYXknIHx8IHYuaXRlbXMpIHtcbiAgICAgICAgY29uc3QgcGFydGlhbE9iaiA9IHNjaGVtYUluT2JqZWN0Tm90YXRpb24odiwge30sIChsZXZlbCArIDEpKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvYmpXaXRoQWxsUHJvcHMsIHBhcnRpYWxPYmopO1xuICAgICAgfSBlbHNlIGlmICh2LnR5cGUpIHtcbiAgICAgICAgY29uc3QgcHJvcCA9IGBwcm9wJHtPYmplY3Qua2V5cyhvYmpXaXRoQWxsUHJvcHMpLmxlbmd0aH1gO1xuICAgICAgICBjb25zdCB0eXBlT2JqID0gZ2V0VHlwZUluZm8odik7XG4gICAgICAgIG9ialdpdGhBbGxQcm9wc1twcm9wXSA9IGAke3R5cGVPYmouaHRtbH1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9iaiA9IG9ialdpdGhBbGxQcm9wcztcbiAgfSBlbHNlIGlmIChzY2hlbWEuYW55T2YgfHwgc2NoZW1hLm9uZU9mKSB7XG4gICAgb2JqWyc6OmRlc2NyaXB0aW9uJ10gPSBzY2hlbWEuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgLy8gMS4gRmlyc3QgaXRlcmF0ZSB0aGUgcmVndWxhciBwcm9wZXJ0aWVzXG4gICAgaWYgKHNjaGVtYS50eXBlID09PSAnb2JqZWN0JyB8fCBzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgb2JqWyc6OmRlc2NyaXB0aW9uJ10gPSBzY2hlbWEuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICBvYmpbJzo6dHlwZSddID0gJ29iamVjdCc7XG4gICAgICAvLyBvYmpbJzo6ZGVwcmVjYXRlZCddID0gc2NoZW1hLmRlcHJlY2F0ZWQgfHwgZmFsc2U7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICBpZiAoc2NoZW1hLnJlcXVpcmVkICYmIHNjaGVtYS5yZXF1aXJlZC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgb2JqW2Ake2tleX0qYF0gPSBzY2hlbWFJbk9iamVjdE5vdGF0aW9uKHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHt9LCAobGV2ZWwgKyAxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqW2tleV0gPSBzY2hlbWFJbk9iamVjdE5vdGF0aW9uKHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHt9LCAobGV2ZWwgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gMi4gVGhlbiBzaG93IGFsbG9mL2FueW9mIG9iamVjdHNcbiAgICBjb25zdCBvYmpXaXRoQW55T2ZQcm9wcyA9IHt9O1xuICAgIGNvbnN0IHh4eE9mID0gc2NoZW1hLmFueU9mID8gJ2FueU9mJyA6ICdvbmVPZic7XG4gICAgc2NoZW1hW3h4eE9mXS5mb3JFYWNoKCh2LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKHYudHlwZSA9PT0gJ29iamVjdCcgfHwgdi5wcm9wZXJ0aWVzIHx8IHYuYWxsT2YgfHwgdi5hbnlPZiB8fCB2Lm9uZU9mKSB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxPYmogPSBzY2hlbWFJbk9iamVjdE5vdGF0aW9uKHYsIHt9KTtcbiAgICAgICAgb2JqV2l0aEFueU9mUHJvcHNbYDo6T1BUSU9OfiR7aW5kZXggKyAxfSR7di50aXRsZSA/IGB+JHt2LnRpdGxlfWAgOiAnJ31gXSA9IHBhcnRpYWxPYmo7XG4gICAgICAgIG9ialdpdGhBbnlPZlByb3BzW2A6Ok9QVElPTn4ke2luZGV4ICsgMX0ke3YudGl0bGUgPyBgfiR7di50aXRsZX1gIDogJyd9YF1bJzo6cmVhZHdyaXRlJ10gPSAnJzsgLy8geHh4LW9wdGlvbnMgY2Fubm90IGJlIHJlYWQgb3Igd3JpdGUgb25seVxuICAgICAgICBvYmpXaXRoQW55T2ZQcm9wc1snOjp0eXBlJ10gPSAneHh4LW9mLW9wdGlvbic7XG4gICAgICB9IGVsc2UgaWYgKHYudHlwZSA9PT0gJ2FycmF5JyB8fCB2Lml0ZW1zKSB7XG4gICAgICAgIC8vIFRoaXMgZWxzZS1pZiBibG9jayBuZXZlciBzZWVtcyB0byBnZXQgZXhlY3V0ZWRcbiAgICAgICAgY29uc3QgcGFydGlhbE9iaiA9IHNjaGVtYUluT2JqZWN0Tm90YXRpb24odiwge30pO1xuICAgICAgICBvYmpXaXRoQW55T2ZQcm9wc1tgOjpPUFRJT05+JHtpbmRleCArIDF9JHt2LnRpdGxlID8gYH4ke3YudGl0bGV9YCA6ICcnfWBdID0gcGFydGlhbE9iajtcbiAgICAgICAgb2JqV2l0aEFueU9mUHJvcHNbYDo6T1BUSU9OfiR7aW5kZXggKyAxfSR7di50aXRsZSA/IGB+JHt2LnRpdGxlfWAgOiAnJ31gXVsnOjpyZWFkd3JpdGUnXSA9ICcnOyAvLyB4eHgtb3B0aW9ucyBjYW5ub3QgYmUgcmVhZCBvciB3cml0ZSBvbmx5XG4gICAgICAgIG9ialdpdGhBbnlPZlByb3BzWyc6OnR5cGUnXSA9ICd4eHgtb2YtYXJyYXknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcHJvcCA9IGA6Ok9QVElPTn4ke2luZGV4ICsgMX0ke3YudGl0bGUgPyBgfiR7di50aXRsZX1gIDogJyd9YDtcbiAgICAgICAgb2JqV2l0aEFueU9mUHJvcHNbcHJvcF0gPSBgJHtnZXRUeXBlSW5mbyh2KS5odG1sfWA7XG4gICAgICAgIG9ialdpdGhBbnlPZlByb3BzWyc6OnR5cGUnXSA9ICd4eHgtb2Ytb3B0aW9uJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvYmpbKHNjaGVtYS5hbnlPZiA/IGA6OkFOWX5PRiAke3N1ZmZpeH1gIDogYDo6T05Ffk9GICR7c3VmZml4fWApXSA9IG9ialdpdGhBbnlPZlByb3BzO1xuICAgIC8vIG9ialsnOjp0eXBlJ10gPSAnb2JqZWN0JztcbiAgICBvYmpbJzo6dHlwZSddID0gJ29iamVjdCc7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkpIHtcbiAgICAvLyBXaGVuIGEgcHJvcGVydHkgaGFzIG11bHRpcGxlIHR5cGVzLCB0aGVuIGNoZWNrIGZ1cnRoZXIgaWYgYW55IG9mIHRoZSB0eXBlcyBhcmUgYXJyYXkgb3Igb2JqZWN0LCBpZiB5ZXMgdGhlbiBtb2RpZnkgdGhlIHNjaGVtYSB1c2luZyBvbmUtb2ZcbiAgICAvLyBDbG9uZSB0aGUgc2NoZW1hIC0gYXMgaXQgd2lsbCBiZSBtb2RpZmllZCB0byByZXBsYWNlIG11bHRpLWRhdGEtdHlwZXMgd2l0aCBvbmUtb2Y7XG4gICAgY29uc3Qgc3ViU2NoZW1hID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzY2hlbWEpKTtcbiAgICBjb25zdCBwcmltaXRpdmVUeXBlID0gW107XG4gICAgY29uc3QgY29tcGxleFR5cGVzID0gW107XG4gICAgc3ViU2NoZW1hLnR5cGUuZm9yRWFjaCgodikgPT4ge1xuICAgICAgaWYgKHYubWF0Y2goL2ludGVnZXJ8bnVtYmVyfHN0cmluZ3xudWxsfGJvb2xlYW4vZykpIHtcbiAgICAgICAgcHJpbWl0aXZlVHlwZS5wdXNoKHYpO1xuICAgICAgfSBlbHNlIGlmICh2ID09PSAnYXJyYXknICYmIHR5cGVvZiBzdWJTY2hlbWEuaXRlbXM/LnR5cGUgPT09ICdzdHJpbmcnICYmIHN1YlNjaGVtYS5pdGVtcz8udHlwZS5tYXRjaCgvaW50ZWdlcnxudW1iZXJ8c3RyaW5nfG51bGx8Ym9vbGVhbi9nKSkge1xuICAgICAgICAvLyBBcnJheSB3aXRoIHByaW1pdGl2ZSB0eXBlcyBzaG91bGQgYWxzbyBiZSB0cmVhdGVkIGFzIHByaW1pdGl2ZSB0eXBlXG4gICAgICAgIGlmIChzdWJTY2hlbWEuaXRlbXMudHlwZSA9PT0gJ3N0cmluZycgJiYgc3ViU2NoZW1hLml0ZW1zLmZvcm1hdCkge1xuICAgICAgICAgIHByaW1pdGl2ZVR5cGUucHVzaChgWyR7c3ViU2NoZW1hLml0ZW1zLmZvcm1hdH1dYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJpbWl0aXZlVHlwZS5wdXNoKGBbJHtzdWJTY2hlbWEuaXRlbXMudHlwZX1dYCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXhUeXBlcy5wdXNoKHYpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBtdWx0aVByaW1pdGl2ZVR5cGVzO1xuICAgIGlmIChwcmltaXRpdmVUeXBlLmxlbmd0aCA+IDApIHtcbiAgICAgIHN1YlNjaGVtYS50eXBlID0gcHJpbWl0aXZlVHlwZS5qb2luKHByaW1pdGl2ZVR5cGUubGVuZ3RoID09PSAyID8gJyBvciAnIDogJ+KUgycpO1xuICAgICAgbXVsdGlQcmltaXRpdmVUeXBlcyA9IGdldFR5cGVJbmZvKHN1YlNjaGVtYSk7XG4gICAgICBpZiAoY29tcGxleFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYCR7bXVsdGlQcmltaXRpdmVUeXBlcz8uaHRtbCB8fCAnJ31gO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29tcGxleFR5cGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIG9ialsnOjp0eXBlJ10gPSAnb2JqZWN0JztcbiAgICAgIGNvbnN0IG11bHRpVHlwZU9wdGlvbnMgPSB7XG4gICAgICAgICc6OnR5cGUnOiAneHh4LW9mLW9wdGlvbicsXG4gICAgICB9O1xuXG4gICAgICAvLyBHZW5lcmF0ZSBPTkUtT0Ygb3B0aW9ucyBmb3IgY29tcGxleFR5cGVzXG4gICAgICBjb21wbGV4VHlwZXMuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgICBpZiAodiA9PT0gJ251bGwnKSB7XG4gICAgICAgICAgbXVsdGlUeXBlT3B0aW9uc1tgOjpPUFRJT05+JHtpICsgMX1gXSA9ICdOVUxMfnx+fnx+fnx+fnx+fnx+fnx+fnx+fnx+JztcbiAgICAgICAgfSBlbHNlIGlmICgnaW50ZWdlciwgbnVtYmVyLCBzdHJpbmcsIGJvb2xlYW4sJy5pbmNsdWRlcyhgJHt2fSxgKSkge1xuICAgICAgICAgIHN1YlNjaGVtYS50eXBlID0gQXJyYXkuaXNBcnJheSh2KSA/IHYuam9pbign4pSDJykgOiB2O1xuICAgICAgICAgIGNvbnN0IHByaW1pdGl2ZVR5cGVJbmZvID0gZ2V0VHlwZUluZm8oc3ViU2NoZW1hKTtcbiAgICAgICAgICBtdWx0aVR5cGVPcHRpb25zW2A6Ok9QVElPTn4ke2kgKyAxfWBdID0gcHJpbWl0aXZlVHlwZUluZm8uaHRtbDtcbiAgICAgICAgfSBlbHNlIGlmICh2ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIElmIG9iamVjdCB0eXBlIGl0ZXJhdGUgYWxsIHRoZSBwcm9wZXJ0aWVzIGFuZCBjcmVhdGUgYW4gb2JqZWN0LXR5cGUtb3B0aW9uXG4gICAgICAgICAgY29uc3Qgb2JqVHlwZU9wdGlvbiA9IHtcbiAgICAgICAgICAgICc6OnRpdGxlJzogc2NoZW1hLnRpdGxlIHx8ICcnLFxuICAgICAgICAgICAgJzo6ZGVzY3JpcHRpb24nOiBzY2hlbWEuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgICAnOjp0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAnOjpkZXByZWNhdGVkJzogc2NoZW1hLmRlcHJlY2F0ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5yZXF1aXJlZCAmJiBzY2hlbWEucmVxdWlyZWQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICBvYmpUeXBlT3B0aW9uW2Ake2tleX0qYF0gPSBzY2hlbWFJbk9iamVjdE5vdGF0aW9uKHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHt9LCAobGV2ZWwgKyAxKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvYmpUeXBlT3B0aW9uW2tleV0gPSBzY2hlbWFJbk9iamVjdE5vdGF0aW9uKHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHt9LCAobGV2ZWwgKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG11bHRpVHlwZU9wdGlvbnNbYDo6T1BUSU9OfiR7aSArIDF9YF0gPSBvYmpUeXBlT3B0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKHYgPT09ICdhcnJheScpIHtcbiAgICAgICAgICBtdWx0aVR5cGVPcHRpb25zW2A6Ok9QVElPTn4ke2kgKyAxfWBdID0ge1xuICAgICAgICAgICAgJzo6dGl0bGUnOiBzY2hlbWEudGl0bGUgfHwgJycsXG4gICAgICAgICAgICAnOjpkZXNjcmlwdGlvbic6IHNjaGVtYS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICc6OnR5cGUnOiAnYXJyYXknLFxuICAgICAgICAgICAgJzo6cHJvcHMnOiBzY2hlbWFJbk9iamVjdE5vdGF0aW9uKHNjaGVtYS5pdGVtcywge30sIChsZXZlbCArIDEpKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG11bHRpVHlwZU9wdGlvbnNbYDo6T1BUSU9OfiR7Y29tcGxleFR5cGVzLmxlbmd0aCArIDF9YF0gPSBtdWx0aVByaW1pdGl2ZVR5cGVzPy5odG1sIHx8ICcnO1xuICAgICAgb2JqWyc6Ok9ORX5PRiddID0gbXVsdGlUeXBlT3B0aW9ucztcbiAgICB9XG4gIH0gZWxzZSBpZiAoc2NoZW1hLnR5cGUgPT09ICdvYmplY3QnIHx8IHNjaGVtYS5wcm9wZXJ0aWVzKSB7IC8vIElmIE9iamVjdFxuICAgIG9ialsnOjp0aXRsZSddID0gc2NoZW1hLnRpdGxlIHx8ICcnO1xuICAgIG9ialsnOjpkZXNjcmlwdGlvbiddID0gZ2VuZXJhdGVNYXJrZG93bkZvckFycmF5QW5kT2JqZWN0RGVzY3JpcHRpb24oc2NoZW1hLCBsZXZlbCk7XG4gICAgb2JqWyc6OnR5cGUnXSA9ICdvYmplY3QnO1xuICAgIGlmICgoQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkgJiYgc2NoZW1hLnR5cGUuaW5jbHVkZXMoJ251bGwnKSkgfHwgc2NoZW1hLm51bGxhYmxlKSB7XG4gICAgICBvYmpbJzo6ZGF0YVR5cGVMYWJlbCddID0gJ29iamVjdCBvciBudWxsJztcbiAgICB9XG4gICAgb2JqWyc6OmRlcHJlY2F0ZWQnXSA9IHNjaGVtYS5kZXByZWNhdGVkIHx8IGZhbHNlO1xuICAgIG9ialsnOjpyZWFkd3JpdGUnXSA9IHNjaGVtYS5yZWFkT25seSA/ICdyZWFkb25seScgOiBzY2hlbWEud3JpdGVPbmx5ID8gJ3dyaXRlb25seScgOiAnJztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgaWYgKHNjaGVtYS5yZXF1aXJlZCAmJiBzY2hlbWEucmVxdWlyZWQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICBvYmpbYCR7a2V5fSpgXSA9IHNjaGVtYUluT2JqZWN0Tm90YXRpb24oc2NoZW1hLnByb3BlcnRpZXNba2V5XSwge30sIChsZXZlbCArIDEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9ialtrZXldID0gc2NoZW1hSW5PYmplY3ROb3RhdGlvbihzY2hlbWEucHJvcGVydGllc1trZXldLCB7fSwgKGxldmVsICsgMSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgIG9ialtgW3BhdHRlcm46ICR7a2V5fV1gXSA9IHNjaGVtYUluT2JqZWN0Tm90YXRpb24oc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW2tleV0sIG9iaiwgKGxldmVsICsgMSkpO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKSB7XG4gICAgICBvYmpbJ1thbnkta2V5XSddID0gc2NoZW1hSW5PYmplY3ROb3RhdGlvbihzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMsIHt9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc2NoZW1hLnR5cGUgPT09ICdhcnJheScgfHwgc2NoZW1hLml0ZW1zKSB7IC8vIElmIEFycmF5XG4gICAgb2JqWyc6OnRpdGxlJ10gPSBzY2hlbWEudGl0bGUgfHwgJyc7XG4gICAgb2JqWyc6OmRlc2NyaXB0aW9uJ10gPSBnZW5lcmF0ZU1hcmtkb3duRm9yQXJyYXlBbmRPYmplY3REZXNjcmlwdGlvbihzY2hlbWEsIGxldmVsKTtcbiAgICBvYmpbJzo6dHlwZSddID0gJ2FycmF5JztcbiAgICBpZiAoKEFycmF5LmlzQXJyYXkoc2NoZW1hLnR5cGUpICYmIHNjaGVtYS50eXBlLmluY2x1ZGVzKCdudWxsJykpIHx8IHNjaGVtYS5udWxsYWJsZSkge1xuICAgICAgb2JqWyc6OmRhdGFUeXBlTGFiZWwnXSA9ICdhcnJheSBvciBudWxsJztcbiAgICB9XG4gICAgb2JqWyc6OmRlcHJlY2F0ZWQnXSA9IHNjaGVtYS5kZXByZWNhdGVkIHx8IGZhbHNlO1xuICAgIG9ialsnOjpyZWFkd3JpdGUnXSA9IHNjaGVtYS5yZWFkT25seSA/ICdyZWFkb25seScgOiBzY2hlbWEud3JpdGVPbmx5ID8gJ3dyaXRlb25seScgOiAnJztcbiAgICBpZiAoc2NoZW1hLml0ZW1zPy5pdGVtcykge1xuICAgICAgb2JqWyc6OmFycmF5LXR5cGUnXSA9IHNjaGVtYS5pdGVtcy5pdGVtcy50eXBlO1xuICAgIH1cbiAgICBvYmpbJzo6cHJvcHMnXSA9IHNjaGVtYUluT2JqZWN0Tm90YXRpb24oc2NoZW1hLml0ZW1zLCB7fSwgKGxldmVsICsgMSkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHR5cGVPYmogPSBnZXRUeXBlSW5mbyhzY2hlbWEpO1xuICAgIGlmICh0eXBlT2JqPy5odG1sKSB7XG4gICAgICByZXR1cm4gYCR7dHlwZU9iai5odG1sfWA7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKiBDcmVhdGUgRXhhbXBsZSBvYmplY3QgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUV4YW1wbGUoc2NoZW1hLCBtaW1lVHlwZSwgZXhhbXBsZXMgPSAnJywgZXhhbXBsZSA9ICcnLCBpbmNsdWRlUmVhZE9ubHkgPSB0cnVlLCBpbmNsdWRlV3JpdGVPbmx5ID0gdHJ1ZSwgb3V0cHV0VHlwZSA9ICdqc29uJywgaW5jbHVkZUdlbmVyYXRlZEV4YW1wbGUgPSBmYWxzZSkge1xuICBjb25zdCBmaW5hbEV4YW1wbGVzID0gW107XG4gIC8vIEZpcnN0IGNoZWNrIGlmIGV4YW1wbGVzIGlzIHByb3ZpZGVkXG4gIGlmIChleGFtcGxlcykge1xuICAgIGZvciAoY29uc3QgZWcgaW4gZXhhbXBsZXMpIHtcbiAgICAgIGxldCBlZ0NvbnRlbnQgPSAnJztcbiAgICAgIGxldCBlZ0Zvcm1hdCA9ICdqc29uJztcbiAgICAgIGlmIChtaW1lVHlwZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnanNvbicpKSB7XG4gICAgICAgIGlmIChvdXRwdXRUeXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICBlZ0NvbnRlbnQgPSB0eXBlb2YgZXhhbXBsZXNbZWddLnZhbHVlID09PSAnc3RyaW5nJyA/IGV4YW1wbGVzW2VnXS52YWx1ZSA6IEpTT04uc3RyaW5naWZ5KGV4YW1wbGVzW2VnXS52YWx1ZSwgdW5kZWZpbmVkLCAyKTtcbiAgICAgICAgICBlZ0Zvcm1hdCA9ICd0ZXh0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlZ0NvbnRlbnQgPSBleGFtcGxlc1tlZ10udmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBleGFtcGxlc1tlZ10udmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyBjb25zdCBmaXhlZEpzb25TdHJpbmcgPSBleGFtcGxlc1tlZ10udmFsdWUucmVwbGFjZSgoLyhbXFx3XSspKDopL2cpLCAnXCIkMVwiJDInKS5yZXBsYWNlKCgvJy9nKSwgJ1wiJyk7XG4gICAgICAgICAgICAgIGNvbnN0IGZpeGVkSnNvblN0cmluZyA9IGV4YW1wbGVzW2VnXS52YWx1ZTtcbiAgICAgICAgICAgICAgZWdDb250ZW50ID0gSlNPTi5wYXJzZShmaXhlZEpzb25TdHJpbmcpO1xuICAgICAgICAgICAgICBlZ0Zvcm1hdCA9ICdqc29uJztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBlZ0Zvcm1hdCA9ICd0ZXh0JztcbiAgICAgICAgICAgICAgZWdDb250ZW50ID0gZXhhbXBsZXNbZWddLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWdDb250ZW50ID0gZXhhbXBsZXNbZWddLnZhbHVlO1xuICAgICAgICBlZ0Zvcm1hdCA9ICd0ZXh0JztcbiAgICAgIH1cblxuICAgICAgZmluYWxFeGFtcGxlcy5wdXNoKHtcbiAgICAgICAgZXhhbXBsZUlkOiBlZyxcbiAgICAgICAgZXhhbXBsZVN1bW1hcnk6IGV4YW1wbGVzW2VnXS5zdW1tYXJ5IHx8IGVnLFxuICAgICAgICBleGFtcGxlRGVzY3JpcHRpb246IGV4YW1wbGVzW2VnXS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgZXhhbXBsZVR5cGU6IG1pbWVUeXBlLFxuICAgICAgICBleGFtcGxlVmFsdWU6IGVnQ29udGVudCxcbiAgICAgICAgZXhhbXBsZUZvcm1hdDogZWdGb3JtYXQsXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhhbXBsZSkge1xuICAgIGxldCBlZ0NvbnRlbnQgPSAnJztcbiAgICBsZXQgZWdGb3JtYXQgPSAnanNvbic7XG4gICAgaWYgKG1pbWVUeXBlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdqc29uJykpIHtcbiAgICAgIGlmIChvdXRwdXRUeXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgZWdDb250ZW50ID0gdHlwZW9mIGV4YW1wbGUgPT09ICdzdHJpbmcnID8gZXhhbXBsZSA6IEpTT04uc3RyaW5naWZ5KGV4YW1wbGUsIHVuZGVmaW5lZCwgMik7XG4gICAgICAgIGVnRm9ybWF0ID0gJ3RleHQnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXhhbXBsZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZWdDb250ZW50ID0gZXhhbXBsZTtcbiAgICAgICAgZWdGb3JtYXQgPSAnanNvbic7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBleGFtcGxlID09PSAnc3RyaW5nJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGVnQ29udGVudCA9IEpTT04ucGFyc2UoZXhhbXBsZSk7XG4gICAgICAgICAgZWdGb3JtYXQgPSAnanNvbic7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGVnRm9ybWF0ID0gJ3RleHQnO1xuICAgICAgICAgIGVnQ29udGVudCA9IGV4YW1wbGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWdDb250ZW50ID0gZXhhbXBsZTtcbiAgICAgIGVnRm9ybWF0ID0gJ3RleHQnO1xuICAgIH1cbiAgICBmaW5hbEV4YW1wbGVzLnB1c2goe1xuICAgICAgZXhhbXBsZUlkOiAnRXhhbXBsZScsXG4gICAgICBleGFtcGxlU3VtbWFyeTogJycsXG4gICAgICBleGFtcGxlRGVzY3JpcHRpb246ICcnLFxuICAgICAgZXhhbXBsZVR5cGU6IG1pbWVUeXBlLFxuICAgICAgZXhhbXBsZVZhbHVlOiBlZ0NvbnRlbnQsXG4gICAgICBleGFtcGxlRm9ybWF0OiBlZ0Zvcm1hdCxcbiAgICB9KTtcbiAgfVxuICAvLyBJZiBzY2hlbWEtbGV2ZWwgZXhhbXBsZXMgYXJlIG5vdCBwcm92aWRlZCBvciBpbmNsdWRlR2VuZXJhdGVkRXhhbXBsZSA9PT0gdHJ1ZSB0aGVuIGdlbmVyYXRlIG9uZSBiYXNlZCBvbiB0aGUgc2NoZW1hIGZpZWxkIHR5cGVzXG4gIGlmIChmaW5hbEV4YW1wbGVzLmxlbmd0aCA9PT0gMCB8fCBpbmNsdWRlR2VuZXJhdGVkRXhhbXBsZSA9PT0gdHJ1ZSkge1xuICAgIGlmIChzY2hlbWEpIHtcbiAgICAgIGlmIChzY2hlbWEuZXhhbXBsZSkge1xuICAgICAgICAvLyBOb3RlOiBEZXByZWNhdGVkOiBUaGUgJ2V4YW1wbGUnIHByb3BlcnR5IGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gMy4xLjAgaW4gZmF2b3Igb2YgdGhlIEpTT04gU2NoZW1hICdleGFtcGxlcycga2V5d29yZFxuICAgICAgICBmaW5hbEV4YW1wbGVzLnB1c2goe1xuICAgICAgICAgIGV4YW1wbGVJZDogJ0V4YW1wbGUnLFxuICAgICAgICAgIGV4YW1wbGVTdW1tYXJ5OiAnJyxcbiAgICAgICAgICBleGFtcGxlRGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgIGV4YW1wbGVUeXBlOiBtaW1lVHlwZSxcbiAgICAgICAgICBleGFtcGxlVmFsdWU6IHNjaGVtYS5leGFtcGxlLFxuICAgICAgICAgIGV4YW1wbGVGb3JtYXQ6ICgobWltZVR5cGU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2pzb24nKSAmJiB0eXBlb2Ygc2NoZW1hLmV4YW1wbGUgPT09ICdvYmplY3QnKSA/ICdqc29uJyA6ICd0ZXh0JyksXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChtaW1lVHlwZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnanNvbicpIHx8IG1pbWVUeXBlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0ZXh0JykgfHwgbWltZVR5cGU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJyovKicpIHx8IG1pbWVUeXBlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd4bWwnKSkge1xuICAgICAgICBsZXQgeG1sUm9vdFN0YXJ0ID0gJyc7XG4gICAgICAgIGxldCB4bWxSb290RW5kID0gJyc7XG4gICAgICAgIGxldCBleGFtcGxlRm9ybWF0ID0gJyc7XG4gICAgICAgIGxldCBleGFtcGxlVmFsdWUgPSAnJztcbiAgICAgICAgaWYgKG1pbWVUeXBlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd4bWwnKSkge1xuICAgICAgICAgIHhtbFJvb3RTdGFydCA9IHNjaGVtYS54bWw/Lm5hbWUgPyBgPCR7c2NoZW1hLnhtbC5uYW1lfSAke3NjaGVtYS54bWwubmFtZXNwYWNlID8gYHhtbG5zPVwiJHtzY2hlbWEueG1sLm5hbWVzcGFjZX1cImAgOiAnJ30+YCA6ICc8cm9vdD4nO1xuICAgICAgICAgIHhtbFJvb3RFbmQgPSBzY2hlbWEueG1sPy5uYW1lID8gYDwvJHtzY2hlbWEueG1sLm5hbWV9PmAgOiAnPC9yb290Pic7XG4gICAgICAgICAgZXhhbXBsZUZvcm1hdCA9ICd0ZXh0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleGFtcGxlRm9ybWF0ID0gb3V0cHV0VHlwZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYW1wbGVzID0gc2NoZW1hVG9TYW1wbGVPYmooc2NoZW1hLCB7IGluY2x1ZGVSZWFkT25seSwgaW5jbHVkZVdyaXRlT25seSwgZGVwcmVjYXRlZDogdHJ1ZSwgdXNlWG1sVGFnRm9yUHJvcDogbWltZVR5cGU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3htbCcpIH0pO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qgc2FtcGxlc0tleSBpbiBzYW1wbGVzKSB7XG4gICAgICAgICAgaWYgKCFzYW1wbGVzW3NhbXBsZXNLZXldKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3VtbWFyeSA9IHNhbXBsZXNbc2FtcGxlc0tleV1bJzo6VElUTEUnXSB8fCBgRXhhbXBsZSAkeysraX1gO1xuICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gc2FtcGxlc1tzYW1wbGVzS2V5XVsnOjpERVNDUklQVElPTiddIHx8ICcnO1xuICAgICAgICAgIGlmIChtaW1lVHlwZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygneG1sJykpIHtcbiAgICAgICAgICAgIGV4YW1wbGVWYWx1ZSA9IGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cXG4ke3htbFJvb3RTdGFydH0ke2pzb24yeG1sKHNhbXBsZXNbc2FtcGxlc0tleV0sIDEpfVxcbiR7eG1sUm9vdEVuZH1gO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmVUaXRsZXNBbmREZXNjcmlwdGlvbnMoc2FtcGxlc1tzYW1wbGVzS2V5XSk7XG4gICAgICAgICAgICBleGFtcGxlVmFsdWUgPSBvdXRwdXRUeXBlID09PSAndGV4dCcgPyBKU09OLnN0cmluZ2lmeShzYW1wbGVzW3NhbXBsZXNLZXldLCBudWxsLCAyKSA6IHNhbXBsZXNbc2FtcGxlc0tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZmluYWxFeGFtcGxlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4YW1wbGVJZDogc2FtcGxlc0tleSxcbiAgICAgICAgICAgIGV4YW1wbGVTdW1tYXJ5OiBzdW1tYXJ5LFxuICAgICAgICAgICAgZXhhbXBsZURlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGV4YW1wbGVUeXBlOiBtaW1lVHlwZSxcbiAgICAgICAgICAgIGV4YW1wbGVGb3JtYXQsXG4gICAgICAgICAgICBleGFtcGxlVmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobWltZVR5cGU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2pvc2UnKSkge1xuICAgICAgICBmaW5hbEV4YW1wbGVzLnB1c2goe1xuICAgICAgICAgIGV4YW1wbGVJZDogJ0V4YW1wbGUnLFxuICAgICAgICAgIGV4YW1wbGVTdW1tYXJ5OiAnQmFzZTY0IEVuY29kZWQnLFxuICAgICAgICAgIGV4YW1wbGVEZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgZXhhbXBsZVR5cGU6IG1pbWVUeXBlLFxuICAgICAgICAgIGV4YW1wbGVWYWx1ZTogc2NoZW1hLnBhdHRlcm4gfHwgJ2JYSnBiZz09JyxcbiAgICAgICAgICBleGFtcGxlRm9ybWF0OiAndGV4dCcsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxFeGFtcGxlcy5wdXNoKHtcbiAgICAgICAgICBleGFtcGxlSWQ6ICdFeGFtcGxlJyxcbiAgICAgICAgICBleGFtcGxlU3VtbWFyeTogJycsXG4gICAgICAgICAgZXhhbXBsZURlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICBleGFtcGxlVHlwZTogbWltZVR5cGUsXG4gICAgICAgICAgZXhhbXBsZVZhbHVlOiAnJyxcbiAgICAgICAgICBleGFtcGxlRm9ybWF0OiAndGV4dCcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBFeGFtcGxlIG9yIFNjaGVtYSBwcm92aWRlZCAoc2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUpXG4gICAgICBmaW5hbEV4YW1wbGVzLnB1c2goe1xuICAgICAgICBleGFtcGxlSWQ6ICdFeGFtcGxlJyxcbiAgICAgICAgZXhhbXBsZVN1bW1hcnk6ICcnLFxuICAgICAgICBleGFtcGxlRGVzY3JpcHRpb246ICcnLFxuICAgICAgICBleGFtcGxlVHlwZTogbWltZVR5cGUsXG4gICAgICAgIGV4YW1wbGVWYWx1ZTogJycsXG4gICAgICAgIGV4YW1wbGVGb3JtYXQ6ICd0ZXh0JyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmluYWxFeGFtcGxlcztcbn1cblxuZnVuY3Rpb24gZ2V0U2VyaWFsaXplU3R5bGVGb3JDb250ZW50VHlwZShjb250ZW50VHlwZSkge1xuICBpZiAoY29udGVudFR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJykge1xuICAgIHJldHVybiAnanNvbic7XG4gIH1cbiAgaWYgKGNvbnRlbnRUeXBlID09PSAnYXBwbGljYXRpb24veG1sJykge1xuICAgIHJldHVybiAneG1sJztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjaGVtYUZyb21QYXJhbShwYXJhbSkge1xuICBpZiAocGFyYW0uc2NoZW1hKSB7XG4gICAgcmV0dXJuIFtwYXJhbS5zY2hlbWEsIG51bGwsIG51bGxdO1xuICB9XG4gIGlmIChwYXJhbS5jb250ZW50KSB7XG4gICAgLy8gd2UgZ29ubmEgdXNlIHRoZSBmaXJzdCBjb250ZW50LWVuY29kaW5nXG4gICAgZm9yIChjb25zdCBjb250ZW50VHlwZSBvZiBPYmplY3Qua2V5cyhwYXJhbS5jb250ZW50KSkge1xuICAgICAgaWYgKHBhcmFtLmNvbnRlbnRbY29udGVudFR5cGVdLnNjaGVtYSkge1xuICAgICAgICByZXR1cm4gW3BhcmFtLmNvbnRlbnRbY29udGVudFR5cGVdLnNjaGVtYSwgZ2V0U2VyaWFsaXplU3R5bGVGb3JDb250ZW50VHlwZShjb250ZW50VHlwZSksIHBhcmFtLmNvbnRlbnRbY29udGVudFR5cGVdXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtudWxsLCBudWxsLCBudWxsXTtcbn1cbiIsImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBjb3B5VG9DbGlwYm9hcmQgfSBmcm9tICd+L3V0aWxzL2NvbW1vbi11dGlscyc7XG5pbXBvcnQgRm9udFN0eWxlcyBmcm9tICd+L3N0eWxlcy9mb250LXN0eWxlcyc7XG5pbXBvcnQgQm9yZGVyU3R5bGVzIGZyb20gJ34vc3R5bGVzL2JvcmRlci1zdHlsZXMnO1xuaW1wb3J0IElucHV0U3R5bGVzIGZyb20gJ34vc3R5bGVzL2lucHV0LXN0eWxlcyc7XG5pbXBvcnQgQ3VzdG9tU3R5bGVzIGZyb20gJ34vc3R5bGVzL2N1c3RvbS1zdHlsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKc29uVHJlZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IHsgdHlwZTogT2JqZWN0IH0sXG4gICAgICByZW5kZXJTdHlsZTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3JlbmRlci1zdHlsZScgfSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEZvbnRTdHlsZXMsXG4gICAgICBCb3JkZXJTdHlsZXMsXG4gICAgICBJbnB1dFN0eWxlcyxcbiAgICAgIGNzc2BcbiAgICAgIDpob3N0e1xuICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICB9XG4gICAgICA6d2hlcmUoYnV0dG9uLCBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0sIFt0YWJpbmRleD1cIjBcIl0pOmZvY3VzLXZpc2libGUgeyBib3gtc2hhZG93OiB2YXIoLS1mb2N1cy1zaGFkb3cpOyB9XG4gICAgICA6d2hlcmUoaW5wdXRbdHlwZT1cInRleHRcIl0sIGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSwgc2VsZWN0LCB0ZXh0YXJlYSk6Zm9jdXMtdmlzaWJsZSB7IGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7IH1cbiAgICAgIC5qc29uLXRyZWUge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm8pO1xuICAgICAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7XG4gICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrO1xuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcbiAgICAgICAgZmxleDoxO1xuICAgICAgICBsaW5lLWhlaWdodDogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgNnB4KTtcbiAgICAgICAgbWluLWhlaWdodDogNDBweDtcbiAgICAgICAgZGlyZWN0aW9uOiBsdHI7IFxuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgfVxuXG4gICAgICAub3Blbi1icmFja2V0IHtcbiAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XG4gICAgICAgIHBhZGRpbmc6IDAgMjBweCAwIDA7XG4gICAgICAgIGN1cnNvcjpwb2ludGVyO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czozcHg7XG4gICAgICB9XG4gICAgICAuY2xvc2UtYnJhY2tldCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXItcmFkaXVzOjNweDtcbiAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XG4gICAgICB9XG4gICAgICAub3Blbi1icmFja2V0OmhvdmVyIHtcbiAgICAgICAgY29sb3I6dmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0taG92ZXItY29sb3IpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xuICAgICAgfVxuICAgICAgLm9wZW4tYnJhY2tldC5leHBhbmRlZDpob3ZlciB+IC5pbnNpZGUtYnJhY2tldCB7XG4gICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdmFyKC0tZmczKTtcbiAgICAgIH1cbiAgICAgIC5vcGVuLWJyYWNrZXQuZXhwYW5kZWQ6aG92ZXIgfiAuY2xvc2UtYnJhY2tldCB7XG4gICAgICAgIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgfVxuICAgICAgLmluc2lkZS1icmFja2V0IHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OjEycHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIGJvcmRlci1sZWZ0OjFweCBkb3R0ZWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cbiAgICAgIC5vcGVuLWJyYWNrZXQuY29sbGFwc2VkICsgLmluc2lkZS1icmFja2V0LFxuICAgICAgLm9wZW4tYnJhY2tldC5jb2xsYXBzZWQgKyAuaW5zaWRlLWJyYWNrZXQgKyAuY2xvc2UtYnJhY2tldCB7XG4gICAgICAgIGRpc3BsYXk6bm9uZTtcbiAgICAgIH1cblxuICAgICAgLnN0cmluZ3tjb2xvcjp2YXIoLS1ncmVlbik7fVxuICAgICAgLm51bWJlcntjb2xvcjp2YXIoLS1ibHVlKTt9XG4gICAgICAubnVsbHtjb2xvcjp2YXIoLS1yZWQpO31cbiAgICAgIC5ib29sZWFue2NvbG9yOnZhcigtLXB1cnBsZSk7fVxuICAgICAgLm9iamVjdHtjb2xvcjp2YXIoLS1mZyl9XG4gICAgICAudG9vbGJhciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOjVweDtcbiAgICAgICAgcmlnaHQ6NnB4O1xuICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgIHBhZGRpbmc6MnB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfWAsXG4gICAgICBDdXN0b21TdHlsZXMsXG4gICAgXTtcbiAgfVxuXG4gIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzID0gXCJqc29uLXRyZWVcIiAgQGNsaWNrPSckeyhlKSA9PiB7IGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2J0bi1jb3B5JykpIHsgY29weVRvQ2xpcGJvYXJkKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSwgbnVsbCwgMiksIGUpOyB9IGVsc2UgeyB0aGlzLnRvZ2dsZUV4cGFuZChlKTsgfSB9fSc+XG4gICAgICAgIDxkaXYgY2xhc3M9J3Rvb2xiYXInPiBcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG9vbGJhci1idG4gYnRuLWNvcHlcIiBwYXJ0PVwiYnRuIGJ0bi1maWxsIGJ0bi1jb3B5XCI+IENvcHkgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAgICR7dGhpcy5nZW5lcmF0ZVRyZWUodGhpcy5kYXRhLCB0cnVlKX1cbiAgICAgIDwvZGl2PiAgXG4gICAgYDtcbiAgfVxuXG4gIGdlbmVyYXRlVHJlZShkYXRhLCBpc0xhc3QgPSBmYWxzZSkge1xuICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwibnVsbFwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmU7XCI+bnVsbDwvZGl2PmA7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgKGRhdGEgaW5zdGFuY2VvZiBEYXRlID09PSBmYWxzZSkpIHtcbiAgICAgIGNvbnN0IGRldGFpbFR5cGUgPSBBcnJheS5pc0FycmF5KGRhdGEpID8gJ2FycmF5JyA6ICdwdXJlX29iamVjdCc7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBodG1sYCR7KEFycmF5LmlzQXJyYXkoZGF0YSkgPyAnWyBdLCcgOiAneyB9LCcpfWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJvcGVuLWJyYWNrZXQgZXhwYW5kZWQgJHtkZXRhaWxUeXBlID09PSAnYXJyYXknID8gJ2FycmF5JyA6ICdvYmplY3QnfVwiID4gJHtkZXRhaWxUeXBlID09PSAnYXJyYXknID8gJ1snIDogJ3snfTwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1icmFja2V0XCI+XG4gICAgICAgICR7T2JqZWN0LmtleXMoZGF0YSkubWFwKChrZXksIGksIGEpID0+IGh0bWxgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW1cIj4gXG4gICAgICAgICAgICAke2RldGFpbFR5cGUgPT09ICdwdXJlX29iamVjdCcgPyBodG1sYFwiJHtrZXl9XCI6YCA6ICcnfVxuICAgICAgICAgICAgJHt0aGlzLmdlbmVyYXRlVHJlZShkYXRhW2tleV0sIGkgPT09IChhLmxlbmd0aCAtIDEpKX1cbiAgICAgICAgICA8L2Rpdj5gKVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjbG9zZS1icmFja2V0XCI+JHtkZXRhaWxUeXBlID09PSAnYXJyYXknID8gJ10nIDogJ30nfSR7aXNMYXN0ID8gJycgOiAnLCd9PC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgICByZXR1cm4gKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCBkYXRhIGluc3RhbmNlb2YgRGF0ZSlcbiAgICAgID8gaHRtbGA8c3BhbiBjbGFzcz1cIiR7dHlwZW9mIGRhdGF9XCI+XCIke2RhdGF9XCI8L3NwYW4+JHtpc0xhc3QgPyAnJyA6ICcsJ31gXG4gICAgICA6IGh0bWxgPHNwYW4gY2xhc3M9XCIke3R5cGVvZiBkYXRhfVwiPiR7ZGF0YX08L3NwYW4+JHtpc0xhc3QgPyAnJyA6ICcsJ31gO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG5cbiAgdG9nZ2xlRXhwYW5kKGUpIHtcbiAgICBjb25zdCBvcGVuQnJhY2tldEVsID0gZS50YXJnZXQ7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnb3Blbi1icmFja2V0JykpIHtcbiAgICAgIGlmIChvcGVuQnJhY2tldEVsLmNsYXNzTGlzdC5jb250YWlucygnZXhwYW5kZWQnKSkge1xuICAgICAgICBvcGVuQnJhY2tldEVsLmNsYXNzTGlzdC5yZXBsYWNlKCdleHBhbmRlZCcsICdjb2xsYXBzZWQnKTtcbiAgICAgICAgZS50YXJnZXQuaW5uZXJIVE1MID0gZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhcnJheScpID8gJ1suLi5dJyA6ICd7Li4ufSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcGVuQnJhY2tldEVsLmNsYXNzTGlzdC5yZXBsYWNlKCdjb2xsYXBzZWQnLCAnZXhwYW5kZWQnKTtcbiAgICAgICAgZS50YXJnZXQuaW5uZXJIVE1MID0gZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhcnJheScpID8gJ1snIDogJ3snO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLy8gUmVnaXN0ZXIgdGhlIGVsZW1lbnQgd2l0aCB0aGUgYnJvd3NlclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdqc29uLXRyZWUnLCBKc29uVHJlZSk7XG4iLCJpbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sLCBjc3MgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvZXh0ZW5zaW9uc1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCBGb250U3R5bGVzIGZyb20gJ34vc3R5bGVzL2ZvbnQtc3R5bGVzJztcbmltcG9ydCBTY2hlbWFTdHlsZXMgZnJvbSAnfi9zdHlsZXMvc2NoZW1hLXN0eWxlcyc7XG5pbXBvcnQgQm9yZGVyU3R5bGVzIGZyb20gJ34vc3R5bGVzL2JvcmRlci1zdHlsZXMnO1xuaW1wb3J0IEN1c3RvbVN0eWxlcyBmcm9tICd+L3N0eWxlcy9jdXN0b20tc3R5bGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NoZW1hVHJlZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IHsgdHlwZTogT2JqZWN0IH0sXG4gICAgICBzY2hlbWFFeHBhbmRMZXZlbDogeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ3NjaGVtYS1leHBhbmQtbGV2ZWwnIH0sXG4gICAgICBzY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkJyB9LFxuICAgICAgYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlJyB9LFxuICAgICAgc2NoZW1hSGlkZVJlYWRPbmx5OiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLWhpZGUtcmVhZC1vbmx5JyB9LFxuICAgICAgc2NoZW1hSGlkZVdyaXRlT25seTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1oaWRlLXdyaXRlLW9ubHknIH0sXG4gICAgfTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgaWYgKCF0aGlzLnNjaGVtYUV4cGFuZExldmVsIHx8IHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgPCAxKSB7IHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgPSA5OTk5OTsgfVxuICAgIGlmICghdGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkIHx8ICEndHJ1ZSBmYWxzZScuaW5jbHVkZXModGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkKSkgeyB0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQgPSAnZmFsc2UnOyB9XG4gICAgaWYgKCF0aGlzLnNjaGVtYUhpZGVSZWFkT25seSB8fCAhJ3RydWUgZmFsc2UnLmluY2x1ZGVzKHRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5KSkgeyB0aGlzLnNjaGVtYUhpZGVSZWFkT25seSA9ICd0cnVlJzsgfVxuICAgIGlmICghdGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5IHx8ICEndHJ1ZSBmYWxzZScuaW5jbHVkZXModGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5KSkgeyB0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkgPSAndHJ1ZSc7IH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICBGb250U3R5bGVzLFxuICAgICAgU2NoZW1hU3R5bGVzLFxuICAgICAgQm9yZGVyU3R5bGVzLFxuICAgICAgY3NzYFxuICAgICAgLnRyZWUge1xuICAgICAgICBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgZGlyZWN0aW9uOiBsdHI7XG4gICAgICAgIGxpbmUtaGVpZ2h0OmNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDZweCk7XG4gICAgICB9XG4gICAgICAudHJlZSAudHI6aG92ZXJ7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0taG92ZXItY29sb3IpO1xuICAgICAgfVxuICAgICAgLmNvbGxhcHNlZC1hbGwtZGVzY3IgLnRyOm5vdCguZXhwYW5kZWQtZGVzY3IpIHtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgbWF4LWhlaWdodDpjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA4cHgpO1xuICAgICAgfVxuICAgICAgLnRyZWUgLmtleSB7XG4gICAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICB9XG4gICAgICAua2V5LmRlcHJlY2F0ZWQgLmtleS1sYWJlbCB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1yZWQpO1xuICAgICAgfVxuICAgICAgLnRyLmV4cGFuZGVkOmhvdmVyID4gLnRkLmtleSA+IC5vcGVuLWJyYWNrZXQge1xuICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICB9XG4gICAgICAudHIuZXhwYW5kZWQ6aG92ZXIgKyAuaW5zaWRlLWJyYWNrZXQge1xuICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHZhcigtLWZnMyk7XG4gICAgICB9XG4gICAgICAudHIuZXhwYW5kZWQ6aG92ZXIgKyAuaW5zaWRlLWJyYWNrZXQgKyAuY2xvc2UtYnJhY2tldCB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgIH1cbiAgICAgIC5pbnNpZGUtYnJhY2tldC54eHgtb2Ytb3B0aW9uIHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIH1cbiAgICAgIC5vcGVuLWJyYWNrZXR7XG4gICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrO1xuICAgICAgICBwYWRkaW5nOiAwIDIwcHggMCAwO1xuICAgICAgICBjdXJzb3I6cG9pbnRlcjtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6M3B4O1xuICAgICAgfVxuICAgICAgLm9wZW4tYnJhY2tldDpob3ZlciB7XG4gICAgICAgIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWhvdmVyLWNvbG9yKTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cbiAgICAgIC5jbG9zZS1icmFja2V0e1xuICAgICAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ubyk7XG4gICAgICB9XG4gICAgICAudHIuY29sbGFwc2VkICsgLmluc2lkZS1icmFja2V0LFxuICAgICAgLnRyLmNvbGxhcHNlZCArIC5pbnNpZGUtYnJhY2tldCArIC5jbG9zZS1icmFja2V0e1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBkaXNwbGF5Om5vbmU7XG4gICAgICB9XG4gICAgICAuaW5zaWRlLWJyYWNrZXQub2JqZWN0LFxuICAgICAgLmluc2lkZS1icmFja2V0LmFycmF5IHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBkb3R0ZWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1gLFxuICAgICAgQ3VzdG9tU3R5bGVzLFxuICAgIF07XG4gIH1cblxuICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cInRyZWUgJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQgPT09ICd0cnVlJyA/ICdleHBhbmRlZC1hbGwtZGVzY3InIDogJ2NvbGxhcHNlZC1hbGwtZGVzY3InfVwiIEBjbGljaz1cIiR7KGUpID0+IHRoaXMuaGFuZGxlQWxsRXZlbnRzKGUpfVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidG9vbGJhclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sYmFyLWl0ZW0gc2NoZW1hLXJvb3QtdHlwZSAke3RoaXMuZGF0YT8uWyc6OnR5cGUnXSB8fCAnJ30gXCI+ICR7dGhpcy5kYXRhPy5bJzo6dHlwZSddIHx8ICcnfSA8L2Rpdj5cbiAgICAgICAgICAke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZSA9PT0gJ3RydWUnXG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OjFcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBwYXJ0PVwic2NoZW1hLXRvb2xiYXItaXRlbSBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZVwiIGNsYXNzPSd0b29sYmFyLWl0ZW0gc2NoZW1hLW11bHRpbGluZS10b2dnbGUnPiBcbiAgICAgICAgICAgICAgICAke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZCA9PT0gJ3RydWUnID8gJ1NpbmdsZSBsaW5lIGRlc2NyaXB0aW9uJyA6ICdNdWx0aWxpbmUgZGVzY3JpcHRpb24nfVxuICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICA6ICcnXG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNwYW4gcGFydD1cInNjaGVtYS1kZXNjcmlwdGlvblwiIGNsYXNzPSdtLW1hcmtkb3duJz4gJHt1bnNhZmVIVE1MKG1hcmtlZCh0aGlzLmRhdGE/LlsnOjpkZXNjcmlwdGlvbiddIHx8ICcnKSl9PC9zcGFuPlxuICAgICAgICAke3RoaXMuZGF0YVxuICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICR7dGhpcy5nZW5lcmF0ZVRyZWUoXG4gICAgICAgICAgICAgIHRoaXMuZGF0YVsnOjp0eXBlJ10gPT09ICdhcnJheScgPyB0aGlzLmRhdGFbJzo6cHJvcHMnXSA6IHRoaXMuZGF0YSxcbiAgICAgICAgICAgICAgdGhpcy5kYXRhWyc6OnR5cGUnXSxcbiAgICAgICAgICAgICAgdGhpcy5kYXRhWyc6OmFycmF5LXR5cGUnXSB8fCAnJyxcbiAgICAgICAgICAgICl9YFxuICAgICAgICAgIDogaHRtbGA8c3BhbiBjbGFzcz0nbW9uby1mb250JyBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKSc+IFNjaGVtYSBub3QgZm91bmQgPC9zcGFuPmBcbiAgICAgICAgfVxuICAgICAgPC9kaXY+ICBcbiAgICBgO1xuICB9XG5cbiAgZ2VuZXJhdGVUcmVlKGRhdGEsIGRhdGFUeXBlID0gJ29iamVjdCcsIGFycmF5VHlwZSA9ICcnLCBrZXkgPSAnJywgZGVzY3JpcHRpb24gPSAnJywgc2NoZW1hTGV2ZWwgPSAwLCBpbmRlbnRMZXZlbCA9IDAsIHJlYWRPcldyaXRlID0gJycpIHtcbiAgICBpZiAodGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkgPT09ICd0cnVlJykge1xuICAgICAgaWYgKGRhdGFUeXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgIGlmIChyZWFkT3JXcml0ZSA9PT0gJ3JlYWRvbmx5Jykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRhdGE/LlsnOjpyZWFkd3JpdGUnXSA9PT0gJ3JlYWRvbmx5Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkgPT09ICd0cnVlJykge1xuICAgICAgaWYgKGRhdGFUeXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgIGlmIChyZWFkT3JXcml0ZSA9PT0gJ3dyaXRlb25seScpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkYXRhPy5bJzo6cmVhZHdyaXRlJ10gPT09ICd3cml0ZW9ubHknKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJudWxsXCIgc3R5bGU9XCJkaXNwbGF5OmlubGluZTtcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJrZXktbGFiZWwgeHh4LW9mLWtleVwiPiAke2tleS5yZXBsYWNlKCc6Ok9QVElPTn4nLCAnJyl9PC9zcGFuPlxuICAgICAgICAke1xuICAgICAgICAgIGRhdGFUeXBlID09PSAnYXJyYXknXG4gICAgICAgICAgICA/IGh0bWxgPHNwYW4gY2xhc3M9J21vbm8tZm9udCc+IFsgXSA8L3NwYW4+YFxuICAgICAgICAgICAgOiBkYXRhVHlwZSA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgPyBodG1sYDxzcGFuIGNsYXNzPSdtb25vLWZvbnQnPiB7IH0gPC9zcGFuPmBcbiAgICAgICAgICAgICAgOiBodG1sYDxzcGFuIGNsYXNzPSdtb25vLWZvbnQnPiBzY2hlbWEgdW5kZWZpbmVkIDwvc3Bhbj5gXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBodG1sYDxzcGFuIGNsYXNzPVwia2V5IG9iamVjdFwiPiR7a2V5fTp7IH08L3NwYW4+YDtcbiAgICB9XG4gICAgbGV0IGtleUxhYmVsID0gJyc7XG4gICAgbGV0IGtleURlc2NyID0gJyc7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCc6Ok9ORX5PRicpIHx8IGtleS5zdGFydHNXaXRoKCc6OkFOWX5PRicpKSB7XG4gICAgICBrZXlMYWJlbCA9IGtleS5yZXBsYWNlKCc6OicsICcnKS5yZXBsYWNlKCd+JywgJyAnKTtcbiAgICB9IGVsc2UgaWYgKGtleS5zdGFydHNXaXRoKCc6Ok9QVElPTicpKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdCgnficpO1xuICAgICAgWywga2V5TGFiZWwsIGtleURlc2NyXSA9IHBhcnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlMYWJlbCA9IGtleTtcbiAgICB9XG5cbiAgICBjb25zdCBsZWZ0UGFkZGluZyA9IDEyO1xuICAgIGNvbnN0IG1pbkZpZWxkQ29sV2lkdGggPSA0MDAgLSAoaW5kZW50TGV2ZWwgKiBsZWZ0UGFkZGluZyk7XG4gICAgbGV0IG9wZW5CcmFja2V0ID0gJyc7XG4gICAgbGV0IGNsb3NlQnJhY2tldCA9ICcnO1xuICAgIGNvbnN0IG5ld1NjaGVtYUxldmVsID0gZGF0YVsnOjp0eXBlJ10/LnN0YXJ0c1dpdGgoJ3h4eC1vZicpID8gc2NoZW1hTGV2ZWwgOiAoc2NoZW1hTGV2ZWwgKyAxKTtcbiAgICAvLyBjb25zdCBuZXdJbmRlbnRMZXZlbCA9IGRhdGFUeXBlID09PSAneHh4LW9mLW9wdGlvbicgfHwgZGF0YVsnOjp0eXBlJ10gPT09ICd4eHgtb2Ytb3B0aW9uJyA/IGluZGVudExldmVsIDogKGluZGVudExldmVsICsgMSk7XG4gICAgY29uc3QgbmV3SW5kZW50TGV2ZWwgPSBkYXRhVHlwZSA9PT0gJ3h4eC1vZi1vcHRpb24nIHx8IGRhdGFbJzo6dHlwZSddID09PSAneHh4LW9mLW9wdGlvbicgfHwga2V5LnN0YXJ0c1dpdGgoJzo6T1BUSU9OJykgPyBpbmRlbnRMZXZlbCA6IChpbmRlbnRMZXZlbCArIDEpO1xuICAgIGlmIChkYXRhWyc6OnR5cGUnXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICBpZiAoc2NoZW1hTGV2ZWwgPCB0aGlzLnNjaGVtYUV4cGFuZExldmVsKSB7XG4gICAgICAgICAgb3BlbkJyYWNrZXQgPSBodG1sYDxzcGFuIGNsYXNzPVwib3Blbi1icmFja2V0IGFycmF5LW9mLW9iamVjdFwiID5bezwvc3Bhbj5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5CcmFja2V0ID0gaHRtbGA8c3BhbiBjbGFzcz1cIm9wZW4tYnJhY2tldCBhcnJheS1vZi1vYmplY3RcIj5bey4uLn1dPC9zcGFuPmA7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VCcmFja2V0ID0gJ31dJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzY2hlbWFMZXZlbCA8IHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwpIHtcbiAgICAgICAgICBvcGVuQnJhY2tldCA9IGh0bWxgPHNwYW4gY2xhc3M9XCJvcGVuLWJyYWNrZXQgb2JqZWN0XCI+ezwvc3Bhbj5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5CcmFja2V0ID0gaHRtbGA8c3BhbiBjbGFzcz1cIm9wZW4tYnJhY2tldCBvYmplY3RcIj57Li4ufTwvc3Bhbj5gO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlQnJhY2tldCA9ICd9JztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGFbJzo6dHlwZSddID09PSAnYXJyYXknKSB7XG4gICAgICBpZiAoZGF0YVR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgY29uc3QgYXJyVHlwZSA9IGFycmF5VHlwZSAhPT0gJ29iamVjdCcgPyBhcnJheVR5cGUgOiAnJztcbiAgICAgICAgaWYgKHNjaGVtYUxldmVsIDwgdGhpcy5zY2hlbWFFeHBhbmRMZXZlbCkge1xuICAgICAgICAgIG9wZW5CcmFja2V0ID0gaHRtbGA8c3BhbiBjbGFzcz1cIm9wZW4tYnJhY2tldCBhcnJheS1vZi1hcnJheVwiIGRhdGEtYXJyYXktdHlwZT1cIiR7YXJyVHlwZX1cIj5bWyAke2FyclR5cGV9IDwvc3Bhbj5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5CcmFja2V0ID0gaHRtbGA8c3BhbiBjbGFzcz1cIm9wZW4tYnJhY2tldCBhcnJheS1vZi1hcnJheVwiICBkYXRhLWFycmF5LXR5cGU9XCIke2FyclR5cGV9XCI+W1suLi5dXTwvc3Bhbj5gO1xuICAgICAgICB9XG4gICAgICAgIGNsb3NlQnJhY2tldCA9ICddXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc2NoZW1hTGV2ZWwgPCB0aGlzLnNjaGVtYUV4cGFuZExldmVsKSB7XG4gICAgICAgICAgb3BlbkJyYWNrZXQgPSBodG1sYDxzcGFuIGNsYXNzPVwib3Blbi1icmFja2V0IGFycmF5XCI+Wzwvc3Bhbj5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5CcmFja2V0ID0gaHRtbGA8c3BhbiBjbGFzcz1cIm9wZW4tYnJhY2tldCBhcnJheVwiPlsuLi5dPC9zcGFuPmA7XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VCcmFja2V0ID0gJ10nO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRyICR7c2NoZW1hTGV2ZWwgPCB0aGlzLnNjaGVtYUV4cGFuZExldmVsIHx8IGRhdGFbJzo6dHlwZSddPy5zdGFydHNXaXRoKCd4eHgtb2YnKSA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJ30gJHtkYXRhWyc6OnR5cGUnXSB8fCAnbm8tdHlwZS1pbmZvJ31cIiB0aXRsZT1cIiR7ZGF0YVsnOjpkZXByZWNhdGVkJ10gPyAnRGVwcmVjYXRlZCcgOiAnJ31cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGQga2V5ICR7ZGF0YVsnOjpkZXByZWNhdGVkJ10gPyAnZGVwcmVjYXRlZCcgOiAnJ31cIiBzdHlsZT0nbWluLXdpZHRoOiR7bWluRmllbGRDb2xXaWR0aH1weCc+XG4gICAgICAgICAgICAke2RhdGFbJzo6dHlwZSddID09PSAneHh4LW9mLW9wdGlvbicgfHwgZGF0YVsnOjp0eXBlJ10gPT09ICd4eHgtb2YtYXJyYXknIHx8IGtleS5zdGFydHNXaXRoKCc6Ok9QVElPTicpXG4gICAgICAgICAgICAgID8gaHRtbGA8c3BhbiBjbGFzcz0na2V5LWxhYmVsIHh4eC1vZi1rZXknPiAke2tleUxhYmVsfTwvc3Bhbj48c3BhbiBjbGFzcz1cInh4eC1vZi1kZXNjclwiPiR7a2V5RGVzY3J9PC9zcGFuPmBcbiAgICAgICAgICAgICAgOiBrZXlMYWJlbCA9PT0gJzo6cHJvcHMnIHx8IGtleUxhYmVsID09PSAnOjpBUlJBWX5PRidcbiAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgOiBzY2hlbWFMZXZlbCA+IDBcbiAgICAgICAgICAgICAgICAgID8gaHRtbGA8c3BhbiBjbGFzcz1cImtleS1sYWJlbFwiIHRpdGxlPVwiJHtyZWFkT3JXcml0ZSA9PT0gJ3JlYWRvbmx5JyA/ICdSZWFkLU9ubHknIDogcmVhZE9yV3JpdGUgPT09ICd3cml0ZW9ubHknID8gJ1dyaXRlLU9ubHknIDogJyd9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHtkYXRhWyc6OmRlcHJlY2F0ZWQnXSA/ICfinJcnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgJHtrZXlMYWJlbC5yZXBsYWNlKC9cXCokLywgJycpfSR7a2V5TGFiZWwuZW5kc1dpdGgoJyonKSA/IGh0bWxgPHNwYW4gc3R5bGU9XCJjb2xvcjp2YXIoLS1yZWQpXCI+Kjwvc3Bhbj5gIDogJyd9JHtyZWFkT3JXcml0ZSA9PT0gJ3JlYWRvbmx5JyA/IGh0bWxgIPCfhoFgIDogcmVhZE9yV3JpdGUgPT09ICd3cml0ZW9ubHknID8gaHRtbGAg8J+GhmAgOiByZWFkT3JXcml0ZX06XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5gXG4gICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAke29wZW5CcmFja2V0fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS1kZXNjciBtLW1hcmtkb3duLXNtYWxsJz4ke3Vuc2FmZUhUTUwobWFya2VkKGRlc2NyaXB0aW9uIHx8ICcnKSl9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSdpbnNpZGUtYnJhY2tldCAke2RhdGFbJzo6dHlwZSddIHx8ICduby10eXBlLWluZm8nfScgc3R5bGU9J3BhZGRpbmctbGVmdDoke2RhdGFbJzo6dHlwZSddID09PSAneHh4LW9mLW9wdGlvbicgfHwgZGF0YVsnOjp0eXBlJ10gPT09ICd4eHgtb2YtYXJyYXknID8gMCA6IGxlZnRQYWRkaW5nfXB4Oyc+XG4gICAgICAgICAgJHtBcnJheS5pc0FycmF5KGRhdGEpICYmIGRhdGFbMF1cbiAgICAgICAgICAgID8gaHRtbGAke3RoaXMuZ2VuZXJhdGVUcmVlKGRhdGFbMF0sICd4eHgtb2Ytb3B0aW9uJywgJycsICc6OkFSUkFZfk9GJywgJycsIG5ld1NjaGVtYUxldmVsLCBuZXdJbmRlbnRMZXZlbCwgZGF0YVswXVsnOjpyZWFkd3JpdGUnXSl9YFxuICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAke09iamVjdC5rZXlzKGRhdGEpLm1hcCgoZGF0YUtleSkgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICAke1snOjp0aXRsZScsICc6OmRlc2NyaXB0aW9uJywgJzo6dHlwZScsICc6OnByb3BzJywgJzo6ZGVwcmVjYXRlZCcsICc6OmFycmF5LXR5cGUnLCAnOjpyZWFkd3JpdGUnLCAnOjpkYXRhVHlwZUxhYmVsJ10uaW5jbHVkZXMoZGF0YUtleSlcbiAgICAgICAgICAgICAgICAgID8gZGF0YVtkYXRhS2V5XVsnOjp0eXBlJ10gPT09ICdhcnJheScgfHwgZGF0YVtkYXRhS2V5XVsnOjp0eXBlJ10gPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgID8gaHRtbGAke3RoaXMuZ2VuZXJhdGVUcmVlKFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGF0YUtleV1bJzo6dHlwZSddID09PSAnYXJyYXknID8gZGF0YVtkYXRhS2V5XVsnOjpwcm9wcyddIDogZGF0YVtkYXRhS2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGF0YUtleV1bJzo6dHlwZSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtkYXRhS2V5XVsnOjphcnJheS10eXBlJ10gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtkYXRhS2V5XVsnOjpkZXNjcmlwdGlvbiddLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NoZW1hTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRlbnRMZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGF0YUtleV1bJzo6cmVhZHdyaXRlJ10gPyBkYXRhW2RhdGFLZXldWyc6OnJlYWR3cml0ZSddIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgKX1gXG4gICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgIDogaHRtbGAke3RoaXMuZ2VuZXJhdGVUcmVlKFxuICAgICAgICAgICAgICAgICAgICBkYXRhW2RhdGFLZXldWyc6OnR5cGUnXSA9PT0gJ2FycmF5JyA/IGRhdGFbZGF0YUtleV1bJzo6cHJvcHMnXSA6IGRhdGFbZGF0YUtleV0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbZGF0YUtleV1bJzo6dHlwZSddLFxuICAgICAgICAgICAgICAgICAgICBkYXRhW2RhdGFLZXldWyc6OmFycmF5LXR5cGUnXSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUtleSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtkYXRhS2V5XT8uWyc6OmRlc2NyaXB0aW9uJ10gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIG5ld1NjaGVtYUxldmVsLFxuICAgICAgICAgICAgICAgICAgICBuZXdJbmRlbnRMZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtkYXRhS2V5XVsnOjpyZWFkd3JpdGUnXSA/IGRhdGFbZGF0YUtleV1bJzo6cmVhZHdyaXRlJ10gOiAnJyxcbiAgICAgICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYCl9XG4gICAgICAgICAgICBgXG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtkYXRhWyc6OnR5cGUnXSAmJiBkYXRhWyc6OnR5cGUnXS5pbmNsdWRlcygneHh4LW9mJylcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiBodG1sYDxkaXYgY2xhc3M9J2Nsb3NlLWJyYWNrZXQnPiAke2Nsb3NlQnJhY2tldH0gPC9kaXY+YFxuICAgICAgICB9XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIEZvciBQcmltaXRpdmUgdHlwZXMgYW5kIGFycmF5IG9mIFByaW1pdGl2ZXNcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBjb25zdCBbdHlwZSwgcHJpbWl0aXZlUmVhZE9yV3JpdGUsIGNvbnN0cmFpbnQsIGRlZmF1bHRWYWx1ZSwgYWxsb3dlZFZhbHVlcywgcGF0dGVybiwgc2NoZW1hRGVzY3JpcHRpb24sIHNjaGVtYVRpdGxlLCBkZXByZWNhdGVkXSA9IGRhdGEuc3BsaXQoJ358ficpO1xuICAgIGlmIChwcmltaXRpdmVSZWFkT3JXcml0ZSA9PT0gJ/CfhoEnICYmIHRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5ID09PSAndHJ1ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByaW1pdGl2ZVJlYWRPcldyaXRlID09PSAn8J+GhicgJiYgdGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5ID09PSAndHJ1ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGF0YVR5cGVDc3MgPSB0eXBlLnJlcGxhY2UoL+KUgy4qL2csICcnKS5yZXBsYWNlKC9bXmEtekEtWjAtOStdL2csICcnKS5zdWJzdHJpbmcoMCwgNCkudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBkZXNjckV4cGFuZGVyID0gYCR7Y29uc3RyYWludCB8fCBkZWZhdWx0VmFsdWUgfHwgYWxsb3dlZFZhbHVlcyB8fCBwYXR0ZXJuID8gYDxzcGFuIGNsYXNzPVwiZGVzY3ItZXhwYW5kLXRvZ2dsZSAke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZCA9PT0gJ3RydWUnID8gJ2V4cGFuZGVkLWRlc2NyJyA6ICcnfVwiPuKelDwvc3Bhbj5gIDogJyd9YDtcbiAgICBsZXQgZmluYWxSZWFkV3JpdGVUZXh0ID0gJyc7XG4gICAgbGV0IGZpbmFsUmVhZFdyaXRlVGlwID0gJyc7XG4gICAgaWYgKGRhdGFUeXBlID09PSAnYXJyYXknKSB7XG4gICAgICBpZiAocmVhZE9yV3JpdGUgPT09ICdyZWFkb25seScpIHtcbiAgICAgICAgZmluYWxSZWFkV3JpdGVUZXh0ID0gJ/CfhoEnO1xuICAgICAgICBmaW5hbFJlYWRXcml0ZVRpcCA9ICdSZWFkLU9ubHknO1xuICAgICAgfSBlbHNlIGlmIChyZWFkT3JXcml0ZSA9PT0gJ3dyaXRlb25seScpIHtcbiAgICAgICAgZmluYWxSZWFkV3JpdGVUZXh0ID0gJ/CfhoYnO1xuICAgICAgICBmaW5hbFJlYWRXcml0ZVRpcCA9ICdXcml0ZS1Pbmx5JztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZVJlYWRPcldyaXRlID09PSAn8J+GgScpIHtcbiAgICAgIGZpbmFsUmVhZFdyaXRlVGV4dCA9ICfwn4aBJztcbiAgICAgIGZpbmFsUmVhZFdyaXRlVGlwID0gJ1JlYWQtT25seSc7XG4gICAgfSBlbHNlIGlmIChwcmltaXRpdmVSZWFkT3JXcml0ZSA9PT0gJ/CfhoYnKSB7XG4gICAgICBmaW5hbFJlYWRXcml0ZVRleHQgPSAn8J+Ghic7XG4gICAgICBmaW5hbFJlYWRXcml0ZVRpcCA9ICdXcml0ZS1Pbmx5JztcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3MgPSBcInRyIHByaW1pdGl2ZVwiIHRpdGxlPVwiJHtkZXByZWNhdGVkID8gJ0RlcHJlY2F0ZWQnIDogJyd9XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZCBrZXkgJHtkZXByZWNhdGVkfVwiIHN0eWxlPSdtaW4td2lkdGg6JHttaW5GaWVsZENvbFdpZHRofXB4Jz5cbiAgICAgICAgICAke2RlcHJlY2F0ZWQgPyBodG1sYDxzcGFuIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpOyc+4pyXPC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAke2tleUxhYmVsLmVuZHNXaXRoKCcqJylcbiAgICAgICAgICAgID8gaHRtbGA8c3BhbiBjbGFzcz1cImtleS1sYWJlbFwiPiR7a2V5TGFiZWwuc3Vic3RyaW5nKDAsIGtleUxhYmVsLmxlbmd0aCAtIDEpfTwvc3Bhbj48c3BhbiBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKTsnPio8L3NwYW4+OmBcbiAgICAgICAgICAgIDoga2V5LnN0YXJ0c1dpdGgoJzo6T1BUSU9OJylcbiAgICAgICAgICAgICAgPyBodG1sYDxzcGFuIGNsYXNzPSdrZXktbGFiZWwgeHh4LW9mLWtleSc+JHtrZXlMYWJlbH08L3NwYW4+PHNwYW4gY2xhc3M9XCJ4eHgtb2YtZGVzY3JcIj4ke2tleURlc2NyfTwvc3Bhbj5gXG4gICAgICAgICAgICAgIDogaHRtbGA8c3BhbiBjbGFzcz1cImtleS1sYWJlbFwiPiR7a2V5TGFiZWx9Ojwvc3Bhbj5gXG4gICAgICAgICAgfVxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiJHtkYXRhVHlwZUNzc31cIiB0aXRsZT1cIiR7ZmluYWxSZWFkV3JpdGVUaXB9XCI+IFxuICAgICAgICAgICAgJHtkYXRhVHlwZSA9PT0gJ2FycmF5JyA/IGBbJHt0eXBlfV1gIDogYCR7dHlwZX1gfVxuICAgICAgICAgICAgJHtmaW5hbFJlYWRXcml0ZVRleHR9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0ndGQga2V5LWRlc2NyJz5cbiAgICAgICAgICAke2Rlc2NyaXB0aW9uIHx8IHNjaGVtYVRpdGxlIHx8IHNjaGVtYURlc2NyaXB0aW9uXG4gICAgICAgICAgICA/IGh0bWxgJHtodG1sYDxzcGFuIGNsYXNzPVwibS1tYXJrZG93bi1zbWFsbFwiPlxuICAgICAgICAgICAgICAgICR7dW5zYWZlSFRNTChtYXJrZWQoZGF0YVR5cGUgPT09ICdhcnJheSdcbiAgICAgICAgICAgICAgICAgID8gYCR7ZGVzY3JFeHBhbmRlcn0gJHtkZXNjcmlwdGlvbn1gXG4gICAgICAgICAgICAgICAgICA6IHNjaGVtYVRpdGxlXG4gICAgICAgICAgICAgICAgICAgID8gYCR7ZGVzY3JFeHBhbmRlcn0gPGI+JHtzY2hlbWFUaXRsZX06PC9iPiAke3NjaGVtYURlc2NyaXB0aW9ufWBcbiAgICAgICAgICAgICAgICAgICAgOiBgJHtkZXNjckV4cGFuZGVyfSAke3NjaGVtYURlc2NyaXB0aW9ufWApKX1cbiAgICAgICAgICAgICAgPC9zcGFuPmBcbiAgICAgICAgICAgICAgfWBcbiAgICAgICAgICAgIDogJydcbiAgICAgICAgICB9ICBcbiAgICAgICAgICAke2NvbnN0cmFpbnQgPyBodG1sYDxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOmFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Jz48c3BhbiBjbGFzcz0nYm9sZC10ZXh0Jz5Db25zdHJhaW50czogPC9zcGFuPiR7Y29uc3RyYWludH08L2Rpdj5gIDogJyd9XG4gICAgICAgICAgJHtkZWZhdWx0VmFsdWUgPyBodG1sYDxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOmFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Jz48c3BhbiBjbGFzcz0nYm9sZC10ZXh0Jz5EZWZhdWx0OiA8L3NwYW4+JHtkZWZhdWx0VmFsdWV9PC9kaXY+YCA6ICcnfVxuICAgICAgICAgICR7YWxsb3dlZFZhbHVlcyA/IGh0bWxgPGRpdiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7IGxpbmUtYnJlYWs6YW55d2hlcmU7IG1hcmdpbi1yaWdodDo4cHgnPjxzcGFuIGNsYXNzPSdib2xkLXRleHQnPiR7dHlwZSA9PT0gJ2NvbnN0JyA/ICdWYWx1ZScgOiAnQWxsb3dlZCd9OiA8L3NwYW4+JHthbGxvd2VkVmFsdWVzfTwvZGl2PmAgOiAnJ31cbiAgICAgICAgICAke3BhdHRlcm4gPyBodG1sYDxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOiBhbnl3aGVyZTsgbWFyZ2luLXJpZ2h0OjhweCc+PHNwYW4gY2xhc3M9J2JvbGQtdGV4dCc+UGF0dGVybjogPC9zcGFuPiR7cGF0dGVybn08L2Rpdj5gIDogJyd9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xuXG4gIGhhbmRsZUFsbEV2ZW50cyhlKSB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnb3Blbi1icmFja2V0JykpIHtcbiAgICAgIHRoaXMudG9nZ2xlT2JqZWN0RXhwYW5kKGUpO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZScpKSB7XG4gICAgICB0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQgPSAodGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkID09PSAndHJ1ZScgPyAnZmFsc2UnIDogJ3RydWUnKTtcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGVzY3ItZXhwYW5kLXRvZ2dsZScpKSB7XG4gICAgICBjb25zdCB0ckVsID0gZS50YXJnZXQuY2xvc2VzdCgnLnRyJyk7XG4gICAgICBpZiAodHJFbCkge1xuICAgICAgICB0ckVsLmNsYXNzTGlzdC50b2dnbGUoJ2V4cGFuZGVkLWRlc2NyJyk7XG4gICAgICAgIHRyRWwuc3R5bGUubWF4SGVpZ2h0ID0gdHJFbC5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlT2JqZWN0RXhwYW5kKGUpIHtcbiAgICBjb25zdCByb3dFbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy50cicpO1xuICAgIGlmIChyb3dFbC5jbGFzc0xpc3QuY29udGFpbnMoJ2V4cGFuZGVkJykpIHtcbiAgICAgIHJvd0VsLmNsYXNzTGlzdC5yZXBsYWNlKCdleHBhbmRlZCcsICdjb2xsYXBzZWQnKTtcbiAgICAgIGUudGFyZ2V0LmlubmVySFRNTCA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYXJyYXktb2Ytb2JqZWN0JylcbiAgICAgICAgPyAnW3suLi59XSdcbiAgICAgICAgOiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FycmF5LW9mLWFycmF5JylcbiAgICAgICAgICA/ICdbWy4uLl1dJ1xuICAgICAgICAgIDogZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhcnJheScpXG4gICAgICAgICAgICA/ICdbLi4uXSdcbiAgICAgICAgICAgIDogJ3suLi59JztcbiAgICB9IGVsc2Uge1xuICAgICAgcm93RWwuY2xhc3NMaXN0LnJlcGxhY2UoJ2NvbGxhcHNlZCcsICdleHBhbmRlZCcpO1xuICAgICAgZS50YXJnZXQuaW5uZXJIVE1MID0gZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhcnJheS1vZi1vYmplY3QnKVxuICAgICAgICA/ICdbeydcbiAgICAgICAgOiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FycmF5LW9mLWFycmF5JylcbiAgICAgICAgICA/IGBbWyAke2UudGFyZ2V0LmRhdGFzZXQuYXJyYXlUeXBlfWBcbiAgICAgICAgICA6IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnb2JqZWN0JylcbiAgICAgICAgICAgID8gJ3snXG4gICAgICAgICAgICA6ICdbJztcbiAgICB9XG4gIH1cbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2NoZW1hLXRyZWUnLCBTY2hlbWFUcmVlKTtcbiIsImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcyB9IGZyb20gJ2xpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhZ0lucHV0IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICByZW5kZXIoKSB7XG4gICAgbGV0IHRhZ0l0ZW1UbXBsID0gJyc7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHtcbiAgICAgIHRhZ0l0ZW1UbXBsID0gaHRtbGAke3RoaXMudmFsdWVcbiAgICAgICAgLmZpbHRlcigodikgPT4gdHlwZW9mIHYgPT09ICdzdHJpbmcnICYmIHYudHJpbSgpICE9PSAnJylcbiAgICAgICAgLm1hcCgodikgPT4gaHRtbGA8c3BhbiBjbGFzcz0ndGFnJz4ke3Z9PC9zcGFuPmApXG4gICAgICB9YDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPSd0YWdzJz5cbiAgICAgICAgJHt0YWdJdGVtVG1wbH1cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9J2VkaXRvcicgQHBhc3RlPVwiJHsoZSkgPT4gdGhpcy5hZnRlclBhc3RlKGUpfVwiIEBrZXlkb3duPVwiJHt0aGlzLmFmdGVyS2V5RG93bn1cIiBAYmx1cj1cIiR7dGhpcy5vbkJsdXJ9XCIgcGxhY2Vob2xkZXI9XCIke3RoaXMucGxhY2Vob2xkZXIgfHwgJyd9XCI+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwbGFjZWhvbGRlcjogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICAgIHZhbHVlOiB7IHR5cGU6IEFycmF5LCBhdHRyaWJ1dGU6ICd2YWx1ZScgfSxcbiAgICB9O1xuICB9XG5cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbCwgbmV3VmFsKSB7XG4gICAgaWYgKG5hbWUgPT09ICd2YWx1ZScpIHtcbiAgICAgIGlmIChuZXdWYWwgJiYgb2xkVmFsICE9PSBuZXdWYWwpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbC5zcGxpdCgnLCcpLmZpbHRlcigodikgPT4gdi50cmltKCkgIT09ICcnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbCwgbmV3VmFsKTtcbiAgfVxuXG4gIGFmdGVyUGFzdGUoZSkge1xuICAgIGNvbnN0IGNsaXBib2FyZERhdGEgPSBlLmNsaXBib2FyZERhdGEgfHwgd2luZG93LmNsaXBib2FyZERhdGE7XG4gICAgY29uc3QgcGFzdGVkRGF0YSA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpO1xuICAgIGNvbnN0IHBhc3RlZEFycmF5ID0gcGFzdGVkRGF0YSA/IHBhc3RlZERhdGEuc3BsaXQoJywnKS5maWx0ZXIoKHYpID0+IHYudHJpbSgpICE9PSAnJykgOiAnJztcbiAgICBpZiAocGFzdGVkQXJyYXkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBbLi4udGhpcy52YWx1ZSwgLi4ucGFzdGVkQXJyYXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHBhc3RlZEFycmF5O1xuICAgICAgfVxuICAgIH1cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBhZnRlcktleURvd24oZSkge1xuICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZSA9IFsuLi50aGlzLnZhbHVlLCBlLnRhcmdldC52YWx1ZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52YWx1ZSA9IFtlLnRhcmdldC52YWx1ZV07XG4gICAgICAgIH1cbiAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gOCkge1xuICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSAmJiB0aGlzLnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLnNwbGljZSgtMSk7XG4gICAgICAgICAgdGhpcy52YWx1ZSA9IFsuLi50aGlzLnZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uQmx1cihlKSB7XG4gICAgaWYgKGUudGFyZ2V0LnZhbHVlKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gWy4uLnRoaXMudmFsdWUsIGUudGFyZ2V0LnZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBbZS50YXJnZXQudmFsdWVdO1xuICAgICAgfVxuICAgICAgZS50YXJnZXQudmFsdWUgPSAnJztcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gW2Nzc2BcbiAgICAgIC50YWdzIHtcbiAgICAgICAgZGlzcGxheTpmbGV4O1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIHBhZGRpbmc6MDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xuICAgICAgICBjdXJzb3I6dGV4dDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgICBiYWNrZ3JvdW5kOnZhcigtLWlucHV0LWJnKTtcbiAgICAgIH1cbiAgICAgIC50YWcsIC5lZGl0b3Ige1xuICAgICAgICBwYWRkaW5nOjNweDtcbiAgICAgICAgbWFyZ2luOjJweDtcbiAgICAgIH1cbiAgICAgIC50YWd7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1iZzMpO1xuICAgICAgICBjb2xvcjp2YXIoLS1mZzMpO1xuICAgICAgICBib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO1xuICAgICAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTtcbiAgICAgIH1cbiAgICAgIC50YWc6aG92ZXIgfiAjY3Vyc29yIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgICAuZWRpdG9yIHtcbiAgICAgICAgZmxleDoxO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjp2YXIoLS1mZyk7XG4gICAgICAgIG1pbi13aWR0aDo2MHB4O1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgICAgICAgZm9udC1mYW1pbHk6aW5oZXJpdDtcbiAgICAgICAgYmFja2dyb3VuZDp0cmFuc3BhcmVudDtcbiAgICAgICAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyAxcHgpO1xuICAgICAgfVxuICAgICAgLmVkaXRvcjpmb2N1cy12aXNpYmxlIHtcbiAgICAgICAgb3V0bGluZTogMXB4IHNvbGlkO1xuICAgICAgfVxuICAgICAgLmVkaXRvcjo6cGxhY2Vob2xkZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0tcGxhY2Vob2xkZXItY29sb3IpO1xuICAgICAgICBvcGFjaXR5OjE7XG4gICAgICB9XG4gICAgYF07XG4gIH1cbn1cbi8vIFJlZ2lzdGVyIHRoZSBlbGVtZW50IHdpdGggdGhlIGJyb3dzZXJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgndGFnLWlucHV0JywgVGFnSW5wdXQpO1xuIiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3NzIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHVuc2FmZUhUTUwgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy91bnNhZmUtaHRtbC5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L2V4dGVuc2lvbnNcbmltcG9ydCB7IGd1YXJkIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvZ3VhcmQuanMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9leHRlbnNpb25zXG5pbXBvcnQgeyBsaXZlIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvbGl2ZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L2V4dGVuc2lvbnNcbmltcG9ydCB7IG1hcmtlZCB9IGZyb20gJ21hcmtlZCc7XG5pbXBvcnQgZm9ybWF0WG1sIGZyb20gJ3htbC1idXQtcHJldHRpZXInO1xuaW1wb3J0IFByaXNtIGZyb20gJ3ByaXNtanMnO1xuaW1wb3J0IFRhYmxlU3R5bGVzIGZyb20gJ34vc3R5bGVzL3RhYmxlLXN0eWxlcyc7XG5pbXBvcnQgRmxleFN0eWxlcyBmcm9tICd+L3N0eWxlcy9mbGV4LXN0eWxlcyc7XG5pbXBvcnQgSW5wdXRTdHlsZXMgZnJvbSAnfi9zdHlsZXMvaW5wdXQtc3R5bGVzJztcbmltcG9ydCBGb250U3R5bGVzIGZyb20gJ34vc3R5bGVzL2ZvbnQtc3R5bGVzJztcbmltcG9ydCBCb3JkZXJTdHlsZXMgZnJvbSAnfi9zdHlsZXMvYm9yZGVyLXN0eWxlcyc7XG5pbXBvcnQgVGFiU3R5bGVzIGZyb20gJ34vc3R5bGVzL3RhYi1zdHlsZXMnO1xuaW1wb3J0IFByaXNtU3R5bGVzIGZyb20gJ34vc3R5bGVzL3ByaXNtLXN0eWxlcyc7XG5pbXBvcnQgQ3VzdG9tU3R5bGVzIGZyb20gJ34vc3R5bGVzL2N1c3RvbS1zdHlsZXMnO1xuaW1wb3J0IHsgY29weVRvQ2xpcGJvYXJkLCBkb3dubG9hZFJlc291cmNlLCB2aWV3UmVzb3VyY2UgfSBmcm9tICd+L3V0aWxzL2NvbW1vbi11dGlscyc7XG5pbXBvcnQgeyBzY2hlbWFJbk9iamVjdE5vdGF0aW9uLFxuICBnZXRUeXBlSW5mbyxcbiAgZ2VuZXJhdGVFeGFtcGxlLFxuICBub3JtYWxpemVFeGFtcGxlcyxcbiAgZ2V0U2NoZW1hRnJvbVBhcmFtLFxuICBqc29uMnhtbCxcbiAgbmVzdEV4YW1wbGVJZlByZXNlbnQsXG4gIGFueUV4YW1wbGVXaXRoU3VtbWFyeU9yRGVzY3JpcHRpb24gfSBmcm9tICd+L3V0aWxzL3NjaGVtYS11dGlscyc7XG5pbXBvcnQgJ34vY29tcG9uZW50cy9qc29uLXRyZWUnO1xuaW1wb3J0ICd+L2NvbXBvbmVudHMvc2NoZW1hLXRyZWUnO1xuaW1wb3J0ICd+L2NvbXBvbmVudHMvdGFnLWlucHV0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpUmVxdWVzdCBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucmVzcG9uc2VNZXNzYWdlID0gJyc7XG4gICAgdGhpcy5yZXNwb25zZVN0YXR1cyA9ICdzdWNjZXNzJztcbiAgICB0aGlzLnJlc3BvbnNlSGVhZGVycyA9ICcnO1xuICAgIHRoaXMucmVzcG9uc2VUZXh0ID0gJyc7XG4gICAgdGhpcy5yZXNwb25zZVVybCA9ICcnO1xuICAgIHRoaXMuY3VybFN5bnRheCA9ICcnO1xuICAgIHRoaXMuYWN0aXZlUmVzcG9uc2VUYWIgPSAncmVzcG9uc2UnOyAvLyBhbGxvd2VkIHZhbHVlczogcmVzcG9uc2UsIGhlYWRlcnMsIGN1cmxcbiAgICB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlID0gJyc7XG4gICAgdGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5RXhhbXBsZSA9ICcnO1xuICAgIHRoaXMuYWN0aXZlUGFyYW1ldGVyU2NoZW1hVGFicyA9IHt9O1xuICB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZXJ2ZXJVcmw6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzZXJ2ZXItdXJsJyB9LFxuICAgICAgc2VydmVyczogeyB0eXBlOiBBcnJheSB9LFxuICAgICAgbWV0aG9kOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgICAgcGF0aDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICAgIHNlY3VyaXR5OiB7IHR5cGU6IEFycmF5IH0sXG4gICAgICBwYXJhbWV0ZXJzOiB7IHR5cGU6IEFycmF5IH0sXG4gICAgICByZXF1ZXN0X2JvZHk6IHsgdHlwZTogT2JqZWN0IH0sXG4gICAgICBhcGlfa2V5czogeyB0eXBlOiBBcnJheSB9LFxuICAgICAgcGFyc2VyOiB7IHR5cGU6IE9iamVjdCB9LFxuICAgICAgYWNjZXB0OiB7IHR5cGU6IFN0cmluZyB9LFxuICAgICAgY2FsbGJhY2s6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgICB3ZWJob29rOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgICAgcmVzcG9uc2VNZXNzYWdlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiBmYWxzZSB9LFxuICAgICAgcmVzcG9uc2VUZXh0OiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiBmYWxzZSB9LFxuICAgICAgcmVzcG9uc2VIZWFkZXJzOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiBmYWxzZSB9LFxuICAgICAgcmVzcG9uc2VTdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6IGZhbHNlIH0sXG4gICAgICByZXNwb25zZVVybDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogZmFsc2UgfSxcbiAgICAgIGN1cmxTeW50YXg6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6IGZhbHNlIH0sXG4gICAgICBmaWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZmlsbC1yZXF1ZXN0LWZpZWxkcy13aXRoLWV4YW1wbGUnIH0sXG4gICAgICBhbGxvd1RyeTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FsbG93LXRyeScgfSxcbiAgICAgIHNob3dDdXJsQmVmb3JlVHJ5OiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2hvdy1jdXJsLWJlZm9yZS10cnknIH0sXG4gICAgICByZW5kZXJTdHlsZTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3JlbmRlci1zdHlsZScgfSxcbiAgICAgIHNjaGVtYVN0eWxlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLXN0eWxlJyB9LFxuICAgICAgYWN0aXZlU2NoZW1hVGFiOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWN0aXZlLXNjaGVtYS10YWInIH0sXG4gICAgICBhY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgY29udmVydGVyOiB7XG4gICAgICAgICAgZnJvbUF0dHJpYnV0ZTogKGF0dHIpID0+IEpTT04ucGFyc2UoYXR0ciksXG4gICAgICAgICAgdG9BdHRyaWJ1dGU6IChwcm9wKSA9PiBKU09OLnN0cmluZ2lmeShwcm9wKSxcbiAgICAgICAgfSxcbiAgICAgICAgYXR0cmlidXRlOiAnYWN0aXZlLXBhcmFtZXRlci1zY2hlbWEtdGFicycsXG4gICAgICB9LFxuICAgICAgc2NoZW1hRXhwYW5kTGV2ZWw6IHsgdHlwZTogTnVtYmVyLCBhdHRyaWJ1dGU6ICdzY2hlbWEtZXhwYW5kLWxldmVsJyB9LFxuICAgICAgc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCcgfSxcbiAgICAgIGFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZScgfSxcbiAgICAgIHNjaGVtYUhpZGVSZWFkT25seTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1oaWRlLXJlYWQtb25seScgfSxcbiAgICAgIHNjaGVtYUhpZGVXcml0ZU9ubHk6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzY2hlbWEtaGlkZS13cml0ZS1vbmx5JyB9LFxuICAgICAgZmV0Y2hDcmVkZW50aWFsczogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2ZldGNoLWNyZWRlbnRpYWxzJyB9LFxuXG4gICAgICAvLyBwcm9wZXJ0aWVzIGZvciBpbnRlcm5hbCB0cmFja2luZ1xuICAgICAgYWN0aXZlUmVzcG9uc2VUYWI6IHsgdHlwZTogU3RyaW5nIH0sIC8vIGludGVybmFsIHRyYWNraW5nIG9mIHJlc3BvbnNlLXRhYiBub3QgZXhwb3NlZCBhcyBhIGF0dHJpYnV0ZVxuICAgICAgc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzZWxlY3RlZC1yZXF1ZXN0LWJvZHktdHlwZScgfSwgLy8gaW50ZXJuYWwgdHJhY2tpbmcgb2Ygc2VsZWN0ZWQgcmVxdWVzdC1ib2R5IHR5cGVcbiAgICAgIHNlbGVjdGVkUmVxdWVzdEJvZHlFeGFtcGxlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2VsZWN0ZWQtcmVxdWVzdC1ib2R5LWV4YW1wbGUnIH0sIC8vIGludGVybmFsIHRyYWNraW5nIG9mIHNlbGVjdGVkIHJlcXVlc3QtYm9keSBleGFtcGxlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICBUYWJsZVN0eWxlcyxcbiAgICAgIElucHV0U3R5bGVzLFxuICAgICAgRm9udFN0eWxlcyxcbiAgICAgIEZsZXhTdHlsZXMsXG4gICAgICBCb3JkZXJTdHlsZXMsXG4gICAgICBUYWJTdHlsZXMsXG4gICAgICBQcmlzbVN0eWxlcyxcbiAgICAgIGNzc2BcbiAgICAgICAgKiwgKjpiZWZvcmUsICo6YWZ0ZXIgeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9XG4gICAgICAgIDp3aGVyZShidXR0b24sIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSwgW3RhYmluZGV4PVwiMFwiXSk6Zm9jdXMtdmlzaWJsZSB7IGJveC1zaGFkb3c6IHZhcigtLWZvY3VzLXNoYWRvdyk7IH1cbiAgICAgICAgOndoZXJlKGlucHV0W3R5cGU9XCJ0ZXh0XCJdLCBpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0sIHNlbGVjdCwgdGV4dGFyZWEpOmZvY3VzLXZpc2libGUgeyBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOyB9XG4gICAgICAgIHRhZy1pbnB1dDpmb2N1cy13aXRoaW4geyBvdXRsaW5lOiAxcHggc29saWQ7fVxuICAgICAgICAucmVhZC1tb2RlIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgICAgICB9XG4gICAgICAgIC5wYXJhbS1uYW1lLFxuICAgICAgICAucGFyYW0tdHlwZSB7XG4gICAgICAgICAgbWFyZ2luOiAxcHggMDtcbiAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgICAgICBsaW5lLWhlaWdodDogdmFyKC0tZm9udC1zaXplLXNtYWxsKTtcbiAgICAgICAgfVxuICAgICAgICAucGFyYW0tbmFtZSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWZnKTsgXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ubyk7XG4gICAgICAgIH1cbiAgICAgICAgLnBhcmFtLW5hbWUuZGVwcmVjYXRlZCB7IFxuICAgICAgICAgIGNvbG9yOiB2YXIoLS1yZWQpO1xuICAgICAgICB9XG4gICAgICAgIC5wYXJhbS10eXBle1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1saWdodC1mZyk7IFxuICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXJlZ3VsYXIpO1xuICAgICAgICB9XG4gICAgICAgIC5wYXJhbS1jb25zdHJhaW50e1xuICAgICAgICAgIG1pbi13aWR0aDoxMDBweDtcbiAgICAgICAgfVxuICAgICAgICAucGFyYW0tY29uc3RyYWludDplbXB0eXtcbiAgICAgICAgICBkaXNwbGF5Om5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgLnRvcC1nYXB7bWFyZ2luLXRvcDoyNHB4O31cblxuICAgICAgICAudGV4dGFyZWEge1xuICAgICAgICAgIG1pbi1oZWlnaHQ6MjIwcHg7IFxuICAgICAgICAgIHBhZGRpbmc6NXB4O1xuICAgICAgICAgIHJlc2l6ZTp2ZXJ0aWNhbDtcbiAgICAgICAgICBkaXJlY3Rpb246IGx0cjtcbiAgICAgICAgfVxuICAgICAgICAuZXhhbXBsZTpmaXJzdC1jaGlsZCB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogLTlweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5yZXNwb25zZS1tZXNzYWdle1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XG4gICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIH1cbiAgICAgICAgLnJlc3BvbnNlLW1lc3NhZ2UuZXJyb3Ige1xuICAgICAgICAgIGNvbG9yOnZhcigtLXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLnJlc3BvbnNlLW1lc3NhZ2Uuc3VjY2VzcyB7XG4gICAgICAgICAgY29sb3I6dmFyKC0tYmx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAuZmlsZS1pbnB1dC1jb250YWluZXIge1xuICAgICAgICAgIGFsaWduLWl0ZW1zOmZsZXgtZW5kO1xuICAgICAgICB9XG4gICAgICAgIC5maWxlLWlucHV0LWNvbnRhaW5lciAuaW5wdXQtc2V0OmZpcnN0LWNoaWxkIC5maWxlLWlucHV0LXJlbW92ZS1idG57XG4gICAgICAgICAgdmlzaWJpbGl0eTpoaWRkZW47XG4gICAgICAgIH1cblxuICAgICAgICAuZmlsZS1pbnB1dC1yZW1vdmUtYnRue1xuICAgICAgICAgIGZvbnQtc2l6ZToxNnB4O1xuICAgICAgICAgIGNvbG9yOnZhcigtLXJlZCk7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgYmFja2dyb3VuZDpub25lO1xuICAgICAgICAgIGN1cnNvcjpwb2ludGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLnYtdGFiLWJ0biB7XG4gICAgICAgICAgZm9udC1zaXplOiB2YXIoLS1zbWFsLWZvbnQtc2l6ZSk7XG4gICAgICAgICAgaGVpZ2h0OjI0cHg7IFxuICAgICAgICAgIGJvcmRlcjpub25lOyBcbiAgICAgICAgICBiYWNrZ3JvdW5kOm5vbmU7IFxuICAgICAgICAgIG9wYWNpdHk6IDAuMztcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgcGFkZGluZzogNHB4IDhweDtcbiAgICAgICAgfVxuICAgICAgICAudi10YWItYnRuLmFjdGl2ZSB7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmcpO1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cblxuICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gICAgICAgICAgLnRleHRhcmVhIHtcbiAgICAgICAgICAgIHBhZGRpbmc6OHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDcwcHgpIHtcbiAgICAgICAgICAuaGlkZS1pbi1zbWFsbC1zY3JlZW4ge1xuICAgICAgICAgICAgZGlzcGxheTpub25lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYCxcbiAgICAgIEN1c3RvbVN0eWxlcyxcbiAgICBdO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgIDxkaXYgY2xhc3M9XCJjb2wgcmVndWxhci1mb250IHJlcXVlc3QtcGFuZWwgJHsncmVhZCBmb2N1c2VkJy5pbmNsdWRlcyh0aGlzLnJlbmRlclN0eWxlKSB8fCB0aGlzLmNhbGxiYWNrID09PSAndHJ1ZScgPyAncmVhZC1tb2RlJyA6ICd2aWV3LW1vZGUnfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cIiAke3RoaXMuY2FsbGJhY2sgPT09ICd0cnVlJyA/ICd0aW55LXRpdGxlJyA6ICdyZXEtcmVzLXRpdGxlJ30gXCI+IFxuICAgICAgICAke3RoaXMuY2FsbGJhY2sgPT09ICd0cnVlJyA/ICdDQUxMQkFDSyBSRVFVRVNUJyA6ICdSRVFVRVNUJ31cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgJHtndWFyZChbdGhpcy5tZXRob2QsIHRoaXMucGF0aCwgdGhpcy5hbGxvd1RyeSwgdGhpcy5wYXJhbWV0ZXJzLCB0aGlzLmFjdGl2ZVBhcmFtZXRlclNjaGVtYVRhYnNdLCAoKSA9PiB0aGlzLmlucHV0UGFyYW1ldGVyc1RlbXBsYXRlKCdwYXRoJykpfVxuICAgICAgICAke2d1YXJkKFt0aGlzLm1ldGhvZCwgdGhpcy5wYXRoLCB0aGlzLmFsbG93VHJ5LCB0aGlzLnBhcmFtZXRlcnMsIHRoaXMuYWN0aXZlUGFyYW1ldGVyU2NoZW1hVGFic10sICgpID0+IHRoaXMuaW5wdXRQYXJhbWV0ZXJzVGVtcGxhdGUoJ3F1ZXJ5JykpfVxuICAgICAgICAke3RoaXMucmVxdWVzdEJvZHlUZW1wbGF0ZSgpfVxuICAgICAgICAke2d1YXJkKFt0aGlzLm1ldGhvZCwgdGhpcy5wYXRoLCB0aGlzLmFsbG93VHJ5LCB0aGlzLnBhcmFtZXRlcnMsIHRoaXMuYWN0aXZlUGFyYW1ldGVyU2NoZW1hVGFic10sICgpID0+IHRoaXMuaW5wdXRQYXJhbWV0ZXJzVGVtcGxhdGUoJ2hlYWRlcicpKX1cbiAgICAgICAgJHtndWFyZChbdGhpcy5tZXRob2QsIHRoaXMucGF0aCwgdGhpcy5hbGxvd1RyeSwgdGhpcy5wYXJhbWV0ZXJzLCB0aGlzLmFjdGl2ZVBhcmFtZXRlclNjaGVtYVRhYnNdLCAoKSA9PiB0aGlzLmlucHV0UGFyYW1ldGVyc1RlbXBsYXRlKCdjb29raWUnKSl9XG4gICAgICAgICR7dGhpcy5hbGxvd1RyeSA9PT0gJ2ZhbHNlJyA/ICcnIDogaHRtbGAke3RoaXMuYXBpQ2FsbFRlbXBsYXRlKCl9YH1cbiAgICAgIDwvZGl2PiAgXG4gICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZWQoKSB7XG4gICAgaWYgKHRoaXMuc2hvd0N1cmxCZWZvcmVUcnkgPT09ICd0cnVlJykge1xuICAgICAgdGhpcy5hcHBseUNVUkxTeW50YXgodGhpcy5zaGFkb3dSb290KTtcbiAgICB9XG5cbiAgICAvLyBJbiBmb2N1c2VkIG1vZGUgYWZ0ZXIgcmVuZGVyaW5nIHRoZSByZXF1ZXN0IGNvbXBvbmVudCwgdXBkYXRlIHRoZSB0ZXh0LWFyZWFzKHdoaWNoIGNvbnRhaW5zIGV4YW1wbGVzKSB1c2luZ1xuICAgIC8vIHRoZSBvcmlnaW5hbCB2YWx1ZXMgZnJvbSBoaWRkZW4gdGV4dGFyZWFzXG4gICAgLy8gVGhpcyBpcyBkb25lIGNveiwgdXNlciBtYXkgdXBkYXRlIHRoZSBkb20gYnkgZWRpdGluZyB0aGUgdGV4dGFyZWEncyBhbmQgb25jZSB0aGUgRE9NIGlzIHVwZGF0ZWQgZXh0ZXJuYWxseSBjaGFuZ2UgZGV0ZWN0aW9uIHdvbnQgaGFwcGVuLCB0aGVyZWZvcmUgdXBkYXRlIHRoZSB2YWx1ZXMgbWFudWFsbHlcblxuICAgIC8vIGlmICh0aGlzLnJlbmRlclN0eWxlID09PSAnZm9jdXNlZCcpIHtcbiAgICAvLyAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5zaXplID09PSAxICYmIGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYWN0aXZlU2NoZW1hVGFiJykpIHtcbiAgICAvLyAgICAgLy8gZG9udCB1cGRhdGUgZXhhbXBsZSBhcyBvbmx5IHRhYnMgaXMgc3dpdGNoZWRcbiAgICAvLyAgIH0gZWxzZSB7XG4gICAgLy8gICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIGlmICh0aGlzLndlYmhvb2sgPT09ICd0cnVlJykge1xuICAgICAgdGhpcy5hbGxvd1RyeSA9ICdmYWxzZSc7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZUV4YW1wbGVTdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnKSB7XG4gICAgICBjb25zdCByZXFCb2R5VGV4dEFyZWFFbHMgPSBbLi4udGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RleHRhcmVhLnJlcXVlc3QtYm9keS1wYXJhbS11c2VyLWlucHV0JyldO1xuICAgICAgcmVxQm9keVRleHRBcmVhRWxzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLmRhdGFzZXQudXNlcl9leGFtcGxlID0gZWwudmFsdWU7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGV4YW1wbGVUZXh0QXJlYUVscyA9IFsuLi50aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgndGV4dGFyZWFbZGF0YS1wdHlwZT1cImZvcm0tZGF0YVwiXScpXTtcbiAgICAgIGV4YW1wbGVUZXh0QXJlYUVscy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5kYXRhc2V0LnVzZXJfZXhhbXBsZSA9IGVsLnZhbHVlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVFeGFtcGxlc0Zyb21EYXRhQXR0cigpIHtcbiAgICAvLyBJbiBmb2N1c2VkIG1vZGUgYWZ0ZXIgcmVuZGVyaW5nIHRoZSByZXF1ZXN0IGNvbXBvbmVudCwgdXBkYXRlIHRoZSB0ZXh0LWFyZWFzKHdoaWNoIGNvbnRhaW5zIGV4YW1wbGVzKSB1c2luZ1xuICAgIC8vIHRoZSBvcmlnaW5hbCB2YWx1ZXMgZnJvbSBoaWRkZW4gdGV4dGFyZWFzXG4gICAgLy8gVGhpcyBpcyBkb25lIGNveiwgdXNlciBtYXkgdXBkYXRlIHRoZSBkb20gYnkgZWRpdGluZyB0aGUgdGV4dGFyZWEncyBhbmQgb25jZSB0aGUgRE9NIGlzIHVwZGF0ZWQgZXh0ZXJuYWxseSBjaGFuZ2UgZGV0ZWN0aW9uIHdvbnQgaGFwcGVuLCB0aGVyZWZvcmUgdXBkYXRlIHRoZSB2YWx1ZXMgbWFudWFsbHlcbiAgICBpZiAodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnKSB7XG4gICAgICBjb25zdCByZXFCb2R5VGV4dEFyZWFFbHMgPSBbLi4udGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RleHRhcmVhLnJlcXVlc3QtYm9keS1wYXJhbS11c2VyLWlucHV0JyldO1xuICAgICAgcmVxQm9keVRleHRBcmVhRWxzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLnZhbHVlID0gZWwuZGF0YXNldC51c2VyX2V4YW1wbGUgfHwgZWwuZGF0YXNldC5leGFtcGxlO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBleGFtcGxlVGV4dEFyZWFFbHMgPSBbLi4udGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RleHRhcmVhW2RhdGEtcHR5cGU9XCJmb3JtLWRhdGFcIl0nKV07XG4gICAgICBleGFtcGxlVGV4dEFyZWFFbHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwudmFsdWUgPSBlbC5kYXRhc2V0LnVzZXJfZXhhbXBsZSB8fCBlbC5kYXRhc2V0LmV4YW1wbGU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICByZW5kZXJFeGFtcGxlKGV4YW1wbGUsIHBhcmFtVHlwZSwgcGFyYW1OYW1lKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAke3BhcmFtVHlwZSA9PT0gJ2FycmF5JyA/ICdbJyA6ICcnfVxuICAgICAgPGFcbiAgICAgICAgcGFydD1cImFuY2hvciBhbmNob3ItcGFyYW0tZXhhbXBsZVwiXG4gICAgICAgIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7IG1pbi13aWR0aDoyNHB4OyB0ZXh0LWFsaWduOmNlbnRlclwiXG4gICAgICAgIGNsYXNzPVwiJHt0aGlzLmFsbG93VHJ5ID09PSAndHJ1ZScgPyAnJyA6ICdpbmFjdGl2ZS1saW5rJ31cIlxuICAgICAgICBkYXRhLWV4YW1wbGUtdHlwZT1cIiR7cGFyYW1UeXBlID09PSAnYXJyYXknID8gcGFyYW1UeXBlIDogJ3N0cmluZyd9XCJcbiAgICAgICAgZGF0YS1leGFtcGxlPVwiJHtleGFtcGxlLnZhbHVlICYmIEFycmF5LmlzQXJyYXkoZXhhbXBsZS52YWx1ZSkgPyBleGFtcGxlLnZhbHVlPy5qb2luKCd+fH4nKSA6IGV4YW1wbGUudmFsdWUgfHwgJyd9XCJcbiAgICAgICAgQGNsaWNrPVwiJHsoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlucHV0RWwgPSBlLnRhcmdldC5jbG9zZXN0KCd0YWJsZScpLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBuYW1lPVwiJHtwYXJhbU5hbWV9XCJdYCk7XG4gICAgICAgICAgaWYgKGlucHV0RWwpIHtcbiAgICAgICAgICAgIGlucHV0RWwudmFsdWUgPSBlLnRhcmdldC5kYXRhc2V0LmV4YW1wbGVUeXBlID09PSAnYXJyYXknID8gZS50YXJnZXQuZGF0YXNldC5leGFtcGxlLnNwbGl0KCd+fH4nKSA6IGUudGFyZ2V0LmRhdGFzZXQuZXhhbXBsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XCJcbiAgICAgID4gJHtleGFtcGxlLnByaW50YWJsZVZhbHVlIHx8IGV4YW1wbGUudmFsdWV9IDwvYT5cbiAgICAgICR7cGFyYW1UeXBlID09PSAnYXJyYXknID8gJ10gJyA6ICcnfVxuICAgIGA7XG4gIH1cblxuICByZW5kZXJTaG9ydEZvcm1hdEV4YW1wbGVzKGV4YW1wbGVzLCBwYXJhbVR5cGUsIHBhcmFtTmFtZSkge1xuICAgIHJldHVybiBodG1sYCR7ZXhhbXBsZXMubWFwKCh4LCBpKSA9PiBodG1sYFxuICAgICAgJHtpID09PSAwID8gJycgOiAn4pSDJ31cbiAgICAgICR7dGhpcy5yZW5kZXJFeGFtcGxlKHgsIHBhcmFtVHlwZSwgcGFyYW1OYW1lKX1gKX1gO1xuICB9XG5cbiAgcmVuZGVyTG9uZ0Zvcm1hdEV4YW1wbGVzKGV4YW1wbGVMaXN0LCBwYXJhbVR5cGUsIHBhcmFtTmFtZSkge1xuICAgIHJldHVybiBodG1sYCA8dWwgc3R5bGU9XCJsaXN0LXN0eWxlLXR5cGU6IGRpc2Nsb3N1cmUtY2xvc2VkO1wiPlxuICAgICAgJHtleGFtcGxlTGlzdC5tYXAoKHYpID0+IGh0bWxgXG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgJHt0aGlzLnJlbmRlckV4YW1wbGUodiwgcGFyYW1UeXBlLCBwYXJhbU5hbWUpfVxuICAgICAgICAgICAgJHt2LnN1bW1hcnk/Lmxlbmd0aCA+IDAgPyBodG1sYDxzcGFuPiZscGFyOyR7di5zdW1tYXJ5fSZycGFyOzwvc3Bhbj5gIDogJyd9XG4gICAgICAgICAgICAke3YuZGVzY3JpcHRpb24/Lmxlbmd0aCA+IDAgPyBodG1sYDxwPiR7dW5zYWZlSFRNTChtYXJrZWQodi5kZXNjcmlwdGlvbikpfTwvcD5gIDogJyd9XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgYCl9XG4gICAgPC91bD5gO1xuICB9XG5cbiAgZXhhbXBsZUxpc3RUZW1wbGF0ZShwYXJhbU5hbWUsIHBhcmFtVHlwZSwgZXhhbXBsZUxpc3QgPSBbXSkge1xuICAgIHJldHVybiBodG1sYCAke1xuICAgICAgZXhhbXBsZUxpc3QubGVuZ3RoID4gMFxuICAgICAgICA/IGh0bWxgPHNwYW4gc3R5bGU9XCJmb250LXdlaWdodDpib2xkXCI+RXhhbXBsZXM6IDwvc3Bhbj5cbiAgICAgICAgICAke2FueUV4YW1wbGVXaXRoU3VtbWFyeU9yRGVzY3JpcHRpb24oZXhhbXBsZUxpc3QpXG4gICAgICAgICAgICA/IHRoaXMucmVuZGVyTG9uZ0Zvcm1hdEV4YW1wbGVzKGV4YW1wbGVMaXN0LCBwYXJhbVR5cGUsIHBhcmFtTmFtZSlcbiAgICAgICAgICAgIDogdGhpcy5yZW5kZXJTaG9ydEZvcm1hdEV4YW1wbGVzKGV4YW1wbGVMaXN0LCBwYXJhbVR5cGUsIHBhcmFtTmFtZSl9YFxuICAgICAgICA6ICcnXG4gICAgICB9YDtcbiAgfVxuXG4gIGlucHV0UGFyYW1ldGVyc1RlbXBsYXRlKHBhcmFtVHlwZSkge1xuICAgIGNvbnN0IGZpbHRlcmVkUGFyYW1zID0gdGhpcy5wYXJhbWV0ZXJzID8gdGhpcy5wYXJhbWV0ZXJzLmZpbHRlcigocGFyYW0pID0+IHBhcmFtLmluID09PSBwYXJhbVR5cGUpIDogW107XG4gICAgaWYgKGZpbHRlcmVkUGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBsZXQgdGl0bGUgPSAnJztcbiAgICBpZiAocGFyYW1UeXBlID09PSAncGF0aCcpIHtcbiAgICAgIHRpdGxlID0gJ1BBVEggUEFSQU1FVEVSUyc7XG4gICAgfSBlbHNlIGlmIChwYXJhbVR5cGUgPT09ICdxdWVyeScpIHtcbiAgICAgIHRpdGxlID0gJ1FVRVJZLVNUUklORyBQQVJBTUVURVJTJztcbiAgICB9IGVsc2UgaWYgKHBhcmFtVHlwZSA9PT0gJ2hlYWRlcicpIHtcbiAgICAgIHRpdGxlID0gJ1JFUVVFU1QgSEVBREVSUyc7XG4gICAgfSBlbHNlIGlmIChwYXJhbVR5cGUgPT09ICdjb29raWUnKSB7XG4gICAgICB0aXRsZSA9ICdDT09LSUVTJztcbiAgICB9XG5cbiAgICBjb25zdCB0YWJsZVJvd3MgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIGZpbHRlcmVkUGFyYW1zKSB7XG4gICAgICBjb25zdCBbZGVjbGFyZWRQYXJhbVNjaGVtYSwgc2VyaWFsaXplU3R5bGUsIG1pbWVUeXBlRWxlbV0gPSBnZXRTY2hlbWFGcm9tUGFyYW0ocGFyYW0pO1xuICAgICAgaWYgKCFkZWNsYXJlZFBhcmFtU2NoZW1hKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFyYW1TY2hlbWEgPSBnZXRUeXBlSW5mbyhkZWNsYXJlZFBhcmFtU2NoZW1hKTtcbiAgICAgIGlmICghcGFyYW1TY2hlbWEpIHtcbiAgICAgICAgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29udGludWVcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNjaGVtYUFzT2JqID0gc2NoZW1hSW5PYmplY3ROb3RhdGlvbihkZWNsYXJlZFBhcmFtU2NoZW1hLCB7fSk7XG4gICAgICAvLyBsZXQgZXhhbXBsZVZhbCA9ICcnO1xuICAgICAgLy8gbGV0IGV4YW1wbGVMaXN0ID0gW107XG4gICAgICBsZXQgcGFyYW1TdHlsZSA9ICdmb3JtJztcbiAgICAgIGxldCBwYXJhbUV4cGxvZGUgPSB0cnVlO1xuICAgICAgbGV0IHBhcmFtQWxsb3dSZXNlcnZlZCA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtVHlwZSA9PT0gJ3F1ZXJ5Jykge1xuICAgICAgICBpZiAocGFyYW0uc3R5bGUgJiYgJ2Zvcm0gc3BhY2VEZWxpbWl0ZWQgcGlwZURlbGltaXRlZCcuaW5jbHVkZXMocGFyYW0uc3R5bGUpKSB7XG4gICAgICAgICAgcGFyYW1TdHlsZSA9IHBhcmFtLnN0eWxlO1xuICAgICAgICB9IGVsc2UgaWYgKHNlcmlhbGl6ZVN0eWxlKSB7XG4gICAgICAgICAgcGFyYW1TdHlsZSA9IHNlcmlhbGl6ZVN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW0uZXhwbG9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcGFyYW1FeHBsb2RlID0gcGFyYW0uZXhwbG9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtLmFsbG93UmVzZXJ2ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHBhcmFtQWxsb3dSZXNlcnZlZCA9IHBhcmFtLmFsbG93UmVzZXJ2ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIG9wZW5hcGkgMy4xLjAgc3BlYyBiYXNlZCBleGFtcGxlcyAod2hpY2ggbXVzdCBiZSBPYmplY3Qoc3RyaW5nIDogeyB2YWx1ZTphbnksIHN1bW1hcnk/OiBzdHJpbmcsIGRlc2NyaXB0aW9uPzogc3RyaW5nfSlcbiAgICAgIGNvbnN0IGV4YW1wbGUgPSBub3JtYWxpemVFeGFtcGxlcyhcbiAgICAgICAgKHBhcmFtLmV4YW1wbGVzXG4gICAgICAgICAgfHwgbmVzdEV4YW1wbGVJZlByZXNlbnQocGFyYW0uZXhhbXBsZSlcbiAgICAgICAgICB8fCBuZXN0RXhhbXBsZUlmUHJlc2VudChtaW1lVHlwZUVsZW0/LmV4YW1wbGUpXG4gICAgICAgICAgfHwgbWltZVR5cGVFbGVtPy5leGFtcGxlc1xuICAgICAgICAgIHx8IG5lc3RFeGFtcGxlSWZQcmVzZW50KHBhcmFtU2NoZW1hLmV4YW1wbGVzKVxuICAgICAgICAgIHx8IG5lc3RFeGFtcGxlSWZQcmVzZW50KHBhcmFtU2NoZW1hLmV4YW1wbGUpXG4gICAgICAgICksXG4gICAgICAgIHBhcmFtU2NoZW1hLnR5cGUsXG4gICAgICApO1xuICAgICAgaWYgKCFleGFtcGxlLmV4YW1wbGVWYWwgJiYgcGFyYW1TY2hlbWEudHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXhhbXBsZS5leGFtcGxlVmFsID0gZ2VuZXJhdGVFeGFtcGxlKFxuICAgICAgICAgIGRlY2xhcmVkUGFyYW1TY2hlbWEsXG4gICAgICAgICAgc2VyaWFsaXplU3R5bGUgfHwgJ2pzb24nLFxuICAgICAgICAgICcnLFxuICAgICAgICAgICcnLFxuICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPT09ICd0cnVlJyB8fCB0aGlzLndlYmhvb2sgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm5lZWRlZC10ZXJuYXJ5XG4gICAgICAgICAgdGhpcy5jYWxsYmFjayA9PT0gJ3RydWUnIHx8IHRoaXMud2ViaG9vayA9PT0gJ3RydWUnID8gZmFsc2UgOiB0cnVlLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubmVlZGVkLXRlcm5hcnlcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgICd0ZXh0JyxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgKVswXS5leGFtcGxlVmFsdWU7XG4gICAgICB9XG4gICAgICBjb25zdCBsYWJlbENvbFdpZHRoID0gJ3JlYWQgZm9jdXNlZCcuaW5jbHVkZXModGhpcy5yZW5kZXJTdHlsZSkgPyAnMjAwcHgnIDogJzE2MHB4JztcbiAgICAgIHRhYmxlUm93cy5wdXNoKGh0bWxgXG4gICAgICA8dHIgdGl0bGU9XCIke3BhcmFtLmRlcHJlY2F0ZWQgPyAnRGVwcmVjYXRlZCcgOiAnJ31cIj4gXG4gICAgICAgIDx0ZCByb3dzcGFuPVwiJHt0aGlzLmFsbG93VHJ5ID09PSAndHJ1ZScgPyAnMScgOiAnMid9XCIgc3R5bGU9XCJ3aWR0aDoke2xhYmVsQ29sV2lkdGh9OyBtaW4td2lkdGg6MTAwcHg7XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInBhcmFtLW5hbWUgJHtwYXJhbS5kZXByZWNhdGVkID8gJ2RlcHJlY2F0ZWQnIDogJyd9XCIgPlxuICAgICAgICAgICAgJHtwYXJhbS5kZXByZWNhdGVkID8gaHRtbGA8c3BhbiBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKTsnPuKclzwvc3Bhbj5gIDogJyd9XG4gICAgICAgICAgICAke3BhcmFtLnJlcXVpcmVkID8gaHRtbGA8c3BhbiBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKSc+Kjwvc3Bhbj5gIDogJyd9XG4gICAgICAgICAgICAke3BhcmFtLm5hbWV9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInBhcmFtLXR5cGVcIj5cbiAgICAgICAgICAgICR7cGFyYW1TY2hlbWEudHlwZSA9PT0gJ2FycmF5J1xuICAgICAgICAgICAgICA/IGAke3BhcmFtU2NoZW1hLmFycmF5VHlwZX1gXG4gICAgICAgICAgICAgIDogYCR7cGFyYW1TY2hlbWEuZm9ybWF0ID8gcGFyYW1TY2hlbWEuZm9ybWF0IDogcGFyYW1TY2hlbWEudHlwZX1gXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvdGQ+ICBcbiAgICAgICAgJHt0aGlzLmFsbG93VHJ5ID09PSAndHJ1ZSdcbiAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJtaW4td2lkdGg6MTAwcHg7XCIgY29sc3Bhbj1cIiR7cGFyYW1TY2hlbWEuZGVmYXVsdCB8fCBwYXJhbVNjaGVtYS5jb25zdHJhaW4gfHwgcGFyYW1TY2hlbWEuYWxsb3dlZFZhbHVlcyB8fCBwYXJhbVNjaGVtYS5wYXR0ZXJuID8gJzEnIDogJzInfVwiPlxuICAgICAgICAgICAgICAke3BhcmFtU2NoZW1hLnR5cGUgPT09ICdhcnJheSdcbiAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8dGFnLWlucHV0IGNsYXNzPVwicmVxdWVzdC1wYXJhbVwiIFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IFwid2lkdGg6MTAwJVwiIFxuICAgICAgICAgICAgICAgICAgICBkYXRhLXB0eXBlID0gXCIke3BhcmFtVHlwZX1cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXBuYW1lID0gXCIke3BhcmFtLm5hbWV9XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1leGFtcGxlID0gXCIke0FycmF5LmlzQXJyYXkoZXhhbXBsZS5leGFtcGxlVmFsKSA/IGV4YW1wbGUuZXhhbXBsZVZhbC5qb2luKCd+fH4nKSA6IGV4YW1wbGUuZXhhbXBsZVZhbH1cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXBhcmFtLXNlcmlhbGl6ZS1zdHlsZSA9IFwiJHtwYXJhbVN0eWxlfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcGFyYW0tc2VyaWFsaXplLWV4cGxvZGUgPSBcIiR7cGFyYW1FeHBsb2RlfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcGFyYW0tYWxsb3ctcmVzZXJ2ZWQgPSBcIiR7cGFyYW1BbGxvd1Jlc2VydmVkfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEteC1maWxsLWV4YW1wbGUgPSBcIiR7cGFyYW1bJ3gtZmlsbC1leGFtcGxlJ10gfHwgJ3llcyd9XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1hcnJheSA9IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gXCJhZGQtbXVsdGlwbGUgJiN4MjFhOTtcIlxuICAgICAgICAgICAgICAgICAgICAudmFsdWU9XCIke3BhcmFtWyd4LWZpbGwtZXhhbXBsZSddID09PSAnbm8nXG4gICAgICAgICAgICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgICAgICAgICAgIDogbGl2ZSh0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGUgPT09ICd0cnVlJyA/IEFycmF5LmlzQXJyYXkoZXhhbXBsZS5leGFtcGxlVmFsKSA/IGV4YW1wbGUuZXhhbXBsZVZhbCA6IFtleGFtcGxlLmV4YW1wbGVWYWxdIDogW10pXG4gICAgICAgICAgICAgICAgICAgIH1cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPC90YWctaW5wdXQ+YFxuICAgICAgICAgICAgICAgIDogcGFyYW1TY2hlbWEudHlwZSA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1wYW5lbCBjb2xcIiBzdHlsZT1cImJvcmRlci13aWR0aDowIDAgMXB4IDA7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1idXR0b25zIHJvd1wiIEBjbGljaz1cIiR7KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdidXR0b24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi50aGlzLmFjdGl2ZVBhcmFtZXRlclNjaGVtYVRhYnMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGVbcGFyYW0ubmFtZV0gPSBlLnRhcmdldC5kYXRhc2V0LnRhYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzID0gbmV3U3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0YWItYnRuICR7dGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzW3BhcmFtLm5hbWVdID09PSAnZXhhbXBsZScgPyAnYWN0aXZlJyA6ICcnfVwiIGRhdGEtdGFiID0gJ2V4YW1wbGUnPkVYQU1QTEUgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidGFiLWJ0biAke3RoaXMuYWN0aXZlUGFyYW1ldGVyU2NoZW1hVGFic1twYXJhbS5uYW1lXSAhPT0gJ2V4YW1wbGUnID8gJ2FjdGl2ZScgOiAnJ31cIiBkYXRhLXRhYiA9ICdzY2hlbWEnPlNDSEVNQTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5hY3RpdmVQYXJhbWV0ZXJTY2hlbWFUYWJzW3BhcmFtLm5hbWVdID09PSAnZXhhbXBsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcyA9IFwidGV4dGFyZWEgcmVxdWVzdC1wYXJhbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9IFwidGV4dGFyZWEgdGV4dGFyZWEtcGFyYW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcHR5cGUgPSBcIiR7cGFyYW1UeXBlfS1vYmplY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcG5hbWUgPSBcIiR7cGFyYW0ubmFtZX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZXhhbXBsZSA9IFwiJHtleGFtcGxlLmV4YW1wbGVWYWx9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBhcmFtLXNlcmlhbGl6ZS1zdHlsZSA9IFwiJHtwYXJhbVN0eWxlfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wYXJhbS1zZXJpYWxpemUtZXhwbG9kZSA9IFwiJHtwYXJhbUV4cGxvZGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBhcmFtLWFsbG93LXJlc2VydmVkID0gXCIke3BhcmFtQWxsb3dSZXNlcnZlZH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEteC1maWxsLWV4YW1wbGUgPSBcIiR7cGFyYW1bJ3gtZmlsbC1leGFtcGxlJ10gfHwgJ3llcyd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVsbGNoZWNrID0gXCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHRDb250ZW50PVwiJHtwYXJhbVsneC1maWxsLWV4YW1wbGUnXSA9PT0gJ25vJyA/ICcnIDogbGl2ZSh0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGUgPT09ICd0cnVlJyA/IGV4YW1wbGUuZXhhbXBsZVZhbCA6ICcnKX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0gXCJyZXNpemU6dmVydGljYWw7IHdpZHRoOjEwMCU7IGhlaWdodDogJHsncmVhZCBmb2N1c2VkJy5pbmNsdWRlcyh0aGlzLnJlbmRlclN0eWxlKSA/ICcxODBweCcgOiAnMTIwcHgnfTtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBpbnB1dD0keyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0UGFuZWxFbCA9IHRoaXMuZ2V0UmVxdWVzdFBhbmVsKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXZlQ1VSTFN5bnRheFVwZGF0ZShyZXF1ZXN0UGFuZWxFbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItY29udGVudCBjb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2NoZW1hLXRyZWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzID0gJ2pzb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9ICdkaXNwbGF5OiBibG9jaydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhID0gJyR7c2NoZW1hQXNPYmp9J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9IFwiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSBcIiR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9IFwiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9IFwiJHt0aGlzLnNjaGVtYUhpZGVSZWFkT25seS5pbmNsdWRlcyh0aGlzLm1ldGhvZCl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSBcIiR7dGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5LmluY2x1ZGVzKHRoaXMubWV0aG9kKX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0cGFydHMgPSBcIndyYXAtcmVxdWVzdC1idG46d3JhcC1yZXF1ZXN0LWJ0biwgYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1vdXRsaW5lOmJ0bi1vdXRsaW5lLCBidG4tdHJ5OmJ0bi10cnksIGJ0bi1jbGVhcjpidG4tY2xlYXIsIGJ0bi1jbGVhci1yZXNwOmJ0bi1jbGVhci1yZXNwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLWlucHV0OmZpbGUtaW5wdXQsIHRleHRib3g6dGV4dGJveCwgdGV4dGJveC1wYXJhbTp0ZXh0Ym94LXBhcmFtLCB0ZXh0YXJlYTp0ZXh0YXJlYSwgdGV4dGFyZWEtcGFyYW06dGV4dGFyZWEtcGFyYW0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3I6YW5jaG9yLCBhbmNob3ItcGFyYW0tZXhhbXBsZTphbmNob3ItcGFyYW0tZXhhbXBsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPiA8L3NjaGVtYS10cmVlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCIke3BhcmFtU2NoZW1hLmZvcm1hdCA9PT0gJ3Bhc3N3b3JkJyA/ICdwYXNzd29yZCcgOiAndGV4dCd9XCIgc3BlbGxjaGVjaz1cImZhbHNlXCIgc3R5bGU9XCJ3aWR0aDoxMDAlXCIgXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyZXF1ZXN0LXBhcmFtXCJcbiAgICAgICAgICAgICAgICAgICAgICBwYXJ0PVwidGV4dGJveCB0ZXh0Ym94LXBhcmFtXCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXB0eXBlPVwiJHtwYXJhbVR5cGV9XCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBuYW1lPVwiJHtwYXJhbS5uYW1lfVwiIFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZXhhbXBsZT1cIiR7QXJyYXkuaXNBcnJheShleGFtcGxlLmV4YW1wbGVWYWwpID8gZXhhbXBsZS5leGFtcGxlVmFsLmpvaW4oJ358ficpIDogZXhhbXBsZS5leGFtcGxlVmFsfVwiXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS1wYXJhbS1hbGxvdy1yZXNlcnZlZCA9IFwiJHtwYXJhbUFsbG93UmVzZXJ2ZWR9XCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXgtZmlsbC1leGFtcGxlID0gXCIke3BhcmFtWyd4LWZpbGwtZXhhbXBsZSddIHx8ICd5ZXMnfVwiXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS1hcnJheT1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAudmFsdWU9XCIke3BhcmFtWyd4LWZpbGwtZXhhbXBsZSddID09PSAnbm8nID8gJycgOiBsaXZlKHRoaXMuZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZSA9PT0gJ3RydWUnID8gZXhhbXBsZS5leGFtcGxlVmFsIDogJycpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgQGlucHV0PSR7KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RQYW5lbEVsID0gdGhpcy5nZXRSZXF1ZXN0UGFuZWwoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpdmVDVVJMU3ludGF4VXBkYXRlKHJlcXVlc3RQYW5lbEVsKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPmBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICA6ICcnXG4gICAgICAgIH1cbiAgICAgICAgJHtwYXJhbVNjaGVtYS5kZWZhdWx0IHx8IHBhcmFtU2NoZW1hLmNvbnN0cmFpbiB8fCBwYXJhbVNjaGVtYS5hbGxvd2VkVmFsdWVzIHx8IHBhcmFtU2NoZW1hLnBhdHRlcm5cbiAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIiR7KHRoaXMuYWxsb3dUcnkgPT09ICd0cnVlJykgPyAnMScgOiAnMid9XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYXJhbS1jb25zdHJhaW50XCI+XG4gICAgICAgICAgICAgICAgJHtwYXJhbVNjaGVtYS5kZWZhdWx0ID8gaHRtbGA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OmJvbGRcIj5EZWZhdWx0OiA8L3NwYW4+JHtwYXJhbVNjaGVtYS5kZWZhdWx0fTxici8+YCA6ICcnfVxuICAgICAgICAgICAgICAgICR7cGFyYW1TY2hlbWEucGF0dGVybiA/IGh0bWxgPHNwYW4gc3R5bGU9XCJmb250LXdlaWdodDpib2xkXCI+UGF0dGVybjogPC9zcGFuPiR7cGFyYW1TY2hlbWEucGF0dGVybn08YnIvPmAgOiAnJ31cbiAgICAgICAgICAgICAgICAke3BhcmFtU2NoZW1hLmNvbnN0cmFpbiA/IGh0bWxgJHtwYXJhbVNjaGVtYS5jb25zdHJhaW59PGJyLz5gIDogJyd9XG4gICAgICAgICAgICAgICAgJHtwYXJhbVNjaGVtYS5hbGxvd2VkVmFsdWVzICYmIHBhcmFtU2NoZW1hLmFsbG93ZWRWYWx1ZXMuc3BsaXQoJ+KUgycpLm1hcCgodiwgaSkgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICAgICR7aSA+IDAgPyAn4pSDJyA6IGh0bWxgPHNwYW4gc3R5bGU9XCJmb250LXdlaWdodDpib2xkXCI+QWxsb3dlZDogPC9zcGFuPmB9XG4gICAgICAgICAgICAgICAgICAke2h0bWxgXG4gICAgICAgICAgICAgICAgICAgIDxhIHBhcnQ9XCJhbmNob3IgYW5jaG9yLXBhcmFtLWNvbnN0cmFpbnRcIiBjbGFzcyA9IFwiJHt0aGlzLmFsbG93VHJ5ID09PSAndHJ1ZScgPyAnJyA6ICdpbmFjdGl2ZS1saW5rJ31cIlxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdHlwZT1cIiR7cGFyYW1TY2hlbWEudHlwZSA9PT0gJ2FycmF5JyA/IHBhcmFtU2NoZW1hLnR5cGUgOiAnc3RyaW5nJ31cIlxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZW51bT1cIiR7di50cmltKCl9XCJcbiAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCIkeyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dEVsID0gZS50YXJnZXQuY2xvc2VzdCgndGFibGUnKS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wbmFtZT1cIiR7cGFyYW0ubmFtZX1cIl1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dEVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5kYXRhc2V0LnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gW2UudGFyZ2V0LmRhdGFzZXQuZW51bV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSA9IGUudGFyZ2V0LmRhdGFzZXQuZW51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XCJcbiAgICAgICAgICAgICAgICAgICAgPiR7dn08L2E+YFxuICAgICAgICAgICAgICAgICAgfWApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgIDogaHRtbGA8dGQ+PC90ZD5gXG4gICAgICAgIH1cbiAgICAgIDwvdHI+XG4gICAgICA8dHI+XG4gICAgICAgICR7dGhpcy5hbGxvd1RyeSA9PT0gJ3RydWUnID8gaHRtbGA8dGQgc3R5bGU9XCJib3JkZXI6bm9uZVwiPiA8L3RkPmAgOiAnJ31cbiAgICAgICAgPHRkIGNvbHNwYW49XCIyXCIgc3R5bGU9XCJib3JkZXI6bm9uZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibS1tYXJrZG93bi1zbWFsbFwiPiR7dW5zYWZlSFRNTChtYXJrZWQocGFyYW0uZGVzY3JpcHRpb24gfHwgJycpKX08L3NwYW4+XG4gICAgICAgICAgJHt0aGlzLmV4YW1wbGVMaXN0VGVtcGxhdGUuY2FsbCh0aGlzLCBwYXJhbS5uYW1lLCBwYXJhbVNjaGVtYS50eXBlLCBleGFtcGxlLmV4YW1wbGVMaXN0KX1cbiAgICAgICAgPC90ZD5cbiAgICAgIDwvdHI+XG4gICAgYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz1cInRhYmxlLXRpdGxlIHRvcC1nYXBcIj4ke3RpdGxlfTwvZGl2PlxuICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmJsb2NrOyBvdmVyZmxvdy14OmF1dG87IG1heC13aWR0aDoxMDAlO1wiPlxuICAgICAgPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjbGFzcz1cIm0tdGFibGVcIiBzdHlsZT1cIndpZHRoOjEwMCU7IHdvcmQtYnJlYWs6YnJlYWstd29yZDtcIj5cbiAgICAgICAgJHt0YWJsZVJvd3N9XG4gICAgICA8L3RhYmxlPlxuICAgIDwvZGl2PmA7XG4gIH1cblxuICAvLyBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYmVmb3JlIG5hdmlnYXRpb24gY2hhbmdlIGluIGZvY3VzZWQgbW9kZVxuICBhc3luYyBiZWZvcmVOYXZpZ2F0aW9uRm9jdXNlZE1vZGUoKSB7XG4gICAgLy8gdGhpcy5zYXZlRXhhbXBsZVN0YXRlKCk7XG4gIH1cblxuICAvLyBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYWZ0ZXIgbmF2aWdhdGlvbiBjaGFuZ2UgaW4gZm9jdXNlZCBtb2RlXG4gIGFzeW5jIGFmdGVyTmF2aWdhdGlvbkZvY3VzZWRNb2RlKCkge1xuICAgIHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUgPSAnJztcbiAgICB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlFeGFtcGxlID0gJyc7XG4gICAgdGhpcy51cGRhdGVFeGFtcGxlc0Zyb21EYXRhQXR0cigpO1xuICAgIHRoaXMuY2xlYXJSZXNwb25zZURhdGEoKTtcbiAgfVxuXG4gIC8vIFJlcXVlc3QtQm9keSBFdmVudCBIYW5kbGVyc1xuICBvblNlbGVjdEV4YW1wbGUoZSkge1xuICAgIHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keUV4YW1wbGUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBleGFtcGxlRHJvcGRvd25FbCA9IGUudGFyZ2V0O1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KChzZWxlY3RFbCkgPT4ge1xuICAgICAgY29uc3QgcmVhZE9ubHlFeGFtcGxlRWwgPSBzZWxlY3RFbC5jbG9zZXN0KCcuZXhhbXBsZS1wYW5lbCcpLnF1ZXJ5U2VsZWN0b3IoJy5yZXF1ZXN0LWJvZHktcGFyYW0nKTtcbiAgICAgIGNvbnN0IHVzZXJJbnB1dEV4YW1wbGVUZXh0YXJlYUVsID0gc2VsZWN0RWwuY2xvc2VzdCgnLmV4YW1wbGUtcGFuZWwnKS5xdWVyeVNlbGVjdG9yKCcucmVxdWVzdC1ib2R5LXBhcmFtLXVzZXItaW5wdXQnKTtcbiAgICAgIHVzZXJJbnB1dEV4YW1wbGVUZXh0YXJlYUVsLnZhbHVlID0gcmVhZE9ubHlFeGFtcGxlRWwuaW5uZXJUZXh0O1xuXG4gICAgICBjb25zdCByZXF1ZXN0UGFuZWxFbCA9IHRoaXMuZ2V0UmVxdWVzdFBhbmVsKHsgdGFyZ2V0OiBzZWxlY3RFbCB9KTtcbiAgICAgIHRoaXMubGl2ZUNVUkxTeW50YXhVcGRhdGUocmVxdWVzdFBhbmVsRWwpO1xuICAgIH0sIDAsIGV4YW1wbGVEcm9wZG93bkVsKTtcbiAgfVxuXG4gIG9uTWltZVR5cGVDaGFuZ2UoZSkge1xuICAgIHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBtaW1lRHJvcGRvd25FbCA9IGUudGFyZ2V0O1xuICAgIHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keUV4YW1wbGUgPSAnJztcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoc2VsZWN0RWwpID0+IHtcbiAgICAgIGNvbnN0IHJlYWRPbmx5RXhhbXBsZUVsID0gc2VsZWN0RWwuY2xvc2VzdCgnLnJlcXVlc3QtYm9keS1jb250YWluZXInKS5xdWVyeVNlbGVjdG9yKCcucmVxdWVzdC1ib2R5LXBhcmFtJyk7XG4gICAgICBpZiAocmVhZE9ubHlFeGFtcGxlRWwpIHtcbiAgICAgICAgY29uc3QgdXNlcklucHV0RXhhbXBsZVRleHRhcmVhRWwgPSBzZWxlY3RFbC5jbG9zZXN0KCcucmVxdWVzdC1ib2R5LWNvbnRhaW5lcicpLnF1ZXJ5U2VsZWN0b3IoJy5yZXF1ZXN0LWJvZHktcGFyYW0tdXNlci1pbnB1dCcpO1xuICAgICAgICB1c2VySW5wdXRFeGFtcGxlVGV4dGFyZWFFbC52YWx1ZSA9IHJlYWRPbmx5RXhhbXBsZUVsLmlubmVyVGV4dDtcbiAgICAgIH1cbiAgICB9LCAwLCBtaW1lRHJvcGRvd25FbCk7XG4gIH1cblxuICByZXF1ZXN0Qm9keVRlbXBsYXRlKCkge1xuICAgIGlmICghdGhpcy5yZXF1ZXN0X2JvZHkpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMucmVxdWVzdF9ib2R5KS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBWYXJpYWJsZSB0byBzdG9yZSBwYXJ0aWFsIEhUTUxzXG4gICAgbGV0IHJlcUJvZHlUeXBlU2VsZWN0b3JIdG1sID0gJyc7XG4gICAgbGV0IHJlcUJvZHlGaWxlSW5wdXRIdG1sID0gJyc7XG4gICAgbGV0IHJlcUJvZHlGb3JtSHRtbCA9ICcnO1xuICAgIGxldCByZXFCb2R5U2NoZW1hSHRtbCA9ICcnO1xuICAgIGxldCByZXFCb2R5RXhhbXBsZUh0bWwgPSAnJztcblxuICAgIGNvbnN0IHJlcXVlc3RCb2R5VHlwZXMgPSBbXTtcbiAgICBjb25zdCB7IGNvbnRlbnQgfSA9IHRoaXMucmVxdWVzdF9ib2R5O1xuICAgIGZvciAoY29uc3QgbWltZVR5cGUgaW4gY29udGVudCkge1xuICAgICAgcmVxdWVzdEJvZHlUeXBlcy5wdXNoKHtcbiAgICAgICAgbWltZVR5cGUsXG4gICAgICAgIHNjaGVtYTogY29udGVudFttaW1lVHlwZV0uc2NoZW1hLFxuICAgICAgICBleGFtcGxlOiBjb250ZW50W21pbWVUeXBlXS5leGFtcGxlLFxuICAgICAgICBleGFtcGxlczogY29udGVudFttaW1lVHlwZV0uZXhhbXBsZXMsXG4gICAgICB9KTtcbiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlID0gbWltZVR5cGU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE1JTUUgVHlwZSBzZWxlY3RvclxuICAgIHJlcUJvZHlUeXBlU2VsZWN0b3JIdG1sID0gcmVxdWVzdEJvZHlUeXBlcy5sZW5ndGggPT09IDFcbiAgICAgID8gJydcbiAgICAgIDogaHRtbGBcbiAgICAgICAgPHNlbGVjdCBzdHlsZT1cIm1pbi13aWR0aDoxMDBweDsgbWF4LXdpZHRoOjEwMCU7ICBtYXJnaW4tYm90dG9tOi0xcHg7XCIgQGNoYW5nZSA9ICckeyhlKSA9PiB0aGlzLm9uTWltZVR5cGVDaGFuZ2UoZSl9Jz5cbiAgICAgICAgICAke3JlcXVlc3RCb2R5VHlwZXMubWFwKChyZXFCb2R5KSA9PiBodG1sYFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZSA9ICcke3JlcUJvZHkubWltZVR5cGV9JyA/c2VsZWN0ZWQgPSAnJHtyZXFCb2R5Lm1pbWVUeXBlID09PSB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlfSc+XG4gICAgICAgICAgICAgICR7cmVxQm9keS5taW1lVHlwZX1cbiAgICAgICAgICAgIDwvb3B0aW9uPiBgKVxuICAgICAgICAgIH1cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICBgO1xuXG4gICAgLy8gRm9yIExvb3AgLSBNYWluXG4gICAgcmVxdWVzdEJvZHlUeXBlcy5mb3JFYWNoKChyZXFCb2R5KSA9PiB7XG4gICAgICBsZXQgc2NoZW1hQXNPYmo7XG4gICAgICBsZXQgcmVxQm9keUV4YW1wbGVzID0gW107XG5cbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCdqc29uJykgfHwgdGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygneG1sJykgfHwgdGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygndGV4dCcpIHx8IHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoJ2pvc2UnKSkge1xuICAgICAgICAvLyBHZW5lcmF0ZSBFeGFtcGxlXG4gICAgICAgIGlmIChyZXFCb2R5Lm1pbWVUeXBlID09PSB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlKSB7XG4gICAgICAgICAgcmVxQm9keUV4YW1wbGVzID0gZ2VuZXJhdGVFeGFtcGxlKFxuICAgICAgICAgICAgcmVxQm9keS5zY2hlbWEsXG4gICAgICAgICAgICByZXFCb2R5Lm1pbWVUeXBlLFxuICAgICAgICAgICAgcmVxQm9keS5leGFtcGxlcyxcbiAgICAgICAgICAgIHJlcUJvZHkuZXhhbXBsZSxcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPT09ICd0cnVlJyB8fCB0aGlzLndlYmhvb2sgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm5lZWRlZC10ZXJuYXJ5XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrID09PSAndHJ1ZScgfHwgdGhpcy53ZWJob29rID09PSAndHJ1ZScgPyBmYWxzZSA6IHRydWUsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5uZWVkZWQtdGVybmFyeVxuICAgICAgICAgICAgJ3RleHQnLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keUV4YW1wbGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keUV4YW1wbGUgPSAocmVxQm9keUV4YW1wbGVzLmxlbmd0aCA+IDAgPyByZXFCb2R5RXhhbXBsZXNbMF0uZXhhbXBsZUlkIDogJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXFCb2R5RXhhbXBsZUh0bWwgPSBodG1sYFxuICAgICAgICAgICAgJHtyZXFCb2R5RXhhbXBsZUh0bWx9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzID0gJ2V4YW1wbGUtcGFuZWwgYm9yZGVyLXRvcCBwYWQtdG9wLTgnPlxuICAgICAgICAgICAgICAke3JlcUJvZHlFeGFtcGxlcy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgPHNlbGVjdCBzdHlsZT1cIm1pbi13aWR0aDoxMDBweDsgbWF4LXdpZHRoOjEwMCU7ICBtYXJnaW4tYm90dG9tOi0xcHg7XCIgQGNoYW5nZT0nJHsoZSkgPT4gdGhpcy5vblNlbGVjdEV4YW1wbGUoZSl9Jz5cbiAgICAgICAgICAgICAgICAgICAgJHtyZXFCb2R5RXhhbXBsZXMubWFwKCh2KSA9PiBodG1sYDxvcHRpb24gdmFsdWU9XCIke3YuZXhhbXBsZUlkfVwiID9zZWxlY3RlZD0ke3YuZXhhbXBsZUlkID09PSB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlFeGFtcGxlfSA+IFxuICAgICAgICAgICAgICAgICAgICAgICR7di5leGFtcGxlU3VtbWFyeS5sZW5ndGggPiA4MCA/IHYuZXhhbXBsZUlkIDogdi5leGFtcGxlU3VtbWFyeSA/IHYuZXhhbXBsZVN1bW1hcnkgOiB2LmV4YW1wbGVJZH0gXG4gICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPmApfVxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICR7cmVxQm9keUV4YW1wbGVzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigodikgPT4gdi5leGFtcGxlSWQgPT09IHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keUV4YW1wbGUpXG4gICAgICAgICAgICAgICAgLm1hcCgodikgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXhhbXBsZSAke3YuZXhhbXBsZUlkID09PSB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlFeGFtcGxlID8gJ2V4YW1wbGUtc2VsZWN0ZWQnIDogJyd9XCIgZGF0YS1leGFtcGxlID0gJyR7di5leGFtcGxlSWR9Jz5cbiAgICAgICAgICAgICAgICAgICR7di5leGFtcGxlU3VtbWFyeSAmJiB2LmV4YW1wbGVTdW1tYXJ5Lmxlbmd0aCA+IDgwID8gaHRtbGA8ZGl2IHN0eWxlPVwicGFkZGluZzogNHB4IDBcIj4gJHt2LmV4YW1wbGVTdW1tYXJ5fSA8L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICAgICAgICAke3YuZXhhbXBsZURlc2NyaXB0aW9uID8gaHRtbGA8ZGl2IGNsYXNzPVwibS1tYXJrZG93bi1zbWFsbFwiIHN0eWxlPVwicGFkZGluZzogNHB4IDBcIj4gJHt1bnNhZmVIVE1MKG1hcmtlZCh2LmV4YW1wbGVEZXNjcmlwdGlvbiB8fCAnJykpfSA8L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICAgICAgICA8IS0tIFRoaXMgcHJlKGhpZGRlbikgaXMgdG8gc3RvcmUgdGhlIG9yaWdpbmFsIGV4YW1wbGUgdmFsdWUsIHRoaXMgd2lsbCByZW1haW4gdW5jaGFuZ2VkIHdoZW4gdXNlcnMgc3dpdGNoZXMgZnJvbSBvbmUgZXhhbXBsZSB0byBhbm90aGVyLCBpdHMgaXMgdXNlZCB0byBwb3B1bGF0ZSB0aGUgZWRpdGFibGUgdGV4dGFyZWEgLS0+XG4gICAgICAgICAgICAgICAgICA8cHJlIFxuICAgICAgICAgICAgICAgICAgICBjbGFzcyA9IFwidGV4dGFyZWEgaXMtaGlkZGVuIHJlcXVlc3QtYm9keS1wYXJhbSAke3JlcUJvZHkubWltZVR5cGUuc3Vic3RyaW5nKHJlcUJvZHkubWltZVR5cGUuaW5kZXhPZignLycpICsgMSl9XCIgXG4gICAgICAgICAgICAgICAgICAgIHNwZWxsY2hlY2sgPSBcImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wdHlwZSA9IFwiJHtyZXFCb2R5Lm1pbWVUeXBlfVwiIFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjEwMCU7IHJlc2l6ZTp2ZXJ0aWNhbDsgZGlzcGxheTpub25lXCJcbiAgICAgICAgICAgICAgICAgID4keyh2LmV4YW1wbGVGb3JtYXQgPT09ICd0ZXh0JyA/IHYuZXhhbXBsZVZhbHVlIDogSlNPTi5zdHJpbmdpZnkodi5leGFtcGxlVmFsdWUsIG51bGwsIDIpKX08L3ByZT5cblxuICAgICAgICAgICAgICAgICAgPCEtLSB0aGlzIHRleHRhcmVhIGlzIGZvciB1c2VyIHRvIGVkaXQgdGhlIGV4YW1wbGUgLS0+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzID0gXCJ0ZXh0YXJlYSByZXF1ZXN0LWJvZHktcGFyYW0tdXNlci1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgIHBhcnQgPSBcInRleHRhcmVhIHRleHRhcmVhLXBhcmFtXCJcbiAgICAgICAgICAgICAgICAgICAgc3BlbGxjaGVjayA9IFwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXB0eXBlID0gXCIke3JlcUJvZHkubWltZVR5cGV9XCIgXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtZXhhbXBsZSA9IFwiJHt2LmV4YW1wbGVGb3JtYXQgPT09ICd0ZXh0JyA/IHYuZXhhbXBsZVZhbHVlIDogSlNPTi5zdHJpbmdpZnkodi5leGFtcGxlVmFsdWUsIG51bGwsIDIpfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtZXhhbXBsZS1mb3JtYXQgPSBcIiR7di5leGFtcGxlRm9ybWF0fVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MTAwJTsgcmVzaXplOnZlcnRpY2FsO1wiXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0Q29udGVudCA9IFwiJHt0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGUgPT09ICd0cnVlJyA/ICh2LmV4YW1wbGVGb3JtYXQgPT09ICd0ZXh0JyA/IHYuZXhhbXBsZVZhbHVlIDogSlNPTi5zdHJpbmdpZnkodi5leGFtcGxlVmFsdWUsIG51bGwsIDIpKSA6ICcnfVwiXG4gICAgICAgICAgICAgICAgICAgIEBpbnB1dD0keyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdFBhbmVsRWwgPSB0aGlzLmdldFJlcXVlc3RQYW5lbChlKTtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpdmVDVVJMU3ludGF4VXBkYXRlKHJlcXVlc3RQYW5lbEVsKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID48L3RleHRhcmVhPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICAgIGApfVxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoJ2Zvcm0tdXJsZW5jb2RlZCcpIHx8IHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoJ2Zvcm0tZGF0YScpKSB7XG4gICAgICAgIGlmIChyZXFCb2R5Lm1pbWVUeXBlID09PSB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlKSB7XG4gICAgICAgICAgY29uc3QgZXggPSBnZW5lcmF0ZUV4YW1wbGUoXG4gICAgICAgICAgICByZXFCb2R5LnNjaGVtYSxcbiAgICAgICAgICAgIHJlcUJvZHkubWltZVR5cGUsXG4gICAgICAgICAgICByZXFCb2R5LmV4YW1wbGVzLFxuICAgICAgICAgICAgcmVxQm9keS5leGFtcGxlLFxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9PT0gJ3RydWUnIHx8IHRoaXMud2ViaG9vayA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubmVlZGVkLXRlcm5hcnlcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPT09ICd0cnVlJyB8fCB0aGlzLndlYmhvb2sgPT09ICd0cnVlJyA/IGZhbHNlIDogdHJ1ZSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm5lZWRlZC10ZXJuYXJ5XG4gICAgICAgICAgICAndGV4dCcsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChyZXFCb2R5LnNjaGVtYSkge1xuICAgICAgICAgICAgcmVxQm9keUZvcm1IdG1sID0gdGhpcy5mb3JtRGF0YVRlbXBsYXRlKHJlcUJvZHkuc2NoZW1hLCByZXFCb2R5Lm1pbWVUeXBlLCAoZXhbMF0gPyBleFswXS5leGFtcGxlVmFsdWUgOiAnJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgoL15hdWRpb1xcL3xeaW1hZ2VcXC98XnZpZGVvXFwvfF5mb250XFwvfHRhciR8emlwJHw3eiR8cnRmJHxtc3dvcmQkfGV4Y2VsJHxcXC9wZGYkfFxcL29jdGV0LXN0cmVhbSQvLnRlc3QodGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZSkpKSB7XG4gICAgICAgIGlmIChyZXFCb2R5Lm1pbWVUeXBlID09PSB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlKSB7XG4gICAgICAgICAgcmVxQm9keUZpbGVJbnB1dEh0bWwgPSBodG1sYFxuICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwic21hbGwtZm9udC1zaXplIGJvbGQtdGV4dCByb3dcIj5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgcGFydD1cImZpbGUtaW5wdXRcIiBzdHlsZT1cIm1heC13aWR0aDoxMDAlXCIgY2xhc3M9XCJyZXF1ZXN0LWJvZHktcGFyYW0tZmlsZVwiIGRhdGEtcHR5cGU9XCIke3JlcUJvZHkubWltZVR5cGV9XCIgc3BlbGxjaGVjaz1cImZhbHNlXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBHZW5lcmF0ZSBTY2hlbWFcbiAgICAgIGlmIChyZXFCb2R5Lm1pbWVUeXBlLmluY2x1ZGVzKCdqc29uJykgfHwgcmVxQm9keS5taW1lVHlwZS5pbmNsdWRlcygneG1sJykgfHwgcmVxQm9keS5taW1lVHlwZS5pbmNsdWRlcygndGV4dCcpIHx8IHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoJ2pvc2UnKSkge1xuICAgICAgICBzY2hlbWFBc09iaiA9IHNjaGVtYUluT2JqZWN0Tm90YXRpb24ocmVxQm9keS5zY2hlbWEsIHt9KTtcbiAgICAgICAgaWYgKHRoaXMuc2NoZW1hU3R5bGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICByZXFCb2R5U2NoZW1hSHRtbCA9IGh0bWxgXG4gICAgICAgICAgICAke3JlcUJvZHlTY2hlbWFIdG1sfVxuICAgICAgICAgICAgPHNjaGVtYS10YWJsZVxuICAgICAgICAgICAgICBjbGFzcyA9ICcke3JlcUJvZHkubWltZVR5cGUuc3Vic3RyaW5nKHJlcUJvZHkubWltZVR5cGUuaW5kZXhPZignLycpICsgMSl9J1xuICAgICAgICAgICAgICBzdHlsZSA9ICdkaXNwbGF5OiAke3RoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUgPT09IHJlcUJvZHkubWltZVR5cGUgPyAnYmxvY2snIDogJ25vbmUnfTsnXG4gICAgICAgICAgICAgIC5kYXRhID0gJyR7c2NoZW1hQXNPYmp9J1xuICAgICAgICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gXCIke3RoaXMuc2NoZW1hRXhwYW5kTGV2ZWx9XCJcbiAgICAgICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gXCIke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH1cIlxuICAgICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9IFwiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9XCJcbiAgICAgICAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gXCIke3RoaXMuc2NoZW1hSGlkZVJlYWRPbmx5fVwiXG4gICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSBcIiR7dGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5fVwiXG4gICAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gXCJzY2hlbWEtZGVzY3JpcHRpb246c2NoZW1hLWRlc2NyaXB0aW9uLCBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZTpzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZVwiXG4gICAgICAgICAgICA+IDwvc2NoZW1hLXRhYmxlPlxuICAgICAgICAgIGA7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY2hlbWFTdHlsZSA9PT0gJ3RyZWUnKSB7XG4gICAgICAgICAgcmVxQm9keVNjaGVtYUh0bWwgPSBodG1sYFxuICAgICAgICAgICAgJHtyZXFCb2R5U2NoZW1hSHRtbH1cbiAgICAgICAgICAgIDxzY2hlbWEtdHJlZVxuICAgICAgICAgICAgICBjbGFzcyA9IFwiJHtyZXFCb2R5Lm1pbWVUeXBlLnN1YnN0cmluZyhyZXFCb2R5Lm1pbWVUeXBlLmluZGV4T2YoJy8nKSArIDEpfVwiXG4gICAgICAgICAgICAgIHN0eWxlID0gXCJkaXNwbGF5OiAke3RoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUgPT09IHJlcUJvZHkubWltZVR5cGUgPyAnYmxvY2snIDogJ25vbmUnfTtcIlxuICAgICAgICAgICAgICAuZGF0YSA9IFwiJHtzY2hlbWFBc09ian1cIlxuICAgICAgICAgICAgICBzY2hlbWEtZXhwYW5kLWxldmVsID0gXCIke3RoaXMuc2NoZW1hRXhwYW5kTGV2ZWx9XCJcbiAgICAgICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gXCIke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH1cIlxuICAgICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9IFwiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9XCJcbiAgICAgICAgICAgICAgc2NoZW1hLWhpZGUtcmVhZC1vbmx5ID0gXCIke3RoaXMuc2NoZW1hSGlkZVJlYWRPbmx5fVwiXG4gICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSBcIiR7dGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5fVwiXG4gICAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gXCJzY2hlbWEtZGVzY3JpcHRpb246c2NoZW1hLWRlc2NyaXB0aW9uLCBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZTpzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZVwiXG4gICAgICAgICAgICA+IDwvc2NoZW1hLXRyZWU+XG4gICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPSdyZXF1ZXN0LWJvZHktY29udGFpbmVyJyBkYXRhLXNlbGVjdGVkLXJlcXVlc3QtYm9keS10eXBlPVwiJHt0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlfVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtdGl0bGUgdG9wLWdhcCByb3dcIj5cbiAgICAgICAgICBSRVFVRVNUIEJPRFkgJHt0aGlzLnJlcXVlc3RfYm9keS5yZXF1aXJlZCA/IGh0bWxgPHNwYW4gY2xhc3M9XCJtb25vLWZvbnRcIiBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKSc+Kjwvc3Bhbj5gIDogJyd9IFxuICAgICAgICAgIDxzcGFuIHN0eWxlID0gXCJmb250LXdlaWdodDpub3JtYWw7IG1hcmdpbi1sZWZ0OjVweFwiPiAke3RoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZmxleDoxXCI+PC9zcGFuPlxuICAgICAgICAgICR7cmVxQm9keVR5cGVTZWxlY3Rvckh0bWx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke3RoaXMucmVxdWVzdF9ib2R5LmRlc2NyaXB0aW9uID8gaHRtbGA8ZGl2IGNsYXNzPVwibS1tYXJrZG93blwiIHN0eWxlPVwibWFyZ2luLWJvdHRvbToxMnB4XCI+JHt1bnNhZmVIVE1MKG1hcmtlZCh0aGlzLnJlcXVlc3RfYm9keS5kZXNjcmlwdGlvbikpfTwvZGl2PmAgOiAnJ31cbiAgICAgICAgXG4gICAgICAgICR7KHRoaXMuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoJ2pzb24nKSB8fCB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCd4bWwnKSB8fCB0aGlzLnNlbGVjdGVkUmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCd0ZXh0JykgfHwgdGhpcy5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygnam9zZScpKVxuICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItcGFuZWwgY29sXCIgc3R5bGU9XCJib3JkZXItd2lkdGg6MCAwIDFweCAwO1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLWJ1dHRvbnMgcm93XCIgQGNsaWNrPVwiJHsoZSkgPT4geyBpZiAoZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYnV0dG9uJykgeyB0aGlzLmFjdGl2ZVNjaGVtYVRhYiA9IGUudGFyZ2V0LmRhdGFzZXQudGFiOyB9IH19XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRhYi1idG4gJHt0aGlzLmFjdGl2ZVNjaGVtYVRhYiA9PT0gJ2V4YW1wbGUnID8gJ2FjdGl2ZScgOiAnJ31cIiBkYXRhLXRhYiA9ICdleGFtcGxlJz5FWEFNUExFPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRhYi1idG4gJHt0aGlzLmFjdGl2ZVNjaGVtYVRhYiAhPT0gJ2V4YW1wbGUnID8gJ2FjdGl2ZScgOiAnJ31cIiBkYXRhLXRhYiA9ICdzY2hlbWEnPlNDSEVNQTwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgJHtodG1sYDxkaXYgY2xhc3M9XCJ0YWItY29udGVudCBjb2xcIiBzdHlsZT1cImRpc3BsYXk6JHt0aGlzLmFjdGl2ZVNjaGVtYVRhYiA9PT0gJ2V4YW1wbGUnID8gJ2Jsb2NrJyA6ICdub25lJ307XCI+ICR7cmVxQm9keUV4YW1wbGVIdG1sfTwvZGl2PmB9XG4gICAgICAgICAgICAgICR7aHRtbGA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgY29sXCIgc3R5bGU9XCJkaXNwbGF5OiR7dGhpcy5hY3RpdmVTY2hlbWFUYWIgPT09ICdleGFtcGxlJyA/ICdub25lJyA6ICdibG9jayd9O1wiPiAke3JlcUJvZHlTY2hlbWFIdG1sfTwvZGl2PmB9XG4gICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgOiBodG1sYCAgXG4gICAgICAgICAgICAke3JlcUJvZHlGaWxlSW5wdXRIdG1sfVxuICAgICAgICAgICAgJHtyZXFCb2R5Rm9ybUh0bWx9YFxuICAgICAgICB9XG4gICAgICA8L2Rpdj4gIFxuICAgIGA7XG4gIH1cblxuICBmb3JtRGF0YVBhcmFtQXNPYmplY3RUZW1wbGF0ZShmaWVsZE5hbWUsIGZpZWxkU2NoZW1hLCBtaW1lVHlwZSkge1xuICAgIC8vIFRoaXMgdGVtcGxhdGUgaXMgdXNlZCB3aGVuIGZvcm0tZGF0YSBwYXJhbSBzaG91bGQgYmUgc2VuZCBhcyBhIG9iamVjdCAoYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24veG1sKVxuICAgIGNvbnN0IGZvcm1kYXRhUGFydFNjaGVtYSA9IHNjaGVtYUluT2JqZWN0Tm90YXRpb24oZmllbGRTY2hlbWEsIHt9KTtcbiAgICBjb25zdCBmb3JtZGF0YVBhcnRFeGFtcGxlID0gZ2VuZXJhdGVFeGFtcGxlKFxuICAgICAgZmllbGRTY2hlbWEsXG4gICAgICAnanNvbicsXG4gICAgICBmaWVsZFNjaGVtYS5leGFtcGxlcyxcbiAgICAgIGZpZWxkU2NoZW1hLmV4YW1wbGUsXG4gICAgICB0aGlzLmNhbGxiYWNrID09PSAndHJ1ZScgfHwgdGhpcy53ZWJob29rID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2UsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5uZWVkZWQtdGVybmFyeVxuICAgICAgdGhpcy5jYWxsYmFjayA9PT0gJ3RydWUnIHx8IHRoaXMud2ViaG9vayA9PT0gJ3RydWUnID8gZmFsc2UgOiB0cnVlLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubmVlZGVkLXRlcm5hcnlcbiAgICAgICd0ZXh0JyxcbiAgICAgIGZhbHNlLFxuICAgICk7XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWItcGFuZWwgcm93XCIgc3R5bGU9XCJtaW4taGVpZ2h0OjIyMHB4OyBib3JkZXItbGVmdDogNnB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7IGFsaWduLWl0ZW1zOiBzdHJldGNoO1wiPlxuICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6MjRweDsgYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1saWdodC1ib3JkZXItY29sb3IpXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiIHN0eWxlPVwiZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2U7IHdpZHRoOjE2MHB4OyBoZWlnaHQ6MjRweDsgdHJhbnNmb3JtOnJvdGF0ZSgyNzBkZWcpIHRyYW5zbGF0ZVgoLTE2MHB4KTsgdHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDsgZGlzcGxheTpibG9jaztcIiBAY2xpY2s9XCIkeyhlKSA9PiB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndi10YWItYnRuJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdGFiIH0gPSBlLnRhcmdldC5kYXRhc2V0O1xuICAgICAgICAgICAgaWYgKHRhYikge1xuICAgICAgICAgICAgICBjb25zdCB0YWJQYW5lbEVsID0gZS50YXJnZXQuY2xvc2VzdCgnLnRhYi1wYW5lbCcpO1xuICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFRhYkJ0bkVsID0gdGFiUGFuZWxFbC5xdWVyeVNlbGVjdG9yKGAudi10YWItYnRuW2RhdGEtdGFiPVwiJHt0YWJ9XCJdYCk7XG4gICAgICAgICAgICAgIGNvbnN0IG90aGVyVGFiQnRuRWwgPSBbLi4udGFiUGFuZWxFbC5xdWVyeVNlbGVjdG9yQWxsKGAudi10YWItYnRuOm5vdChbZGF0YS10YWI9XCIke3RhYn1cIl0pYCldO1xuICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFRhYkNvbnRlbnRFbCA9IHRhYlBhbmVsRWwucXVlcnlTZWxlY3RvcihgLnRhYi1jb250ZW50W2RhdGEtdGFiPVwiJHt0YWJ9XCJdYCk7XG4gICAgICAgICAgICAgIGNvbnN0IG90aGVyVGFiQ29udGVudEVsID0gWy4uLnRhYlBhbmVsRWwucXVlcnlTZWxlY3RvckFsbChgLnRhYi1jb250ZW50Om5vdChbZGF0YS10YWI9XCIke3RhYn1cIl0pYCldO1xuICAgICAgICAgICAgICBzZWxlY3RlZFRhYkJ0bkVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICBzZWxlY3RlZFRhYkNvbnRlbnRFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgb3RoZXJUYWJCdG5FbC5mb3JFYWNoKChlbCkgPT4geyBlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsgfSk7XG4gICAgICAgICAgICAgIG90aGVyVGFiQ29udGVudEVsLmZvckVhY2goKGVsKSA9PiB7IGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYnV0dG9uJykgeyB0aGlzLmFjdGl2ZVNjaGVtYVRhYiA9IGUudGFyZ2V0LmRhdGFzZXQudGFiOyB9XG4gICAgICAgIH19XCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInYtdGFiLWJ0biAke3RoaXMuYWN0aXZlU2NoZW1hVGFiID09PSAnZXhhbXBsZScgPyAnYWN0aXZlJyA6ICcnfVwiIGRhdGEtdGFiID0gJ2V4YW1wbGUnPkVYQU1QTEU8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidi10YWItYnRuICR7dGhpcy5hY3RpdmVTY2hlbWFUYWIgIT09ICdleGFtcGxlJyA/ICdhY3RpdmUnIDogJyd9XCIgZGF0YS10YWIgPSAnc2NoZW1hJz5TQ0hFTUE8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgICR7aHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50IGNvbFwiIGRhdGEtdGFiID0gJ2V4YW1wbGUnIHN0eWxlPVwiZGlzcGxheToke3RoaXMuYWN0aXZlU2NoZW1hVGFiID09PSAnZXhhbXBsZScgPyAnYmxvY2snIDogJ25vbmUnfTsgcGFkZGluZy1sZWZ0OjVweDsgd2lkdGg6MTAwJVwiPiBcbiAgICAgICAgICA8dGV4dGFyZWEgXG4gICAgICAgICAgICBjbGFzcyA9IFwidGV4dGFyZWFcIlxuICAgICAgICAgICAgcGFydCA9IFwidGV4dGFyZWEgdGV4dGFyZWEtcGFyYW1cIlxuICAgICAgICAgICAgc3R5bGUgPSBcIndpZHRoOjEwMCU7IGJvcmRlcjpub25lOyByZXNpemU6dmVydGljYWw7XCIgXG4gICAgICAgICAgICBkYXRhLWFycmF5ID0gXCJmYWxzZVwiIFxuICAgICAgICAgICAgZGF0YS1wdHlwZSA9IFwiJHttaW1lVHlwZS5pbmNsdWRlcygnZm9ybS11cmxlbmNvZGUnKSA/ICdmb3JtLXVybGVuY29kZScgOiAnZm9ybS1kYXRhJ31cIlxuICAgICAgICAgICAgZGF0YS1wbmFtZSA9IFwiJHtmaWVsZE5hbWV9XCJcbiAgICAgICAgICAgIGRhdGEtZXhhbXBsZSA9IFwiJHtmb3JtZGF0YVBhcnRFeGFtcGxlWzBdPy5leGFtcGxlVmFsdWUgfHwgJyd9XCJcbiAgICAgICAgICAgIC50ZXh0Q29udGVudCA9IFwiJHt0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGUgPT09ICd0cnVlJyA/IGZvcm1kYXRhUGFydEV4YW1wbGVbMF0uZXhhbXBsZVZhbHVlIDogJyd9XCJcbiAgICAgICAgICAgIHNwZWxsY2hlY2sgPSBcImZhbHNlXCJcbiAgICAgICAgICA+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+YFxuICAgICAgfVxuICAgICAgJHtodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgY29sXCIgZGF0YS10YWIgPSAnc2NoZW1hJyBzdHlsZT1cImRpc3BsYXk6JHt0aGlzLmFjdGl2ZVNjaGVtYVRhYiAhPT0gJ2V4YW1wbGUnID8gJ2Jsb2NrJyA6ICdub25lJ307IHBhZGRpbmctbGVmdDo1cHg7IHdpZHRoOjEwMCU7XCI+IFxuICAgICAgICAgIDxzY2hlbWEtdHJlZVxuICAgICAgICAgICAgLmRhdGEgPSAnJHtmb3JtZGF0YVBhcnRTY2hlbWF9J1xuICAgICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9IFwiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfVwiXG4gICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSBcIiR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkfVwiXG4gICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9IFwiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9XCIsXG4gICAgICAgICAgPiA8L3NjaGVtYS10cmVlPlxuICAgICAgICA8L2Rpdj5gXG4gICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgZm9ybURhdGFUZW1wbGF0ZShzY2hlbWEsIG1pbWVUeXBlLCBleGFtcGxlVmFsdWUgPSAnJykge1xuICAgIGNvbnN0IGZvcm1EYXRhVGFibGVSb3dzID0gW107XG4gICAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICBmb3IgKGNvbnN0IGZpZWxkTmFtZSBpbiBzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5wcm9wZXJ0aWVzW2ZpZWxkTmFtZV07XG4gICAgICAgIGlmIChmaWVsZFNjaGVtYS5yZWFkT25seSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpZWxkRXhhbXBsZXMgPSBmaWVsZFNjaGVtYS5leGFtcGxlcyB8fCBmaWVsZFNjaGVtYS5leGFtcGxlIHx8ICcnO1xuICAgICAgICBjb25zdCBmaWVsZFR5cGUgPSBmaWVsZFNjaGVtYS50eXBlO1xuICAgICAgICBjb25zdCBwYXJhbVNjaGVtYSA9IGdldFR5cGVJbmZvKGZpZWxkU2NoZW1hKTtcbiAgICAgICAgY29uc3QgbGFiZWxDb2xXaWR0aCA9ICdyZWFkIGZvY3VzZWQnLmluY2x1ZGVzKHRoaXMucmVuZGVyU3R5bGUpID8gJzIwMHB4JyA6ICcxNjBweCc7XG4gICAgICAgIGNvbnN0IGV4YW1wbGUgPSBub3JtYWxpemVFeGFtcGxlcygocGFyYW1TY2hlbWEuZXhhbXBsZXMgfHwgcGFyYW1TY2hlbWEuZXhhbXBsZSksIHBhcmFtU2NoZW1hLnR5cGUpO1xuICAgICAgICBmb3JtRGF0YVRhYmxlUm93cy5wdXNoKGh0bWxgXG4gICAgICAgIDx0ciB0aXRsZT1cIiR7ZmllbGRTY2hlbWEuZGVwcmVjYXRlZCA/ICdEZXByZWNhdGVkJyA6ICcnfVwiPiBcbiAgICAgICAgICA8dGQgc3R5bGU9XCJ3aWR0aDoke2xhYmVsQ29sV2lkdGh9OyBtaW4td2lkdGg6MTAwcHg7XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFyYW0tbmFtZSAke2ZpZWxkU2NoZW1hLmRlcHJlY2F0ZWQgPyAnZGVwcmVjYXRlZCcgOiAnJ31cIj5cbiAgICAgICAgICAgICAgJHtmaWVsZE5hbWV9JHsoc2NoZW1hLnJlcXVpcmVkPy5pbmNsdWRlcyhmaWVsZE5hbWUpIHx8IGZpZWxkU2NoZW1hLnJlcXVpcmVkKSA/IGh0bWxgPHNwYW4gc3R5bGU9J2NvbG9yOnZhcigtLXJlZCk7Jz4qPC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhcmFtLXR5cGVcIj4ke3BhcmFtU2NoZW1hLnR5cGV9PC9kaXY+XG4gICAgICAgICAgPC90ZD4gIFxuICAgICAgICAgIDx0ZCBcbiAgICAgICAgICAgIHN0eWxlPVwiJHtmaWVsZFR5cGUgPT09ICdvYmplY3QnID8gJ3dpZHRoOjEwMCU7IHBhZGRpbmc6MDsnIDogdGhpcy5hbGxvd1RyeSA9PT0gJ3RydWUnID8gJycgOiAnZGlzcGxheTpub25lOyd9IG1pbi13aWR0aDoxMDBweDtcIiBcbiAgICAgICAgICAgIGNvbHNwYW49XCIke2ZpZWxkVHlwZSA9PT0gJ29iamVjdCcgPyAyIDogMX1cIj5cbiAgICAgICAgICAgICR7ZmllbGRUeXBlID09PSAnYXJyYXknXG4gICAgICAgICAgICAgID8gZmllbGRTY2hlbWEuaXRlbXM/LmZvcm1hdCA9PT0gJ2JpbmFyeSdcbiAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtaW5wdXQtY29udGFpbmVyIGNvbFwiIHN0eWxlPSdhbGlnbi1pdGVtczpmbGV4LWVuZDsnIEBjbGljaz1cIiR7KGUpID0+IHRoaXMub25BZGRSZW1vdmVGaWxlSW5wdXQoZSwgZmllbGROYW1lLCBtaW1lVHlwZSl9XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdpbnB1dC1zZXQgcm93Jz5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgIHBhcnQgPSBcImZpbGUtaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0gXCJ3aWR0aDoxMDAlXCIgXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS1wbmFtZSA9IFwiJHtmaWVsZE5hbWV9XCIgXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS1wdHlwZSA9IFwiJHttaW1lVHlwZS5pbmNsdWRlcygnZm9ybS11cmxlbmNvZGUnKSA/ICdmb3JtLXVybGVuY29kZScgOiAnZm9ybS1kYXRhJ31cIlxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYXJyYXkgPSBcImZhbHNlXCIgXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS1maWxlLWFycmF5ID0gXCJ0cnVlXCIgXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmaWxlLWlucHV0LXJlbW92ZS1idG5cIj4gJiN4MjcxNTsgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm0tYnRuIHByaW1hcnkgZmlsZS1pbnB1dC1hZGQtYnRuXCIgcGFydD1cImJ0biBidG4tZmlsbFwiIHN0eWxlPVwibWFyZ2luOjJweCAyNXB4IDAgMDsgcGFkZGluZzoycHggNnB4O1wiPkFERDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgIDx0YWctaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBcIndpZHRoOjEwMCVcIiBcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wdHlwZSA9IFwiJHttaW1lVHlwZS5pbmNsdWRlcygnZm9ybS11cmxlbmNvZGUnKSA/ICdmb3JtLXVybGVuY29kZScgOiAnZm9ybS1kYXRhJ31cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXBuYW1lID0gXCIke2ZpZWxkTmFtZX1cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWV4YW1wbGUgPSBcIiR7QXJyYXkuaXNBcnJheShmaWVsZEV4YW1wbGVzKSA/IGZpZWxkRXhhbXBsZXMuam9pbignfnx+JykgOiBmaWVsZEV4YW1wbGVzfVwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYXJyYXkgPSBcInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA9IFwiYWRkLW11bHRpcGxlICYjeDIxYTk7XCJcbiAgICAgICAgICAgICAgICAgICAgLnZhbHVlID0gXCIke0FycmF5LmlzQXJyYXkoZmllbGRFeGFtcGxlcykgPyBBcnJheS5pc0FycmF5KGZpZWxkRXhhbXBsZXNbMF0pID8gZmllbGRFeGFtcGxlc1swXSA6IFtmaWVsZEV4YW1wbGVzWzBdXSA6IFtmaWVsZEV4YW1wbGVzXX1cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPC90YWctaW5wdXQ+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgJHtmaWVsZFR5cGUgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICA/IHRoaXMuZm9ybURhdGFQYXJhbUFzT2JqZWN0VGVtcGxhdGUuY2FsbCh0aGlzLCBmaWVsZE5hbWUsIGZpZWxkU2NoZW1hLCBtaW1lVHlwZSlcbiAgICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmFsbG93VHJ5ID09PSAndHJ1ZSdcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC52YWx1ZSA9IFwiJHt0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGUgPT09ICd0cnVlJyA/IGV4YW1wbGUuZXhhbXBsZVZhbCA6ICcnfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWxsY2hlY2sgPSBcImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwiJHtmaWVsZFNjaGVtYS5mb3JtYXQgPT09ICdiaW5hcnknID8gJ2ZpbGUnIDogZmllbGRTY2hlbWEuZm9ybWF0ID09PSAncGFzc3dvcmQnID8gJ3Bhc3N3b3JkJyA6ICd0ZXh0J31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gXCJ0ZXh0Ym94IHRleHRib3gtcGFyYW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IFwid2lkdGg6MTAwJVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcHR5cGUgPSBcIiR7bWltZVR5cGUuaW5jbHVkZXMoJ2Zvcm0tdXJsZW5jb2RlJykgPyAnZm9ybS11cmxlbmNvZGUnIDogJ2Zvcm0tZGF0YSd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wbmFtZSA9IFwiJHtmaWVsZE5hbWV9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1leGFtcGxlID0gXCIke0FycmF5LmlzQXJyYXkoZmllbGRFeGFtcGxlcykgPyBmaWVsZEV4YW1wbGVzWzBdIDogZmllbGRFeGFtcGxlc31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWFycmF5ID0gXCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPmBcbiAgICAgICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgfWBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgJHtmaWVsZFR5cGUgPT09ICdvYmplY3QnXG4gICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAke3BhcmFtU2NoZW1hLmRlZmF1bHQgfHwgcGFyYW1TY2hlbWEuY29uc3RyYWluIHx8IHBhcmFtU2NoZW1hLmFsbG93ZWRWYWx1ZXMgfHwgcGFyYW1TY2hlbWEucGF0dGVyblxuICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFyYW0tY29uc3RyYWludFwiPlxuICAgICAgICAgICAgICAgICAgICAgICR7cGFyYW1TY2hlbWEuZGVmYXVsdCA/IGh0bWxgPHNwYW4gc3R5bGU9XCJmb250LXdlaWdodDpib2xkXCI+RGVmYXVsdDogPC9zcGFuPiR7cGFyYW1TY2hlbWEuZGVmYXVsdH08YnIvPmAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAke3BhcmFtU2NoZW1hLnBhdHRlcm4gPyBodG1sYDxzcGFuIHN0eWxlPVwiZm9udC13ZWlnaHQ6Ym9sZFwiPlBhdHRlcm46IDwvc3Bhbj4ke3BhcmFtU2NoZW1hLnBhdHRlcm59PGJyLz5gIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgJHtwYXJhbVNjaGVtYS5jb25zdHJhaW4gPyBodG1sYCR7cGFyYW1TY2hlbWEuY29uc3RyYWlufTxici8+YCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICR7cGFyYW1TY2hlbWEuYWxsb3dlZFZhbHVlcyAmJiBwYXJhbVNjaGVtYS5hbGxvd2VkVmFsdWVzLnNwbGl0KCfilIMnKS5tYXAoKHYsIGkpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAke2kgPiAwID8gJ+KUgycgOiBodG1sYDxzcGFuIHN0eWxlPVwiZm9udC13ZWlnaHQ6Ym9sZFwiPkFsbG93ZWQ6IDwvc3Bhbj5gfVxuICAgICAgICAgICAgICAgICAgICAgICAgJHtodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBwYXJ0PVwiYW5jaG9yIGFuY2hvci1wYXJhbS1jb25zdHJhaW50XCIgY2xhc3MgPSBcIiR7dGhpcy5hbGxvd1RyeSA9PT0gJ3RydWUnID8gJycgOiAnaW5hY3RpdmUtbGluayd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGU9XCIke3BhcmFtU2NoZW1hLnR5cGUgPT09ICdhcnJheScgPyBwYXJhbVNjaGVtYS50eXBlIDogJ3N0cmluZyd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWVudW09XCIke3YudHJpbSgpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiJHsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRFbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ3RhYmxlJykucXVlcnlTZWxlY3RvcihgW2RhdGEtcG5hbWU9XCIke2ZpZWxkTmFtZX1cIl1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dEVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5kYXRhc2V0LnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gW2UudGFyZ2V0LmRhdGFzZXQuZW51bV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSA9IGUudGFyZ2V0LmRhdGFzZXQuZW51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Z9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+YFxuICAgICAgICAgICAgICAgICAgICAgICAgfWApXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICB9XG4gICAgICAgIDwvdHI+XG4gICAgICAgICR7ZmllbGRUeXBlID09PSAnb2JqZWN0J1xuICAgICAgICAgID8gJydcbiAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0ZCBzdHlsZT1cImJvcmRlcjpub25lXCI+IDwvdGQ+XG4gICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiMlwiIHN0eWxlPVwiYm9yZGVyOm5vbmU7IG1hcmdpbi10b3A6MDsgcGFkZGluZzowIDVweCA4cHggNXB4O1wiPiBcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm0tbWFya2Rvd24tc21hbGxcIj4ke3Vuc2FmZUhUTUwobWFya2VkKGZpZWxkU2NoZW1hLmRlc2NyaXB0aW9uIHx8ICcnKSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICR7dGhpcy5leGFtcGxlTGlzdFRlbXBsYXRlLmNhbGwodGhpcywgZmllbGROYW1lLCBwYXJhbVNjaGVtYS50eXBlLCBleGFtcGxlLmV4YW1wbGVMaXN0KX1cbiAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgYFxuICAgICAgICB9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiBzdHlsZT1cIndpZHRoOjEwMCU7XCIgY2xhc3M9XCJtLXRhYmxlXCI+XG4gICAgICAgICAgJHtmb3JtRGF0YVRhYmxlUm93c31cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8dGV4dGFyZWFcbiAgICAgICAgY2xhc3MgPSBcInRleHRhcmVhIGR5bmFtaWMtZm9ybS1wYXJhbSAke21pbWVUeXBlfVwiXG4gICAgICAgIHBhcnQgPSBcInRleHRhcmVhIHRleHRhcmVhLXBhcmFtXCJcbiAgICAgICAgc3BlbGxjaGVjayA9IFwiZmFsc2VcIlxuICAgICAgICBkYXRhLXBuYW1lPVwiZHluYW1pYy1mb3JtXCIgXG4gICAgICAgIGRhdGEtcHR5cGU9XCIke21pbWVUeXBlfVwiXG4gICAgICAgIC50ZXh0Q29udGVudCA9IFwiJHtleGFtcGxlVmFsdWV9XCJcbiAgICAgICAgc3R5bGU9XCJ3aWR0aDoxMDAlXCJcbiAgICAgID48L3RleHRhcmVhPlxuICAgICAgJHtzY2hlbWEuZGVzY3JpcHRpb24gPyBodG1sYDxzcGFuIGNsYXNzPVwibS1tYXJrZG93bi1zbWFsbFwiPiR7dW5zYWZlSFRNTChtYXJrZWQoc2NoZW1hLmRlc2NyaXB0aW9uKSl9PC9zcGFuPmAgOiAnJ31cbiAgICBgO1xuICB9XG5cbiAgY3VybFN5bnRheFRlbXBsYXRlKGRpc3BsYXkgPSAnZmxleCcpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wgbS1tYXJrZG93blwiIHN0eWxlPVwiZmxleDoxOyBkaXNwbGF5OiR7ZGlzcGxheX07IHBvc2l0aW9uOnJlbGF0aXZlOyBtYXgtd2lkdGg6IDEwMCU7XCI+XG4gICAgICAgIDxidXR0b24gIGNsYXNzPVwidG9vbGJhci1idG5cIiBzdHlsZSA9IFwicG9zaXRpb246YWJzb2x1dGU7IHRvcDoxMnB4OyByaWdodDo4cHhcIiBAY2xpY2s9JyR7KGUpID0+IHsgY29weVRvQ2xpcGJvYXJkKHRoaXMuY3VybFN5bnRheC5yZXBsYWNlKC9cXFxcJC8sICcnKSwgZSk7IH19JyBwYXJ0PVwiYnRuIGJ0bi1maWxsXCI+IENvcHkgPC9idXR0b24+XG4gICAgICAgIDxwcmUgc3R5bGU9XCJ3aGl0ZS1zcGFjZTpwcmVcIj48Y29kZT4ke3Vuc2FmZUhUTUwoUHJpc20uaGlnaGxpZ2h0KHRoaXMuY3VybFN5bnRheC50cmltKCkucmVwbGFjZSgvXFxcXCQvLCAnJyksIFByaXNtLmxhbmd1YWdlcy5zaGVsbCwgJ3NoZWxsJykpfTwvY29kZT48L3ByZT5cbiAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgfVxuXG4gIGFwaVJlc3BvbnNlVGFiVGVtcGxhdGUoKSB7XG4gICAgbGV0IHJlc3BvbnNlRm9ybWF0ID0gJyc7XG4gICAgbGV0IHJlc3BvbnNlQ29udGVudCA9ICcnO1xuICAgIGlmICghdGhpcy5yZXNwb25zZUlzQmxvYikge1xuICAgICAgaWYgKHRoaXMucmVzcG9uc2VIZWFkZXJzLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi94LW5kanNvbicpKSB7XG4gICAgICAgIHJlc3BvbnNlRm9ybWF0ID0gJ2pzb24nO1xuICAgICAgICBjb25zdCBwcmlzbUxpbmVzID0gdGhpcy5yZXNwb25zZVRleHQuc3BsaXQoJ1xcbicpLm1hcCgocSkgPT4gUHJpc20uaGlnaGxpZ2h0KHEsIFByaXNtLmxhbmd1YWdlc1tyZXNwb25zZUZvcm1hdF0sIHJlc3BvbnNlRm9ybWF0KSkuam9pbignXFxuJyk7XG4gICAgICAgIHJlc3BvbnNlQ29udGVudCA9IGh0bWxgPGNvZGU+JHt1bnNhZmVIVE1MKHByaXNtTGluZXMpfTwvY29kZT5gO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc3BvbnNlSGVhZGVycy5pbmNsdWRlcygnanNvbicpKSB7XG4gICAgICAgIHJlc3BvbnNlRm9ybWF0ID0gJ2pzb24nO1xuICAgICAgICByZXNwb25zZUNvbnRlbnQgPSBodG1sYDxjb2RlPiR7dW5zYWZlSFRNTChQcmlzbS5oaWdobGlnaHQodGhpcy5yZXNwb25zZVRleHQsIFByaXNtLmxhbmd1YWdlc1tyZXNwb25zZUZvcm1hdF0sIHJlc3BvbnNlRm9ybWF0KSl9PC9jb2RlPmA7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucmVzcG9uc2VIZWFkZXJzLmluY2x1ZGVzKCdodG1sJykgfHwgdGhpcy5yZXNwb25zZUhlYWRlcnMuaW5jbHVkZXMoJ3htbCcpKSB7XG4gICAgICAgIHJlc3BvbnNlRm9ybWF0ID0gJ2h0bWwnO1xuICAgICAgICByZXNwb25zZUNvbnRlbnQgPSBodG1sYDxjb2RlPiR7dW5zYWZlSFRNTChQcmlzbS5oaWdobGlnaHQodGhpcy5yZXNwb25zZVRleHQsIFByaXNtLmxhbmd1YWdlc1tyZXNwb25zZUZvcm1hdF0sIHJlc3BvbnNlRm9ybWF0KSl9PC9jb2RlPmA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNwb25zZUZvcm1hdCA9ICd0ZXh0JztcbiAgICAgICAgcmVzcG9uc2VDb250ZW50ID0gaHRtbGA8Y29kZT4ke3RoaXMucmVzcG9uc2VUZXh0fTwvY29kZT5gO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIiBzdHlsZT1cImZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpOyBtYXJnaW46NXB4IDBcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJlc3BvbnNlLW1lc3NhZ2UgJHt0aGlzLnJlc3BvbnNlU3RhdHVzfVwiPlJlc3BvbnNlIFN0YXR1czogJHt0aGlzLnJlc3BvbnNlTWVzc2FnZX08L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6MVwiPjwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwibS1idG5cIiBwYXJ0PVwiYnRuIGJ0bi1vdXRsaW5lIGJ0bi1jbGVhci1yZXNwb25zZVwiIEBjbGljaz1cIiR7dGhpcy5jbGVhclJlc3BvbnNlRGF0YX1cIj5DTEVBUiBSRVNQT05TRTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidGFiLXBhbmVsIGNvbFwiIHN0eWxlPVwiYm9yZGVyLXdpZHRoOjAgMCAxcHggMDtcIj5cbiAgICAgICAgPGRpdiBpZD1cInRhYl9idXR0b25zXCIgY2xhc3M9XCJ0YWItYnV0dG9ucyByb3dcIiBAY2xpY2s9XCIkeyhlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWItYnRuJykgPT09IGZhbHNlKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5hY3RpdmVSZXNwb25zZVRhYiA9IGUudGFyZ2V0LmRhdGFzZXQudGFiO1xuICAgICAgICB9fVwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0YWItYnRuICR7dGhpcy5hY3RpdmVSZXNwb25zZVRhYiA9PT0gJ3Jlc3BvbnNlJyA/ICdhY3RpdmUnIDogJyd9XCIgZGF0YS10YWIgPSAncmVzcG9uc2UnID4gUkVTUE9OU0U8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidGFiLWJ0biAke3RoaXMuYWN0aXZlUmVzcG9uc2VUYWIgPT09ICdoZWFkZXJzJyA/ICdhY3RpdmUnIDogJyd9XCIgIGRhdGEtdGFiID0gJ2hlYWRlcnMnID4gUkVTUE9OU0UgSEVBREVSUzwvYnV0dG9uPlxuICAgICAgICAgICR7dGhpcy5zaG93Q3VybEJlZm9yZVRyeSA9PT0gJ3RydWUnXG4gICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICA6IGh0bWxgPGJ1dHRvbiBjbGFzcz1cInRhYi1idG4gJHt0aGlzLmFjdGl2ZVJlc3BvbnNlVGFiID09PSAnY3VybCcgPyAnYWN0aXZlJyA6ICcnfVwiIGRhdGEtdGFiID0gJ2N1cmwnPkNVUkw8L2J1dHRvbj5gfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHt0aGlzLnJlc3BvbnNlSXNCbG9iXG4gICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50IGNvbFwiIHN0eWxlPVwiZmxleDoxOyBkaXNwbGF5OiR7dGhpcy5hY3RpdmVSZXNwb25zZVRhYiA9PT0gJ3Jlc3BvbnNlJyA/ICdmbGV4JyA6ICdub25lJ307XCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtLWJ0biB0aGluLWJvcmRlciBtYXItdG9wLThcIiBzdHlsZT1cIndpZHRoOjEzNXB4XCIgQGNsaWNrPSckeyhlKSA9PiB7IGRvd25sb2FkUmVzb3VyY2UodGhpcy5yZXNwb25zZUJsb2JVcmwsIHRoaXMucmVzcENvbnRlbnREaXNwb3NpdGlvbiwgZSk7IH19JyBwYXJ0PVwiYnRuIGJ0bi1vdXRsaW5lXCI+XG4gICAgICAgICAgICAgICAgRE9XTkxPQURcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICR7dGhpcy5yZXNwb25zZUJsb2JUeXBlID09PSAndmlldydcbiAgICAgICAgICAgICAgICA/IGh0bWxgPGJ1dHRvbiBjbGFzcz1cIm0tYnRuIHRoaW4tYm9yZGVyIG1hci10b3AtOFwiIHN0eWxlPVwid2lkdGg6MTM1cHhcIiAgQGNsaWNrPSckeyhlKSA9PiB7IHZpZXdSZXNvdXJjZSh0aGlzLnJlc3BvbnNlQmxvYlVybCwgZSk7IH19JyBwYXJ0PVwiYnRuIGJ0bi1vdXRsaW5lXCI+VklFVyAoTkVXIFRBQik8L2J1dHRvbj5gXG4gICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50IGNvbCBtLW1hcmtkb3duXCIgc3R5bGU9XCJmbGV4OjE7IGRpc3BsYXk6JHt0aGlzLmFjdGl2ZVJlc3BvbnNlVGFiID09PSAncmVzcG9uc2UnID8gJ2ZsZXgnIDogJ25vbmUnfTtcIiA+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0b29sYmFyLWJ0blwiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IHRvcDoxMnB4OyByaWdodDo4cHhcIiBAY2xpY2s9JyR7KGUpID0+IHsgY29weVRvQ2xpcGJvYXJkKHRoaXMucmVzcG9uc2VUZXh0LCBlKTsgfX0nIHBhcnQ9XCJidG4gYnRuLWZpbGxcIj4gQ29weSA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPHByZSBzdHlsZT1cIndoaXRlLXNwYWNlOnByZTsgbWluLWhlaWdodDo1MHB4OyBoZWlnaHQ6dmFyKC0tcmVzcC1hcmVhLWhlaWdodCwgNDAwcHgpOyByZXNpemU6dmVydGljYWw7IG92ZXJmbG93OmF1dG9cIj4ke3Jlc3BvbnNlQ29udGVudH08L3ByZT5cbiAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgfVxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgY29sIG0tbWFya2Rvd25cIiBzdHlsZT1cImZsZXg6MTsgZGlzcGxheToke3RoaXMuYWN0aXZlUmVzcG9uc2VUYWIgPT09ICdoZWFkZXJzJyA/ICdmbGV4JyA6ICdub25lJ307XCIgPlxuICAgICAgICAgIDxidXR0b24gIGNsYXNzPVwidG9vbGJhci1idG5cIiBzdHlsZSA9IFwicG9zaXRpb246YWJzb2x1dGU7IHRvcDoxMnB4OyByaWdodDo4cHhcIiBAY2xpY2s9JyR7KGUpID0+IHsgY29weVRvQ2xpcGJvYXJkKHRoaXMucmVzcG9uc2VIZWFkZXJzLCBlKTsgfX0nIHBhcnQ9XCJidG4gYnRuLWZpbGxcIj4gQ29weSA8L2J1dHRvbj5cbiAgICAgICAgICA8cHJlIHN0eWxlPVwid2hpdGUtc3BhY2U6cHJlXCI+PGNvZGU+JHt1bnNhZmVIVE1MKFByaXNtLmhpZ2hsaWdodCh0aGlzLnJlc3BvbnNlSGVhZGVycywgUHJpc20ubGFuZ3VhZ2VzLmNzcywgJ2NzcycpKX08L2NvZGU+PC9wcmU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke3RoaXMuc2hvd0N1cmxCZWZvcmVUcnkgPT09ICd0cnVlJyA/ICcnIDogdGhpcy5jdXJsU3ludGF4VGVtcGxhdGUodGhpcy5hY3RpdmVSZXNwb25zZVRhYiA9PT0gJ2N1cmwnID8gJ2ZsZXgnIDogJ25vbmUnKX1cbiAgICAgIDwvZGl2PmA7XG4gIH1cblxuICBhcGlDYWxsVGVtcGxhdGUoKSB7XG4gICAgbGV0IHNlbGVjdFNlcnZlckRyb3Bkb3duSHRtbCA9ICcnO1xuXG4gICAgaWYgKHRoaXMuc2VydmVycyAmJiB0aGlzLnNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgc2VsZWN0U2VydmVyRHJvcGRvd25IdG1sID0gaHRtbGBcbiAgICAgICAgPHNlbGVjdCBzdHlsZT1cIm1pbi13aWR0aDoxMDBweDtcIiBAY2hhbmdlPSckeyhlKSA9PiB7IHRoaXMuc2VydmVyVXJsID0gZS50YXJnZXQudmFsdWU7IH19Jz5cbiAgICAgICAgICAke3RoaXMuc2VydmVycy5tYXAoKHYpID0+IGh0bWxgPG9wdGlvbiB2YWx1ZSA9IFwiJHt2LnVybH1cIj4gJHt2LnVybH0gLSAke3YuZGVzY3JpcHRpb259IDwvb3B0aW9uPmApfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIGA7XG4gICAgfVxuICAgIGNvbnN0IHNlbGVjdGVkU2VydmVySHRtbCA9IGh0bWxgXG4gICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47XCI+XG4gICAgICAgICR7c2VsZWN0U2VydmVyRHJvcGRvd25IdG1sfVxuICAgICAgICAke3RoaXMuc2VydmVyVXJsXG4gICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6YmFzZWxpbmU7XCI+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXdlaWdodDpib2xkOyBwYWRkaW5nLXJpZ2h0OjVweDtcIj5BUEkgU2VydmVyPC9kaXY+IFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcyA9IFwiZ3JheS10ZXh0XCI+ICR7dGhpcy5zZXJ2ZXJVcmx9IDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGBcbiAgICAgICAgICA6ICcnXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PiAgXG4gICAgYDtcblxuICAgIHJldHVybiBodG1sYFxuICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmZsZXgtZW5kOyBtYXJnaW46MTZweCAwOyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTtcIiBwYXJ0PVwid3JhcC1yZXF1ZXN0LWJ0blwiPlxuICAgICAgPGRpdiBjbGFzcz1cImhpZGUtaW4tc21hbGwtc2NyZWVuXCIgc3R5bGU9XCJmbGV4LWRpcmVjdGlvbjpjb2x1bW47IG1hcmdpbjowOyB3aWR0aDpjYWxjKDEwMCUgLSA2MHB4KTtcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246cm93OyBhbGlnbi1pdGVtczpjZW50ZXI7IG92ZXJmbG93OmhpZGRlbjtcIj4gXG4gICAgICAgICAgJHtzZWxlY3RlZFNlcnZlckh0bWx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTpmbGV4O1wiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXdlaWdodDpib2xkOyBwYWRkaW5nLXJpZ2h0OjVweDtcIj5BdXRoZW50aWNhdGlvbjwvZGl2PlxuICAgICAgICAgICR7dGhpcy5zZWN1cml0eT8ubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAke3RoaXMuYXBpX2tleXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gaHRtbGA8ZGl2IHN0eWxlPVwiY29sb3I6dmFyKC0tYmx1ZSk7IG92ZXJmbG93OmhpZGRlbjtcIj4gXG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5hcGlfa2V5cy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICA/IGAke3RoaXMuYXBpX2tleXNbMF0/LnR5cGVEaXNwbGF5fSBpbiAke3RoaXMuYXBpX2tleXNbMF0uaW59YFxuICAgICAgICAgICAgICAgICAgICAgIDogYCR7dGhpcy5hcGlfa2V5cy5sZW5ndGh9IEFQSSBrZXlzIGFwcGxpZWRgXG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICAgICAgOiBodG1sYDxkaXYgY2xhc3M9XCJncmF5LXRleHRcIj5SZXF1aXJlZCAgPHNwYW4gc3R5bGU9XCJjb2xvcjp2YXIoLS1yZWQpXCI+KE5vbmUgQXBwbGllZCk8L3NwYW4+YFxuICAgICAgICAgICAgICB9YFxuICAgICAgICAgICAgOiBodG1sYDxzcGFuIGNsYXNzPVwiZ3JheS10ZXh0XCI+IE5vdCBSZXF1aXJlZCA8L3NwYW4+YFxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgICR7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5sZW5ndGggPiAwIHx8IHRoaXMucmVxdWVzdF9ib2R5XG4gICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm0tYnRuIHRoaW4tYm9yZGVyXCIgcGFydD1cImJ0biBidG4tb3V0bGluZSBidG4tZmlsbFwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0OjVweDtcIiBAY2xpY2s9XCIke3RoaXMub25GaWxsUmVxdWVzdERhdGF9XCIgdGl0bGU9XCJGaWxscyB3aXRoIGV4YW1wbGUgZGF0YSAoaWYgcHJvdmlkZWQpXCI+XG4gICAgICAgICAgICAgIEZJTEwgRVhBTVBMRVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibS1idG4gdGhpbi1ib3JkZXJcIiBwYXJ0PVwiYnRuIGJ0bi1vdXRsaW5lIGJ0bi1jbGVhclwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0OjVweDtcIiBAY2xpY2s9XCIke3RoaXMub25DbGVhclJlcXVlc3REYXRhfVwiPlxuICAgICAgICAgICAgICBDTEVBUlxuICAgICAgICAgICAgPC9idXR0b24+YFxuICAgICAgICAgIDogJydcbiAgICAgIH1cbiAgICAgIDxidXR0b24gY2xhc3M9XCJtLWJ0biBwcmltYXJ5IHRoaW4tYm9yZGVyXCIgcGFydD1cImJ0biBidG4tdHJ5XCIgQGNsaWNrPVwiJHt0aGlzLm9uVHJ5Q2xpY2t9XCI+VFJZPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInJvd1wiIHN0eWxlPVwiZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7IG1hcmdpbjo1cHggMFwiPlxuICAgICAgJHt0aGlzLnNob3dDdXJsQmVmb3JlVHJ5ID09PSAndHJ1ZScgPyB0aGlzLmN1cmxTeW50YXhUZW1wbGF0ZSgpIDogJyd9XG4gICAgPC9kaXY+XG4gICAgJHt0aGlzLnJlc3BvbnNlTWVzc2FnZSA9PT0gJycgPyAnJyA6IHRoaXMuYXBpUmVzcG9uc2VUYWJUZW1wbGF0ZSgpfVxuICAgIGA7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cblxuICBhc3luYyBvbkZpbGxSZXF1ZXN0RGF0YShlKSB7XG4gICAgY29uc3QgcmVxdWVzdFBhbmVsRWwgPSBlLnRhcmdldC5jbG9zZXN0KCcucmVxdWVzdC1wYW5lbCcpO1xuICAgIGNvbnN0IHJlcXVlc3RQYW5lbElucHV0RWxzID0gWy4uLnJlcXVlc3RQYW5lbEVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCB0YWctaW5wdXQsIHRleHRhcmVhOm5vdCguaXMtaGlkZGVuKScpXTtcbiAgICByZXF1ZXN0UGFuZWxJbnB1dEVscy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgaWYgKGVsLmRhdGFzZXQuZXhhbXBsZSkge1xuICAgICAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnVEFHLUlOUFVUJykge1xuICAgICAgICAgIGVsLnZhbHVlID0gZWwuZGF0YXNldC5leGFtcGxlLnNwbGl0KCd+fH4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbC52YWx1ZSA9IGVsLmRhdGFzZXQuZXhhbXBsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgb25DbGVhclJlcXVlc3REYXRhKGUpIHtcbiAgICBjb25zdCByZXF1ZXN0UGFuZWxFbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5yZXF1ZXN0LXBhbmVsJyk7XG4gICAgY29uc3QgcmVxdWVzdFBhbmVsSW5wdXRFbHMgPSBbLi4ucmVxdWVzdFBhbmVsRWwucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHRhZy1pbnB1dCwgdGV4dGFyZWE6bm90KC5pcy1oaWRkZW4pJyldO1xuICAgIHJlcXVlc3RQYW5lbElucHV0RWxzLmZvckVhY2goKGVsKSA9PiB7IGVsLnZhbHVlID0gJyc7IH0pO1xuICB9XG5cbiAgYnVpbGRGZXRjaFVSTChyZXF1ZXN0UGFuZWxFbCkge1xuICAgIGxldCBmZXRjaFVybDtcbiAgICBjb25zdCBwYXRoUGFyYW1FbHMgPSBbLi4ucmVxdWVzdFBhbmVsRWwucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXB0eXBlPSdwYXRoJ11cIildO1xuICAgIGNvbnN0IHF1ZXJ5UGFyYW1FbHMgPSBbLi4ucmVxdWVzdFBhbmVsRWwucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXB0eXBlPSdxdWVyeSddXCIpXTtcbiAgICBjb25zdCBxdWVyeVBhcmFtT2JqVHlwZUVscyA9IFsuLi5yZXF1ZXN0UGFuZWxFbC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcHR5cGU9J3F1ZXJ5LW9iamVjdCddXCIpXTtcbiAgICBmZXRjaFVybCA9IHRoaXMucGF0aDtcbiAgICAvLyBHZW5lcmF0ZSBVUkwgdXNpbmcgUGF0aCBQYXJhbXNcbiAgICBwYXRoUGFyYW1FbHMubWFwKChlbCkgPT4ge1xuICAgICAgZmV0Y2hVcmwgPSBmZXRjaFVybC5yZXBsYWNlKGB7JHtlbC5kYXRhc2V0LnBuYW1lfX1gLCBlbmNvZGVVUklDb21wb25lbnQoZWwudmFsdWUpKTtcbiAgICB9KTtcblxuICAgIC8vIFF1ZXJ5IFBhcmFtc1xuICAgIGNvbnN0IHVybFF1ZXJ5UGFyYW1zTWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zV2l0aFJlc2VydmVkQ2hhcnNBbGxvd2VkID0gW107XG4gICAgaWYgKHF1ZXJ5UGFyYW1FbHMubGVuZ3RoID4gMCkge1xuICAgICAgcXVlcnlQYXJhbUVscy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBpZiAoZWwuZGF0YXNldC5wYXJhbUFsbG93UmVzZXJ2ZWQgPT09ICd0cnVlJykge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1zV2l0aFJlc2VydmVkQ2hhcnNBbGxvd2VkLnB1c2goZWwuZGF0YXNldC5wbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLmRhdGFzZXQuYXJyYXkgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICBpZiAoZWwudmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtLmFwcGVuZChlbC5kYXRhc2V0LnBuYW1lLCBlbC52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHsgcGFyYW1TZXJpYWxpemVTdHlsZSwgcGFyYW1TZXJpYWxpemVFeHBsb2RlIH0gPSBlbC5kYXRhc2V0O1xuICAgICAgICAgIGxldCB2YWxzID0gKChlbC52YWx1ZSAmJiBBcnJheS5pc0FycmF5KGVsLnZhbHVlKSkgPyBlbC52YWx1ZSA6IFtdKTtcbiAgICAgICAgICB2YWxzID0gQXJyYXkuaXNBcnJheSh2YWxzKSA/IHZhbHMuZmlsdGVyKCh2KSA9PiB2ICE9PSAnJykgOiBbXTtcbiAgICAgICAgICBpZiAodmFscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAocGFyYW1TZXJpYWxpemVTdHlsZSA9PT0gJ3NwYWNlRGVsaW1pdGVkJykge1xuICAgICAgICAgICAgICBxdWVyeVBhcmFtLmFwcGVuZChlbC5kYXRhc2V0LnBuYW1lLCB2YWxzLmpvaW4oJyAnKS5yZXBsYWNlKC9eXFxzfFxccyQvZywgJycpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1TZXJpYWxpemVTdHlsZSA9PT0gJ3BpcGVEZWxpbWl0ZWQnKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5UGFyYW0uYXBwZW5kKGVsLmRhdGFzZXQucG5hbWUsIHZhbHMuam9pbignfCcpLnJlcGxhY2UoL15cXHx8XFx8JC9nLCAnJykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHBhcmFtU2VyaWFsaXplRXhwbG9kZSA9PT0gJ3RydWUnKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9uZWx5LWlmXG4gICAgICAgICAgICAgICAgdmFscy5mb3JFYWNoKCh2KSA9PiB7IHF1ZXJ5UGFyYW0uYXBwZW5kKGVsLmRhdGFzZXQucG5hbWUsIHYpOyB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtLmFwcGVuZChlbC5kYXRhc2V0LnBuYW1lLCB2YWxzLmpvaW4oJywnKS5yZXBsYWNlKC9eLHwsJC9nLCAnJykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChxdWVyeVBhcmFtLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICB1cmxRdWVyeVBhcmFtc01hcC5zZXQoZWwuZGF0YXNldC5wbmFtZSwgcXVlcnlQYXJhbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFF1ZXJ5IFBhcmFtcyAoRHluYW1pYyAtIGNyZWF0ZSBmcm9tIEpTT04pXG4gICAgaWYgKHF1ZXJ5UGFyYW1PYmpUeXBlRWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIHF1ZXJ5UGFyYW1PYmpUeXBlRWxzLm1hcCgoZWwpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcXVlcnlQYXJhbU9iaiA9IHt9O1xuICAgICAgICAgIGNvbnN0IHsgcGFyYW1TZXJpYWxpemVTdHlsZSwgcGFyYW1TZXJpYWxpemVFeHBsb2RlIH0gPSBlbC5kYXRhc2V0O1xuICAgICAgICAgIHF1ZXJ5UGFyYW1PYmogPSBPYmplY3QuYXNzaWduKHF1ZXJ5UGFyYW1PYmosIEpTT04ucGFyc2UoZWwudmFsdWUucmVwbGFjZSgvXFxzKy9nLCAnICcpKSk7XG4gICAgICAgICAgaWYgKGVsLmRhdGFzZXQucGFyYW1BbGxvd1Jlc2VydmVkID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zV2l0aFJlc2VydmVkQ2hhcnNBbGxvd2VkLnB1c2goZWwuZGF0YXNldC5wbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgnanNvbiB4bWwnLmluY2x1ZGVzKHBhcmFtU2VyaWFsaXplU3R5bGUpKSB7XG4gICAgICAgICAgICBpZiAocGFyYW1TZXJpYWxpemVTdHlsZSA9PT0gJ2pzb24nKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5UGFyYW0uYXBwZW5kKGVsLmRhdGFzZXQucG5hbWUsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5UGFyYW1PYmopKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1TZXJpYWxpemVTdHlsZSA9PT0gJ3htbCcpIHtcbiAgICAgICAgICAgICAgcXVlcnlQYXJhbS5hcHBlbmQoZWwuZGF0YXNldC5wbmFtZSwganNvbjJ4bWwocXVlcnlQYXJhbU9iaikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBxdWVyeVBhcmFtT2JqKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcXVlcnlQYXJhbU9ialtrZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHF1ZXJ5UGFyYW1PYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChwYXJhbVNlcmlhbGl6ZVN0eWxlID09PSAnc3BhY2VEZWxpbWl0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW0uYXBwZW5kKGtleSwgcXVlcnlQYXJhbU9ialtrZXldLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtU2VyaWFsaXplU3R5bGUgPT09ICdwaXBlRGVsaW1pdGVkJykge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeVBhcmFtLmFwcGVuZChrZXksIHF1ZXJ5UGFyYW1PYmpba2V5XS5qb2luKCd8JykpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtU2VyaWFsaXplRXhwbG9kZSA9PT0gJ3RydWUnKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9uZWx5LWlmXG4gICAgICAgICAgICAgICAgICAgICAgcXVlcnlQYXJhbU9ialtrZXldLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW0uYXBwZW5kKGtleSwgdik7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcXVlcnlQYXJhbS5hcHBlbmQoa2V5LCBxdWVyeVBhcmFtT2JqW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW0uYXBwZW5kKGtleSwgcXVlcnlQYXJhbU9ialtrZXldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignUmFwaURvYzogdW5hYmxlIHRvIHBhcnNlICVzIGludG8gb2JqZWN0JywgZWwudmFsdWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgfVxuICAgICAgICBpZiAocXVlcnlQYXJhbS50b1N0cmluZygpKSB7XG4gICAgICAgICAgdXJsUXVlcnlQYXJhbXNNYXAuc2V0KGVsLmRhdGFzZXQucG5hbWUsIHF1ZXJ5UGFyYW0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHVybFF1ZXJ5UGFyYW1TdHJpbmcgPSAnJztcbiAgICBpZiAodXJsUXVlcnlQYXJhbXNNYXAuc2l6ZSkge1xuICAgICAgdXJsUXVlcnlQYXJhbXNNYXAuZm9yRWFjaCgodmFsLCBwbmFtZSkgPT4ge1xuICAgICAgICBpZiAocXVlcnlQYXJhbXNXaXRoUmVzZXJ2ZWRDaGFyc0FsbG93ZWQuaW5jbHVkZXMocG5hbWUpKSB7XG4gICAgICAgICAgdXJsUXVlcnlQYXJhbVN0cmluZyArPSBgJHtwbmFtZX09YDtcbiAgICAgICAgICB1cmxRdWVyeVBhcmFtU3RyaW5nICs9IHZhbC5nZXRBbGwocG5hbWUpLmpvaW4oYCYke3BuYW1lfT1gKTtcbiAgICAgICAgICB1cmxRdWVyeVBhcmFtU3RyaW5nICs9ICcmJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmxRdWVyeVBhcmFtU3RyaW5nICs9IGAke3ZhbC50b1N0cmluZygpfSZgO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHVybFF1ZXJ5UGFyYW1TdHJpbmcgPSB1cmxRdWVyeVBhcmFtU3RyaW5nLnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgaWYgKHVybFF1ZXJ5UGFyYW1TdHJpbmcubGVuZ3RoICE9PSAwKSB7XG4gICAgICBmZXRjaFVybCA9IGAke2ZldGNoVXJsfSR7ZmV0Y2hVcmwuaW5jbHVkZXMoJz8nKSA/ICcmJyA6ICc/J30ke3VybFF1ZXJ5UGFyYW1TdHJpbmd9YDtcbiAgICB9XG5cbiAgICAvLyBBZGQgYXV0aGVudGljYXRpb24gUXVlcnktUGFyYW0gaWYgcHJvdmlkZWRcbiAgICB0aGlzLmFwaV9rZXlzXG4gICAgICAuZmlsdGVyKCh2KSA9PiAodi5pbiA9PT0gJ3F1ZXJ5JykpXG4gICAgICAuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICBmZXRjaFVybCA9IGAke2ZldGNoVXJsfSR7ZmV0Y2hVcmwuaW5jbHVkZXMoJz8nKSA/ICcmJyA6ICc/J30ke3YubmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodi5maW5hbEtleVZhbHVlKX1gO1xuICAgICAgfSk7XG5cbiAgICBmZXRjaFVybCA9IGAke3RoaXMuc2VydmVyVXJsLnJlcGxhY2UoL1xcLyQvLCAnJyl9JHtmZXRjaFVybH1gO1xuICAgIHJldHVybiBmZXRjaFVybDtcbiAgfVxuXG4gIGJ1aWxkRmV0Y2hIZWFkZXJzKHJlcXVlc3RQYW5lbEVsKSB7XG4gICAgY29uc3QgcmVzcEVsID0gdGhpcy5jbG9zZXN0KCcuZXhwYW5kZWQtcmVxLXJlc3AtY29udGFpbmVyLCAucmVxLXJlc3AtY29udGFpbmVyJyk/LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhcGktcmVzcG9uc2UnKVswXTtcbiAgICBjb25zdCBoZWFkZXJQYXJhbUVscyA9IFsuLi5yZXF1ZXN0UGFuZWxFbC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcHR5cGU9J2hlYWRlciddXCIpXTtcbiAgICBjb25zdCByZXF1ZXN0Qm9keUNvbnRhaW5lckVsID0gcmVxdWVzdFBhbmVsRWwucXVlcnlTZWxlY3RvcignLnJlcXVlc3QtYm9keS1jb250YWluZXInKTtcbiAgICBjb25zdCBhY2NlcHRIZWFkZXIgPSByZXNwRWw/LnNlbGVjdGVkTWltZVR5cGU7XG4gICAgY29uc3QgcmVxSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgaWYgKGFjY2VwdEhlYWRlcikge1xuICAgICAgLy8gVXNlcyB0aGUgYWNjZXB0SGVhZGVyIGZyb20gUmVzcG9uc2UgcGFuZWxcbiAgICAgIHJlcUhlYWRlcnMuYXBwZW5kKCdBY2NlcHQnLCBhY2NlcHRIZWFkZXIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hY2NlcHQpIHtcbiAgICAgIHJlcUhlYWRlcnMuYXBwZW5kKCdBY2NlcHQnLCB0aGlzLmFjY2VwdCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIEF1dGhlbnRpY2F0aW9uIEhlYWRlciBpZiBwcm92aWRlZFxuICAgIHRoaXMuYXBpX2tleXNcbiAgICAgIC5maWx0ZXIoKHYpID0+ICh2LmluID09PSAnaGVhZGVyJykpXG4gICAgICAuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICByZXFIZWFkZXJzLmFwcGVuZCh2Lm5hbWUsIHYuZmluYWxLZXlWYWx1ZSk7XG4gICAgICB9KTtcblxuICAgIC8vIEFkZCBIZWFkZXIgUGFyYW1zXG4gICAgaGVhZGVyUGFyYW1FbHMubWFwKChlbCkgPT4ge1xuICAgICAgaWYgKGVsLnZhbHVlKSB7XG4gICAgICAgIHJlcUhlYWRlcnMuYXBwZW5kKGVsLmRhdGFzZXQucG5hbWUsIGVsLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChyZXF1ZXN0Qm9keUNvbnRhaW5lckVsKSB7XG4gICAgICBjb25zdCByZXF1ZXN0Qm9keVR5cGUgPSByZXF1ZXN0Qm9keUNvbnRhaW5lckVsLmRhdGFzZXQuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGU7XG4gICAgICAvLyBDb21tb24gZm9yIGFsbCByZXF1ZXN0LWJvZHlcbiAgICAgIGlmICghcmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCdmb3JtLWRhdGEnKSkge1xuICAgICAgICAvLyBGb3IgbXVsdGlwYXJ0L2Zvcm0tZGF0YSBkb250IHNldCB0aGUgY29udGVudC10eXBlIHRvIGFsbG93IGNyZWF0aW9uIG9mIGJyb3dzZXIgZ2VuZXJhdGVkIHBhcnQgYm91bmRhcmllc1xuICAgICAgICByZXFIZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgcmVxdWVzdEJvZHlUeXBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVxSGVhZGVycztcbiAgfVxuXG4gIGJ1aWxkRmV0Y2hCb2R5T3B0aW9ucyhyZXF1ZXN0UGFuZWxFbCkge1xuICAgIGNvbnN0IHJlcXVlc3RCb2R5Q29udGFpbmVyRWwgPSByZXF1ZXN0UGFuZWxFbC5xdWVyeVNlbGVjdG9yKCcucmVxdWVzdC1ib2R5LWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IGZldGNoT3B0aW9ucyA9IHtcbiAgICAgIG1ldGhvZDogdGhpcy5tZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICB9O1xuICAgIGlmIChyZXF1ZXN0Qm9keUNvbnRhaW5lckVsKSB7XG4gICAgICBjb25zdCByZXF1ZXN0Qm9keVR5cGUgPSByZXF1ZXN0Qm9keUNvbnRhaW5lckVsLmRhdGFzZXQuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGU7XG4gICAgICBpZiAocmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCdmb3JtLXVybGVuY29kZWQnKSkge1xuICAgICAgICAvLyB1cmwtZW5jb2RlZCBGb3JtIFBhcmFtcyAoZHluYW1pYykgLSBQYXJzZSBKU09OIGFuZCBnZW5lcmF0ZSBQYXJhbXNcbiAgICAgICAgY29uc3QgZm9ybVVybER5bmFtaWNUZXh0QXJlYUVsID0gcmVxdWVzdFBhbmVsRWwucXVlcnlTZWxlY3RvcihcIltkYXRhLXB0eXBlPSdkeW5hbWljLWZvcm0nXVwiKTtcbiAgICAgICAgaWYgKGZvcm1VcmxEeW5hbWljVGV4dEFyZWFFbCkge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IGZvcm1VcmxEeW5hbWljVGV4dEFyZWFFbC52YWx1ZTtcbiAgICAgICAgICBjb25zdCBmb3JtVXJsRHluUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICAgIGxldCBwcm9jZWVkID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgdG1wT2JqO1xuICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRtcE9iaiA9IEpTT04ucGFyc2UodmFsKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBwcm9jZWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignUmFwaURvYzogSW52YWxpZCBKU09OIHByb3ZpZGVkJywgZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2NlZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByb2NlZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiB0bXBPYmopIHtcbiAgICAgICAgICAgICAgZm9ybVVybER5blBhcmFtcy5hcHBlbmQocHJvcCwgSlNPTi5zdHJpbmdpZnkodG1wT2JqW3Byb3BdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IGZvcm1VcmxEeW5QYXJhbXM7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVybC1lbmNvZGVkIEZvcm0gUGFyYW1zIChyZWd1bGFyKVxuICAgICAgICAgIGNvbnN0IGZvcm1VcmxFbHMgPSBbLi4ucmVxdWVzdFBhbmVsRWwucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXB0eXBlPSdmb3JtLXVybGVuY29kZSddXCIpXTtcbiAgICAgICAgICBjb25zdCBmb3JtVXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICAgIGZvcm1VcmxFbHNcbiAgICAgICAgICAgIC5maWx0ZXIoKHYpID0+ICh2LnR5cGUgIT09ICdmaWxlJykpXG4gICAgICAgICAgICAuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGVsLmRhdGFzZXQuYXJyYXkgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGZvcm1VcmxQYXJhbXMuYXBwZW5kKGVsLmRhdGFzZXQucG5hbWUsIGVsLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFscyA9IChlbC52YWx1ZSAmJiBBcnJheS5pc0FycmF5KGVsLnZhbHVlKSkgPyBlbC52YWx1ZS5qb2luKCcsJykgOiAnJztcbiAgICAgICAgICAgICAgICBmb3JtVXJsUGFyYW1zLmFwcGVuZChlbC5kYXRhc2V0LnBuYW1lLCB2YWxzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgZmV0Y2hPcHRpb25zLmJvZHkgPSBmb3JtVXJsUGFyYW1zO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlcXVlc3RCb2R5VHlwZS5pbmNsdWRlcygnZm9ybS1kYXRhJykpIHtcbiAgICAgICAgY29uc3QgZm9ybURhdGFQYXJhbXMgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGFFbHMgPSBbLi4ucmVxdWVzdFBhbmVsRWwucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXB0eXBlPSdmb3JtLWRhdGEnXVwiKV07XG4gICAgICAgIGZvcm1EYXRhRWxzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLmRhdGFzZXQuYXJyYXkgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgIGlmIChlbC50eXBlID09PSAnZmlsZScgJiYgZWwuZmlsZXNbMF0pIHtcbiAgICAgICAgICAgICAgZm9ybURhdGFQYXJhbXMuYXBwZW5kKGVsLmRhdGFzZXQucG5hbWUsIGVsLmZpbGVzWzBdLCBlbC5maWxlc1swXS5uYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwudmFsdWUpIHtcbiAgICAgICAgICAgICAgZm9ybURhdGFQYXJhbXMuYXBwZW5kKGVsLmRhdGFzZXQucG5hbWUsIGVsLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGVsLnZhbHVlICYmIEFycmF5LmlzQXJyYXkoZWwudmFsdWUpKSB7XG4gICAgICAgICAgICBmb3JtRGF0YVBhcmFtcy5hcHBlbmQoZWwuZGF0YXNldC5wbmFtZSwgZWwudmFsdWUuam9pbignLCcpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IGZvcm1EYXRhUGFyYW1zO1xuICAgICAgfSBlbHNlIGlmICgvXmF1ZGlvXFwvfF5pbWFnZVxcL3xedmlkZW9cXC98XmZvbnRcXC98dGFyJHx6aXAkfDd6JHxydGYkfG1zd29yZCR8ZXhjZWwkfFxcL3BkZiR8XFwvb2N0ZXQtc3RyZWFtJC8udGVzdChyZXF1ZXN0Qm9keVR5cGUpKSB7XG4gICAgICAgIGNvbnN0IGJvZHlQYXJhbUZpbGVFbCA9IHJlcXVlc3RQYW5lbEVsLnF1ZXJ5U2VsZWN0b3IoJy5yZXF1ZXN0LWJvZHktcGFyYW0tZmlsZScpO1xuICAgICAgICBpZiAoYm9keVBhcmFtRmlsZUVsPy5maWxlc1swXSkge1xuICAgICAgICAgIGZldGNoT3B0aW9ucy5ib2R5ID0gYm9keVBhcmFtRmlsZUVsLmZpbGVzWzBdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCdqc29uJykgfHwgcmVxdWVzdEJvZHlUeXBlLmluY2x1ZGVzKCd4bWwnKSB8fCByZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoJ3RleHQnKSkge1xuICAgICAgICBjb25zdCBleGFtcGxlVGV4dEFyZWFFbCA9IHJlcXVlc3RQYW5lbEVsLnF1ZXJ5U2VsZWN0b3IoJy5yZXF1ZXN0LWJvZHktcGFyYW0tdXNlci1pbnB1dCcpO1xuICAgICAgICBpZiAoZXhhbXBsZVRleHRBcmVhRWw/LnZhbHVlKSB7XG4gICAgICAgICAgZmV0Y2hPcHRpb25zLmJvZHkgPSBleGFtcGxlVGV4dEFyZWFFbC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmZXRjaE9wdGlvbnM7XG4gIH1cblxuICBhc3luYyBvblRyeUNsaWNrKGUpIHtcbiAgICBjb25zdCB0cnlCdG5FbCA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IHJlcXVlc3RQYW5lbEVsID0gdHJ5QnRuRWwuY2xvc2VzdCgnLnJlcXVlc3QtcGFuZWwnKTtcbiAgICBjb25zdCBmZXRjaFVybCA9IHRoaXMuYnVpbGRGZXRjaFVSTChyZXF1ZXN0UGFuZWxFbCk7XG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0gdGhpcy5idWlsZEZldGNoQm9keU9wdGlvbnMocmVxdWVzdFBhbmVsRWwpO1xuICAgIGNvbnN0IHJlcUhlYWRlcnMgPSB0aGlzLmJ1aWxkRmV0Y2hIZWFkZXJzKHJlcXVlc3RQYW5lbEVsKTtcbiAgICB0aGlzLnJlc3BvbnNlVXJsID0gJyc7XG4gICAgdGhpcy5yZXNwb25zZUhlYWRlcnMgPSBbXTtcbiAgICB0aGlzLmN1cmxTeW50YXggPSB0aGlzLmdlbmVyYXRlQ1VSTFN5bnRheChmZXRjaFVybCwgcmVxSGVhZGVycywgZmV0Y2hPcHRpb25zLCByZXF1ZXN0UGFuZWxFbCk7XG4gICAgdGhpcy5yZXNwb25zZVN0YXR1cyA9ICdzdWNjZXNzJztcbiAgICB0aGlzLnJlc3BvbnNlSXNCbG9iID0gZmFsc2U7XG5cbiAgICB0aGlzLnJlc3BDb250ZW50RGlzcG9zaXRpb24gPSAnJztcbiAgICBpZiAodGhpcy5yZXNwb25zZUJsb2JVcmwpIHtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5yZXNwb25zZUJsb2JVcmwpO1xuICAgICAgdGhpcy5yZXNwb25zZUJsb2JVcmwgPSAnJztcbiAgICB9XG4gICAgaWYgKHRoaXMuZmV0Y2hDcmVkZW50aWFscykge1xuICAgICAgZmV0Y2hPcHRpb25zLmNyZWRlbnRpYWxzID0gdGhpcy5mZXRjaENyZWRlbnRpYWxzO1xuICAgIH1cbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBjb250cm9sbGVyO1xuICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gcmVxSGVhZGVycztcbiAgICBjb25zdCB0ZW1wUmVxdWVzdCA9IHsgdXJsOiBmZXRjaFVybCwgLi4uZmV0Y2hPcHRpb25zIH07XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYmVmb3JlLXRyeScsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICAgIGRldGFpbDoge1xuICAgICAgICByZXF1ZXN0OiB0ZW1wUmVxdWVzdCxcbiAgICAgICAgY29udHJvbGxlcixcbiAgICAgIH0sXG4gICAgfSkpO1xuICAgIGNvbnN0IHVwZGF0ZWRGZXRjaE9wdGlvbnMgPSB7XG4gICAgICBtZXRob2Q6IHRlbXBSZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIGhlYWRlcnM6IHRlbXBSZXF1ZXN0LmhlYWRlcnMsXG4gICAgICBjcmVkZW50aWFsczogdGVtcFJlcXVlc3QuY3JlZGVudGlhbHMsXG4gICAgICBib2R5OiB0ZW1wUmVxdWVzdC5ib2R5LFxuICAgIH07XG4gICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0gbmV3IFJlcXVlc3QodGVtcFJlcXVlc3QudXJsLCB1cGRhdGVkRmV0Y2hPcHRpb25zKTtcblxuICAgIGxldCBmZXRjaFJlc3BvbnNlO1xuICAgIGxldCByZXNwb25zZUNsb25lO1xuICAgIHRyeSB7XG4gICAgICBsZXQgcmVzcEJsb2I7XG4gICAgICBsZXQgcmVzcEpzb247XG4gICAgICBsZXQgcmVzcFRleHQ7XG4gICAgICB0cnlCdG5FbC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9ICfijJsnO1xuICAgICAgdGhpcy5yZXNwb25zZU1lc3NhZ2UgPSAnJztcbiAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBmZXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmV0Y2hSZXF1ZXN0LCB7IHNpZ25hbCB9KTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHJlc3BvbnNlQ2xvbmUgPSBmZXRjaFJlc3BvbnNlLmNsb25lKCk7IC8vIGNyZWF0ZSBhIHJlc3BvbnNlIGNsb25lIHRvIGFsbG93IHJlYWRpbmcgcmVzcG9uc2UgYm9keSBhZ2FpbiAocmVzcG9uc2UuanNvbiwgcmVzcG9uc2UudGV4dCBldGMpXG4gICAgICB0cnlCdG5FbC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZXNwb25zZU1lc3NhZ2UgPSBodG1sYCR7ZmV0Y2hSZXNwb25zZS5zdGF0dXNUZXh0ID8gYCR7ZmV0Y2hSZXNwb25zZS5zdGF0dXNUZXh0fToke2ZldGNoUmVzcG9uc2Uuc3RhdHVzfWAgOiBmZXRjaFJlc3BvbnNlLnN0YXR1c30gPGRpdiBzdHlsZT1cImNvbG9yOnZhcigtLWxpZ2h0LWZnKVwiPiBUb29rICR7TWF0aC5yb3VuZChlbmRUaW1lIC0gc3RhcnRUaW1lKX0gbWlsbGlzZWNvbmRzIDwvZGl2PmA7XG4gICAgICB0aGlzLnJlc3BvbnNlVXJsID0gZmV0Y2hSZXNwb25zZS51cmw7XG4gICAgICBjb25zdCByZXNwSGVhZGVyc09iaiA9IHt9O1xuICAgICAgZmV0Y2hSZXNwb25zZS5oZWFkZXJzLmZvckVhY2goKGhkclZhbCwgaGRyKSA9PiB7XG4gICAgICAgIHJlc3BIZWFkZXJzT2JqW2hkcl0gPSBoZHJWYWw7XG4gICAgICAgIHRoaXMucmVzcG9uc2VIZWFkZXJzID0gYCR7dGhpcy5yZXNwb25zZUhlYWRlcnN9JHtoZHJ9OiAke2hkclZhbH1cXG5gO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBjb250ZW50VHlwZSA9IGZldGNoUmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgY29uc3QgcmVzcEVtcHR5ID0gKGF3YWl0IGZldGNoUmVzcG9uc2UuY2xvbmUoKS50ZXh0KCkpLmxlbmd0aCA9PT0gMDtcbiAgICAgIGlmIChyZXNwRW1wdHkpIHtcbiAgICAgICAgdGhpcy5yZXNwb25zZVRleHQgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUpIHtcbiAgICAgICAgaWYgKGNvbnRlbnRUeXBlID09PSAnYXBwbGljYXRpb24veC1uZGpzb24nKSB7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZVRleHQgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZW50VHlwZS5pbmNsdWRlcygnanNvbicpKSB7XG4gICAgICAgICAgaWYgKCgvY2hhcnNldD1bXlwiJ10rLykudGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kaW5nID0gY29udGVudFR5cGUuc3BsaXQoJ2NoYXJzZXQ9JylbMV07XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXNwVGV4dCA9IG5ldyBUZXh0RGVjb2RlcihlbmNvZGluZykuZGVjb2RlKGJ1ZmZlcik7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgcmVzcFRleHQgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXNwSnNvbiA9IEpTT04ucGFyc2UocmVzcFRleHQpO1xuICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KHJlc3BKc29uLCBudWxsLCAyKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9IHJlc3BUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNwSnNvbiA9IGF3YWl0IGZldGNoUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgdGhpcy5yZXNwb25zZVRleHQgPSBKU09OLnN0cmluZ2lmeShyZXNwSnNvbiwgbnVsbCwgMik7XG4gICAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgICAgfSBlbHNlIGlmICgvXmZvbnRcXC98dGFyJHx6aXAkfDd6JHxydGYkfG1zd29yZCR8ZXhjZWwkfFxcL3BkZiR8XFwvb2N0ZXQtc3RyZWFtJHxeYXBwbGljYXRpb25cXC92bmRcXC4vLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUlzQmxvYiA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUJsb2JUeXBlID0gJ2Rvd25sb2FkJztcbiAgICAgICAgfSBlbHNlIGlmICgvXmF1ZGlvfF5pbWFnZXxedmlkZW8vLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUlzQmxvYiA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUJsb2JUeXBlID0gJ3ZpZXcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3BUZXh0ID0gYXdhaXQgZmV0Y2hSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCd4bWwnKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNwb25zZVRleHQgPSBmb3JtYXRYbWwocmVzcFRleHQsIHsgdGV4dE5vZGVzT25TYW1lTGluZTogdHJ1ZSwgaW5kZW50b3I6ICcgICcgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VUZXh0ID0gcmVzcFRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc3BvbnNlSXNCbG9iKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudERpc3Bvc2l0aW9uID0gZmV0Y2hSZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC1kaXNwb3NpdGlvbicpO1xuICAgICAgICAgIHRoaXMucmVzcENvbnRlbnREaXNwb3NpdGlvbiA9IGNvbnRlbnREaXNwb3NpdGlvbiA/IGNvbnRlbnREaXNwb3NpdGlvbi5zcGxpdCgnZmlsZW5hbWU9JylbMV0ucmVwbGFjZSgvXCJ8Jy9nLCAnJykgOiAnZmlsZW5hbWUnO1xuICAgICAgICAgIHJlc3BCbG9iID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHJlc3BCbG9iKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcFRleHQgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZVRleHQgPSByZXNwVGV4dDtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2FmdGVyLXRyeScsIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHJlcXVlc3Q6IGZldGNoUmVxdWVzdCxcbiAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2VDbG9uZSxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnM6IHJlc3BIZWFkZXJzT2JqLFxuICAgICAgICAgIHJlc3BvbnNlQm9keTogcmVzcEpzb24gfHwgcmVzcFRleHQgfHwgcmVzcEJsb2IsXG4gICAgICAgICAgcmVzcG9uc2VTdGF0dXM6IHJlc3BvbnNlQ2xvbmUub2ssXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0cnlCdG5FbC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKGVyci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncmVxdWVzdC1hYm9ydGVkJywge1xuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICByZXF1ZXN0OiBmZXRjaFJlcXVlc3QsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLnJlc3BvbnNlTWVzc2FnZSA9ICdSZXF1ZXN0IEFib3J0ZWQnO1xuICAgICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9ICdSZXF1ZXN0IEFib3J0ZWQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWZ0ZXItdHJ5Jywge1xuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICByZXF1ZXN0OiBmZXRjaFJlcXVlc3QsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLnJlc3BvbnNlTWVzc2FnZSA9IGAke2Vyci5tZXNzYWdlfSAoQ09SUyBvciBOZXR3b3JrIElzc3VlKWA7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICB9XG5cbiAgbGl2ZUNVUkxTeW50YXhVcGRhdGUocmVxdWVzdFBhbmVsRWwpIHtcbiAgICB0aGlzLmFwcGx5Q1VSTFN5bnRheChyZXF1ZXN0UGFuZWxFbCk7XG4gICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gIH1cblxuICBvbkdlbmVyYXRlQ1VSTENsaWNrKGUpIHtcbiAgICBjb25zdCByZXF1ZXN0UGFuZWxFbCA9IHRoaXMuZ2V0UmVxdWVzdFBhbmVsKGUpO1xuICAgIHRoaXMuYXBwbHlDVVJMU3ludGF4KHJlcXVlc3RQYW5lbEVsKTtcbiAgfVxuXG4gIGdldFJlcXVlc3RQYW5lbChlKSB7XG4gICAgcmV0dXJuIGUudGFyZ2V0LmNsb3Nlc3QoJy5yZXF1ZXN0LXBhbmVsJyk7XG4gIH1cblxuICBhcHBseUNVUkxTeW50YXgocmVxdWVzdFBhbmVsRWwpIHtcbiAgICBjb25zdCBmZXRjaFVybCA9IHRoaXMuYnVpbGRGZXRjaFVSTChyZXF1ZXN0UGFuZWxFbCk7XG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0gdGhpcy5idWlsZEZldGNoQm9keU9wdGlvbnMocmVxdWVzdFBhbmVsRWwpO1xuICAgIGNvbnN0IGZldGNoSGVhZGVycyA9IHRoaXMuYnVpbGRGZXRjaEhlYWRlcnMocmVxdWVzdFBhbmVsRWwpO1xuXG4gICAgdGhpcy5jdXJsU3ludGF4ID0gdGhpcy5nZW5lcmF0ZUNVUkxTeW50YXgoZmV0Y2hVcmwsIGZldGNoSGVhZGVycywgZmV0Y2hPcHRpb25zLCByZXF1ZXN0UGFuZWxFbCk7XG4gIH1cblxuICBnZW5lcmF0ZUNVUkxTeW50YXgoZmV0Y2hVcmwsIGZldGNoSGVhZGVycywgZmV0Y2hPcHRpb25zLCByZXF1ZXN0UGFuZWxFbCkge1xuICAgIGxldCBjdXJsVXJsO1xuICAgIGxldCBjdXJsID0gJyc7XG4gICAgbGV0IGN1cmxIZWFkZXJzID0gJyc7XG4gICAgbGV0IGN1cmxEYXRhID0gJyc7XG4gICAgbGV0IGN1cmxGb3JtID0gJyc7XG4gICAgY29uc3QgcmVxdWVzdEJvZHlDb250YWluZXJFbCA9IHJlcXVlc3RQYW5lbEVsLnF1ZXJ5U2VsZWN0b3IoJy5yZXF1ZXN0LWJvZHktY29udGFpbmVyJyk7XG5cbiAgICBpZiAoZmV0Y2hVcmwuc3RhcnRzV2l0aCgnaHR0cCcpID09PSBmYWxzZSkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChmZXRjaFVybCwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgY3VybFVybCA9IHVybC5ocmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJsVXJsID0gZmV0Y2hVcmw7XG4gICAgfVxuXG4gICAgY3VybCA9IGBjdXJsIC1YICR7dGhpcy5tZXRob2QudG9VcHBlckNhc2UoKX0gXCIke2N1cmxVcmx9XCIgXFxcXFxcbmA7XG5cbiAgICBjdXJsSGVhZGVycyA9IEFycmF5LmZyb20oZmV0Y2hIZWFkZXJzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCAtSCBcIiR7a2V5fTogJHt2YWx1ZX1cImApLmpvaW4oJ1xcXFxcXG4nKTtcbiAgICBpZiAoY3VybEhlYWRlcnMpIHtcbiAgICAgIGN1cmxIZWFkZXJzID0gYCR7Y3VybEhlYWRlcnN9IFxcXFxcXG5gO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hPcHRpb25zLmJvZHkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgICAgIGN1cmxEYXRhID0gYCAtZCAke2ZldGNoT3B0aW9ucy5ib2R5LnRvU3RyaW5nKCl9IFxcXFxcXG5gO1xuICAgIH0gZWxzZSBpZiAoZmV0Y2hPcHRpb25zLmJvZHkgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICBjdXJsRGF0YSA9IGAgLS1kYXRhLWJpbmFyeSBAJHtmZXRjaE9wdGlvbnMuYm9keS5uYW1lfSBcXFxcXFxuYDtcbiAgICB9IGVsc2UgaWYgKGZldGNoT3B0aW9ucy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgIGN1cmxGb3JtID0gQXJyYXkuZnJvbShmZXRjaE9wdGlvbnMuYm9keSkucmVkdWNlKChhZ2dyZWdhdG9yLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgIHJldHVybiBbLi4uYWdncmVnYXRvciwgYCAtRiBcIiR7a2V5fT1AJHt2YWx1ZS5uYW1lfVwiYF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtdWx0aXBsZSA9IHZhbHVlLm1hdGNoKC8oW14sXSwpL2dtKTtcblxuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICBjb25zdCBtdWx0aXBsZVJlc3VsdHMgPSBtdWx0aXBsZS5tYXAoKG9uZSkgPT4gYC1GIFwiJHtrZXl9W109JHtvbmV9XCJgKTtcblxuICAgICAgICAgIHJldHVybiBbLi4uYWdncmVnYXRvciwgLi4ubXVsdGlwbGVSZXN1bHRzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbLi4uYWdncmVnYXRvciwgYCAtRiBcIiR7a2V5fT0ke3ZhbHVlfVwiYF07XG4gICAgICB9LCBbXSkuam9pbignXFxcXFxcbicpO1xuICAgIH0gZWxzZSBpZiAocmVxdWVzdEJvZHlDb250YWluZXJFbCAmJiByZXF1ZXN0Qm9keUNvbnRhaW5lckVsLmRhdGFzZXQuc2VsZWN0ZWRSZXF1ZXN0Qm9keVR5cGUpIHtcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5VHlwZSA9IHJlcXVlc3RCb2R5Q29udGFpbmVyRWwuZGF0YXNldC5zZWxlY3RlZFJlcXVlc3RCb2R5VHlwZTtcbiAgICAgIGNvbnN0IGV4YW1wbGVUZXh0QXJlYUVsID0gcmVxdWVzdFBhbmVsRWwucXVlcnlTZWxlY3RvcignLnJlcXVlc3QtYm9keS1wYXJhbS11c2VyLWlucHV0Jyk7XG4gICAgICBpZiAoZXhhbXBsZVRleHRBcmVhRWw/LnZhbHVlKSB7XG4gICAgICAgIGZldGNoT3B0aW9ucy5ib2R5ID0gZXhhbXBsZVRleHRBcmVhRWwudmFsdWU7XG4gICAgICAgIGlmIChyZXF1ZXN0Qm9keVR5cGUuaW5jbHVkZXMoJ2pzb24nKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjdXJsRGF0YSA9IGAgLWQgJyR7SlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZShleGFtcGxlVGV4dEFyZWFFbC52YWx1ZSkpfScgXFxcXFxcbmA7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY3VybERhdGEpIHtcbiAgICAgICAgICBjdXJsRGF0YSA9IGAgLWQgJyR7ZXhhbXBsZVRleHRBcmVhRWwudmFsdWUucmVwbGFjZSgvJy9nLCAnXFwnXCJcXCdcIlxcJycpfScgXFxcXFxcbmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYCR7Y3VybH0ke2N1cmxIZWFkZXJzfSR7Y3VybERhdGF9JHtjdXJsRm9ybX1gO1xuICB9XG5cbiAgb25BZGRSZW1vdmVGaWxlSW5wdXQoZSwgcG5hbWUsIHB0eXBlKSB7XG4gICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2J1dHRvbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmaWxlLWlucHV0LXJlbW92ZS1idG4nKSkge1xuICAgICAgLy8gUmVtb3ZlIEZpbGUgSW5wdXQgU2V0XG4gICAgICBjb25zdCBlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5pbnB1dC1zZXQnKTtcbiAgICAgIGVsLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5maWxlLWlucHV0LWNvbnRhaW5lcicpO1xuXG4gICAgLy8gQWRkIEZpbGUgSW5wdXQgU2V0XG5cbiAgICAvLyBDb250YWluZXJcbiAgICBjb25zdCBuZXdJbnB1dENvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmV3SW5wdXRDb250YWluZXJFbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2lucHV0LXNldCByb3cnKTtcblxuICAgIC8vIEZpbGUgSW5wdXRcbiAgICBjb25zdCBuZXdJbnB1dEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBuZXdJbnB1dEVsLnR5cGUgPSAnZmlsZSc7XG4gICAgbmV3SW5wdXRFbC5zdHlsZSA9ICd3aWR0aDoyMDBweDsgbWFyZ2luLXRvcDoycHg7JztcbiAgICBuZXdJbnB1dEVsLnNldEF0dHJpYnV0ZSgnZGF0YS1wbmFtZScsIHBuYW1lKTtcbiAgICBuZXdJbnB1dEVsLnNldEF0dHJpYnV0ZSgnZGF0YS1wdHlwZScsIHB0eXBlLmluY2x1ZGVzKCdmb3JtLXVybGVuY29kZScpID8gJ2Zvcm0tdXJsZW5jb2RlJyA6ICdmb3JtLWRhdGEnKTtcbiAgICBuZXdJbnB1dEVsLnNldEF0dHJpYnV0ZSgnZGF0YS1hcnJheScsICdmYWxzZScpO1xuICAgIG5ld0lucHV0RWwuc2V0QXR0cmlidXRlKCdkYXRhLWZpbGUtYXJyYXknLCAndHJ1ZScpO1xuXG4gICAgLy8gUmVtb3ZlciBCdXR0b25cbiAgICBjb25zdCBuZXdSZW1vdmVCdG5FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG5ld1JlbW92ZUJ0bkVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmlsZS1pbnB1dC1yZW1vdmUtYnRuJyk7XG4gICAgbmV3UmVtb3ZlQnRuRWwuaW5uZXJIVE1MID0gJyYjeDI3MTU7JztcblxuICAgIG5ld0lucHV0Q29udGFpbmVyRWwuYXBwZW5kQ2hpbGQobmV3SW5wdXRFbCk7XG4gICAgbmV3SW5wdXRDb250YWluZXJFbC5hcHBlbmRDaGlsZChuZXdSZW1vdmVCdG5FbCk7XG4gICAgZWwuaW5zZXJ0QmVmb3JlKG5ld0lucHV0Q29udGFpbmVyRWwsIGUudGFyZ2V0KTtcbiAgICAvLyBlbC5hcHBlbmRDaGlsZChuZXdJbnB1dENvbnRhaW5lckVsKTtcbiAgfVxuXG4gIGNsZWFyUmVzcG9uc2VEYXRhKCkge1xuICAgIHRoaXMucmVzcG9uc2VVcmwgPSAnJztcbiAgICB0aGlzLnJlc3BvbnNlSGVhZGVycyA9ICcnO1xuICAgIHRoaXMucmVzcG9uc2VUZXh0ID0gJyc7XG4gICAgdGhpcy5yZXNwb25zZVN0YXR1cyA9ICdzdWNjZXNzJztcbiAgICB0aGlzLnJlc3BvbnNlTWVzc2FnZSA9ICcnO1xuICAgIHRoaXMucmVzcG9uc2VJc0Jsb2IgPSBmYWxzZTtcbiAgICB0aGlzLnJlc3BvbnNlQmxvYlR5cGUgPSAnJztcbiAgICB0aGlzLnJlc3BDb250ZW50RGlzcG9zaXRpb24gPSAnJztcbiAgICBpZiAodGhpcy5yZXNwb25zZUJsb2JVcmwpIHtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5yZXNwb25zZUJsb2JVcmwpO1xuICAgICAgdGhpcy5yZXNwb25zZUJsb2JVcmwgPSAnJztcbiAgICB9XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmN1cmxTeW50YXggPSAnJztcbiAgICAvLyBDbGVhbnVwIE9iamVjdFVSTCBmb3IgdGhlIGJsb2IgZGF0YSBpZiB0aGlzIGNvbXBvbmVudCBjcmVhdGVkIG9uZVxuICAgIGlmICh0aGlzLnJlc3BvbnNlQmxvYlVybCkge1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLnJlc3BvbnNlQmxvYlVybCk7XG4gICAgICB0aGlzLnJlc3BvbnNlQmxvYlVybCA9ICcnO1xuICAgIH1cbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICB9XG59XG5cbi8vIFJlZ2lzdGVyIHRoZSBlbGVtZW50IHdpdGggdGhlIGJyb3dzZXJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnYXBpLXJlcXVlc3QnLCBBcGlSZXF1ZXN0KTtcbiIsImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyB1bnNhZmVIVE1MIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwuanMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9leHRlbnNpb25zXG5pbXBvcnQgeyBtYXJrZWQgfSBmcm9tICdtYXJrZWQnO1xuaW1wb3J0IEZvbnRTdHlsZXMgZnJvbSAnfi9zdHlsZXMvZm9udC1zdHlsZXMnO1xuaW1wb3J0IFNjaGVtYVN0eWxlcyBmcm9tICd+L3N0eWxlcy9zY2hlbWEtc3R5bGVzJztcbmltcG9ydCBDdXN0b21TdHlsZXMgZnJvbSAnfi9zdHlsZXMvY3VzdG9tLXN0eWxlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjaGVtYVRhYmxlIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NoZW1hRXhwYW5kTGV2ZWw6IHsgdHlwZTogTnVtYmVyLCBhdHRyaWJ1dGU6ICdzY2hlbWEtZXhwYW5kLWxldmVsJyB9LFxuICAgICAgc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCcgfSxcbiAgICAgIGFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZScgfSxcbiAgICAgIHNjaGVtYUhpZGVSZWFkT25seTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1oaWRlLXJlYWQtb25seScgfSxcbiAgICAgIHNjaGVtYUhpZGVXcml0ZU9ubHk6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzY2hlbWEtaGlkZS13cml0ZS1vbmx5JyB9LFxuICAgICAgZGF0YTogeyB0eXBlOiBPYmplY3QgfSxcbiAgICB9O1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBpZiAoIXRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgfHwgdGhpcy5zY2hlbWFFeHBhbmRMZXZlbCA8IDEpIHsgdGhpcy5zY2hlbWFFeHBhbmRMZXZlbCA9IDk5OTk5OyB9XG4gICAgaWYgKCF0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQgfHwgISd0cnVlIGZhbHNlJy5pbmNsdWRlcyh0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQpKSB7IHRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZCA9ICdmYWxzZSc7IH1cbiAgICBpZiAoIXRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5IHx8ICEndHJ1ZSBmYWxzZScuaW5jbHVkZXModGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkpKSB7IHRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5ID0gJ3RydWUnOyB9XG4gICAgaWYgKCF0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkgfHwgISd0cnVlIGZhbHNlJy5pbmNsdWRlcyh0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkpKSB7IHRoaXMuc2NoZW1hSGlkZVdyaXRlT25seSA9ICd0cnVlJzsgfVxuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEZvbnRTdHlsZXMsXG4gICAgICBTY2hlbWFTdHlsZXMsXG4gICAgICBjc3NgXG4gICAgICAudGFibGUge1xuICAgICAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA2cHgpO1xuICAgICAgfVxuICAgICAgLnRhYmxlIC50ciB7XG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA1cHgpO1xuICAgICAgICBwYWRkaW5nOiAwIDAgMCA1cHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cbiAgICAgIC50YWJsZSAudGQge1xuICAgICAgICBwYWRkaW5nOiA0cHggMDtcbiAgICAgIH1cbiAgICAgIC50YWJsZSAua2V5IHtcbiAgICAgICAgd2lkdGg6IDI0MHB4O1xuICAgICAgfVxuICAgICAgLmtleSAua2V5LWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtbW9ubyk7XG4gICAgICB9XG4gICAgICAua2V5LmRlcHJlY2F0ZWQgLmtleS1sYWJlbCB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1yZWQpO1xuICAgICAgfVxuXG4gICAgICAudGFibGUgLmtleS10eXBlIHtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgICAgICAgd2lkdGg6IDE1MHB4O1xuICAgICAgfVxuICAgICAgLmNvbGxhcHNlZC1hbGwtZGVzY3IgLnRyOm5vdCguZXhwYW5kZWQtZGVzY3IpIHtcbiAgICAgICAgbWF4LWhlaWdodDogY2FsYyh2YXIoLS1mb250LXNpemUtc21hbGwpICsgdmFyKC0tZm9udC1zaXplLXNtYWxsKSk7XG4gICAgICB9XG5cbiAgICAgIC5vYmotdG9nZ2xlIHtcbiAgICAgICAgcGFkZGluZzogMCAycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6MnB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBtYXJnaW4tbGVmdDogLTE2cHg7XG4gICAgICAgIGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgICBjdXJzb3I6cG9pbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyA0cHgpO1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vKTtcbiAgICAgICAgYmFja2dyb3VuZC1jbGlwOiBib3JkZXItYm94O1xuICAgICAgfVxuICAgICAgLm9iai10b2dnbGU6aG92ZXIge1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgfVxuICAgICAgLnRyLmV4cGFuZGVkICsgLm9iamVjdC1ib2R5IHtcbiAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgIH1cbiAgICAgIC50ci5jb2xsYXBzZWQgKyAub2JqZWN0LWJvZHkge1xuICAgICAgICBkaXNwbGF5Om5vbmU7XG4gICAgICB9YCxcbiAgICAgIEN1c3RvbVN0eWxlcyxcbiAgICBdO1xuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZSAke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZCA9PT0gJ3RydWUnID8gJ2V4cGFuZGVkLWFsbC1kZXNjcicgOiAnY29sbGFwc2VkLWFsbC1kZXNjcid9XCIgQGNsaWNrPVwiJHsoZSkgPT4gdGhpcy5oYW5kbGVBbGxFdmVudHMoZSl9XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9J3Rvb2xiYXInPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sYmFyLWl0ZW0gc2NoZW1hLXJvb3QtdHlwZSAke3RoaXMuZGF0YT8uWyc6OnR5cGUnXSB8fCAnJ30gXCI+ICR7dGhpcy5kYXRhPy5bJzo6dHlwZSddIHx8ICcnfSA8L2Rpdj5cbiAgICAgICAgICAke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZSA9PT0gJ3RydWUnXG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OjFcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBwYXJ0PVwic2NoZW1hLW11bHRpbGluZS10b2dnbGVcIiBjbGFzcz0ndG9vbGJhci1pdGVtIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlJyA+IFxuICAgICAgICAgICAgICAgICR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkID09PSAndHJ1ZScgPyAnU2luZ2xlIGxpbmUgZGVzY3JpcHRpb24nIDogJ011bHRpbGluZSBkZXNjcmlwdGlvbid9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuIHBhcnQ9XCJzY2hlbWEtZGVzY3JpcHRpb25cIiBjbGFzcz0nbS1tYXJrZG93bic+ICR7dW5zYWZlSFRNTChtYXJrZWQodGhpcy5kYXRhPy5bJzo6ZGVzY3JpcHRpb24nXSB8fCAnJykpfSA8L3NwYW4+XG4gICAgICAgIDxkaXYgc3R5bGUgPSAnYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpJz5cbiAgICAgICAgICA8ZGl2IHN0eWxlPSdkaXNwbGF5OmZsZXg7IGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnMik7IHBhZGRpbmc6OHB4IDRweDsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTsnPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0na2V5JyBzdHlsZT0nZm9udC1mYW1pbHk6dmFyKC0tZm9udC1yZWd1bGFyKTsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6dmFyKC0tZmcpOyc+IEZpZWxkIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0na2V5LXR5cGUnIHN0eWxlPSdmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjp2YXIoLS1mZyk7Jz4gVHlwZSA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9J2tleS1kZXNjcicgc3R5bGU9J2ZvbnQtZmFtaWx5OnZhcigtLWZvbnQtcmVndWxhcik7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOnZhcigtLWZnKTsnPiBEZXNjcmlwdGlvbiA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAke3RoaXMuZGF0YVxuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAke3RoaXMuZ2VuZXJhdGVUcmVlKFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVsnOjp0eXBlJ10gPT09ICdhcnJheScgPyB0aGlzLmRhdGFbJzo6cHJvcHMnXSA6IHRoaXMuZGF0YSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFbJzo6dHlwZSddLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVsnOjphcnJheS10eXBlJ10sXG4gICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgIH0gIFxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PiAgXG4gICAgYDtcbiAgfVxuXG4gIGdlbmVyYXRlVHJlZShkYXRhLCBkYXRhVHlwZSA9ICdvYmplY3QnLCBhcnJheVR5cGUgPSAnJywga2V5ID0gJycsIGRlc2NyaXB0aW9uID0gJycsIHNjaGVtYUxldmVsID0gMCwgaW5kZW50TGV2ZWwgPSAwLCByZWFkT3JXcml0ZSA9ICcnKSB7XG4gICAgaWYgKHRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5ID09PSAndHJ1ZScpIHtcbiAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICBpZiAocmVhZE9yV3JpdGUgPT09ICdyZWFkb25seScpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkYXRhICYmIGRhdGFbJzo6cmVhZHdyaXRlJ10gPT09ICdyZWFkb25seScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5ID09PSAndHJ1ZScpIHtcbiAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICBpZiAocmVhZE9yV3JpdGUgPT09ICd3cml0ZW9ubHknKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhWyc6OnJlYWR3cml0ZSddID09PSAnd3JpdGVvbmx5Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIm51bGxcIiBzdHlsZT1cImRpc3BsYXk6aW5saW5lO1wiPlxuICAgICAgICA8c3BhbiBzdHlsZT0nbWFyZ2luLWxlZnQ6JHsoc2NoZW1hTGV2ZWwgKyAxKSAqIDE2fXB4Jz4gJm5ic3A7IDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJrZXktbGFiZWwgeHh4LW9mLWtleVwiPiAke2tleS5yZXBsYWNlKCc6Ok9QVElPTn4nLCAnJyl9PC9zcGFuPlxuICAgICAgICAke1xuICAgICAgICAgIGRhdGFUeXBlID09PSAnYXJyYXknXG4gICAgICAgICAgICA/IGh0bWxgPHNwYW4gY2xhc3M9J21vbm8tZm9udCc+IFsgXSA8L3NwYW4+YFxuICAgICAgICAgICAgOiBkYXRhVHlwZSA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgPyBodG1sYDxzcGFuIGNsYXNzPSdtb25vLWZvbnQnPiB7IH0gPC9zcGFuPmBcbiAgICAgICAgICAgICAgOiBodG1sYDxzcGFuIGNsYXNzPSdtb25vLWZvbnQnPiBzY2hlbWEgdW5kZWZpbmVkIDwvc3Bhbj5gXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3U2NoZW1hTGV2ZWwgPSBkYXRhWyc6OnR5cGUnXT8uc3RhcnRzV2l0aCgneHh4LW9mJykgPyBzY2hlbWFMZXZlbCA6IChzY2hlbWFMZXZlbCArIDEpO1xuICAgIGNvbnN0IG5ld0luZGVudExldmVsID0gZGF0YVR5cGUgPT09ICd4eHgtb2Ytb3B0aW9uJyB8fCBkYXRhWyc6OnR5cGUnXSA9PT0gJ3h4eC1vZi1vcHRpb24nIHx8IGtleS5zdGFydHNXaXRoKCc6Ok9QVElPTicpID8gaW5kZW50TGV2ZWwgOiAoaW5kZW50TGV2ZWwgKyAxKTtcbiAgICBjb25zdCBsZWZ0UGFkZGluZyA9IDE2ICogbmV3SW5kZW50TGV2ZWw7IC8vIDIgc3BhY2UgaW5kZW50YXRpb24gYXQgZWFjaCBsZXZlbFxuICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBodG1sYDxzcGFuIGNsYXNzPVwidGQga2V5IG9iamVjdFwiIHN0eWxlPSdwYWRkaW5nLWxlZnQ6JHtsZWZ0UGFkZGluZ31weCc+JHtrZXl9PC9zcGFuPmA7XG4gICAgfVxuICAgIGxldCBrZXlMYWJlbCA9ICcnO1xuICAgIGxldCBrZXlEZXNjciA9ICcnO1xuICAgIGxldCBpc09uZU9mTGFiZWwgPSBmYWxzZTtcbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJzo6T05Ffk9GJykgfHwga2V5LnN0YXJ0c1dpdGgoJzo6QU5Zfk9GJykpIHtcbiAgICAgIGtleUxhYmVsID0ga2V5LnJlcGxhY2UoJzo6JywgJycpLnJlcGxhY2UoJ34nLCAnICcpO1xuICAgICAgaXNPbmVPZkxhYmVsID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGtleS5zdGFydHNXaXRoKCc6Ok9QVElPTicpKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdCgnficpO1xuICAgICAga2V5TGFiZWwgPSBwYXJ0c1sxXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAga2V5RGVzY3IgPSBwYXJ0c1syXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlMYWJlbCA9IGtleTtcbiAgICB9XG5cbiAgICBsZXQgZGV0YWlsT2JqVHlwZSA9ICcnO1xuICAgIGlmIChkYXRhWyc6OnR5cGUnXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICBkZXRhaWxPYmpUeXBlID0gJ2FycmF5IG9mIG9iamVjdCc7IC8vIEFycmF5IG9mIE9iamVjdFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGV0YWlsT2JqVHlwZSA9IGRhdGFbJzo6ZGF0YVR5cGVMYWJlbCddIHx8IGRhdGFbJzo6dHlwZSddO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YVsnOjp0eXBlJ10gPT09ICdhcnJheScpIHtcbiAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAvLyBkZXRhaWxPYmpUeXBlID0gJ2FycmF5IG9mIGFycmF5JzsgLy8gQXJyYXkgb2YgYXJyYXlcbiAgICAgICAgZGV0YWlsT2JqVHlwZSA9IGBhcnJheSBvZiBhcnJheSAke2FycmF5VHlwZSAhPT0gJ29iamVjdCcgPyBgb2YgJHthcnJheVR5cGV9YCA6ICcnfWA7IC8vIEFycmF5IG9mIGFycmF5XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXRhaWxPYmpUeXBlID0gZGF0YVsnOjpkYXRhVHlwZUxhYmVsJ10gfHwgZGF0YVsnOjp0eXBlJ107XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICR7bmV3U2NoZW1hTGV2ZWwgPj0gMCAmJiBrZXlcbiAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSd0ciAke25ld1NjaGVtYUxldmVsIDw9IHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCd9ICR7ZGF0YVsnOjp0eXBlJ119JyBkYXRhLW9iaj0nJHtrZXlMYWJlbH0nIHRpdGxlPVwiJHtkYXRhWyc6OmRlcHJlY2F0ZWQnXSA/ICdEZXByZWNhdGVkJyA6ICcnfVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGQga2V5ICR7ZGF0YVsnOjpkZXByZWNhdGVkJ10gPyAnZGVwcmVjYXRlZCcgOiAnJ31cIiBzdHlsZT0ncGFkZGluZy1sZWZ0OiR7bGVmdFBhZGRpbmd9cHgnPlxuICAgICAgICAgICAgICAgICR7KGtleUxhYmVsIHx8IGtleURlc2NyKVxuICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nb2JqLXRvZ2dsZSAke25ld1NjaGVtYUxldmVsIDwgdGhpcy5zY2hlbWFFeHBhbmRMZXZlbCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJ30nIGRhdGEtb2JqPScke2tleUxhYmVsfSc+XG4gICAgICAgICAgICAgICAgICAgICAgJHtzY2hlbWFMZXZlbCA8IHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgPyAnLScgOiAnKyd9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5gXG4gICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICR7ZGF0YVsnOjp0eXBlJ10gPT09ICd4eHgtb2Ytb3B0aW9uJyB8fCBkYXRhWyc6OnR5cGUnXSA9PT0gJ3h4eC1vZi1hcnJheScgfHwga2V5LnN0YXJ0c1dpdGgoJzo6T1BUSU9OJylcbiAgICAgICAgICAgICAgICAgID8gaHRtbGA8c3BhbiBjbGFzcz1cInh4eC1vZi1rZXlcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0Oi02cHhcIj4ke2tleUxhYmVsfTwvc3Bhbj48c3BhbiBjbGFzcz1cIiR7aXNPbmVPZkxhYmVsID8gJ3h4eC1vZi1rZXknIDogJ3h4eC1vZi1kZXNjcid9XCI+JHtrZXlEZXNjcn08L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgOiBrZXlMYWJlbC5lbmRzV2l0aCgnKicpXG4gICAgICAgICAgICAgICAgICAgID8gaHRtbGA8c3BhbiBjbGFzcz1cImtleS1sYWJlbFwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7IG1hcmdpbi1sZWZ0Oi02cHg7XCI+JHtkYXRhWyc6OmRlcHJlY2F0ZWQnXSA/ICfinJcnIDogJyd9ICR7a2V5TGFiZWwuc3Vic3RyaW5nKDAsIGtleUxhYmVsLmxlbmd0aCAtIDEpfTwvc3Bhbj48c3BhbiBzdHlsZT0nY29sb3I6dmFyKC0tcmVkKTsnPio8L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgICA6IGh0bWxgPHNwYW4gY2xhc3M9XCJrZXktbGFiZWxcIiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrOyBtYXJnaW4tbGVmdDotNnB4O1wiPiR7ZGF0YVsnOjpkZXByZWNhdGVkJ10gPyAn4pyXJyA6ICcnfSAke2tleUxhYmVsID09PSAnOjpwcm9wcycgPyAnJyA6IGtleUxhYmVsfTwvc3Bhbj5gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICR7ZGF0YVsnOjp0eXBlJ10gPT09ICd4eHgtb2YnICYmIGRhdGFUeXBlID09PSAnYXJyYXknID8gaHRtbGA8c3BhbiBzdHlsZT1cImNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpXCI+QVJSQVk8L3NwYW4+YCA6ICcnfSBcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS10eXBlJyB0aXRsZT1cIiR7ZGF0YVsnOjpyZWFkd3JpdGUnXSA9PT0gJ3JlYWRvbmx5JyA/ICdSZWFkLU9ubHknIDogZGF0YVsnOjpyZWFkd3JpdGUnXSA9PT0gJ3dyaXRlb25seScgPyAnV3JpdGUtT25seScgOiAnJ31cIj5cbiAgICAgICAgICAgICAgICAkeyhkYXRhWyc6OnR5cGUnXSB8fCAnJykuaW5jbHVkZXMoJ3h4eC1vZicpID8gJycgOiBkZXRhaWxPYmpUeXBlfVxuICAgICAgICAgICAgICAgICR7ZGF0YVsnOjpyZWFkd3JpdGUnXSA9PT0gJ3JlYWRvbmx5JyA/ICcg8J+GgScgOiBkYXRhWyc6OnJlYWR3cml0ZSddID09PSAnd3JpdGVvbmx5JyA/ICcg8J+GhicgOiAnJ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS1kZXNjciBtLW1hcmtkb3duLXNtYWxsJyBzdHlsZT0nbGluZS1oZWlnaHQ6MS43Jz4ke3Vuc2FmZUhUTUwobWFya2VkKGRlc2NyaXB0aW9uIHx8ICcnKSl9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgJHtkYXRhWyc6OnR5cGUnXSA9PT0gJ2FycmF5JyAmJiBkYXRhVHlwZSA9PT0gJ2FycmF5J1xuICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndHInPiBcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleSc+PC9kaXY+IFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGQga2V5LXR5cGUnPlxuICAgICAgICAgICAgICAgICAgICAke2FycmF5VHlwZSAmJiBhcnJheVR5cGUgIT09ICdvYmplY3QnID8gYCR7ZGF0YVR5cGV9IG9mICR7YXJyYXlUeXBlfWAgOiBkYXRhVHlwZX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PiBcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS1kZXNjcic+PC9kaXY+IFxuICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgfWBcbiAgICAgICAgfVxuICAgICAgICA8ZGl2IGNsYXNzPSdvYmplY3QtYm9keSc+XG4gICAgICAgICR7QXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhWzBdXG4gICAgICAgICAgPyBodG1sYCR7dGhpcy5nZW5lcmF0ZVRyZWUoZGF0YVswXSwgJ3h4eC1vZi1vcHRpb24nLCAnJywgJzo6QVJSQVl+T0YnLCAnJywgbmV3U2NoZW1hTGV2ZWwsIG5ld0luZGVudExldmVsLCAnJyl9YFxuICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICR7T2JqZWN0LmtleXMoZGF0YSkubWFwKChkYXRhS2V5KSA9PiBodG1sYFxuICAgICAgICAgICAgICAke1snOjp0aXRsZScsICc6OmRlc2NyaXB0aW9uJywgJzo6dHlwZScsICc6OnByb3BzJywgJzo6ZGVwcmVjYXRlZCcsICc6OmFycmF5LXR5cGUnLCAnOjpyZWFkd3JpdGUnLCAnOjpkYXRhVHlwZUxhYmVsJ10uaW5jbHVkZXMoZGF0YUtleSlcbiAgICAgICAgICAgICAgICA/IGRhdGFbZGF0YUtleV1bJzo6dHlwZSddID09PSAnYXJyYXknIHx8IGRhdGFbZGF0YUtleV1bJzo6dHlwZSddID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgICAgICAgPyBodG1sYCR7dGhpcy5nZW5lcmF0ZVRyZWUoXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbZGF0YUtleV1bJzo6dHlwZSddID09PSAnYXJyYXknID8gZGF0YVtkYXRhS2V5XVsnOjpwcm9wcyddIDogZGF0YVtkYXRhS2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhW2RhdGFLZXldWyc6OnR5cGUnXSxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhW2RhdGFLZXldWyc6OmFycmF5LXR5cGUnXSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZGF0YUtleV1bJzo6ZGVzY3JpcHRpb24nXSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdTY2hlbWFMZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRlbnRMZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhW2RhdGFLZXldWyc6OnJlYWR3cml0ZSddID8gZGF0YVtkYXRhS2V5XVsnOjpyZWFkd3JpdGUnXSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICApfWBcbiAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICA6IGh0bWxgJHt0aGlzLmdlbmVyYXRlVHJlZShcbiAgICAgICAgICAgICAgICAgIGRhdGFbZGF0YUtleV1bJzo6dHlwZSddID09PSAnYXJyYXknID8gZGF0YVtkYXRhS2V5XVsnOjpwcm9wcyddIDogZGF0YVtkYXRhS2V5XSxcbiAgICAgICAgICAgICAgICAgIGRhdGFbZGF0YUtleV1bJzo6dHlwZSddLFxuICAgICAgICAgICAgICAgICAgZGF0YVtkYXRhS2V5XVsnOjphcnJheS10eXBlJ10gfHwgJycsXG4gICAgICAgICAgICAgICAgICBkYXRhS2V5LFxuICAgICAgICAgICAgICAgICAgZGF0YVtkYXRhS2V5XT8uWyc6OmRlc2NyaXB0aW9uJ10gfHwgJycsXG4gICAgICAgICAgICAgICAgICBuZXdTY2hlbWFMZXZlbCxcbiAgICAgICAgICAgICAgICAgIG5ld0luZGVudExldmVsLFxuICAgICAgICAgICAgICAgICAgZGF0YVtkYXRhS2V5XVsnOjpyZWFkd3JpdGUnXSA/IGRhdGFbZGF0YUtleV1bJzo6cmVhZHdyaXRlJ10gOiAnJyxcbiAgICAgICAgICAgICAgICApfWBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYCl9XG4gICAgICAgICAgYFxuICAgICAgICB9XG4gICAgICAgIDxkaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIEZvciBQcmltaXRpdmUgRGF0YSB0eXBlc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGNvbnN0IFt0eXBlLCByZWFkT3JXcml0ZU9ubHksIGNvbnN0cmFpbnQsIGRlZmF1bHRWYWx1ZSwgYWxsb3dlZFZhbHVlcywgcGF0dGVybiwgc2NoZW1hRGVzY3JpcHRpb24sIHNjaGVtYVRpdGxlLCBkZXByZWNhdGVkXSA9IGRhdGEuc3BsaXQoJ358ficpO1xuICAgIGlmIChyZWFkT3JXcml0ZU9ubHkgPT09ICfwn4aBJyAmJiB0aGlzLnNjaGVtYUhpZGVSZWFkT25seSA9PT0gJ3RydWUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZWFkT3JXcml0ZU9ubHkgPT09ICfwn4aGJyAmJiB0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkgPT09ICd0cnVlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkYXRhVHlwZUNzcyA9IHR5cGUucmVwbGFjZSgv4pSDLiovZywgJycpLnJlcGxhY2UoL1teYS16QS1aMC05K10vZywgJycpLnN1YnN0cmluZygwLCA0KS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGRlc2NyRXhwYW5kZXIgPSBgJHtjb25zdHJhaW50IHx8IGRlZmF1bHRWYWx1ZSB8fCBhbGxvd2VkVmFsdWVzIHx8IHBhdHRlcm4gPyAnPHNwYW4gY2xhc3M9XCJkZXNjci1leHBhbmQtdG9nZ2xlXCI+4p6UPC9zcGFuPicgOiAnJ31gO1xuICAgIGxldCBkYXRhVHlwZUh0bWwgPSAnJztcbiAgICBpZiAoZGF0YVR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgIGRhdGFUeXBlSHRtbCA9IGh0bWxgIFxuICAgICAgICA8ZGl2IGNsYXNzPSd0ZCBrZXktdHlwZSAke2RhdGFUeXBlQ3NzfScgdGl0bGU9XCIke3JlYWRPcldyaXRlID09PSAncmVhZG9ubHknID8gJ1JlYWQtT25seScgOiByZWFkT3JXcml0ZU9ubHkgPT09ICd3cml0ZW9ubHknID8gJ1dyaXRlLU9ubHknIDogJyd9XCI+XG4gICAgICAgICAgWyR7dHlwZX1dICR7cmVhZE9yV3JpdGUgPT09ICdyZWFkb25seScgPyAn8J+GgScgOiByZWFkT3JXcml0ZSA9PT0gJ3dyaXRlb25seScgPyAn8J+GhicgOiAnJ31cbiAgICAgICAgPC9kaXY+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YVR5cGVIdG1sID0gaHRtbGAgXG4gICAgICAgIDxkaXYgY2xhc3M9J3RkIGtleS10eXBlICR7ZGF0YVR5cGVDc3N9JyB0aXRsZT1cIiR7cmVhZE9yV3JpdGVPbmx5ID09PSAn8J+GgScgPyAnUmVhZC1Pbmx5JyA6IHJlYWRPcldyaXRlT25seSA9PT0gJ/CfhoYnID8gJ1dyaXRlLU9ubHknIDogJyd9XCI+XG4gICAgICAgICAgJHt0eXBlfSAke3JlYWRPcldyaXRlT25seX1cbiAgICAgICAgPC9kaXY+YDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzID0gXCJ0ciBwcmltaXRpdmVcIiB0aXRsZT1cIiR7ZGVwcmVjYXRlZCA/ICdEZXByZWNhdGVkJyA6ICcnfVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGQga2V5ICR7ZGVwcmVjYXRlZH1cIiBzdHlsZT0ncGFkZGluZy1sZWZ0OiR7bGVmdFBhZGRpbmd9cHgnPlxuICAgICAgICAgICR7ZGVwcmVjYXRlZCA/IGh0bWxgPHNwYW4gc3R5bGU9J2NvbG9yOnZhcigtLXJlZCk7Jz7inJc8L3NwYW4+YCA6ICcnfVxuICAgICAgICAgICR7a2V5TGFiZWw/LmVuZHNXaXRoKCcqJylcbiAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJrZXktbGFiZWxcIj4ke2tleUxhYmVsLnN1YnN0cmluZygwLCBrZXlMYWJlbC5sZW5ndGggLSAxKX08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpOyc+Kjwvc3Bhbj5gXG4gICAgICAgICAgICA6IGtleS5zdGFydHNXaXRoKCc6Ok9QVElPTicpXG4gICAgICAgICAgICAgID8gaHRtbGA8c3BhbiBjbGFzcz0neHh4LW9mLWtleSc+JHtrZXlMYWJlbH08L3NwYW4+PHNwYW4gY2xhc3M9XCJ4eHgtb2YtZGVzY3JcIj4ke2tleURlc2NyfTwvc3Bhbj5gXG4gICAgICAgICAgICAgIDogaHRtbGAke2tleUxhYmVsID8gaHRtbGA8c3BhbiBjbGFzcz1cImtleS1sYWJlbFwiPiAke2tleUxhYmVsfTwvc3Bhbj5gIDogaHRtbGA8c3BhbiBjbGFzcz1cInh4eC1vZi1kZXNjclwiPiR7c2NoZW1hVGl0bGV9PC9zcGFuPmB9YFxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7ZGF0YVR5cGVIdG1sfVxuICAgICAgICA8ZGl2IGNsYXNzPSd0ZCBrZXktZGVzY3InIHN0eWxlPSdmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCknPlxuICAgICAgICAgICR7aHRtbGA8c3BhbiBjbGFzcz1cIm0tbWFya2Rvd24tc21hbGxcIj5cbiAgICAgICAgICAgICR7dW5zYWZlSFRNTChtYXJrZWQoZGF0YVR5cGUgPT09ICdhcnJheSdcbiAgICAgICAgICAgICAgPyBgJHtkZXNjckV4cGFuZGVyfSAke2Rlc2NyaXB0aW9ufWBcbiAgICAgICAgICAgICAgOiBzY2hlbWFUaXRsZVxuICAgICAgICAgICAgICAgID8gYCR7ZGVzY3JFeHBhbmRlcn0gPGI+JHtzY2hlbWFUaXRsZX06PC9iPiAke3NjaGVtYURlc2NyaXB0aW9ufWBcbiAgICAgICAgICAgICAgICA6IGAke2Rlc2NyRXhwYW5kZXJ9ICR7c2NoZW1hRGVzY3JpcHRpb259YCkpfVxuICAgICAgICAgIDwvc3Bhbj5gXG4gICAgICAgICAgfVxuICAgICAgICAgICR7Y29uc3RyYWludCA/IGh0bWxgPGRpdiBjbGFzcz0nJyBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7IGxpbmUtYnJlYWs6YW55d2hlcmU7IG1hcmdpbi1yaWdodDo4cHg7Jz4gPHNwYW4gY2xhc3M9J2JvbGQtdGV4dCc+Q29uc3RyYWludHM6IDwvc3Bhbj4gJHtjb25zdHJhaW50fTwvZGl2PmAgOiAnJ31cbiAgICAgICAgICAke2RlZmF1bHRWYWx1ZSA/IGh0bWxgPGRpdiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7IGxpbmUtYnJlYWs6YW55d2hlcmU7IG1hcmdpbi1yaWdodDo4cHg7Jz4gPHNwYW4gY2xhc3M9J2JvbGQtdGV4dCc+RGVmYXVsdDogPC9zcGFuPiR7ZGVmYXVsdFZhbHVlfTwvZGl2PmAgOiAnJ31cbiAgICAgICAgICAke2FsbG93ZWRWYWx1ZXMgPyBodG1sYDxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOmFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Oyc+IDxzcGFuIGNsYXNzPSdib2xkLXRleHQnPiR7dHlwZSA9PT0gJ2NvbnN0JyA/ICdWYWx1ZScgOiAnQWxsb3dlZCd9OiA8L3NwYW4+JHthbGxvd2VkVmFsdWVzfTwvZGl2PmAgOiAnJ31cbiAgICAgICAgICAke3BhdHRlcm4gPyBodG1sYDxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrOyBsaW5lLWJyZWFrOmFueXdoZXJlOyBtYXJnaW4tcmlnaHQ6OHB4Oyc+IDxzcGFuIGNsYXNzPSdib2xkLXRleHQnPlBhdHRlcm46IDwvc3Bhbj4ke3BhdHRlcm59PC9kaXY+YCA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cblxuICBoYW5kbGVBbGxFdmVudHMoZSkge1xuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ29iai10b2dnbGUnKSkge1xuICAgICAgdGhpcy50b2dnbGVPYmplY3RFeHBhbmQoZSk7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlJykpIHtcbiAgICAgIHRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZCA9ICh0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQgPT09ICd0cnVlJyA/ICdmYWxzZScgOiAndHJ1ZScpO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZXNjci1leHBhbmQtdG9nZ2xlJykpIHtcbiAgICAgIGNvbnN0IHRyRWwgPSBlLnRhcmdldC5jbG9zZXN0KCcudHInKTtcbiAgICAgIGlmICh0ckVsKSB7XG4gICAgICAgIHRyRWwuY2xhc3NMaXN0LnRvZ2dsZSgnZXhwYW5kZWQtZGVzY3InKTtcbiAgICAgICAgdHJFbC5zdHlsZS5tYXhIZWlnaHQgPSB0ckVsLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b2dnbGVPYmplY3RFeHBhbmQoZSkge1xuICAgIGNvbnN0IHJvd0VsID0gZS50YXJnZXQuY2xvc2VzdCgnLnRyJyk7XG4gICAgaWYgKHJvd0VsLmNsYXNzTGlzdC5jb250YWlucygnZXhwYW5kZWQnKSkge1xuICAgICAgcm93RWwuY2xhc3NMaXN0LmFkZCgnY29sbGFwc2VkJyk7XG4gICAgICByb3dFbC5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZCcpO1xuICAgICAgZS50YXJnZXQuaW5uZXJUZXh0ID0gJysnO1xuICAgIH0gZWxzZSB7XG4gICAgICByb3dFbC5jbGFzc0xpc3QucmVtb3ZlKCdjb2xsYXBzZWQnKTtcbiAgICAgIHJvd0VsLmNsYXNzTGlzdC5hZGQoJ2V4cGFuZGVkJyk7XG4gICAgICBlLnRhcmdldC5pbm5lclRleHQgPSAnLSc7XG4gICAgfVxuICB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3NjaGVtYS10YWJsZScsIFNjaGVtYVRhYmxlKTtcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvZXh0ZW5zaW9uc1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCB7IHJhcGlkb2NBcGlLZXkgfSBmcm9tICd+L3V0aWxzL2NvbW1vbi11dGlscyc7XG5pbXBvcnQgeyBwYXRoU2VjdXJpdHlUZW1wbGF0ZSB9IGZyb20gJ34vdGVtcGxhdGVzL3NlY3VyaXR5LXNjaGVtZS10ZW1wbGF0ZSc7XG5pbXBvcnQgY29kZVNhbXBsZXNUZW1wbGF0ZSBmcm9tICd+L3RlbXBsYXRlcy9jb2RlLXNhbXBsZXMtdGVtcGxhdGUnO1xuaW1wb3J0IGNhbGxiYWNrVGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvY2FsbGJhY2stdGVtcGxhdGUnO1xuaW1wb3J0ICd+L2NvbXBvbmVudHMvYXBpLXJlcXVlc3QnO1xuaW1wb3J0ICd+L2NvbXBvbmVudHMvYXBpLXJlc3BvbnNlJztcblxuLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5mdW5jdGlvbiBoZWFkaW5nUmVuZGVyZXIodGFnRWxlbWVudElkKSB7XG4gIGNvbnN0IHJlbmRlcmVyID0gbmV3IG1hcmtlZC5SZW5kZXJlcigpO1xuICByZW5kZXJlci5oZWFkaW5nID0gKCh0ZXh0LCBsZXZlbCwgcmF3LCBzbHVnZ2VyKSA9PiBgPGgke2xldmVsfSBjbGFzcz1cIm9ic2VydmUtbWVcIiBpZD1cIiR7dGFnRWxlbWVudElkfS0tJHtzbHVnZ2VyLnNsdWcocmF3KX1cIj4ke3RleHR9PC9oJHtsZXZlbH0+YCk7XG4gIHJldHVybiByZW5kZXJlcjtcbn1cblxuZnVuY3Rpb24gZXhwYW5kQ29sbGFwc2VUYWdEZXNjcmlwdGlvbihlKSB7XG4gIGNvbnN0IHRhZ0Rlc2NyaXB0aW9uRWwgPSBlLnRhcmdldC5jbG9zZXN0KCcudGFnLWNvbnRhaW5lcicpLnF1ZXJ5U2VsZWN0b3IoJy50YWctZGVzY3JpcHRpb24nKTtcbiAgY29uc3QgdGFnSWNvbkVsID0gZS50YXJnZXQuY2xvc2VzdCgnLnRhZy1jb250YWluZXInKS5xdWVyeVNlbGVjdG9yKCcudGFnLWljb24nKTtcbiAgaWYgKHRhZ0Rlc2NyaXB0aW9uRWwgJiYgdGFnSWNvbkVsKSB7XG4gICAgY29uc3QgaXNFeHBhbmRlZCA9IHRhZ0Rlc2NyaXB0aW9uRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpO1xuICAgIGlmIChpc0V4cGFuZGVkKSB7XG4gICAgICB0YWdEZXNjcmlwdGlvbkVsLnN0eWxlLm1heEhlaWdodCA9IDA7XG4gICAgICB0YWdEZXNjcmlwdGlvbkVsLmNsYXNzTGlzdC5yZXBsYWNlKCdleHBhbmRlZCcsICdjb2xsYXBzZWQnKTtcbiAgICAgIHRhZ0ljb25FbC5jbGFzc0xpc3QucmVwbGFjZSgnZXhwYW5kZWQnLCAnY29sbGFwc2VkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhZ0Rlc2NyaXB0aW9uRWwuc3R5bGUubWF4SGVpZ2h0ID0gYCR7dGFnRGVzY3JpcHRpb25FbC5zY3JvbGxIZWlnaHR9cHhgO1xuICAgICAgdGFnRGVzY3JpcHRpb25FbC5jbGFzc0xpc3QucmVwbGFjZSgnY29sbGFwc2VkJywgJ2V4cGFuZGVkJyk7XG4gICAgICB0YWdJY29uRWwuY2xhc3NMaXN0LnJlcGxhY2UoJ2NvbGxhcHNlZCcsICdleHBhbmRlZCcpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kZWRFbmRwb2ludEJvZHlUZW1wbGF0ZShwYXRoLCB0YWdOYW1lID0gJycsIHRhZ0Rlc2NyaXB0aW9uID0gJycpIHtcbiAgY29uc3QgYWNjZXB0Q29udGVudFR5cGVzID0gbmV3IFNldCgpO1xuICBmb3IgKGNvbnN0IHJlc3BTdGF0dXMgaW4gcGF0aC5yZXNwb25zZXMpIHtcbiAgICBmb3IgKGNvbnN0IGFjY2VwdENvbnRlbnRUeXBlIGluIChwYXRoLnJlc3BvbnNlc1tyZXNwU3RhdHVzXT8uY29udGVudCkpIHtcbiAgICAgIGFjY2VwdENvbnRlbnRUeXBlcy5hZGQoYWNjZXB0Q29udGVudFR5cGUudHJpbSgpKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgYWNjZXB0ID0gWy4uLmFjY2VwdENvbnRlbnRUeXBlc10uam9pbignLCAnKTtcblxuICAvLyBGaWx0ZXIgQVBJIEtleXMgdGhhdCBhcmUgbm9uLWVtcHR5IGFuZCBhcmUgYXBwbGljYWJsZSB0byB0aGUgdGhlIHBhdGhcbiAgY29uc3Qgbm9uRW1wdHlBcGlLZXlzID0gdGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLmZpbHRlcigodikgPT4gKHYuZmluYWxLZXlWYWx1ZSAmJiBwYXRoLnNlY3VyaXR5Py5zb21lKChwcykgPT4gKHYuc2VjdXJpdHlTY2hlbWVJZCBpbiBwcykpKSkgfHwgW107XG5cbiAgLy8gSWYgYSBSYXBpRG9jIEFQSSBLZXkgaXMgc3BlY2lmaWVkIG9uIHRoZSBlbGVtZW50IGFuZCBpdHMgdmFsdWUgaXMgbm90IGh5cGhlbigtKSB0aGVuIGluY2x1ZGUgaXQgZm9yIGFsbCBwYXRoc1xuICBjb25zdCByYXBpRG9jQXBpS2V5ID0gdGhpcy5yZXNvbHZlZFNwZWMuc2VjdXJpdHlTY2hlbWVzLmZpbmQoKHYpID0+ICh2LnNlY3VyaXR5U2NoZW1lSWQgPT09IHJhcGlkb2NBcGlLZXkgJiYgdi52YWx1ZSAhPT0gJy0nKSk7XG4gIGlmIChyYXBpRG9jQXBpS2V5KSB7XG4gICAgbm9uRW1wdHlBcGlLZXlzLnB1c2gocmFwaURvY0FwaUtleSk7XG4gIH1cblxuICBjb25zdCBjb2RlU2FtcGxlVGFiUGFuZWwgPSBwYXRoLnhDb2RlU2FtcGxlcyA/IGNvZGVTYW1wbGVzVGVtcGxhdGUuY2FsbCh0aGlzLCBwYXRoLnhDb2RlU2FtcGxlcykgOiAnJztcbiAgcmV0dXJuIGh0bWxgXG4gICAgJHt0aGlzLnJlbmRlclN0eWxlID09PSAncmVhZCcgPyBodG1sYDxkaXYgY2xhc3M9J2RpdmlkZXInIHBhcnQ9XCJvcGVyYXRpb24tZGl2aWRlclwiPjwvZGl2PmAgOiAnJ31cbiAgICA8ZGl2IGNsYXNzPSdleHBhbmRlZC1lbmRwb2ludC1ib2R5IG9ic2VydmUtbWUgJHtwYXRoLm1ldGhvZH0gJHtwYXRoLmRlcHJlY2F0ZWQgPyAnZGVwcmVjYXRlZCcgOiAnJ30gJyBwYXJ0PVwic2VjdGlvbi1vcGVyYXRpb24gJHtwYXRoLmVsZW1lbnRJZH1cIiBpZD0nJHtwYXRoLmVsZW1lbnRJZH0nPlxuICAgICAgJHsodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnICYmIHRhZ05hbWUgIT09ICdHZW5lcmFsIOKmgicpXG4gICAgICAgID8gaHRtbGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFnLWNvbnRhaW5lclwiIHBhcnQ9XCJzZWN0aW9uLW9wZXJhdGlvbi10YWdcIj4gXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInVwcGVyXCIgc3R5bGU9XCJmb250LXdlaWdodDpib2xkOyBmb250LXNpemU6MThweDtcIj4gJHt0YWdOYW1lfSA8L3NwYW4+XG4gICAgICAgICAgICAke3RhZ0Rlc2NyaXB0aW9uXG4gICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidGFnLWljb24gY29sbGFwc2VkXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZS13aWR0aD1cIjJcIiBmaWxsPVwibm9uZVwiIHN0eWxlPVwic3Ryb2tlOnZhcigtLXByaW1hcnktY29sb3IpOyB2ZXJ0aWNhbC1hbGlnbjp0b3A7IGN1cnNvcjpwb2ludGVyXCJcbiAgICAgICAgICAgICAgICBAY2xpY2s9XCIkeyhlKSA9PiB7IGV4cGFuZENvbGxhcHNlVGFnRGVzY3JpcHRpb24uY2FsbCh0aGlzLCBlKTsgfX1cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTIgMjBoLTZhMiAyIDAgMCAxIC0yIC0ydi0xMmEyIDIgMCAwIDEgMiAtMmg4XCI+PC9wYXRoPjxwYXRoIGQ9XCJNMTggNHYxN1wiPjwvcGF0aD48cGF0aCBkPVwiTTE1IDE4bDMgM2wzIC0zXCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWctZGVzY3JpcHRpb24gY29sbGFwc2VkXCIgc3R5bGU9XCJtYXgtaGVpZ2h0OjBweDsgb3ZlcmZsb3c6aGlkZGVuOyBtYXJnaW4tdG9wOjE2cHg7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKVwiPiBcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtLW1hcmtkb3duXCIgc3R5bGU9XCJwYWRkaW5nOjhweFwiPiAke3Vuc2FmZUhUTUwobWFya2VkKHRhZ0Rlc2NyaXB0aW9uKSl9PC9kaXY+ICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgIH0gIFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgICAgIDogJydcbiAgICAgIH1cbiAgICAgICR7cGF0aC5kZXByZWNhdGVkID8gaHRtbGA8ZGl2IGNsYXNzPVwiYm9sZC10ZXh0IHJlZC10ZXh0XCI+IERFUFJFQ0FURUQgPC9kaXY+YCA6ICcnfVxuICAgICAgJHtodG1sYFxuICAgICAgICAke3BhdGgueEJhZGdlcyAmJiBwYXRoLnhCYWRnZXM/Lmxlbmd0aCA+IDBcbiAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTpmbGV4OyBmbGV4LXdyYXA6d3JhcDsgbWFyZ2luLWJvdHRvbTogLTI0cHg7IGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNtYWxsKTtcIj5cbiAgICAgICAgICAgICAgJHtwYXRoLnhCYWRnZXMubWFwKCh2KSA9PiAoXG4gICAgICAgICAgICAgICAgICBodG1sYDxzcGFuIHN0eWxlPVwibWFyZ2luOjFweDsgbWFyZ2luLXJpZ2h0OjVweDsgcGFkZGluZzoxcHggOHB4OyBmb250LXdlaWdodDpib2xkOyBib3JkZXItcmFkaXVzOjEycHg7ICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC0ke3YuY29sb3J9LCB2YXIoLS1pbnB1dC1iZykpOyBjb2xvcjp2YXIoLS0ke3YuY29sb3J9KTsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS0ke3YuY29sb3J9KVwiPiR7di5sYWJlbH08L3NwYW4+YFxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgIDogJydcbiAgICAgICAgfVxuICAgICAgICA8aDIgcGFydD1cInNlY3Rpb24tb3BlcmF0aW9uLXN1bW1hcnlcIj4gJHtwYXRoLnNob3J0U3VtbWFyeSB8fCBgJHtwYXRoLm1ldGhvZC50b1VwcGVyQ2FzZSgpfSAke3BhdGgucGF0aH1gfTwvaDI+XG4gICAgICAgICR7cGF0aC5pc1dlYmhvb2tcbiAgICAgICAgICA/IGh0bWxgPHNwYW4gcGFydD1cInNlY3Rpb24tb3BlcmF0aW9uLXdlYmhvb2tcIiBzdHlsZT1cImNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOyBmb250LXdlaWdodDpib2xkOyBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKTtcIj4gV0VCSE9PSyA8L3NwYW4+YFxuICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgIDxkaXYgcGFydD1cInNlY3Rpb24tb3BlcmF0aW9uLXdlYmhvb2stbWV0aG9kXCIgY2xhc3M9XCJtb25vLWZvbnQgcmVndWxhci1mb250LXNpemVcIiBzdHlsZT1cInRleHQtYWxpZ246bGVmdDsgZGlyZWN0aW9uOmx0cjsgcGFkZGluZzogOHB4IDA7IGNvbG9yOnZhcigtLWZnMylcIj4gXG4gICAgICAgICAgICAgIDxzcGFuIHBhcnQ9XCJsYWJlbC1vcGVyYXRpb24tbWV0aG9kXCIgY2xhc3M9XCJyZWd1bGFyLWZvbnQgdXBwZXIgbWV0aG9kLWZnIGJvbGQtdGV4dCAke3BhdGgubWV0aG9kfVwiPiR7cGF0aC5tZXRob2R9PC9zcGFuPiBcbiAgICAgICAgICAgICAgPHNwYW4gcGFydD1cImxhYmVsLW9wZXJhdGlvbi1wYXRoXCI+JHtwYXRoLnBhdGh9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYFxuICAgICAgICB9XG4gICAgICAgIDxzbG90IG5hbWU9XCIke3BhdGguZWxlbWVudElkfVwiPjwvc2xvdD5gXG4gICAgICB9XG4gICAgICAke3BhdGguZGVzY3JpcHRpb24gPyBodG1sYDxkaXYgY2xhc3M9XCJtLW1hcmtkb3duXCI+ICR7dW5zYWZlSFRNTChtYXJrZWQocGF0aC5kZXNjcmlwdGlvbikpfTwvZGl2PmAgOiAnJ31cbiAgICAgICR7cGF0aFNlY3VyaXR5VGVtcGxhdGUuY2FsbCh0aGlzLCBwYXRoLnNlY3VyaXR5KX1cbiAgICAgICR7cGF0aC5leHRlcm5hbERvY3M/LnVybCB8fCBwYXRoLmV4dGVybmFsRG9jcz8uZGVzY3JpcHRpb25cbiAgICAgICAgPyBodG1sYDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJnMyk7IHBhZGRpbmc6MnB4IDhweCA4cHggOHB4OyBtYXJnaW46OHB4IDA7IGJvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cylcIj4gXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibS1tYXJrZG93blwiPiAke3Vuc2FmZUhUTUwobWFya2VkKHBhdGguZXh0ZXJuYWxEb2NzPy5kZXNjcmlwdGlvbiB8fCAnJykpfSA8L2Rpdj5cbiAgICAgICAgICAgICR7cGF0aC5leHRlcm5hbERvY3M/LnVybFxuICAgICAgICAgICAgICA/IGh0bWxgPGEgc3R5bGU9XCJmb250LWZhbWlseTp2YXIoLS1mb250LW1vbm8pOyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKVwiIGhyZWY9XCIke3BhdGguZXh0ZXJuYWxEb2NzPy51cmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICAgICAgICAke3BhdGguZXh0ZXJuYWxEb2NzPy51cmx9IDxkaXYgc3R5bGU9XCJ0cmFuc2Zvcm06IHJvdGF0ZSgyNzBkZWcpIHNjYWxlKDEuNSk7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgbWFyZ2luLWxlZnQ6NXB4XCI+4oeyPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9hPmBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgICAgJHtjb2RlU2FtcGxlVGFiUGFuZWx9XG4gICAgICA8ZGl2IGNsYXNzPSdleHBhbmRlZC1yZXEtcmVzcC1jb250YWluZXInPlxuICAgICAgICA8YXBpLXJlcXVlc3RcbiAgICAgICAgICBjbGFzcyA9IFwiJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlXCJcbiAgICAgICAgICBzdHlsZSA9IFwid2lkdGg6MTAwJTtcIlxuICAgICAgICAgIHdlYmhvb2sgPSBcIiR7cGF0aC5pc1dlYmhvb2t9XCJcbiAgICAgICAgICBtZXRob2QgPSBcIiR7cGF0aC5tZXRob2R9XCJcbiAgICAgICAgICBwYXRoID0gXCIke3BhdGgucGF0aH1cIlxuICAgICAgICAgIC5zZWN1cml0eSA9IFwiJHtwYXRoLnNlY3VyaXR5fVwiXG4gICAgICAgICAgLnBhcmFtZXRlcnMgPSBcIiR7cGF0aC5wYXJhbWV0ZXJzfVwiXG4gICAgICAgICAgLnJlcXVlc3RfYm9keSA9IFwiJHtwYXRoLnJlcXVlc3RCb2R5fVwiXG4gICAgICAgICAgLmFwaV9rZXlzID0gXCIke25vbkVtcHR5QXBpS2V5c31cIlxuICAgICAgICAgIC5zZXJ2ZXJzID0gXCIke3BhdGguc2VydmVyc31cIlxuICAgICAgICAgIHNlcnZlci11cmwgPSBcIiR7cGF0aC5zZXJ2ZXJzPy5bMF0/LnVybCB8fCB0aGlzLnNlbGVjdGVkU2VydmVyLmNvbXB1dGVkVXJsfVwiXG4gICAgICAgICAgZmlsbC1yZXF1ZXN0LWZpZWxkcy13aXRoLWV4YW1wbGUgPSBcIiR7dGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlfVwiXG4gICAgICAgICAgYWxsb3ctdHJ5ID0gXCIke3RoaXMuYWxsb3dUcnl9XCJcbiAgICAgICAgICBzaG93LWN1cmwtYmVmb3JlLXRyeSA9IFwiJHt0aGlzLnNob3dDdXJsQmVmb3JlVHJ5fVwiXG4gICAgICAgICAgYWNjZXB0ID0gXCIke2FjY2VwdH1cIlxuICAgICAgICAgIHJlbmRlci1zdHlsZT1cIiR7dGhpcy5yZW5kZXJTdHlsZX1cIiBcbiAgICAgICAgICBzY2hlbWEtc3R5bGUgPSBcIiR7dGhpcy5zY2hlbWFTdHlsZX1cIlxuICAgICAgICAgIGFjdGl2ZS1zY2hlbWEtdGFiID0gXCIke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn1cIlxuICAgICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSBcIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH1cIlxuICAgICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCA9IFwiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9XCJcbiAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9IFwiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9XCJcbiAgICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSBcIiR7dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkgPT09ICduZXZlcicgPyAnZmFsc2UnIDogcGF0aC5pc1dlYmhvb2sgPyAnZmFsc2UnIDogJ3RydWUnfVwiXG4gICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9IFwiJHt0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkgPT09ICduZXZlcicgPyAnZmFsc2UnIDogcGF0aC5pc1dlYmhvb2sgPyAndHJ1ZScgOiAnZmFsc2UnfVwiXG4gICAgICAgICAgZmV0Y2gtY3JlZGVudGlhbHMgPSBcIiR7dGhpcy5mZXRjaENyZWRlbnRpYWxzfVwiXG4gICAgICAgICAgZXhwb3J0cGFydHMgPSBcIndyYXAtcmVxdWVzdC1idG46d3JhcC1yZXF1ZXN0LWJ0biwgYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1vdXRsaW5lOmJ0bi1vdXRsaW5lLCBidG4tdHJ5OmJ0bi10cnksIGJ0bi1jbGVhcjpidG4tY2xlYXIsIGJ0bi1jbGVhci1yZXNwOmJ0bi1jbGVhci1yZXNwLFxuICAgICAgICAgICAgZmlsZS1pbnB1dDpmaWxlLWlucHV0LCB0ZXh0Ym94OnRleHRib3gsIHRleHRib3gtcGFyYW06dGV4dGJveC1wYXJhbSwgdGV4dGFyZWE6dGV4dGFyZWEsIHRleHRhcmVhLXBhcmFtOnRleHRhcmVhLXBhcmFtLCBcbiAgICAgICAgICAgIGFuY2hvcjphbmNob3IsIGFuY2hvci1wYXJhbS1leGFtcGxlOmFuY2hvci1wYXJhbS1leGFtcGxlLCBzY2hlbWEtZGVzY3JpcHRpb246c2NoZW1hLWRlc2NyaXB0aW9uLCBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZTpzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZVwiXG4gICAgICAgID4gPC9hcGktcmVxdWVzdD5cblxuICAgICAgICAke3BhdGguY2FsbGJhY2tzID8gY2FsbGJhY2tUZW1wbGF0ZS5jYWxsKHRoaXMsIHBhdGguY2FsbGJhY2tzKSA6ICcnfVxuXG4gICAgICAgIDxhcGktcmVzcG9uc2VcbiAgICAgICAgICBjbGFzcyA9IFwiJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlXCJcbiAgICAgICAgICBzdHlsZSA9IFwid2lkdGg6MTAwJTtcIlxuICAgICAgICAgIHdlYmhvb2sgPSBcIiR7cGF0aC5pc1dlYmhvb2t9XCJcbiAgICAgICAgICAucmVzcG9uc2VzID0gXCIke3BhdGgucmVzcG9uc2VzfVwiXG4gICAgICAgICAgcmVuZGVyLXN0eWxlID0gXCIke3RoaXMucmVuZGVyU3R5bGV9XCJcbiAgICAgICAgICBzY2hlbWEtc3R5bGUgPSBcIiR7dGhpcy5zY2hlbWFTdHlsZX1cIlxuICAgICAgICAgIGFjdGl2ZS1zY2hlbWEtdGFiID0gXCIke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn1cIlxuICAgICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSBcIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH1cIlxuICAgICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCA9IFwiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9XCJcbiAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9IFwiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9XCJcbiAgICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSBcIiR7dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHkgPT09ICduZXZlcicgPyAnZmFsc2UnIDogcGF0aC5pc1dlYmhvb2sgPyAndHJ1ZScgOiAnZmFsc2UnfVwiXG4gICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9IFwiJHt0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkgPT09ICduZXZlcicgPyAnZmFsc2UnIDogcGF0aC5pc1dlYmhvb2sgPyAnZmFsc2UnIDogJ3RydWUnfVwiXG4gICAgICAgICAgc2VsZWN0ZWQtc3RhdHVzID0gXCIke09iamVjdC5rZXlzKHBhdGgucmVzcG9uc2VzIHx8IHt9KVswXSB8fCAnJ31cIlxuICAgICAgICAgIGV4cG9ydHBhcnRzID0gXCJidG46YnRuLCBidG4tcmVzcG9uc2Utc3RhdHVzOmJ0bi1yZXNwb25zZS1zdGF0dXMsIGJ0bi1zZWxlY3RlZC1yZXNwb25zZS1zdGF0dXM6YnRuLXNlbGVjdGVkLXJlc3BvbnNlLXN0YXR1cywgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1jb3B5OmJ0bi1jb3B5LFxuICAgICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbjpzY2hlbWEtZGVzY3JpcHRpb24sIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlOnNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlXCJcbiAgICAgICAgPiA8L2FwaS1yZXNwb25zZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHBhbmRlZEVuZHBvaW50VGVtcGxhdGUoKSB7XG4gIGlmICghdGhpcy5yZXNvbHZlZFNwZWMpIHsgcmV0dXJuICcnOyB9XG4gIHJldHVybiBodG1sYFxuICAke3RoaXMucmVzb2x2ZWRTcGVjLnRhZ3MubWFwKCh0YWcpID0+IGh0bWxgXG4gICAgPHNlY3Rpb24gaWQ9XCIke3RhZy5lbGVtZW50SWR9XCIgcGFydD1cInNlY3Rpb24tdGFnXCIgY2xhc3M9XCJyZWd1bGFyLWZvbnQgc2VjdGlvbi1nYXAtLXJlYWQtbW9kZSBvYnNlcnZlLW1lXCIgc3R5bGU9XCJib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZSB0YWdcIiBwYXJ0PVwic2VjdGlvbi10YWctdGl0bGUgbGFiZWwtdGFnLXRpdGxlXCI+JHt0YWcubmFtZX08L2Rpdj5cbiAgICAgIDxzbG90IG5hbWU9XCIke3RhZy5lbGVtZW50SWR9XCI+PC9zbG90PlxuICAgICAgPGRpdiBjbGFzcz1cInJlZ3VsYXItZm9udC1zaXplXCI+XG4gICAgICAke1xuICAgICAgICB1bnNhZmVIVE1MKGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibS1tYXJrZG93biByZWd1bGFyLWZvbnRcIj5cbiAgICAgICAgICAke21hcmtlZCh0YWcuZGVzY3JpcHRpb24gfHwgJycsIHRoaXMuaW5mb0Rlc2NyaXB0aW9uSGVhZGluZ3NJbk5hdkJhciA9PT0gJ3RydWUnID8geyByZW5kZXJlcjogaGVhZGluZ1JlbmRlcmVyKHRhZy5lbGVtZW50SWQpIH0gOiB1bmRlZmluZWQpfVxuICAgICAgICA8L2Rpdj5gKVxuICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICAgIDxzZWN0aW9uIGNsYXNzPVwicmVndWxhci1mb250IHNlY3Rpb24tZ2FwLS1yZWFkLW1vZGVcIiBwYXJ0PVwic2VjdGlvbi1vcGVyYXRpb25zLWluLXRhZ1wiPlxuICAgICAgJHt0YWcucGF0aHMubWFwKChwYXRoKSA9PiBleHBhbmRlZEVuZHBvaW50Qm9keVRlbXBsYXRlLmNhbGwodGhpcywgcGF0aCkpfVxuICAgIDwvc2VjdGlvbj5cbiAgICBgKVxuICB9XG5gO1xufVxuLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvZXh0ZW5zaW9uc1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCB7IHNjaGVtYUluT2JqZWN0Tm90YXRpb24gfSBmcm9tICd+L3V0aWxzL3NjaGVtYS11dGlscyc7XG5pbXBvcnQgJ34vY29tcG9uZW50cy9qc29uLXRyZWUnO1xuaW1wb3J0ICd+L2NvbXBvbmVudHMvc2NoZW1hLXRyZWUnO1xuaW1wb3J0ICd+L2NvbXBvbmVudHMvc2NoZW1hLXRhYmxlJztcblxuZnVuY3Rpb24gc2NoZW1hQm9keVRlbXBsYXRlKHNDb21wb25lbnQpIHtcbiAgcmV0dXJuIGh0bWxgXG4gIDxkaXYgY2xhc3M9J2RpdmlkZXInPjwvZGl2PlxuICA8ZGl2IGNsYXNzPSdleHBhbmRlZC1lbmRwb2ludC1ib2R5IG9ic2VydmUtbWUgJHtzQ29tcG9uZW50Lm5hbWV9JyBpZD0nY21wLS0ke3NDb21wb25lbnQuaWR9JyA+XG4gICAgPGRpdiBzdHlsZT1cImZvbnQtd2VpZ2h0OmJvbGRcIj4gJHtzQ29tcG9uZW50Lm5hbWV9IDxzcGFuIHN0eWxlPVwiY29sb3I6dmFyKC0tbGlnaHQtZmcpOyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsgZm9udC13ZWlnaHQ6NDAwO1wiPiBTY2hlbWEgPC9zcGFuPjwvZGl2PlxuICAke3RoaXMuc2NoZW1hU3R5bGUgPT09ICd0YWJsZSdcbiAgICA/IGh0bWxgXG4gICAgICA8c2NoZW1hLXRhYmxlXG4gICAgICAgIC5kYXRhID0gJyR7c2NoZW1hSW5PYmplY3ROb3RhdGlvbihzQ29tcG9uZW50LmNvbXBvbmVudCwge30pfSdcbiAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9IFwiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfVwiXG4gICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCA9IFwiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9XCJcbiAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSBcIiR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfVwiXG4gICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9IFwiZmFsc2VcIlxuICAgICAgICBzY2hlbWEtaGlkZS13cml0ZS1vbmx5ID0gXCIke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seX1cIlxuICAgICAgICBleHBvcnRwYXJ0cyA9IFwic2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGVcIlxuICAgICAgPiA8L3NjaGVtYS10YWJsZT5gXG4gICAgOiBodG1sYFxuICAgICAgPHNjaGVtYS10cmVlXG4gICAgICAgIC5kYXRhID0gJyR7c2NoZW1hSW5PYmplY3ROb3RhdGlvbihzQ29tcG9uZW50LmNvbXBvbmVudCwge30pfSdcbiAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9IFwiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfVwiXG4gICAgICAgIHNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCA9IFwiJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9XCJcbiAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSBcIiR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfVwiXG4gICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9IFwiZmFsc2VcIlxuICAgICAgICBzY2hlbWEtaGlkZS13cml0ZS1vbmx5ID0gXCIke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seX1cIlxuICAgICAgICBleHBvcnRwYXJ0cyA9IFwic2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGVcIlxuICAgICAgPiA8L3NjaGVtYS10cmVlPmBcbn1cbiAgPC9kaXY+YDtcbn1cblxuZnVuY3Rpb24gY29tcG9uZW50Qm9keVRlbXBsYXRlKHNDb21wb25lbnQsIGNvbXBvbmVudFR5cGUpIHtcbiAgaWYgKHNDb21wb25lbnQuaWQuaW5kZXhPZignc2NoZW1hcy0nKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gc2NoZW1hQm9keVRlbXBsYXRlLmNhbGwodGhpcywgc0NvbXBvbmVudCk7XG4gIH1cbiAgcmV0dXJuIGh0bWxgXG4gIDxkaXYgY2xhc3M9J2RpdmlkZXInPjwvZGl2PlxuICA8ZGl2IGNsYXNzPSdleHBhbmRlZC1lbmRwb2ludC1ib2R5IG9ic2VydmUtbWUgJHtzQ29tcG9uZW50Lm5hbWV9JyBpZD0nY21wLS0ke3NDb21wb25lbnQuaWR9JyA+XG4gICAgJHtodG1sYFxuICAgICAgPGRpdiBzdHlsZT1cImZvbnQtd2VpZ2h0OmJvbGRcIj4gJHtzQ29tcG9uZW50Lm5hbWV9IDxzcGFuIHN0eWxlPVwiY29sb3I6dmFyKC0tbGlnaHQtZmcpOyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXNtYWxsKTsgZm9udC13ZWlnaHQ6NDAwXCI+ICR7Y29tcG9uZW50VHlwZX0gPC9zcGFuPiA8L2Rpdj5cbiAgICAgICR7c0NvbXBvbmVudC5jb21wb25lbnRcbiAgICA/IGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPSdtb25vLWZvbnQgcmVndWxhci1mb250LXNpemUnIHN0eWxlPSdwYWRkaW5nOiA4cHggMDsgY29sb3I6dmFyKC0tZmcyKSc+IFxuICAgICAgICA8anNvbi10cmVlIGNsYXNzPVwiYm9yZGVyIHRyZWVcIiByZW5kZXItc3R5bGU9JyR7dGhpcy5yZW5kZXJTdHlsZX0nIC5kYXRhPVwiJHtzQ29tcG9uZW50LmNvbXBvbmVudH1cIj4gPC9qc29uLXRyZWU+XG4gICAgICA8L2Rpdj5gXG4gICAgOiAnJ31cbiAgICBgfVxuICA8L2Rpdj5cbiAgYDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcG9uZW50c1RlbXBsYXRlKCkge1xuICBpZiAoIXRoaXMucmVzb2x2ZWRTcGVjKSB7IHJldHVybiAnJzsgfVxuICByZXR1cm4gaHRtbGBcbiAgJHt0aGlzLnJlc29sdmVkU3BlYy5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50KSA9PiBodG1sYFxuICAgIDxkaXYgaWQ9XCJjbXAtLSR7Y29tcG9uZW50Lm5hbWUudG9Mb3dlckNhc2UoKX1cIiBjbGFzcz0ncmVndWxhci1mb250IHNlY3Rpb24tZ2FwLS1yZWFkLW1vZGUgb2JzZXJ2ZS1tZScgc3R5bGU9XCJib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZSB0YWdcIj4ke2NvbXBvbmVudC5uYW1lfTwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInJlZ3VsYXItZm9udC1zaXplXCI+XG4gICAgICAgICR7dW5zYWZlSFRNTChgPGRpdiBjbGFzcz0nbS1tYXJrZG93biByZWd1bGFyLWZvbnQnPiR7bWFya2VkKGNvbXBvbmVudC5kZXNjcmlwdGlvbiA/IGNvbXBvbmVudC5kZXNjcmlwdGlvbiA6ICcnKX08L2Rpdj5gKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9J3JlZ3VsYXItZm9udCBzZWN0aW9uLWdhcC0tcmVhZC1tb2RlJz5cbiAgICAgICR7Y29tcG9uZW50LnN1YkNvbXBvbmVudHMuZmlsdGVyKChjKSA9PiBjLmV4cGFuZGVkICE9PSBmYWxzZSkubWFwKChzQ29tcG9uZW50KSA9PiBjb21wb25lbnRCb2R5VGVtcGxhdGUuY2FsbCh0aGlzLCBzQ29tcG9uZW50LCBjb21wb25lbnQubmFtZSkpfVxuICAgIDwvZGl2PlxuICAgIGApXG59XG5gO1xufVxuLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvZXh0ZW5zaW9uc1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCB7IGRvd25sb2FkUmVzb3VyY2UsIHZpZXdSZXNvdXJjZSB9IGZyb20gJ34vdXRpbHMvY29tbW9uLXV0aWxzJztcblxuLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5mdW5jdGlvbiBoZWFkaW5nUmVuZGVyZXIoKSB7XG4gIGNvbnN0IHJlbmRlcmVyID0gbmV3IG1hcmtlZC5SZW5kZXJlcigpO1xuICByZW5kZXJlci5oZWFkaW5nID0gKCh0ZXh0LCBsZXZlbCwgcmF3LCBzbHVnZ2VyKSA9PiBgPGgke2xldmVsfSBjbGFzcz1cIm9ic2VydmUtbWVcIiBpZD1cIm92ZXJ2aWV3LS0ke3NsdWdnZXIuc2x1ZyhyYXcpfVwiPiR7dGV4dH08L2gke2xldmVsfT5gKTtcbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvdmVydmlld1RlbXBsYXRlKCkge1xuICByZXR1cm4gaHRtbGBcbiAgICA8c2VjdGlvbiBpZD1cIm92ZXJ2aWV3XCIgcGFydD1cInNlY3Rpb24tb3ZlcnZpZXdcIlxuICAgICAgY2xhc3M9XCJvYnNlcnZlLW1lICR7dGhpcy5yZW5kZXJTdHlsZSA9PT0gJ3ZpZXcnID8gJ3NlY3Rpb24tZ2FwJyA6ICdzZWN0aW9uLWdhcC0tcmVhZC1tb2RlJ31cIj5cbiAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWM/LmluZm9cbiAgICAgICAgPyBodG1sYFxuICAgICAgICAgIDxkaXYgaWQ9XCJhcGktdGl0bGVcIiBwYXJ0PVwic2VjdGlvbi1vdmVydmlldy10aXRsZVwiIHN0eWxlPVwiZm9udC1zaXplOjMycHhcIj5cbiAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby50aXRsZX1cbiAgICAgICAgICAgICR7IXRoaXMucmVzb2x2ZWRTcGVjLmluZm8udmVyc2lvbiA/ICcnIDogaHRtbGBcbiAgICAgICAgICAgICAgPHNwYW4gc3R5bGUgPSAnZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7Zm9udC13ZWlnaHQ6Ym9sZCc+XG4gICAgICAgICAgICAgICAgJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLnZlcnNpb259XG4gICAgICAgICAgICAgIDwvc3Bhbj5gXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD1cImFwaS1pbmZvXCIgc3R5bGU9XCJmb250LXNpemU6Y2FsYyh2YXIoLS1mb250LXNpemUtcmVndWxhcikgLSAxcHgpOyBtYXJnaW4tdG9wOjhweDtcIj5cbiAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5jb250YWN0Py5lbWFpbFxuICAgICAgICAgICAgICA/IGh0bWxgPHNwYW4+JHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QubmFtZSB8fCAnRW1haWwnfTogXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIm1haWx0bzoke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8uY29udGFjdC5lbWFpbH1cIiBwYXJ0PVwiYW5jaG9yIGFuY2hvci1vdmVydmlld1wiPiR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5jb250YWN0LmVtYWlsfTwvYT5cbiAgICAgICAgICAgICAgPC9zcGFuPmBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3Q/LnVybFxuICAgICAgICAgICAgICA/IGh0bWxgPHNwYW4+VVJMOiA8YSBocmVmPVwiJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QudXJsfVwiIHBhcnQ9XCJhbmNob3IgYW5jaG9yLW92ZXJ2aWV3XCI+JHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmNvbnRhY3QudXJsfTwvYT48L3NwYW4+YFxuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8ubGljZW5zZVxuICAgICAgICAgICAgICA/IGh0bWxgPHNwYW4+TGljZW5zZTogXG4gICAgICAgICAgICAgICAgJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmxpY2Vuc2UudXJsXG4gICAgICAgICAgICAgICAgPyBodG1sYDxhIGhyZWY9XCIke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8ubGljZW5zZS51cmx9XCIgcGFydD1cImFuY2hvciBhbmNob3Itb3ZlcnZpZXdcIj4ke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8ubGljZW5zZS5uYW1lfTwvYT5gXG4gICAgICAgICAgICAgICAgOiB0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmxpY2Vuc2UubmFtZVxuICAgICAgICAgICAgICB9IDwvc3Bhbj5gXG4gICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby50ZXJtc09mU2VydmljZVxuICAgICAgICAgICAgICA/IGh0bWxgPHNwYW4+PGEgaHJlZj1cIiR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby50ZXJtc09mU2VydmljZX1cIiBwYXJ0PVwiYW5jaG9yIGFuY2hvci1vdmVydmlld1wiPlRlcm1zIG9mIFNlcnZpY2U8L2E+PC9zcGFuPmBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHt0aGlzLnNwZWNVcmwgJiYgdGhpcy5hbGxvd1NwZWNGaWxlRG93bmxvYWQgPT09ICd0cnVlJ1xuICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgbWFyZ2luOjEycHggMDsgZ2FwOjhweDsganVzdGlmeS1jb250ZW50OiBzdGFydDtcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtLWJ0biB0aGluLWJvcmRlclwiIHN0eWxlPVwibWluLXdpZHRoOjE3MHB4XCIgcGFydD1cImJ0biBidG4tb3V0bGluZVwiIEBjbGljaz0nJHsoZSkgPT4geyBkb3dubG9hZFJlc291cmNlKHRoaXMuc3BlY1VybCwgJ29wZW5hcGktc3BlYycsIGUpOyB9fSc+RG93bmxvYWQgT3BlbkFQSSBzcGVjPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAke3RoaXMuc3BlY1VybD8udHJpbSgpLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJ2pzb24nKVxuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPGJ1dHRvbiBjbGFzcz1cIm0tYnRuIHRoaW4tYm9yZGVyXCIgc3R5bGU9XCJ3aWR0aDoyMDBweFwiIHBhcnQ9XCJidG4gYnRuLW91dGxpbmVcIiBAY2xpY2s9JyR7KGUpID0+IHsgdmlld1Jlc291cmNlKHRoaXMuc3BlY1VybCwgZSk7IH19Jz5WaWV3IE9wZW5BUEkgc3BlYyAoTmV3IFRhYik8L2J1dHRvbj5gXG4gICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c2xvdCBuYW1lPVwib3ZlcnZpZXdcIj48L3Nsb3Q+XG4gICAgICAgICAgPGRpdiBpZD1cImFwaS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5kZXNjcmlwdGlvblxuICAgICAgICAgICAgPyBodG1sYCR7XG4gICAgICAgICAgICAgIHVuc2FmZUhUTUwoYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtLW1hcmtkb3duIHJlZ3VsYXItZm9udFwiPlxuICAgICAgICAgICAgICAgICR7bWFya2VkKHRoaXMucmVzb2x2ZWRTcGVjLmluZm8uZGVzY3JpcHRpb24sIHRoaXMuaW5mb0Rlc2NyaXB0aW9uSGVhZGluZ3NJbk5hdkJhciA9PT0gJ3RydWUnID8geyByZW5kZXJlcjogaGVhZGluZ1JlbmRlcmVyKCkgfSA6IHVuZGVmaW5lZCl9XG4gICAgICAgICAgICAgIDwvZGl2PmApfWBcbiAgICAgICAgICAgIDogJydcbiAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgIDwvc2VjdGlvbj5cbiAgYDtcbn1cbi8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHVuc2FmZUhUTUwgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy91bnNhZmUtaHRtbC5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L2V4dGVuc2lvbnNcbmltcG9ydCB7IG1hcmtlZCB9IGZyb20gJ21hcmtlZCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBcGlTZXJ2ZXIoc2VydmVyVXJsKSB7XG4gIGNvbnN0IHNlcnZlck9iaiA9IHRoaXMucmVzb2x2ZWRTcGVjPy5zZXJ2ZXJzLmZpbmQoKHMpID0+IHMudXJsID09PSBzZXJ2ZXJVcmwpO1xuICBpZiAoIXNlcnZlck9iaikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0aGlzLnNlbGVjdGVkU2VydmVyID0gc2VydmVyT2JqO1xuICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYXBpLXNlcnZlci1jaGFuZ2UnLCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICBkZXRhaWw6IHtcbiAgICAgIHNlbGVjdGVkU2VydmVyOiBzZXJ2ZXJPYmosXG4gICAgfSxcbiAgfSkpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gb25BcGlTZXJ2ZXJWYXJDaGFuZ2UoZSwgc2VydmVyT2JqKSB7XG4gIGNvbnN0IGlucHV0RWxzID0gWy4uLmUuY3VycmVudFRhcmdldC5jbG9zZXN0KCd0YWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCBzZWxlY3QnKV07XG4gIGxldCB0ZW1wVXJsID0gc2VydmVyT2JqLnVybDtcbiAgaW5wdXRFbHMuZm9yRWFjaCgodikgPT4ge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgeyR7di5kYXRhc2V0LnZhcn19YCwgJ2cnKTtcbiAgICB0ZW1wVXJsID0gdGVtcFVybC5yZXBsYWNlKHJlZ2V4LCB2LnZhbHVlKTtcbiAgfSk7XG4gIHNlcnZlck9iai5jb21wdXRlZFVybCA9IHRlbXBVcmw7XG4gIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbmZ1bmN0aW9uIHNlcnZlclZhcnNUZW1wbGF0ZSgpIHtcbiAgLy8gY29uc3Qgc2VsZWN0ZWRTZXJ2ZXJPYmogPSB0aGlzLnJlc29sdmVkU3BlYy5zZXJ2ZXJzLmZpbmQoKHYpID0+ICh2LnVybCA9PT0gdGhpcy5zZWxlY3RlZFNlcnZlcikpO1xuICByZXR1cm4gdGhpcy5zZWxlY3RlZFNlcnZlciAmJiB0aGlzLnNlbGVjdGVkU2VydmVyLnZhcmlhYmxlc1xuICAgID8gaHRtbGBcbiAgICA8ZGl2IGNsYXNzPVwidGFibGUtdGl0bGVcIj5TRVJWRVIgVkFSSUFCTEVTPC9kaXY+XG4gICAgPHRhYmxlIGNsYXNzPSdtLXRhYmxlJyByb2xlPSdwcmVzZW50YXRpb24nPlxuICAgICAgJHtPYmplY3QuZW50cmllcyh0aGlzLnNlbGVjdGVkU2VydmVyLnZhcmlhYmxlcykubWFwKChrdikgPT4gaHRtbGBcbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZCBzdHlsZT1cInZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XCIgPiR7a3ZbMF19PC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAke2t2WzFdLmVudW1cbiAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgZGF0YS12YXIgPSBcIiR7a3ZbMF19XCJcbiAgICAgICAgICAgICAgQGlucHV0ID0gJHsoZSkgPT4geyBvbkFwaVNlcnZlclZhckNoYW5nZS5jYWxsKHRoaXMsIGUsIHRoaXMuc2VsZWN0ZWRTZXJ2ZXIpOyB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgJHtPYmplY3QuZW50cmllcyhrdlsxXS5lbnVtKS5tYXAoKGUpID0+IChrdlsxXS5kZWZhdWx0ID09PSBlWzFdXG4gICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgbGFiZWwgPSAke2VbMV19XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAke2VbMV19XG4gICAgICAgICAgICAgIC8+YFxuICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICBsYWJlbCA9ICR7ZVsxXX1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICR7ZVsxXX1cbiAgICAgICAgICAgICAgLz5gXG4gICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvc2VsZWN0PmBcbiAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlID0gXCJ0ZXh0XCJcbiAgICAgICAgICAgICAgcGFydD1cInRleHRib3ggdGV4dGJveC1zZXJ2ZXItdmFyXCJcbiAgICAgICAgICAgICAgc3BlbGxjaGVjayA9IFwiZmFsc2VcIlxuICAgICAgICAgICAgICBkYXRhLXZhciA9IFwiJHtrdlswXX1cIlxuICAgICAgICAgICAgICB2YWx1ZSA9IFwiJHtrdlsxXS5kZWZhdWx0fVwiXG4gICAgICAgICAgICAgIEBpbnB1dCA9ICR7KGUpID0+IHsgb25BcGlTZXJ2ZXJWYXJDaGFuZ2UuY2FsbCh0aGlzLCBlLCB0aGlzLnNlbGVjdGVkU2VydmVyKTsgfX1cbiAgICAgICAgICAgIC8+YH1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICAke2t2WzFdLmRlc2NyaXB0aW9uXG4gICAgICAgICAgPyBodG1sYDx0cj48dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImJvcmRlcjpub25lXCI+PHNwYW4gY2xhc3M9XCJtLW1hcmtkb3duLXNtYWxsXCI+ICR7dW5zYWZlSFRNTChtYXJrZWQoa3ZbMV0uZGVzY3JpcHRpb24pKX0gPC9zcGFuPjwvdGQ+PC90cj5gXG4gICAgICAgICAgOiAnJ1xuICAgICAgICB9XG4gICAgICBgKX1cbiAgICA8L3RhYmxlPlxuICAgIGBcbiAgICA6ICcnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXJ2ZXJUZW1wbGF0ZSgpIHtcbiAgaWYgKCF0aGlzLnJlc29sdmVkU3BlYyB8fCB0aGlzLnJlc29sdmVkU3BlYy5zcGVjTG9hZEVycm9yKSB7IHJldHVybiAnJzsgfVxuICByZXR1cm4gaHRtbGBcbiAgPHNlY3Rpb24gaWQgPSAnc2VydmVycycgcGFydD1cInNlY3Rpb24tc2VydmVyc1wiIHN0eWxlPVwidGV4dC1hbGlnbjpsZWZ0OyBkaXJlY3Rpb246bHRyOyBtYXJnaW4tdG9wOjI0cHg7IG1hcmdpbi1ib3R0b206MjRweDtcIiBjbGFzcz0ncmVndWxhci1mb250IG9ic2VydmUtbWUgJHsncmVhZCBmb2N1c2VkJy5pbmNsdWRlcyh0aGlzLnJlbmRlclN0eWxlKSA/ICdzZWN0aW9uLWdhcC0tcmVhZC1tb2RlJyA6ICdzZWN0aW9uLWdhcCd9Jz5cbiAgICA8ZGl2IHBhcnQgPSBcInNlY3Rpb24tc2VydmVycy10aXRsZVwiIGNsYXNzID0gXCJzdWItdGl0bGVcIj5BUEkgU0VSVkVSPC9kaXY+XG4gICAgPGRpdiBjbGFzcyA9ICdtb25vLWZvbnQnIHN0eWxlPSdtYXJnaW46IDEycHggMDsgZm9udC1zaXplOmNhbGModmFyKC0tZm9udC1zaXplLXNtYWxsKSArIDFweCk7Jz5cbiAgICAgICR7IXRoaXMucmVzb2x2ZWRTcGVjLnNlcnZlcnMgfHwgdGhpcy5yZXNvbHZlZFNwZWMuc2VydmVycz8ubGVuZ3RoID09PSAwXG4gICAgICAgID8gJydcbiAgICAgICAgOiBodG1sYFxuICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWM/LnNlcnZlcnMubWFwKChzZXJ2ZXIsIGkpID0+IGh0bWxgXG4gICAgICAgICAgICA8aW5wdXQgdHlwZSA9ICdyYWRpbydcbiAgICAgICAgICAgICAgbmFtZSA9ICdhcGlfc2VydmVyJ1xuICAgICAgICAgICAgICBpZCA9ICdzcnZyLW9wdC0ke2l9J1xuICAgICAgICAgICAgICB2YWx1ZSA9ICcke3NlcnZlci51cmx9J1xuICAgICAgICAgICAgICBAY2hhbmdlID0gJHsoKSA9PiB7IHNldEFwaVNlcnZlci5jYWxsKHRoaXMsIHNlcnZlci51cmwpOyB9fVxuICAgICAgICAgICAgICAuY2hlY2tlZCA9ICcke3RoaXMuc2VsZWN0ZWRTZXJ2ZXIudXJsID09PSBzZXJ2ZXIudXJsfSdcbiAgICAgICAgICAgICAgc3R5bGUgPSAnbWFyZ2luOjRweCAwOyBjdXJzb3I6cG9pbnRlcidcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT0nY3Vyc29yOnBvaW50ZXInIGZvcj0nc3J2ci1vcHQtJHtpfSc+XG4gICAgICAgICAgICAgICAgJHtzZXJ2ZXIudXJsfSAke3NlcnZlci5kZXNjcmlwdGlvbiA/IGh0bWxgLSA8c3BhbiBjbGFzcz0ncmVndWxhci1mb250Jz4ke3NlcnZlci5kZXNjcmlwdGlvbn0gPC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgYCl9XG4gICAgICBgfVxuICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXRpdGxlIHByaW1hcnktdGV4dFwiIHBhcnQ9XCJsYWJlbC1zZWxlY3RlZC1zZXJ2ZXJcIj4gU0VMRUNURUQ6ICR7dGhpcy5zZWxlY3RlZFNlcnZlcj8uY29tcHV0ZWRVcmwgfHwgJ25vbmUnfTwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxzbG90IG5hbWU9XCJzZXJ2ZXJzXCI+PC9zbG90PlxuICAgICR7c2VydmVyVmFyc1RlbXBsYXRlLmNhbGwodGhpcyl9XG4gIDwvc2VjdGlvbj5gO1xufVxuLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCB7IHBhdGhJc0luU2VhcmNoIH0gZnJvbSAnfi91dGlscy9jb21tb24tdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kQ29sbGFwc2VOYXZCYXJUYWcobmF2TGlua0VsLCBhY3Rpb24gPSAndG9nZ2xlJykge1xuICBjb25zdCB0YWdBbmRQYXRoRWwgPSBuYXZMaW5rRWw/LmNsb3Nlc3QoJy5uYXYtYmFyLXRhZy1hbmQtcGF0aHMnKTtcbiAgY29uc3QgcGF0aHNVbmRlclRhZ0VsID0gdGFnQW5kUGF0aEVsPy5xdWVyeVNlbGVjdG9yKCcubmF2LWJhci1wYXRocy11bmRlci10YWcnKTtcbiAgaWYgKHRhZ0FuZFBhdGhFbCkge1xuICAgIGNvbnN0IGlzRXhwYW5kZWQgPSB0YWdBbmRQYXRoRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpO1xuICAgIGlmIChpc0V4cGFuZGVkICYmIChhY3Rpb24gPT09ICd0b2dnbGUnIHx8IGFjdGlvbiA9PT0gJ2NvbGxhcHNlJykpIHtcbiAgICAgIHBhdGhzVW5kZXJUYWdFbC5zdHlsZS5tYXhIZWlnaHQgPSAwO1xuICAgICAgdGFnQW5kUGF0aEVsLmNsYXNzTGlzdC5yZXBsYWNlKCdleHBhbmRlZCcsICdjb2xsYXBzZWQnKTtcbiAgICB9IGVsc2UgaWYgKCFpc0V4cGFuZGVkICYmIChhY3Rpb24gPT09ICd0b2dnbGUnIHx8IGFjdGlvbiA9PT0gJ2V4cGFuZCcpKSB7XG4gICAgICB0YWdBbmRQYXRoRWwuY2xhc3NMaXN0LnJlcGxhY2UoJ2NvbGxhcHNlZCcsICdleHBhbmRlZCcpO1xuICAgICAgcGF0aHNVbmRlclRhZ0VsLnN0eWxlLm1heEhlaWdodCA9IGAke3BhdGhzVW5kZXJUYWdFbC5zY3JvbGxIZWlnaHR9cHhgO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kQ29sbGFwc2VBbGwoZXZlbnQsIGFjdGlvbiA9ICdleHBhbmQtYWxsJykge1xuICBpZiAoIShldmVudC50eXBlID09PSAnY2xpY2snIHx8IChldmVudC50eXBlID09PSAna2V5dXAnICYmIGV2ZW50LmtleUNvZGUgPT09IDEzKSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbmF2RWwgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm5hdi1zY3JvbGwnKTtcbiAgY29uc3QgZWxMaXN0ID0gWy4uLm5hdkVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtYmFyLXRhZy1hbmQtcGF0aHMnKV07XG4gIGlmIChhY3Rpb24gPT09ICdleHBhbmQtYWxsJykge1xuICAgIGVsTGlzdC5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgbmF2QmFyUGF0aHNVbmRlclRhZ0VsID0gZWwucXVlcnlTZWxlY3RvcignLm5hdi1iYXItcGF0aHMtdW5kZXItdGFnJyk7XG4gICAgICBlbC5jbGFzc0xpc3QucmVwbGFjZSgnY29sbGFwc2VkJywgJ2V4cGFuZGVkJyk7XG4gICAgICBuYXZCYXJQYXRoc1VuZGVyVGFnRWwuc3R5bGUubWF4SGVpZ2h0ID0gYCR7bmF2QmFyUGF0aHNVbmRlclRhZ0VsPy5zY3JvbGxIZWlnaHR9cHhgO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGVsTGlzdC5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlcGxhY2UoJ2V4cGFuZGVkJywgJ2NvbGxhcHNlZCcpO1xuICAgICAgZWwucXVlcnlTZWxlY3RvcignLm5hdi1iYXItcGF0aHMtdW5kZXItdGFnJykuc3R5bGUubWF4SGVpZ2h0ID0gMDtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmF2QmFyQ2xpY2tBbmRFbnRlckhhbmRsZXIoZXZlbnQpIHtcbiAgaWYgKCEoZXZlbnQudHlwZSA9PT0gJ2NsaWNrJyB8fCAoZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC5rZXlDb2RlID09PSAxMykpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG5hdkVsID0gZXZlbnQudGFyZ2V0O1xuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgaWYgKG5hdkVsLmRhdGFzZXQ/LmFjdGlvbiA9PT0gJ25hdmlnYXRlJykge1xuICAgIHRoaXMuc2Nyb2xsVG9FdmVudFRhcmdldChldmVudCwgZmFsc2UpO1xuICB9IGVsc2UgaWYgKG5hdkVsLmRhdGFzZXQ/LmFjdGlvbiA9PT0gJ2V4cGFuZC1hbGwnIHx8IChuYXZFbC5kYXRhc2V0Py5hY3Rpb24gPT09ICdjb2xsYXBzZS1hbGwnKSkge1xuICAgIGV4cGFuZENvbGxhcHNlQWxsKGV2ZW50LCBuYXZFbC5kYXRhc2V0LmFjdGlvbik7XG4gIH0gZWxzZSBpZiAobmF2RWwuZGF0YXNldD8uYWN0aW9uID09PSAnZXhwYW5kLWNvbGxhcHNlLXRhZycpIHtcbiAgICBleHBhbmRDb2xsYXBzZU5hdkJhclRhZyhuYXZFbCwgJ3RvZ2dsZScpO1xuICB9XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbmF2YmFyVGVtcGxhdGUoKSB7XG4gIGlmICghdGhpcy5yZXNvbHZlZFNwZWMgfHwgdGhpcy5yZXNvbHZlZFNwZWMuc3BlY0xvYWRFcnJvcikge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPG5hdiBjbGFzcz0nbmF2LWJhcicgcGFydD0nc2VjdGlvbi1uYXZiYXInPlxuICAgICAgICA8c2xvdCBuYW1lPSduYXYtbG9nbycgY2xhc3M9J2xvZ28nPjwvc2xvdD5cbiAgICAgIDwvbmF2PlxuICAgIGA7XG4gIH1cbiAgcmV0dXJuIGh0bWxgXG4gIDxuYXYgY2xhc3M9J25hdi1iYXIgJHt0aGlzLnJlbmRlclN0eWxlfScgcGFydD0nc2VjdGlvbi1uYXZiYXInPlxuICAgIDxzbG90IG5hbWU9J25hdi1sb2dvJyBjbGFzcz0nbG9nbyc+PC9zbG90PlxuICAgICR7KHRoaXMuYWxsb3dTZWFyY2ggPT09ICdmYWxzZScgJiYgdGhpcy5hbGxvd0FkdmFuY2VkU2VhcmNoID09PSAnZmFsc2UnKVxuICAgICAgPyAnJ1xuICAgICAgOiBodG1sYFxuICAgICAgICA8ZGl2IHN0eWxlPSdkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOnJvdzsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgYWxpZ24taXRlbXM6c3RyZXRjaDsgcGFkZGluZzo4cHggMjRweCAxMnB4IDI0cHg7ICR7dGhpcy5hbGxvd0FkdmFuY2VkU2VhcmNoID09PSAnZmFsc2UnID8gJ2JvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1uYXYtaG92ZXItYmctY29sb3IpJyA6ICcnfScgcGFydD0nc2VjdGlvbi1uYXZiYXItc2VhcmNoJz5cbiAgICAgICAgICAke3RoaXMuYWxsb3dTZWFyY2ggPT09ICdmYWxzZSdcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZSA9ICdkaXNwbGF5OmZsZXg7IGZsZXg6MTsgbGluZS1oZWlnaHQ6MjJweDsnPlxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZCA9ICduYXYtYmFyLXNlYXJjaCcgXG4gICAgICAgICAgICAgICAgICBwYXJ0ID0gJ3RleHRib3ggdGV4dGJveC1uYXYtZmlsdGVyJ1xuICAgICAgICAgICAgICAgICAgc3R5bGUgPSAnd2lkdGg6MTAwJTsgcGFkZGluZy1yaWdodDoyMHB4OyBjb2xvcjp2YXIoLS1uYXYtaG92ZXItdGV4dC1jb2xvcik7IGJvcmRlci1jb2xvcjp2YXIoLS1uYXYtYWNjZW50LWNvbG9yKTsgYmFja2dyb3VuZC1jb2xvcjp2YXIoLS1uYXYtaG92ZXItYmctY29sb3IpJ1xuICAgICAgICAgICAgICAgICAgdHlwZSA9ICd0ZXh0J1xuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSAnRmlsdGVyJyBcbiAgICAgICAgICAgICAgICAgIEBjaGFuZ2UgPSAnJHt0aGlzLm9uU2VhcmNoQ2hhbmdlfSdcbiAgICAgICAgICAgICAgICAgIHNwZWxsY2hlY2sgPSAnZmFsc2UnXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9J21hcmdpbjogNnB4IDVweCAwIC0yNHB4OyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpOyBjdXJzb3I6cG9pbnRlcjsnPiYjeDIxYTk7PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICAgICR7dGhpcy5tYXRjaFBhdGhzXG4gICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBAY2xpY2sgPSAnJHt0aGlzLm9uQ2xlYXJTZWFyY2h9JyBjbGFzcz0nbS1idG4gdGhpbi1ib3JkZXInIHN0eWxlPSdtYXJnaW4tbGVmdDo1cHg7IGNvbG9yOnZhcigtLW5hdi10ZXh0LWNvbG9yKTsgd2lkdGg6NzVweDsgcGFkZGluZzo2cHggOHB4OycgcGFydD0nYnRuIGJ0bi1vdXRsaW5lIGJ0bi1jbGVhci1maWx0ZXInPlxuICAgICAgICAgICAgICAgICAgICBDTEVBUlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+YFxuICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1cbiAgICAgICAgICAke3RoaXMuYWxsb3dBZHZhbmNlZFNlYXJjaCA9PT0gJ2ZhbHNlJyB8fCB0aGlzLm1hdGNoUGF0aHNcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0nbS1idG4gcHJpbWFyeScgcGFydD0nYnRuIGJ0bi1maWxsIGJ0bi1zZWFyY2gnIHN0eWxlPSdtYXJnaW4tbGVmdDo1cHg7IHBhZGRpbmc6NnB4IDhweDsgd2lkdGg6NzVweCcgQGNsaWNrPScke3RoaXMub25TaG93U2VhcmNoTW9kYWxDbGlja2VkfSc+XG4gICAgICAgICAgICAgICAgU0VBUkNIXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICBgXG4gICAgfVxuICAgICR7aHRtbGA8bmF2IGNsYXNzPSduYXYtc2Nyb2xsJyB0YWJpbmRleD0nLTEnIHBhcnQ9J3NlY3Rpb24tbmF2YmFyLXNjcm9sbCcgQGNsaWNrPSckeyhlKSA9PiBuYXZCYXJDbGlja0FuZEVudGVySGFuZGxlci5jYWxsKHRoaXMsIGUpfScgQGtleXVwPSckeyhlKSA9PiBuYXZCYXJDbGlja0FuZEVudGVySGFuZGxlci5jYWxsKHRoaXMsIGUpfScgPlxuICAgICAgJHsodGhpcy5zaG93SW5mbyA9PT0gJ2ZhbHNlJyB8fCAhdGhpcy5yZXNvbHZlZFNwZWMuaW5mbylcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgJHsodGhpcy5pbmZvRGVzY3JpcHRpb25IZWFkaW5nc0luTmF2QmFyID09PSAndHJ1ZScpXG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mb0Rlc2NyaXB0aW9uSGVhZGVycy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyBodG1sYDxkaXYgY2xhc3M9J25hdi1iYXItaW5mbyAke3RoaXMubmF2QWN0aXZlSXRlbU1hcmtlcn0nIGlkPSdsaW5rLW92ZXJ2aWV3JyBkYXRhLWNvbnRlbnQtaWQ9J292ZXJ2aWV3JyBkYXRhLWFjdGlvbj0nbmF2aWdhdGUnIHRhYmluZGV4PScwJyBwYXJ0PSdzZWN0aW9uLW5hdmJhci1pdGVtIHNlY3Rpb24tbmF2YmFyLW92ZXJ2aWV3Jz4gXG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mbz8udGl0bGU/LnRyaW0oKSB8fCAnT3ZlcnZpZXcnfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdvdmVydmlldy1oZWFkZXJzJz5cbiAgICAgICAgICAgICAgICAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm9EZXNjcmlwdGlvbkhlYWRlcnMubWFwKChoZWFkZXIpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPSduYXYtYmFyLWgke2hlYWRlci5kZXB0aH0gJHt0aGlzLm5hdkFjdGl2ZUl0ZW1NYXJrZXJ9JyBcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2xpbmstb3ZlcnZpZXctLSR7bmV3IG1hcmtlZC5TbHVnZ2VyKCkuc2x1ZyhoZWFkZXIudGV4dCl9J1xuICAgICAgICAgICAgICAgICAgICBkYXRhLWFjdGlvbj0nbmF2aWdhdGUnIFxuICAgICAgICAgICAgICAgICAgICBkYXRhLWNvbnRlbnQtaWQ9J292ZXJ2aWV3LS0ke25ldyBtYXJrZWQuU2x1Z2dlcigpLnNsdWcoaGVhZGVyLnRleHQpfScgXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICR7aGVhZGVyLnRleHR9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5gKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mb0Rlc2NyaXB0aW9uSGVhZGVycy5sZW5ndGggPiAwID8gaHRtbGA8aHIgc3R5bGU9J2JvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1uYXYtaG92ZXItYmctY29sb3IpOyBib3JkZXItd2lkdGg6MXB4IDAgMCAwOyBtYXJnaW46IDE1cHggMCAwIDAnLz5gIDogJyd9XG4gICAgICAgICAgICBgXG4gICAgICAgICAgICA6IGh0bWxgPGRpdiBjbGFzcz0nbmF2LWJhci1pbmZvICR7dGhpcy5uYXZBY3RpdmVJdGVtTWFya2VyfScgaWQ9J2xpbmstb3ZlcnZpZXcnIGRhdGEtYWN0aW9uPSduYXZpZ2F0ZScgZGF0YS1jb250ZW50LWlkPSdvdmVydmlldycgdGFiaW5kZXg9JzAnPiBcbiAgICAgICAgICAgICAgJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvPy50aXRsZT8udHJpbSgpIHx8ICdPdmVydmlldyd9XG4gICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgfVxuICAgICAgICBgXG4gICAgICB9XG4gICAgXG4gICAgICAke3RoaXMuYWxsb3dTZXJ2ZXJTZWxlY3Rpb24gPT09ICdmYWxzZSdcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IGh0bWxgPGRpdiBjbGFzcz0nbmF2LWJhci1pbmZvICR7dGhpcy5uYXZBY3RpdmVJdGVtTWFya2VyfScgaWQ9J2xpbmstc2VydmVycycgZGF0YS1hY3Rpb249J25hdmlnYXRlJyBkYXRhLWNvbnRlbnQtaWQ9J3NlcnZlcnMnIHRhYmluZGV4PScwJyBwYXJ0PSdzZWN0aW9uLW5hdmJhci1pdGVtIHNlY3Rpb24tbmF2YmFyLXNlcnZlcnMnPiBBUEkgU2VydmVycyA8L2Rpdj5gXG4gICAgICB9XG4gICAgICAkeyh0aGlzLmFsbG93QXV0aGVudGljYXRpb24gPT09ICdmYWxzZScgfHwgIXRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcylcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IGh0bWxgPGRpdiBjbGFzcz0nbmF2LWJhci1pbmZvICR7dGhpcy5uYXZBY3RpdmVJdGVtTWFya2VyfScgaWQ9J2xpbmstYXV0aCcgZGF0YS1hY3Rpb249J25hdmlnYXRlJyBkYXRhLWNvbnRlbnQtaWQ9J2F1dGgnIHRhYmluZGV4PScwJyBwYXJ0PSdzZWN0aW9uLW5hdmJhci1pdGVtIHNlY3Rpb24tbmF2YmFyLWF1dGgnPiBBdXRoZW50aWNhdGlvbiA8L2Rpdj5gXG4gICAgICB9XG5cbiAgICAgIDxkaXYgaWQ9J2xpbmstb3BlcmF0aW9ucy10b3AnIGNsYXNzPSduYXYtYmFyLXNlY3Rpb24gb3BlcmF0aW9ucycgZGF0YS1hY3Rpb249J25hdmlnYXRlJyBkYXRhLWNvbnRlbnQtaWQ9JyR7dGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnID8gJycgOiAnb3BlcmF0aW9ucy10b3AnfScgcGFydD0nc2VjdGlvbi1uYXZiYXItaXRlbSBzZWN0aW9uLW5hdmJhci1vcGVyYXRpb25zLXRvcCc+XG4gICAgICAgIDxkaXYgc3R5bGU9J2ZvbnQtc2l6ZToxNnB4OyBkaXNwbGF5OmZsZXg7IG1hcmdpbi1sZWZ0OjEwcHg7Jz5cbiAgICAgICAgICAke3RoaXMucmVuZGVyU3R5bGUgPT09ICdmb2N1c2VkJ1xuICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLWV4cGFuZC1hbGwnXG4gICAgICAgICAgICAgICAgZGF0YS1hY3Rpb249J2V4cGFuZC1hbGwnXG4gICAgICAgICAgICAgICAgdGFiaW5kZXg9JzAnIFxuICAgICAgICAgICAgICAgIHRpdGxlPSdFeHBhbmQgYWxsJ1xuICAgICAgICAgICAgICA+4pa4PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9J25hdi1iYXItY29sbGFwc2UtYWxsJ1xuICAgICAgICAgICAgICAgIGRhdGEtYWN0aW9uPSdjb2xsYXBzZS1hbGwnXG4gICAgICAgICAgICAgICAgdGFiaW5kZXg9JzAnIFxuICAgICAgICAgICAgICAgIHRpdGxlPSdDb2xsYXBzZSBhbGwnXG4gICAgICAgICAgICAgID7ilrg8L2Rpdj5gXG4gICAgICAgICAgICA6ICcnXG4gICAgICAgICAgfSAgXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLXNlY3Rpb24tdGl0bGUnPiBPUEVSQVRJT05TIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gVEFHUyBBTkQgUEFUSFMtLT5cbiAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMudGFnc1xuICAgICAgICAuZmlsdGVyKCh0YWcpID0+IHRhZy5wYXRocy5maWx0ZXIoKHBhdGgpID0+IHBhdGhJc0luU2VhcmNoKHRoaXMubWF0Y2hQYXRocywgcGF0aCwgdGhpcy5tYXRjaFR5cGUpKS5sZW5ndGgpXG4gICAgICAgIC5tYXAoKHRhZykgPT4gaHRtbGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLXRhZy1hbmQtcGF0aHMgJHsodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ3JlYWQnID8gJ2V4cGFuZGVkJyA6ICh0YWcuZXhwYW5kZWQgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCcpKX0nID5cbiAgICAgICAgICAgICR7dGFnLm5hbWUgPT09ICdHZW5lcmFsIOKmgidcbiAgICAgICAgICAgICAgPyBodG1sYDxociBzdHlsZT0nYm9yZGVyOm5vbmU7IGJvcmRlci10b3A6IDFweCBkb3R0ZWQgdmFyKC0tbmF2LXRleHQtY29sb3IpOyBvcGFjaXR5OjAuMzsgbWFyZ2luOi0xcHggMCAwIDA7Jy8+YFxuICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzPSduYXYtYmFyLXRhZyAke3RoaXMubmF2QWN0aXZlSXRlbU1hcmtlcn0nXG4gICAgICAgICAgICAgICAgICBwYXJ0PSdzZWN0aW9uLW5hdmJhci1pdGVtIHNlY3Rpb24tbmF2YmFyLXRhZydcbiAgICAgICAgICAgICAgICAgIGlkPSdsaW5rLSR7dGFnLmVsZW1lbnRJZH0nXG4gICAgICAgICAgICAgICAgICBkYXRhLWFjdGlvbj0nJHsodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ3JlYWQnID8gJ25hdmlnYXRlJyA6IHRoaXMub25OYXZUYWdDbGljayA9PT0gJ3Nob3ctZGVzY3JpcHRpb24nKSA/ICduYXZpZ2F0ZScgOiAnZXhwYW5kLWNvbGxhcHNlLXRhZyd9J1xuICAgICAgICAgICAgICAgICAgZGF0YS1jb250ZW50LWlkPSckeyh0aGlzLnJlbmRlclN0eWxlID09PSAncmVhZCcgPyBgJHt0YWcuZWxlbWVudElkfWAgOiB0aGlzLm9uTmF2VGFnQ2xpY2sgPT09ICdzaG93LWRlc2NyaXB0aW9uJykgPyBgJHt0YWcuZWxlbWVudElkfWAgOiAnJ30nXG4gICAgICAgICAgICAgICAgICBkYXRhLWZpcnN0LXBhdGgtaWQ9JyR7dGFnLmZpcnN0UGF0aElkfSdcbiAgICAgICAgICAgICAgICAgIHRhYmluZGV4PScwJ1xuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJwb2ludGVyLWV2ZW50czpub25lO1wiPiR7dGFnLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLXRhZy1pY29uJyB0YWJpbmRleD0nMCcgZGF0YS1hY3Rpb249J2V4cGFuZC1jb2xsYXBzZS10YWcnPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkeyh0aGlzLmluZm9EZXNjcmlwdGlvbkhlYWRpbmdzSW5OYXZCYXIgPT09ICd0cnVlJylcbiAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICR7dGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnICYmIHRoaXMub25OYXZUYWdDbGljayA9PT0gJ2V4cGFuZC1jb2xsYXBzZSdcbiAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGFnLWhlYWRlcnMnPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGFnLmhlYWRlcnMubWFwKChoZWFkZXIpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9J25hdi1iYXItaCR7aGVhZGVyLmRlcHRofSAke3RoaXMubmF2QWN0aXZlSXRlbU1hcmtlcn0nXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0PSdzZWN0aW9uLW5hdmJhci1pdGVtIHNlY3Rpb24tbmF2YmFyLWgke2hlYWRlci5kZXB0aH0nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nbGluay0ke3RhZy5lbGVtZW50SWR9LS0ke25ldyBtYXJrZWQuU2x1Z2dlcigpLnNsdWcoaGVhZGVyLnRleHQpfSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYWN0aW9uPSduYXZpZ2F0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtY29udGVudC1pZD0nJHt0YWcuZWxlbWVudElkfS0tJHtuZXcgbWFya2VkLlNsdWdnZXIoKS5zbHVnKGhlYWRlci50ZXh0KX0nXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD0nMCdcbiAgICAgICAgICAgICAgICAgICAgICA+ICR7aGVhZGVyLnRleHR9PC9kaXY+YCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICB9YFxuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLXBhdGhzLXVuZGVyLXRhZycgc3R5bGU9J21heC1oZWlnaHQ6JHsodGFnLmV4cGFuZGVkIHx8IHRoaXMucmVuZGVyU3R5bGUgPT09ICdyZWFkJykgPyAoKHRhZy5wYXRocz8ubGVuZ3RoIHx8IDEpICogNTApIDogMH1weDsnPlxuICAgICAgICAgICAgICA8IS0tIFBhdGhzIGluIGVhY2ggdGFnIChlbmRwb2ludHMpIC0tPlxuICAgICAgICAgICAgICAke3RhZy5wYXRocy5maWx0ZXIoKHYpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRjaFBhdGhzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aElzSW5TZWFyY2godGhpcy5tYXRjaFBhdGhzLCB2LCB0aGlzLm1hdGNoVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9KS5tYXAoKHApID0+IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgY2xhc3M9J25hdi1iYXItcGF0aCAke3RoaXMubmF2QWN0aXZlSXRlbU1hcmtlcn0gJHt0aGlzLnVzZVBhdGhJbk5hdkJhciA9PT0gJ3RydWUnID8gJ3NtYWxsLWZvbnQnIDogJyd9J1xuICAgICAgICAgICAgICAgIHBhcnQ9J3NlY3Rpb24tbmF2YmFyLWl0ZW0gc2VjdGlvbi1uYXZiYXItcGF0aCdcbiAgICAgICAgICAgICAgICBkYXRhLWFjdGlvbj0nbmF2aWdhdGUnXG4gICAgICAgICAgICAgICAgZGF0YS1jb250ZW50LWlkPScke3AuZWxlbWVudElkfSdcbiAgICAgICAgICAgICAgICBpZD0nbGluay0ke3AuZWxlbWVudElkfSdcbiAgICAgICAgICAgICAgICB0YWJpbmRleD0nMCdcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlID0gJ2Rpc3BsYXk6ZmxleDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGFsaWduLWl0ZW1zOnN0YXJ0OyAke3AuZGVwcmVjYXRlZCA/ICdmaWx0ZXI6b3BhY2l0eSgwLjUpJyA6ICcnfSc+XG4gICAgICAgICAgICAgICAgICAke2h0bWxgPHNwYW4gY2xhc3M9J25hdi1tZXRob2QgJHt0aGlzLnNob3dNZXRob2RJbk5hdkJhcn0gJHtwLm1ldGhvZH0nIHN0eWxlPSdwb2ludGVyLWV2ZW50czogbm9uZTsnPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5zaG93TWV0aG9kSW5OYXZCYXIgPT09ICdhcy1jb2xvcmVkLWJsb2NrJyA/IHAubWV0aG9kLnN1YnN0cmluZygwLCAzKS50b1VwcGVyQ2FzZSgpIDogcC5tZXRob2QudG9VcHBlckNhc2UoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPmBcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICR7cC5pc1dlYmhvb2sgPyBodG1sYDxzcGFuIHN0eWxlPSdmb250LXdlaWdodDpib2xkOyBwb2ludGVyLWV2ZW50czogbm9uZTsgbWFyZ2luLXJpZ2h0OjhweDsgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgLSAycHgpJz5XRUJIT09LPC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICR7dGhpcy51c2VQYXRoSW5OYXZCYXIgPT09ICd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHNwYW4gc3R5bGU9J3BvaW50ZXItZXZlbnRzOiBub25lOycgY2xhc3M9J21vbm8tZm9udCc+JHtwLnBhdGh9PC9zcGFuPmBcbiAgICAgICAgICAgICAgICAgICAgOiBwLnN1bW1hcnkgfHwgcC5zaG9ydFN1bW1hcnlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PmApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGApXG4gICAgICB9XG5cbiAgICAgIDwhLS0gQ09NUE9ORU5UUyAtLT5cbiAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuY29tcG9uZW50cyAmJiB0aGlzLnNob3dDb21wb25lbnRzID09PSAndHJ1ZScgJiYgdGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnXG4gICAgICAgID8gaHRtbGBcbiAgICAgICAgICA8ZGl2IGlkPSdsaW5rLWNvbXBvbmVudHMnIGNsYXNzPSduYXYtYmFyLXNlY3Rpb24gY29tcG9uZW50cyc+XG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0nbmF2LWJhci1zZWN0aW9uLXRpdGxlJz5DT01QT05FTlRTPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgJHt0aGlzLnJlc29sdmVkU3BlYy5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50KSA9PiAoY29tcG9uZW50LnN1YkNvbXBvbmVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9J25hdi1iYXItdGFnJ1xuICAgICAgICAgICAgICAgIHBhcnQ9J3NlY3Rpb24tbmF2YmFyLWl0ZW0gc2VjdGlvbi1uYXZiYXItdGFnJ1xuICAgICAgICAgICAgICAgIGRhdGEtYWN0aW9uPSduYXZpZ2F0ZScgXG4gICAgICAgICAgICAgICAgZGF0YS1jb250ZW50LWlkPSdjbXAtLSR7Y29tcG9uZW50Lm5hbWUudG9Mb3dlckNhc2UoKX0nIFxuICAgICAgICAgICAgICAgIGlkPSdsaW5rLWNtcC0tJHtjb21wb25lbnQubmFtZS50b0xvd2VyQ2FzZSgpfSdcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICR7Y29tcG9uZW50Lm5hbWV9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAke2NvbXBvbmVudC5zdWJDb21wb25lbnRzLmZpbHRlcigocCkgPT4gcC5leHBhbmRlZCAhPT0gZmFsc2UpLm1hcCgocCkgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLXBhdGgnIGRhdGEtYWN0aW9uPSduYXZpZ2F0ZScgZGF0YS1jb250ZW50LWlkPSdjbXAtLSR7cC5pZH0nIGlkPSdsaW5rLWNtcC0tJHtwLmlkfSc+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj4gJHtwLm5hbWV9IDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5gKVxuICAgICAgICAgICAgICB9YFxuICAgICAgICAgICAgOiAnJykpXG4gICAgICAgICAgfWBcbiAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgIDwvbmF2PmBcbiAgfVxuPC9uYXY+XG5gO1xufVxuLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvZXh0ZW5zaW9uc1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCB7IGV4cGFuZGVkRW5kcG9pbnRCb2R5VGVtcGxhdGUgfSBmcm9tICd+L3RlbXBsYXRlcy9leHBhbmRlZC1lbmRwb2ludC10ZW1wbGF0ZSc7XG5pbXBvcnQgJ34vY29tcG9uZW50cy9hcGktcmVxdWVzdCc7XG5pbXBvcnQgJ34vY29tcG9uZW50cy9hcGktcmVzcG9uc2UnO1xuaW1wb3J0IGNvbXBvbmVudHNUZW1wbGF0ZSBmcm9tICd+L3RlbXBsYXRlcy9jb21wb25lbnRzLXRlbXBsYXRlJztcbmltcG9ydCBvdmVydmlld1RlbXBsYXRlIGZyb20gJ34vdGVtcGxhdGVzL292ZXJ2aWV3LXRlbXBsYXRlJztcbmltcG9ydCBzZXJ2ZXJUZW1wbGF0ZSBmcm9tICd+L3RlbXBsYXRlcy9zZXJ2ZXItdGVtcGxhdGUnO1xuaW1wb3J0IHNlY3VyaXR5U2NoZW1lVGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvc2VjdXJpdHktc2NoZW1lLXRlbXBsYXRlJztcbmltcG9ydCB7IGV4cGFuZENvbGxhcHNlTmF2QmFyVGFnIH0gZnJvbSAnfi90ZW1wbGF0ZXMvbmF2YmFyLXRlbXBsYXRlJztcblxuZnVuY3Rpb24gaGVhZGluZ1JlbmRlcmVyKHRhZ0VsZW1lbnRJZCkge1xuICBjb25zdCByZW5kZXJlciA9IG5ldyBtYXJrZWQuUmVuZGVyZXIoKTtcbiAgcmVuZGVyZXIuaGVhZGluZyA9ICgodGV4dCwgbGV2ZWwsIHJhdywgc2x1Z2dlcikgPT4gYDxoJHtsZXZlbH0gY2xhc3M9XCJvYnNlcnZlLW1lXCIgaWQ9XCIke3RhZ0VsZW1lbnRJZH0tLSR7c2x1Z2dlci5zbHVnKHJhdyl9XCI+JHt0ZXh0fTwvaCR7bGV2ZWx9PmApO1xuICByZXR1cm4gcmVuZGVyZXI7XG59XG5cbmZ1bmN0aW9uIHdyYXBGb2N1c2VkVGVtcGxhdGUodGVtcGxhdGVUb1dyYXApIHtcbiAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz0ncmVndWxhci1mb250IHNlY3Rpb24tZ2FwLS1mb2N1c2VkLW1vZGUnIHBhcnQ9XCJzZWN0aW9uLW9wZXJhdGlvbnMtaW4tdGFnXCI+XG4gICAgICAke3RlbXBsYXRlVG9XcmFwfVxuICAgIDwvZGl2PmA7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb250ZW50VGVtcGxhdGUoKSB7XG4gIC8vIEluIGZvY3VzZWQgbW9kZSBkZWZhdWx0IGNvbnRlbnQgaXMgb3ZlcnZpZXcgb3IgZmlyc3QgcGF0aFxuICBpZiAodGhpcy5zaG93SW5mbyA9PT0gJ3RydWUnKSB7XG4gICAgcmV0dXJuIHdyYXBGb2N1c2VkVGVtcGxhdGUob3ZlcnZpZXdUZW1wbGF0ZS5jYWxsKHRoaXMpKTtcbiAgfVxuICBjb25zdCBzZWxlY3RlZFRhZ09iaiA9IHRoaXMucmVzb2x2ZWRTcGVjLnRhZ3NbMF07XG4gIGNvbnN0IHNlbGVjdGVkUGF0aE9iaiA9IHRoaXMucmVzb2x2ZWRTcGVjLnRhZ3NbMF0/LnBhdGhzWzBdO1xuICByZXR1cm4gKHNlbGVjdGVkVGFnT2JqICYmIHNlbGVjdGVkUGF0aE9iailcbiAgICA/IHdyYXBGb2N1c2VkVGVtcGxhdGUoZXhwYW5kZWRFbmRwb2ludEJvZHlUZW1wbGF0ZS5jYWxsKHRoaXMsIHNlbGVjdGVkUGF0aE9iaiwgc2VsZWN0ZWRUYWdPYmoubmFtZSkpXG4gICAgOiB3cmFwRm9jdXNlZFRlbXBsYXRlKCcnKTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5mdW5jdGlvbiBmb2N1c2VkVGFnQm9keVRlbXBsYXRlKHRhZykge1xuICByZXR1cm4gaHRtbGBcbiAgICA8aDEgaWQ9XCIke3RhZy5lbGVtZW50SWR9XCI+JHt0YWcubmFtZX08L2gxPlxuICAgICR7dGhpcy5vbk5hdlRhZ0NsaWNrID09PSAnc2hvdy1kZXNjcmlwdGlvbicgJiYgdGFnLmRlc2NyaXB0aW9uXG4gICAgICA/IGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtLW1hcmtkb3duXCI+XG4gICAgICAgICAgJHtcbiAgICAgICAgICAgIHVuc2FmZUhUTUwoYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm0tbWFya2Rvd24gcmVndWxhci1mb250XCI+XG4gICAgICAgICAgICAgICR7bWFya2VkKHRhZy5kZXNjcmlwdGlvbiB8fCAnJywgdGhpcy5pbmZvRGVzY3JpcHRpb25IZWFkaW5nc0luTmF2QmFyID09PSAndHJ1ZScgPyB7IHJlbmRlcmVyOiBoZWFkaW5nUmVuZGVyZXIodGFnLmVsZW1lbnRJZCkgfSA6IHVuZGVmaW5lZCl9XG4gICAgICAgICAgICA8L2Rpdj5gKVxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+YFxuICAgICAgOiAnJ1xuICAgIH1cbiAgYDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9jdXNlZEVuZHBvaW50VGVtcGxhdGUoKSB7XG4gIGlmICghdGhpcy5mb2N1c2VkRWxlbWVudElkIHx8ICF0aGlzLnJlc29sdmVkU3BlYykge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBmb2N1c0VsSWQgPSB0aGlzLmZvY3VzZWRFbGVtZW50SWQ7XG4gIGxldCBzZWxlY3RlZFBhdGhPYmogPSBudWxsO1xuICBsZXQgc2VsZWN0ZWRUYWdPYmogPSBudWxsO1xuICBsZXQgZm9jdXNlZFRlbXBsYXRlO1xuICBsZXQgaSA9IDA7XG4gIGlmIChmb2N1c0VsSWQuc3RhcnRzV2l0aCgnb3ZlcnZpZXcnKSAmJiB0aGlzLnNob3dJbmZvID09PSAndHJ1ZScpIHtcbiAgICBmb2N1c2VkVGVtcGxhdGUgPSBvdmVydmlld1RlbXBsYXRlLmNhbGwodGhpcyk7XG4gIH0gZWxzZSBpZiAoZm9jdXNFbElkID09PSAnYXV0aCcgJiYgdGhpcy5hbGxvd0F1dGhlbnRpY2F0aW9uID09PSAndHJ1ZScpIHtcbiAgICBmb2N1c2VkVGVtcGxhdGUgPSBzZWN1cml0eVNjaGVtZVRlbXBsYXRlLmNhbGwodGhpcyk7XG4gIH0gZWxzZSBpZiAoZm9jdXNFbElkID09PSAnc2VydmVycycgJiYgdGhpcy5hbGxvd1NlcnZlclNlbGVjdGlvbiA9PT0gJ3RydWUnKSB7XG4gICAgZm9jdXNlZFRlbXBsYXRlID0gc2VydmVyVGVtcGxhdGUuY2FsbCh0aGlzKTtcbiAgfSBlbHNlIGlmIChmb2N1c0VsSWQgPT09ICdvcGVyYXRpb25zLXRvcCcpIHtcbiAgICBmb2N1c2VkVGVtcGxhdGUgPSBodG1sYFxuICAgIDxkaXYgaWQ9XCJvcGVyYXRpb25zLXRvcFwiIGNsYXNzPVwib2JzZXJ2ZS1tZVwiPlxuICAgICAgPHNsb3QgbmFtZT1cIm9wZXJhdGlvbnMtdG9wXCI+PC9zbG90PlxuICAgIDwvZGl2PmA7XG4gIH0gZWxzZSBpZiAoZm9jdXNFbElkLnN0YXJ0c1dpdGgoJ2NtcC0tJykgJiYgdGhpcy5zaG93Q29tcG9uZW50cyA9PT0gJ3RydWUnKSB7XG4gICAgZm9jdXNlZFRlbXBsYXRlID0gY29tcG9uZW50c1RlbXBsYXRlLmNhbGwodGhpcyk7XG4gIH0gZWxzZSBpZiAoZm9jdXNFbElkLnN0YXJ0c1dpdGgoJ3RhZy0tJykpIHtcbiAgICBjb25zdCBpZFRvRm9jdXMgPSBmb2N1c0VsSWQuaW5kZXhPZignLS0nLCA0KSA+IDAgPyBmb2N1c0VsSWQuc3Vic3RyaW5nKDAsIGZvY3VzRWxJZC5pbmRleE9mKCctLScsIDUpKSA6IGZvY3VzRWxJZDtcbiAgICBzZWxlY3RlZFRhZ09iaiA9IHRoaXMucmVzb2x2ZWRTcGVjLnRhZ3MuZmluZCgodikgPT4gdi5lbGVtZW50SWQgPT09IGlkVG9Gb2N1cyk7XG4gICAgaWYgKHNlbGVjdGVkVGFnT2JqKSB7XG4gICAgICBmb2N1c2VkVGVtcGxhdGUgPSB3cmFwRm9jdXNlZFRlbXBsYXRlLmNhbGwodGhpcywgZm9jdXNlZFRhZ0JvZHlUZW1wbGF0ZS5jYWxsKHRoaXMsIHNlbGVjdGVkVGFnT2JqKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvY3VzZWRUZW1wbGF0ZSA9IGRlZmF1bHRDb250ZW50VGVtcGxhdGUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMucmVzb2x2ZWRTcGVjLnRhZ3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHNlbGVjdGVkVGFnT2JqID0gdGhpcy5yZXNvbHZlZFNwZWMudGFnc1tpXTtcbiAgICAgIHNlbGVjdGVkUGF0aE9iaiA9IHRoaXMucmVzb2x2ZWRTcGVjLnRhZ3NbaV0ucGF0aHMuZmluZCgodikgPT4gYCR7di5lbGVtZW50SWR9YCA9PT0gZm9jdXNFbElkKTtcbiAgICAgIGlmIChzZWxlY3RlZFBhdGhPYmopIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzZWxlY3RlZFBhdGhPYmopIHtcbiAgICAgIC8vIEluIGZvY3VzZWQgbW9kZSB3ZSBtdXN0IGV4cGFuZCB0aGUgbmF2LWJhciB0YWcgZWxlbWVudCBpZiBpdCBpcyBjb2xsYXBzZWRcbiAgICAgIGNvbnN0IG5ld05hdkVsID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGBsaW5rLSR7Zm9jdXNFbElkfWApO1xuICAgICAgZXhwYW5kQ29sbGFwc2VOYXZCYXJUYWcobmV3TmF2RWwsICdleHBhbmQnKTtcbiAgICAgIGZvY3VzZWRUZW1wbGF0ZSA9IHdyYXBGb2N1c2VkVGVtcGxhdGUuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgZXhwYW5kZWRFbmRwb2ludEJvZHlUZW1wbGF0ZS5jYWxsKHRoaXMsIHNlbGVjdGVkUGF0aE9iaiwgKHNlbGVjdGVkVGFnT2JqLm5hbWUgfHwgJycpLCAoc2VsZWN0ZWRUYWdPYmouZGVzY3JpcHRpb24gfHwgJycpKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIGZvY3VzZWRFbGVtZW50SWQgaXMgbm90IGZvdW5kIHRoZW4gc2hvdyB0aGUgZGVmYXVsdCBjb250ZW50IChvdmVydmlldyBvciBmaXJzdC1wYXRoKVxuICAgICAgZm9jdXNlZFRlbXBsYXRlID0gZGVmYXVsdENvbnRlbnRUZW1wbGF0ZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZm9jdXNlZFRlbXBsYXRlO1xufVxuLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvZXh0ZW5zaW9uc1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCAnfi9jb21wb25lbnRzL2FwaS1yZXF1ZXN0JztcbmltcG9ydCAnfi9jb21wb25lbnRzL2FwaS1yZXNwb25zZSc7XG5pbXBvcnQgY29kZVNhbXBsZXNUZW1wbGF0ZSBmcm9tICd+L3RlbXBsYXRlcy9jb2RlLXNhbXBsZXMtdGVtcGxhdGUnO1xuaW1wb3J0IGNhbGxiYWNrVGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvY2FsbGJhY2stdGVtcGxhdGUnO1xuaW1wb3J0IHsgcGF0aFNlY3VyaXR5VGVtcGxhdGUgfSBmcm9tICd+L3RlbXBsYXRlcy9zZWN1cml0eS1zY2hlbWUtdGVtcGxhdGUnO1xuaW1wb3J0IHsgcGF0aElzSW5TZWFyY2gsIHJhcGlkb2NBcGlLZXkgfSBmcm9tICd+L3V0aWxzL2NvbW1vbi11dGlscyc7XG5cbmZ1bmN0aW9uIHRvZ2dsZUV4cGFuZChwYXRoKSB7XG4gIGlmIChwYXRoLmV4cGFuZGVkKSB7XG4gICAgcGF0aC5leHBhbmRlZCA9IGZhbHNlOyAvLyBjb2xsYXBzZVxuICAgIGlmICh0aGlzLnVwZGF0ZVJvdXRlID09PSAndHJ1ZScpIHtcbiAgICAgIHRoaXMucmVwbGFjZUhpc3RvcnlTdGF0ZSgnJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBhdGguZXhwYW5kZWQgPSB0cnVlOyAvLyBFeHBhbmRcbiAgICBpZiAodGhpcy51cGRhdGVSb3V0ZSA9PT0gJ3RydWUnKSB7XG4gICAgICBjb25zdCBuZXdIYXNoID0gYCR7dGhpcy5yb3V0ZVByZWZpeCB8fCAnIyd9JHtwYXRoLmVsZW1lbnRJZH1gO1xuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoICE9PSBuZXdIYXNoKSB7XG4gICAgICAgIHRoaXMucmVwbGFjZUhpc3RvcnlTdGF0ZShwYXRoLmVsZW1lbnRJZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kQ29sbGFwc2VBbGwob3BlcmF0aW9uc1Jvb3RFbCwgYWN0aW9uID0gJ2V4cGFuZC1hbGwnKSB7XG4gIGNvbnN0IGVsTGlzdCA9IFsuLi5vcGVyYXRpb25zUm9vdEVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLXRhZycpXTtcbiAgaWYgKGFjdGlvbiA9PT0gJ2V4cGFuZC1hbGwnKSB7XG4gICAgZWxMaXN0Lm1hcCgoZWwpID0+IHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZXBsYWNlKCdjb2xsYXBzZWQnLCAnZXhwYW5kZWQnKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBlbExpc3QubWFwKChlbCkgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlcGxhY2UoJ2V4cGFuZGVkJywgJ2NvbGxhcHNlZCcpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uRXhwYW5kQ29sbGFwc2VBbGwoZSwgYWN0aW9uID0gJ2V4cGFuZC1hbGwnKSB7XG4gIGV4cGFuZENvbGxhcHNlQWxsLmNhbGwodGhpcywgZS50YXJnZXQuY2xvc2VzdCgnLm9wZXJhdGlvbnMtcm9vdCcpLCBhY3Rpb24pO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbmZ1bmN0aW9uIGVuZHBvaW50SGVhZFRlbXBsYXRlKHBhdGgsIHBhdGhzRXhwYW5kZWQgPSBmYWxzZSkge1xuICByZXR1cm4gaHRtbGBcbiAgPHN1bW1hcnkgQGNsaWNrPVwiJHsoZSkgPT4geyB0b2dnbGVFeHBhbmQuY2FsbCh0aGlzLCBwYXRoLCBlKTsgfX1cIiBwYXJ0PVwic2VjdGlvbi1lbmRwb2ludC1oZWFkLSR7cGF0aC5leHBhbmRlZCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJ31cIiBjbGFzcz0nZW5kcG9pbnQtaGVhZCAke3BhdGgubWV0aG9kfSAke3BhdGguZGVwcmVjYXRlZCA/ICdkZXByZWNhdGVkJyA6ICcnfSAke3BhdGhzRXhwYW5kZWQgfHwgcGF0aC5leHBhbmRlZCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJ30nPlxuICAgIDxkaXYgcGFydD1cInNlY3Rpb24tZW5kcG9pbnQtaGVhZC1tZXRob2RcIiBjbGFzcz1cIm1ldGhvZCAke3BhdGgubWV0aG9kfSAke3BhdGguZGVwcmVjYXRlZCA/ICdkZXByZWNhdGVkJyA6ICcnfVwiPiAke3BhdGgubWV0aG9kfSA8L2Rpdj4gXG4gICAgPGRpdiAgcGFydD1cInNlY3Rpb24tZW5kcG9pbnQtaGVhZC1wYXRoXCIgY2xhc3M9XCJwYXRoICR7cGF0aC5kZXByZWNhdGVkID8gJ2RlcHJlY2F0ZWQnIDogJyd9XCI+IFxuICAgICAgJHtwYXRoLnBhdGh9IFxuICAgICAgJHtwYXRoLmlzV2ViaG9vayA/IGh0bWxgPHNwYW4gc3R5bGU9XCJmb250LWZhbWlseTogdmFyKC0tZm9udC1yZWd1bGFyKTsgZm9udC1zaXplOiB2YXIoLS0pOyBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7IGNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOyBtYXJnaW4tbGVmdDogMTZweFwiPiBXZWJob29rPC9zcGFuPmAgOiAnJ31cbiAgICA8L2Rpdj5cbiAgICAke3BhdGguZGVwcmVjYXRlZFxuICAgICAgPyBodG1sYFxuICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpOyB0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOnZhcigtLXJlZCk7IG1hcmdpbjoycHggMCAwIDVweDtcIj4gXG4gICAgICAgICAgZGVwcmVjYXRlZCBcbiAgICAgICAgPC9zcGFuPmBcbiAgICAgIDogJydcbiAgICB9XG4gICAgJHt0aGlzLnNob3dTdW1tYXJ5V2hlbkNvbGxhcHNlZFxuICAgICAgPyBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwib25seS1sYXJnZS1zY3JlZW5cIiBzdHlsZT1cIm1pbi13aWR0aDo2MHB4OyBmbGV4OjFcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBwYXJ0PVwic2VjdGlvbi1lbmRwb2ludC1oZWFkLWRlc2NyaXB0aW9uXCIgY2xhc3M9XCJkZXNjclwiPiR7cGF0aC5zdW1tYXJ5IHx8IHBhdGguc2hvcnRTdW1tYXJ5fSA8L2Rpdj5gXG4gICAgICA6ICcnXG4gICAgfVxuICA8L3N1bW1hcnk+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGVuZHBvaW50Qm9keVRlbXBsYXRlKHBhdGgpIHtcbiAgY29uc3QgYWNjZXB0Q29udGVudFR5cGVzID0gbmV3IFNldCgpO1xuICBmb3IgKGNvbnN0IHJlc3BTdGF0dXMgaW4gcGF0aC5yZXNwb25zZXMpIHtcbiAgICBmb3IgKGNvbnN0IGFjY2VwdENvbnRlbnRUeXBlIGluIChwYXRoLnJlc3BvbnNlc1tyZXNwU3RhdHVzXT8uY29udGVudCkpIHtcbiAgICAgIGFjY2VwdENvbnRlbnRUeXBlcy5hZGQoYWNjZXB0Q29udGVudFR5cGUudHJpbSgpKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgYWNjZXB0ID0gWy4uLmFjY2VwdENvbnRlbnRUeXBlc10uam9pbignLCAnKTtcbiAgLy8gRmlsdGVyIEFQSSBLZXlzIHRoYXQgYXJlIG5vbi1lbXB0eSBhbmQgYXJlIGFwcGxpY2FibGUgdG8gdGhlIHRoZSBwYXRoXG4gIGNvbnN0IG5vbkVtcHR5QXBpS2V5cyA9IHRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5maWx0ZXIoKHYpID0+ICh2LmZpbmFsS2V5VmFsdWUgJiYgcGF0aC5zZWN1cml0eT8uc29tZSgocHMpID0+ICh2LnNlY3VyaXR5U2NoZW1lSWQgaW4gcHMpKSkpIHx8IFtdO1xuXG4gIC8vIElmIGEgUmFwaURvYyBBUEkgS2V5IGlzIHNwZWNpZmllZCBvbiB0aGUgZWxlbWVudCBhbmQgaXRzIHZhbHVlIGlzIG5vdCBoeXBoZW4oLSkgdGhlbiBpbmNsdWRlIGl0IGZvciBhbGwgcGF0aHNcbiAgY29uc3QgcmFwaURvY0FwaUtleSA9IHRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5maW5kKCh2KSA9PiAodi5zZWN1cml0eVNjaGVtZUlkID09PSByYXBpZG9jQXBpS2V5ICYmIHYudmFsdWUgIT09ICctJykpO1xuICBpZiAocmFwaURvY0FwaUtleSkge1xuICAgIG5vbkVtcHR5QXBpS2V5cy5wdXNoKHJhcGlEb2NBcGlLZXkpO1xuICB9XG5cbiAgY29uc3QgY29kZVNhbXBsZVRhYlBhbmVsID0gcGF0aC54Q29kZVNhbXBsZXMgPyBjb2RlU2FtcGxlc1RlbXBsYXRlKHBhdGgueENvZGVTYW1wbGVzKSA6ICcnO1xuICByZXR1cm4gaHRtbGBcbiAgPGRpdiBwYXJ0PVwic2VjdGlvbi1lbmRwb2ludC1ib2R5LSR7cGF0aC5leHBhbmRlZCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJ31cIiBjbGFzcz0nZW5kcG9pbnQtYm9keSAke3BhdGgubWV0aG9kfSAke3BhdGguZGVwcmVjYXRlZCA/ICdkZXByZWNhdGVkJyA6ICcnfSc+XG4gICAgPGRpdiBjbGFzcz1cInN1bW1hcnlcIj5cbiAgICAgICR7cGF0aC5zdW1tYXJ5XG4gICAgICAgID8gaHRtbGA8ZGl2IGNsYXNzPVwidGl0bGVcIiBwYXJ0PVwic2VjdGlvbi1lbmRwb2ludC1ib2R5LXRpdGxlXCI+JHtwYXRoLnN1bW1hcnl9PGRpdj5gXG4gICAgICAgIDogcGF0aC5zaG9ydFN1bW1hcnkgIT09IHBhdGguZGVzY3JpcHRpb25cbiAgICAgICAgICA/IGh0bWxgPGRpdiBjbGFzcz1cInRpdGxlXCIgcGFydD1cInNlY3Rpb24tZW5kcG9pbnQtYm9keS10aXRsZVwiPiR7cGF0aC5zaG9ydFN1bW1hcnl9PC9kaXY+YFxuICAgICAgICAgIDogJydcbiAgICAgIH1cbiAgICAgICR7cGF0aC54QmFkZ2VzICYmIHBhdGgueEJhZGdlcz8ubGVuZ3RoID4gMFxuICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgZmxleC13cmFwOndyYXA7Zm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpO1wiPlxuICAgICAgICAgICAgJHtwYXRoLnhCYWRnZXMubWFwKCh2KSA9PiAoXG4gICAgICAgICAgICAgICAgaHRtbGA8c3BhbiBwYXJ0PVwiZW5kcG9pbnQtYmFkZ2VcIiBzdHlsZT1cIm1hcmdpbjoxcHg7IG1hcmdpbi1yaWdodDo1cHg7IHBhZGRpbmc6MXB4IDhweDsgZm9udC13ZWlnaHQ6Ym9sZDsgYm9yZGVyLXJhZGl1czoxMnB4OyAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtJHt2LmNvbG9yfSwgdmFyKC0taW5wdXQtYmcpKTsgY29sb3I6dmFyKC0tJHt2LmNvbG9yfSk7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tJHt2LmNvbG9yfSlcIj4ke3YubGFiZWx9PC9zcGFuPmBcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgXG4gICAgICAgIDogJydcbiAgICAgIH1cblxuICAgICAgJHtwYXRoLmRlc2NyaXB0aW9uID8gaHRtbGA8ZGl2IHBhcnQ9XCJzZWN0aW9uLWVuZHBvaW50LWJvZHktZGVzY3JpcHRpb25cIiBjbGFzcz1cIm0tbWFya2Rvd25cIj4gJHt1bnNhZmVIVE1MKG1hcmtlZChwYXRoLmRlc2NyaXB0aW9uKSl9PC9kaXY+YCA6ICcnfVxuICAgICAgJHtwYXRoLmV4dGVybmFsRG9jcz8udXJsIHx8IHBhdGguZXh0ZXJuYWxEb2NzPy5kZXNjcmlwdGlvblxuICAgICAgICA/IGh0bWxgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6dmFyKC0tYmczKTsgcGFkZGluZzoycHggOHB4IDhweCA4cHg7IG1hcmdpbjo4cHggMDsgYm9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKVwiPiBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtLW1hcmtkb3duXCI+ICR7dW5zYWZlSFRNTChtYXJrZWQocGF0aC5leHRlcm5hbERvY3M/LmRlc2NyaXB0aW9uIHx8ICcnKSl9IDwvZGl2PlxuICAgICAgICAgICAgJHtwYXRoLmV4dGVybmFsRG9jcz8udXJsXG4gICAgICAgICAgICAgID8gaHRtbGA8YSBzdHlsZT1cImZvbnQtZmFtaWx5OnZhcigtLWZvbnQtbW9ubyk7IGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpXCIgaHJlZj1cIiR7cGF0aC5leHRlcm5hbERvY3M/LnVybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj4gXG4gICAgICAgICAgICAgICAgICAke3BhdGguZXh0ZXJuYWxEb2NzPy51cmx9IDxkaXYgc3R5bGU9XCJ0cmFuc2Zvcm06IHJvdGF0ZSgyNzBkZWcpIHNjYWxlKDEuNSk7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgbWFyZ2luLWxlZnQ6NXB4XCI+4oeyPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9hPmBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgICAgPHNsb3QgbmFtZT1cIiR7cGF0aC5lbGVtZW50SWR9XCI+PC9zbG90PlxuICAgICAgJHtwYXRoU2VjdXJpdHlUZW1wbGF0ZS5jYWxsKHRoaXMsIHBhdGguc2VjdXJpdHkpfVxuICAgICAgJHtjb2RlU2FtcGxlVGFiUGFuZWx9XG4gICAgPC9kaXY+ICBcbiAgICA8ZGl2IGNsYXNzPSdyZXEtcmVzcC1jb250YWluZXInPiBcbiAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtblwiIGNsYXNzPVwidmlldy1tb2RlLXJlcXVlc3QgJHt0aGlzLmxheW91dH0tbGF5b3V0XCI+XG4gICAgICAgIDxhcGktcmVxdWVzdFxuICAgICAgICAgIGNsYXNzID0gXCIke3RoaXMucmVuZGVyU3R5bGV9LW1vZGUgJHt0aGlzLmxheW91dH0tbGF5b3V0XCJcbiAgICAgICAgICBzdHlsZSA9IFwid2lkdGg6MTAwJTtcIlxuICAgICAgICAgIHdlYmhvb2sgPSBcIiR7cGF0aC5pc1dlYmhvb2t9XCJcbiAgICAgICAgICBtZXRob2QgPSBcIiR7cGF0aC5tZXRob2R9XCJcbiAgICAgICAgICBwYXRoID0gXCIke3BhdGgucGF0aH1cIlxuICAgICAgICAgIC5zZWN1cml0eSA9IFwiJHtwYXRoLnNlY3VyaXR5fVwiXG4gICAgICAgICAgLnBhcmFtZXRlcnMgPSBcIiR7cGF0aC5wYXJhbWV0ZXJzfVwiXG4gICAgICAgICAgLnJlcXVlc3RfYm9keSA9IFwiJHtwYXRoLnJlcXVlc3RCb2R5fVwiXG4gICAgICAgICAgLmFwaV9rZXlzID0gXCIke25vbkVtcHR5QXBpS2V5c31cIlxuICAgICAgICAgIC5zZXJ2ZXJzID0gXCIke3BhdGguc2VydmVyc31cIiBcbiAgICAgICAgICBzZXJ2ZXItdXJsID0gXCIke3BhdGguc2VydmVycyAmJiBwYXRoLnNlcnZlcnMubGVuZ3RoID4gMCA/IHBhdGguc2VydmVyc1swXS51cmwgOiB0aGlzLnNlbGVjdGVkU2VydmVyLmNvbXB1dGVkVXJsfVwiIFxuICAgICAgICAgIGFjdGl2ZS1zY2hlbWEtdGFiID0gXCIke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn1cIlxuICAgICAgICAgIGZpbGwtcmVxdWVzdC1maWVsZHMtd2l0aC1leGFtcGxlID0gXCIke3RoaXMuZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZX1cIlxuICAgICAgICAgIGFsbG93LXRyeSA9IFwiJHt0aGlzLmFsbG93VHJ5fVwiXG4gICAgICAgICAgc2hvdy1jdXJsLWJlZm9yZS10cnkgPSBcIiR7dGhpcy5zaG93Q3VybEJlZm9yZVRyeX1cIlxuICAgICAgICAgIGFjY2VwdCA9IFwiJHthY2NlcHR9XCJcbiAgICAgICAgICByZW5kZXItc3R5bGU9XCIke3RoaXMucmVuZGVyU3R5bGV9XCIgXG4gICAgICAgICAgc2NoZW1hLXN0eWxlID0gXCIke3RoaXMuc2NoZW1hU3R5bGV9XCIgXG4gICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9IFwiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfVwiXG4gICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gXCIke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH1cIlxuICAgICAgICAgIGFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlID0gXCIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX1cIlxuICAgICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9IFwiJHt0aGlzLnNjaGVtYUhpZGVSZWFkT25seSA9PT0gJ25ldmVyJyA/ICdmYWxzZScgOiBwYXRoLmlzV2ViaG9vayA/ICdmYWxzZScgOiAndHJ1ZSd9XCJcbiAgICAgICAgICBzY2hlbWEtaGlkZS13cml0ZS1vbmx5ID0gXCIke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seSA9PT0gJ25ldmVyJyA/ICdmYWxzZScgOiBwYXRoLmlzV2ViaG9vayA/ICd0cnVlJyA6ICdmYWxzZSd9XCJcbiAgICAgICAgICBmZXRjaC1jcmVkZW50aWFscyA9IFwiJHt0aGlzLmZldGNoQ3JlZGVudGlhbHN9XCJcbiAgICAgICAgICBleHBvcnRwYXJ0cyA9IFwid3JhcC1yZXF1ZXN0LWJ0bjp3cmFwLXJlcXVlc3QtYnRuLCBidG46YnRuLCBidG4tZmlsbDpidG4tZmlsbCwgYnRuLW91dGxpbmU6YnRuLW91dGxpbmUsIGJ0bi10cnk6YnRuLXRyeSwgYnRuLWNsZWFyOmJ0bi1jbGVhciwgYnRuLWNsZWFyLXJlc3A6YnRuLWNsZWFyLXJlc3AsXG4gICAgICAgICAgICBmaWxlLWlucHV0OmZpbGUtaW5wdXQsIHRleHRib3g6dGV4dGJveCwgdGV4dGJveC1wYXJhbTp0ZXh0Ym94LXBhcmFtLCB0ZXh0YXJlYTp0ZXh0YXJlYSwgdGV4dGFyZWEtcGFyYW06dGV4dGFyZWEtcGFyYW0sIFxuICAgICAgICAgICAgYW5jaG9yOmFuY2hvciwgYW5jaG9yLXBhcmFtLWV4YW1wbGU6YW5jaG9yLXBhcmFtLWV4YW1wbGUsIHNjaGVtYS1kZXNjcmlwdGlvbjpzY2hlbWEtZGVzY3JpcHRpb24sIHNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlOnNjaGVtYS1tdWx0aWxpbmUtdG9nZ2xlXCJcbiAgICAgICAgICA+IDwvYXBpLXJlcXVlc3Q+XG5cbiAgICAgICAgICAke3BhdGguY2FsbGJhY2tzID8gY2FsbGJhY2tUZW1wbGF0ZS5jYWxsKHRoaXMsIHBhdGguY2FsbGJhY2tzKSA6ICcnfVxuICAgICAgICA8L2Rpdj4gIFxuXG4gICAgICAgIDxhcGktcmVzcG9uc2VcbiAgICAgICAgICBjbGFzcyA9IFwiJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlXCJcbiAgICAgICAgICBzdHlsZSA9IFwid2lkdGg6MTAwJTtcIlxuICAgICAgICAgIHdlYmhvb2sgPSBcIiR7cGF0aC5pc1dlYmhvb2t9XCJcbiAgICAgICAgICAucmVzcG9uc2VzPVwiJHtwYXRoLnJlc3BvbnNlc31cIlxuICAgICAgICAgIGFjdGl2ZS1zY2hlbWEtdGFiID0gXCIke3RoaXMuZGVmYXVsdFNjaGVtYVRhYn1cIiBcbiAgICAgICAgICByZW5kZXItc3R5bGU9XCIke3RoaXMucmVuZGVyU3R5bGV9XCIgXG4gICAgICAgICAgc2NoZW1hLXN0eWxlPVwiJHt0aGlzLnNjaGVtYVN0eWxlfVwiXG4gICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9IFwiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfVwiXG4gICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gXCIke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH1cIlxuICAgICAgICAgIGFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlID0gXCIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX1cIlxuICAgICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9IFwiJHt0aGlzLnNjaGVtYUhpZGVSZWFkT25seSA9PT0gJ25ldmVyJyA/ICdmYWxzZScgOiBwYXRoLmlzV2ViaG9vayA/ICd0cnVlJyA6ICdmYWxzZSd9XCJcbiAgICAgICAgICBzY2hlbWEtaGlkZS13cml0ZS1vbmx5ID0gXCIke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seSA9PT0gJ25ldmVyJyA/ICdmYWxzZScgOiBwYXRoLmlzV2ViaG9vayA/ICdmYWxzZScgOiAndHJ1ZSd9XCJcbiAgICAgICAgICBzZWxlY3RlZC1zdGF0dXMgPSBcIiR7T2JqZWN0LmtleXMocGF0aC5yZXNwb25zZXMgfHwge30pWzBdIHx8ICcnfVwiXG4gICAgICAgICAgZXhwb3J0cGFydHMgPSBcImJ0bjpidG4sIGJ0bi1maWxsOmJ0bi1maWxsLCBidG4tb3V0bGluZTpidG4tb3V0bGluZSwgYnRuLXRyeTpidG4tdHJ5LCBmaWxlLWlucHV0OmZpbGUtaW5wdXQsIFxuICAgICAgICAgIHRleHRib3g6dGV4dGJveCwgdGV4dGJveC1wYXJhbTp0ZXh0Ym94LXBhcmFtLCB0ZXh0YXJlYTp0ZXh0YXJlYSwgdGV4dGFyZWEtcGFyYW06dGV4dGFyZWEtcGFyYW0sIGFuY2hvcjphbmNob3IsIGFuY2hvci1wYXJhbS1leGFtcGxlOmFuY2hvci1wYXJhbS1leGFtcGxlLCBidG4tY2xlYXItcmVzcDpidG4tY2xlYXItcmVzcCxcbiAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb246c2NoZW1hLWRlc2NyaXB0aW9uLCBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZTpzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZVwiXG4gICAgICAgID4gPC9hcGktcmVzcG9uc2U+XG4gICAgICA8L2Rpdj5cbiAgPC9kaXY+YDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW5kcG9pbnRUZW1wbGF0ZShzaG93RXhwYW5kQ29sbGFwc2UgPSB0cnVlLCBzaG93VGFncyA9IHRydWUsIHBhdGhzRXhwYW5kZWQgPSBmYWxzZSkge1xuICBpZiAoIXRoaXMucmVzb2x2ZWRTcGVjKSB7IHJldHVybiAnJzsgfVxuICByZXR1cm4gaHRtbGBcbiAgICAke3Nob3dFeHBhbmRDb2xsYXBzZVxuICAgICAgPyBodG1sYFxuICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7XCI+IFxuICAgICAgICAgIDxzcGFuIEBjbGljaz1cIiR7KGUpID0+IG9uRXhwYW5kQ29sbGFwc2VBbGwoZSwgJ2V4cGFuZC1hbGwnKX1cIiBzdHlsZT1cImNvbG9yOnZhcigtLXByaW1hcnktY29sb3IpOyBjdXJzb3I6cG9pbnRlcjtcIj5cbiAgICAgICAgICAgIEV4cGFuZCBhbGxcbiAgICAgICAgICA8L3NwYW4+IFxuICAgICAgICAgICZuYnNwO3wmbmJzcDsgXG4gICAgICAgICAgPHNwYW4gQGNsaWNrPVwiJHsoZSkgPT4gb25FeHBhbmRDb2xsYXBzZUFsbChlLCAnY29sbGFwc2UtYWxsJyl9XCIgc3R5bGU9XCJjb2xvcjp2YXIoLS1wcmltYXJ5LWNvbG9yKTsgY3Vyc29yOnBvaW50ZXI7XCIgPlxuICAgICAgICAgICAgQ29sbGFwc2UgYWxsXG4gICAgICAgICAgPC9zcGFuPiBcbiAgICAgICAgICAmbmJzcDsgc2VjdGlvbnNcbiAgICAgICAgPC9kaXY+YFxuICAgICAgOiAnJ1xuICAgIH1cbiAgICAke3RoaXMucmVzb2x2ZWRTcGVjLnRhZ3MubWFwKCh0YWcpID0+IGh0bWxgXG4gICAgICAke3Nob3dUYWdzXG4gICAgICAgID8gaHRtbGAgXG4gICAgICAgICAgPGRpdiBjbGFzcz0ncmVndWxhci1mb250IHNlY3Rpb24tZ2FwIHNlY3Rpb24tdGFnICR7dGFnLmV4cGFuZGVkID8gJ2V4cGFuZGVkJyA6ICdjb2xsYXBzZWQnfSc+IFxuICAgICAgICAgICAgPGRpdiBjbGFzcz0nc2VjdGlvbi10YWctaGVhZGVyJyBAY2xpY2s9XCIkeygpID0+IHsgdGFnLmV4cGFuZGVkID0gIXRhZy5leHBhbmRlZDsgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7IH19XCI+XG4gICAgICAgICAgICAgIDxkaXYgaWQ9JyR7dGFnLmVsZW1lbnRJZH0nIGNsYXNzPVwic3ViLXRpdGxlIHRhZ1wiIHN0eWxlPVwiY29sb3I6dmFyKC0tcHJpbWFyeS1jb2xvcilcIj4ke3RhZy5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdzZWN0aW9uLXRhZy1ib2R5Jz5cbiAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cIiR7dGFnLmVsZW1lbnRJZH1cIj48L3Nsb3Q+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWd1bGFyLWZvbnQgcmVndWxhci1mb250LXNpemUgbS1tYXJrZG93blwiIHN0eWxlPVwicGFkZGluZy1ib3R0b206MTJweFwiPlxuICAgICAgICAgICAgICAgICR7dW5zYWZlSFRNTChtYXJrZWQodGFnLmRlc2NyaXB0aW9uIHx8ICcnKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAke3RhZy5wYXRocy5maWx0ZXIoKHYpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRjaFBhdGhzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aElzSW5TZWFyY2godGhpcy5tYXRjaFBhdGhzLCB2LCB0aGlzLm1hdGNoVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pLm1hcCgocGF0aCkgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICA8c2VjdGlvbiBwYXJ0PVwic2VjdGlvbi1lbmRwb2ludFwiIGlkPScke3BhdGguZWxlbWVudElkfScgY2xhc3M9J20tZW5kcG9pbnQgcmVndWxhci1mb250ICR7cGF0aC5tZXRob2R9ICR7cGF0aHNFeHBhbmRlZCB8fCBwYXRoLmV4cGFuZGVkID8gJ2V4cGFuZGVkJyA6ICdjb2xsYXBzZWQnfSc+XG4gICAgICAgICAgICAgICAgICAke2VuZHBvaW50SGVhZFRlbXBsYXRlLmNhbGwodGhpcywgcGF0aCwgcGF0aHNFeHBhbmRlZCl9ICAgICAgXG4gICAgICAgICAgICAgICAgICAke3BhdGhzRXhwYW5kZWQgfHwgcGF0aC5leHBhbmRlZCA/IGVuZHBvaW50Qm9keVRlbXBsYXRlLmNhbGwodGhpcywgcGF0aCkgOiAnJ31cbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+YFxuICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgPGRpdiBjbGFzcz0nc2VjdGlvbi10YWctYm9keSc+XG4gICAgICAgICAgJHt0YWcucGF0aHMuZmlsdGVyKCh2KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXRjaFBhdGhzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXRoSXNJblNlYXJjaCh0aGlzLm1hdGNoUGF0aHMsIHYsIHRoaXMubWF0Y2hUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSkubWFwKChwYXRoKSA9PiBodG1sYFxuICAgICAgICAgICAgPHNlY3Rpb24gaWQ9JyR7cGF0aC5lbGVtZW50SWR9JyBjbGFzcz0nbS1lbmRwb2ludCByZWd1bGFyLWZvbnQgJHtwYXRoLm1ldGhvZH0gJHtwYXRoc0V4cGFuZGVkIHx8IHBhdGguZXhwYW5kZWQgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCd9Jz5cbiAgICAgICAgICAgICAgJHtlbmRwb2ludEhlYWRUZW1wbGF0ZS5jYWxsKHRoaXMsIHBhdGgsIHBhdGhzRXhwYW5kZWQpfSAgICAgIFxuICAgICAgICAgICAgICAke3BhdGhzRXhwYW5kZWQgfHwgcGF0aC5leHBhbmRlZCA/IGVuZHBvaW50Qm9keVRlbXBsYXRlLmNhbGwodGhpcywgcGF0aCkgOiAnJ31cbiAgICAgICAgICAgIDwvc2VjdGlvbj5gKVxuICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgICAgfVxuICBgKVxuICB9YDtcbn1cbi8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnbGl0JztcblxuLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2dvVGVtcGxhdGUoc3R5bGUpIHtcbnJldHVybiBodG1sYFxuICA8ZGl2IHN0eWxlPSR7c3R5bGV9PlxuICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIxIDAgNTExIDUxMlwiPlxuICAgICAgPHBhdGggZD1cIk0zNTEgNDExYTIwMiAyMDIgMCAwMS0zNTAgMCAyMDMgMjAzIDAgMDEzMzMtMjQgMjAzIDIwMyAwIDAxMTcgMjR6bTAgMFwiIGZpbGw9XCIjYWRjMTY1XCIvPlxuICAgICAgPHBhdGggZD1cIk0zMzQgMzg3YTIwMiAyMDIgMCAwMS0yMTYtNjkgMjAyIDIwMiAwIDAxMjE2IDY5em03OCAzMkg4NWE4IDggMCAwMS04LTggOCA4IDAgMDE4LThoMzI3YTggOCAwIDAxNyA4IDggOCAwIDAxLTcgOHptMCAwXCIgZmlsbD1cIiM5OWFhNTJcIi8+XG4gICAgICA8cGF0aCBkPVwiTTM3NCAzMzhsLTUgMzBhMjAyIDIwMiAwIDAxLTI0OC0yNDggMjAzIDIwMyAwIDAxMjUzIDIxOHptMCAwXCIgZmlsbD1cIiNmZmM3M2JcIi8+XG4gICAgICA8cGF0aCBkPVwiTTM3NCAzMzhhMjAyIDIwMiAwIDAxLTEwMC0xOTcgMjAzIDIwMyAwIDAxMTAwIDE5N3ptMzggODFsLTYtMi0yMzEtMjMxYTggOCAwIDAxMTEtMTFsMjMxIDIzMGE4IDggMCAwMS01IDE0em0wIDBcIiBmaWxsPVwiI2VmYjAyNVwiLz5cbiAgICAgIDxwYXRoIGQ9XCJNMzExIDE3NWMwIDc1IDQwIDE0MCAxMDEgMTc1YTIwMiAyMDIgMCAwMDAtMzUwIDIwMiAyMDIgMCAwMC0xMDEgMTc1em0wIDBcIiBmaWxsPVwiI2ZmOTAzZVwiLz5cbiAgICAgIDxwYXRoIGQ9XCJNNDEyIDQxOWE4IDggMCAwMS04LThWODVhOCA4IDAgMDExNSAwdjMyNmE4IDggMCAwMS03IDh6bTAgMFwiIGZpbGw9XCIjZTg3NDI1XCIvPlxuICAgIDwvc3ZnPlxuICA8L2Rpdj4gICAgXG5gO1xufVxuLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IGxvZ29UZW1wbGF0ZSBmcm9tICd+L3RlbXBsYXRlcy9sb2dvLXRlbXBsYXRlJztcblxuLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoZWFkZXJUZW1wbGF0ZSgpIHtcbiAgcmV0dXJuIGh0bWxgXG4gIDxoZWFkZXIgY2xhc3M9XCJyb3cgbWFpbi1oZWFkZXIgcmVndWxhci1mb250XCIgcGFydD1cInNlY3Rpb24taGVhZGVyXCIgc3R5bGU9XCJwYWRkaW5nOjhweCA0cHggOHB4IDRweDttaW4taGVpZ2h0OjQ4cHg7XCI+XG4gICAgPGRpdiBjbGFzcz1cIm9ubHktbGFyZ2Utc2NyZWVuLWZsZXhcIiBzdHlsZT1cImFsaWduLWl0ZW1zOiBjZW50ZXI7XCI+XG4gICAgICA8c2xvdCBuYW1lPVwibG9nb1wiIGNsYXNzPVwibG9nb1wiIHBhcnQ9XCJzZWN0aW9uLWxvZ29cIj5cbiAgICAgICAgJHtsb2dvVGVtcGxhdGUoJ2hlaWdodDozNnB4O3dpZHRoOjM2cHg7bWFyZ2luLWxlZnQ6NXB4Jyl9XG4gICAgICAgIDwhLS0gbS1sb2dvIHN0eWxlPVwiaGVpZ2h0OjM2cHg7d2lkdGg6MzZweDttYXJnaW4tbGVmdDo1cHhcIj48L20tbG9nbyAtLT5cbiAgICAgIDwvc2xvdD4gIFxuICAgICAgPGRpdiBjbGFzcz1cImhlYWRlci10aXRsZVwiIHBhcnQ9XCJsYWJlbC1oZWFkZXItdGl0bGVcIj4ke3RoaXMuaGVhZGluZ1RleHR9PC9kaXY+XG4gICAgPC9kaXY+ICBcbiAgICA8ZGl2IHN0eWxlPVwibWFyZ2luOiAwcHggOHB4O2Rpc3BsYXk6ZmxleDtmbGV4OjFcIj5cbiAgICAgICR7KHRoaXMuYWxsb3dTcGVjVXJsTG9hZCA9PT0gJ2ZhbHNlJylcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgPGlucHV0IGlkPVwic3BlYy11cmxcIiBcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgICBzdHlsZT1cImZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpXCIgXG4gICAgICAgICAgICBjbGFzcz1cImhlYWRlci1pbnB1dCBtb25vLWZvbnRcIlxuICAgICAgICAgICAgcGFydD1cInRleHRib3ggdGV4dGJveC1zcGVjLXVybFwiIFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTcGVjIFVSTFwiIFxuICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuc3BlY1VybCB8fCAnJ31cIiBcbiAgICAgICAgICAgIEBjaGFuZ2U9XCIke3RoaXMub25TcGVjVXJsQ2hhbmdlfVwiIFxuICAgICAgICAgICAgc3BlbGxjaGVjaz1cImZhbHNlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbjogNnB4IDVweCAwIC0yNHB4OyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpOyBjdXJzb3I6cG9pbnRlcjtcIj4mI3gyMWE5OzwvZGl2PiBcbiAgICAgICAgYFxuICAgICAgfSBcbiAgICAgICR7KHRoaXMuYWxsb3dTcGVjRmlsZUxvYWQgPT09ICdmYWxzZScpXG4gICAgICAgID8gJydcbiAgICAgICAgOiBodG1sYFxuICAgICAgICAgIDxpbnB1dCBpZD1cInNwZWMtZmlsZVwiIFxuICAgICAgICAgICAgcGFydCA9IFwiZmlsZS1pbnB1dFwiXG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiIFxuICAgICAgICAgICAgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIiBcbiAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLnNwZWNGaWxlIHx8ICcnfVwiIFxuICAgICAgICAgICAgQGNoYW5nZT1cIiR7dGhpcy5vblNwZWNGaWxlQ2hhbmdlfVwiIFxuICAgICAgICAgICAgc3BlbGxjaGVjaz1cImZhbHNlXCJcbiAgICAgICAgICAgPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtLWJ0biBwcmltYXJ5IG9ubHktbGFyZ2Utc2NyZWVuXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDoxMHB4O1wiIHBhcnQ9XCJidG4gYnRuLWZpbGxcIiBAY2xpY2s9XCIke3RoaXMub25GaWxlTG9hZENsaWNrfVwiPiBMT0NBTCBKU09OIEZJTEUgPC9idXR0b24+XG4gICAgICAgIGBcbiAgICAgIH1cbiAgICAgIDxzbG90IG5hbWU9XCJoZWFkZXJcIj48L3Nsb3Q+XG4gICAgICAkeyh0aGlzLmFsbG93U2VhcmNoID09PSAnZmFsc2UnIHx8ICdyZWFkIGZvY3VzZWQnLmluY2x1ZGVzKHRoaXMucmVuZGVyU3R5bGUpKVxuICAgICAgICA/ICcnXG4gICAgICAgIDogaHRtbGAgIFxuICAgICAgICAgIDxpbnB1dCBpZD1cInNlYXJjaFwiIGNsYXNzPVwiaGVhZGVyLWlucHV0XCIgdHlwZT1cInRleHRcIiBwYXJ0PVwidGV4dGJveCB0ZXh0Ym94LWhlYWRlci1maWx0ZXJcIiBwbGFjZWhvbGRlcj1cIkZpbHRlclwiIEBjaGFuZ2U9XCIke3RoaXMub25TZWFyY2hDaGFuZ2V9XCIgc3R5bGU9XCJtYXgtd2lkdGg6MTMwcHg7bWFyZ2luLWxlZnQ6MTBweDtcIiBzcGVsbGNoZWNrPVwiZmFsc2VcIiA+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbjogNnB4IDVweCAwIC0yNHB4OyBmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpOyBjdXJzb3I6cG9pbnRlcjtcIj4mI3gyMWE5OzwvZGl2PlxuICAgICAgICBgXG4gICAgICB9XG4gICAgICBcbiAgICAgICR7KHRoaXMuYWxsb3dBZHZhbmNlZFNlYXJjaCA9PT0gJ2ZhbHNlJyB8fCAncmVhZCBmb2N1c2VkJy5pbmNsdWRlcyh0aGlzLnJlbmRlclN0eWxlKSlcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm0tYnRuIHByaW1hcnkgb25seS1sYXJnZS1zY3JlZW5cIiBwYXJ0PVwiYnRuIGJ0bi1maWxsIGJ0bi1zZWFyY2hcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OjEwcHg7XCIgQGNsaWNrPVwiJHt0aGlzLm9uU2hvd1NlYXJjaE1vZGFsQ2xpY2tlZH1cIj5cbiAgICAgICAgICAgIFNlYXJjaFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgXG4gICAgICB9XG4gICAgPC9kaXY+XG4gICAgPC9oZWFkZXI+YDtcbiAgfVxuLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cbiIsImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyB1bnNhZmVIVE1MIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwuanMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9leHRlbnNpb25zXG5pbXBvcnQgeyBtYXJrZWQgfSBmcm9tICdtYXJrZWQnO1xuaW1wb3J0IHsgc2NoZW1hSW5PYmplY3ROb3RhdGlvbiwgZ2VuZXJhdGVFeGFtcGxlIH0gZnJvbSAnfi91dGlscy9zY2hlbWEtdXRpbHMnO1xuaW1wb3J0IEZvbnRTdHlsZXMgZnJvbSAnfi9zdHlsZXMvZm9udC1zdHlsZXMnO1xuaW1wb3J0IEZsZXhTdHlsZXMgZnJvbSAnfi9zdHlsZXMvZmxleC1zdHlsZXMnO1xuaW1wb3J0IFRhYmxlU3R5bGVzIGZyb20gJ34vc3R5bGVzL3RhYmxlLXN0eWxlcyc7XG5pbXBvcnQgSW5wdXRTdHlsZXMgZnJvbSAnfi9zdHlsZXMvaW5wdXQtc3R5bGVzJztcbmltcG9ydCBUYWJTdHlsZXMgZnJvbSAnfi9zdHlsZXMvdGFiLXN0eWxlcyc7XG5pbXBvcnQgQm9yZGVyU3R5bGVzIGZyb20gJ34vc3R5bGVzL2JvcmRlci1zdHlsZXMnO1xuaW1wb3J0IEN1c3RvbVN0eWxlcyBmcm9tICd+L3N0eWxlcy9jdXN0b20tc3R5bGVzJztcbmltcG9ydCAnfi9jb21wb25lbnRzL2pzb24tdHJlZSc7XG5pbXBvcnQgJ34vY29tcG9uZW50cy9zY2hlbWEtdHJlZSc7XG5pbXBvcnQgJ34vY29tcG9uZW50cy9zY2hlbWEtdGFibGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGlSZXNwb25zZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2VsZWN0ZWRTdGF0dXMgPSAnJztcbiAgICB0aGlzLmhlYWRlcnNGb3JFYWNoUmVzcFN0YXR1cyA9IHt9O1xuICAgIHRoaXMubWltZVJlc3BvbnNlc0ZvckVhY2hTdGF0dXMgPSB7fTtcbiAgICB0aGlzLmFjdGl2ZVNjaGVtYVRhYiA9ICdzY2hlbWEnO1xuICB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjYWxsYmFjazogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICAgIHdlYmhvb2s6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgICByZXNwb25zZXM6IHsgdHlwZTogT2JqZWN0IH0sXG4gICAgICBwYXJzZXI6IHsgdHlwZTogT2JqZWN0IH0sXG4gICAgICBzY2hlbWFTdHlsZTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1zdHlsZScgfSxcbiAgICAgIHJlbmRlclN0eWxlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAncmVuZGVyLXN0eWxlJyB9LFxuICAgICAgc2VsZWN0ZWRTdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzZWxlY3RlZC1zdGF0dXMnIH0sXG4gICAgICBzZWxlY3RlZE1pbWVUeXBlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2VsZWN0ZWQtbWltZS10eXBlJyB9LFxuICAgICAgYWN0aXZlU2NoZW1hVGFiOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWN0aXZlLXNjaGVtYS10YWInIH0sXG4gICAgICBzY2hlbWFFeHBhbmRMZXZlbDogeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ3NjaGVtYS1leHBhbmQtbGV2ZWwnIH0sXG4gICAgICBzY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkJyB9LFxuICAgICAgYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlJyB9LFxuICAgICAgc2NoZW1hSGlkZVJlYWRPbmx5OiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLWhpZGUtcmVhZC1vbmx5JyB9LFxuICAgICAgc2NoZW1hSGlkZVdyaXRlT25seTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1oaWRlLXdyaXRlLW9ubHknIH0sXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICBGb250U3R5bGVzLFxuICAgICAgRmxleFN0eWxlcyxcbiAgICAgIFRhYlN0eWxlcyxcbiAgICAgIFRhYmxlU3R5bGVzLFxuICAgICAgSW5wdXRTdHlsZXMsXG4gICAgICBCb3JkZXJTdHlsZXMsXG4gICAgICBjc3NgXG4gICAgICA6d2hlcmUoYnV0dG9uLCBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0sIFt0YWJpbmRleD1cIjBcIl0pOmZvY3VzLXZpc2libGUgeyBib3gtc2hhZG93OiB2YXIoLS1mb2N1cy1zaGFkb3cpOyB9XG4gICAgICA6d2hlcmUoaW5wdXRbdHlwZT1cInRleHRcIl0sIGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSwgc2VsZWN0LCB0ZXh0YXJlYSk6Zm9jdXMtdmlzaWJsZSB7IGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7IH1cbiAgICAgIC5yZXNwLWhlYWR7XG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgICAgIHBhZGRpbmc6MTZweCAwIDhweDtcbiAgICAgIH1cbiAgICAgIC5yZXNwLWhlYWQuZGl2aWRlcntcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgICAgIG1hcmdpbi10b3A6MTBweDtcbiAgICAgIH1cbiAgICAgIC5yZXNwLXN0YXR1c3sgXG4gICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XG4gICAgICAgIGZvbnQtc2l6ZTpjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyAxcHgpO1xuICAgICAgfVxuICAgICAgLnJlc3AtZGVzY3J7XG4gICAgICAgIGZvbnQtc2l6ZTpjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgKyAxcHgpO1xuICAgICAgICBjb2xvcjp2YXIoLS1saWdodC1mZyk7XG4gICAgICAgIHRleHQtYWxpZ246bGVmdDtcbiAgICAgIH1cbiAgICAgIC50b3AtZ2Fwe21hcmdpbi10b3A6MTZweDt9XG4gICAgICAuZXhhbXBsZS1wYW5lbHtcbiAgICAgICAgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7XG4gICAgICAgIG1hcmdpbjowO1xuICAgICAgfVxuICAgICAgLmZvY3VzZWQtbW9kZSxcbiAgICAgIC5yZWFkLW1vZGUge1xuICAgICAgICBwYWRkaW5nLXRvcDoyNHB4O1xuICAgICAgICBtYXJnaW4tdG9wOjEycHg7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBkYXNoZWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1gLFxuICAgICAgQ3VzdG9tU3R5bGVzLFxuICAgIF07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz1cImNvbCByZWd1bGFyLWZvbnQgcmVzcG9uc2UtcGFuZWwgJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiICR7dGhpcy5jYWxsYmFjayA9PT0gJ3RydWUnID8gJ3RpbnktdGl0bGUnIDogJ3JlcS1yZXMtdGl0bGUnfSBcIj4gXG4gICAgICAgICR7dGhpcy5jYWxsYmFjayA9PT0gJ3RydWUnID8gJ0NBTExCQUNLIFJFU1BPTlNFJyA6ICdSRVNQT05TRSd9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgICR7dGhpcy5yZXNwb25zZVRlbXBsYXRlKCl9XG4gICAgICA8ZGl2PiAgXG4gICAgPC9kaXY+ICBcbiAgICBgO1xuICB9XG5cbiAgcmVzZXRTZWxlY3Rpb24oKSB7XG4gICAgdGhpcy5zZWxlY3RlZFN0YXR1cyA9ICcnO1xuICAgIHRoaXMuc2VsZWN0ZWRNaW1lVHlwZSA9ICcnO1xuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG4gIHJlc3BvbnNlVGVtcGxhdGUoKSB7XG4gICAgaWYgKCF0aGlzLnJlc3BvbnNlcykgeyByZXR1cm4gJyc7IH1cbiAgICBmb3IgKGNvbnN0IHN0YXR1c0NvZGUgaW4gdGhpcy5yZXNwb25zZXMpIHtcbiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFN0YXR1cykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkU3RhdHVzID0gc3RhdHVzQ29kZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFsbE1pbWVSZXNwID0ge307XG4gICAgICBmb3IgKGNvbnN0IG1pbWVSZXNwIGluIHRoaXMucmVzcG9uc2VzW3N0YXR1c0NvZGVdPy5jb250ZW50KSB7XG4gICAgICAgIGNvbnN0IG1pbWVSZXNwT2JqID0gdGhpcy5yZXNwb25zZXNbc3RhdHVzQ29kZV0uY29udGVudFttaW1lUmVzcF07XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE1pbWVUeXBlKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZE1pbWVUeXBlID0gbWltZVJlc3A7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2VuZXJhdGUgU2NoZW1hXG4gICAgICAgIGNvbnN0IHNjaGVtYVRyZWUgPSBzY2hlbWFJbk9iamVjdE5vdGF0aW9uKG1pbWVSZXNwT2JqLnNjaGVtYSwge30pO1xuICAgICAgICAvLyBHZW5lcmF0ZSBFeGFtcGxlXG4gICAgICAgIGNvbnN0IHJlc3BFeGFtcGxlcyA9IGdlbmVyYXRlRXhhbXBsZShcbiAgICAgICAgICBtaW1lUmVzcE9iai5zY2hlbWEsXG4gICAgICAgICAgbWltZVJlc3AsXG4gICAgICAgICAgbWltZVJlc3BPYmouZXhhbXBsZXMsXG4gICAgICAgICAgbWltZVJlc3BPYmouZXhhbXBsZSxcbiAgICAgICAgICB0aGlzLmNhbGxiYWNrID09PSAndHJ1ZScgfHwgdGhpcy53ZWJob29rID09PSAndHJ1ZScgPyBmYWxzZSA6IHRydWUsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5uZWVkZWQtdGVybmFyeVxuICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPT09ICd0cnVlJyB8fCB0aGlzLndlYmhvb2sgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm5lZWRlZC10ZXJuYXJ5XG4gICAgICAgICAgbWltZVJlc3AuaW5jbHVkZXMoJ2pzb24nKSA/ICdqc29uJyA6ICd0ZXh0JyxcbiAgICAgICAgKTtcbiAgICAgICAgYWxsTWltZVJlc3BbbWltZVJlc3BdID0ge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLnJlc3BvbnNlc1tzdGF0dXNDb2RlXS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBleGFtcGxlczogcmVzcEV4YW1wbGVzLFxuICAgICAgICAgIHNlbGVjdGVkRXhhbXBsZTogcmVzcEV4YW1wbGVzWzBdPy5leGFtcGxlSWQgfHwgJycsXG4gICAgICAgICAgc2NoZW1hVHJlZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIC8vIEhlYWRlcnMgZm9yIGVhY2ggcmVzcG9uc2Ugc3RhdHVzXG4gICAgICBjb25zdCB0ZW1wSGVhZGVycyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5yZXNwb25zZXNbc3RhdHVzQ29kZV0/LmhlYWRlcnMpIHtcbiAgICAgICAgdGVtcEhlYWRlcnMucHVzaCh7IG5hbWU6IGtleSwgLi4udGhpcy5yZXNwb25zZXNbc3RhdHVzQ29kZV0uaGVhZGVyc1trZXldIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5oZWFkZXJzRm9yRWFjaFJlc3BTdGF0dXNbc3RhdHVzQ29kZV0gPSB0ZW1wSGVhZGVycztcbiAgICAgIHRoaXMubWltZVJlc3BvbnNlc0ZvckVhY2hTdGF0dXNbc3RhdHVzQ29kZV0gPSBhbGxNaW1lUmVzcDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAke09iamVjdC5rZXlzKHRoaXMucmVzcG9uc2VzKS5sZW5ndGggPiAxXG4gICAgICAgID8gaHRtbGA8ZGl2IGNsYXNzPSdyb3cnIHN0eWxlPSdmbGV4LXdyYXA6d3JhcCc+XG4gICAgICAgICAgJHtPYmplY3Qua2V5cyh0aGlzLnJlc3BvbnNlcykubWFwKChyZXNwU3RhdHVzKSA9PiBodG1sYFxuICAgICAgICAgICAgJHtyZXNwU3RhdHVzID09PSAnJCRyZWYnIC8vIFN3YWdnZXItQ2xpZW50IHBhcnNlciBjcmVhdGVzICckJHJlZicgb2JqZWN0IGlmIEpTT04gcmVmZXJlbmNlcyBhcmUgdXNlZCB0byBjcmVhdGUgcmVzcG9uc2VzIC0gdGhpcyBzaG91bGQgYmUgaWdub3JlZFxuICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiJHsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTdGF0dXMgPSByZXNwU3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNwb25zZXNbcmVzcFN0YXR1c10uY29udGVudCAmJiBPYmplY3Qua2V5cyh0aGlzLnJlc3BvbnNlc1tyZXNwU3RhdHVzXS5jb250ZW50KVswXSkge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNaW1lVHlwZSA9IE9iamVjdC5rZXlzKHRoaXMucmVzcG9uc2VzW3Jlc3BTdGF0dXNdLmNvbnRlbnQpWzBdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1pbWVUeXBlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz0nbS1idG4gc21hbGwgJHt0aGlzLnNlbGVjdGVkU3RhdHVzID09PSByZXNwU3RhdHVzID8gJ3ByaW1hcnknIDogJyd9J1xuICAgICAgICAgICAgICAgICAgcGFydD1cImJ0biAke3RoaXMuc2VsZWN0ZWRTdGF0dXMgPT09IHJlc3BTdGF0dXMgPyAnYnRuLXJlc3BvbnNlLXN0YXR1cyBidG4tc2VsZWN0ZWQtcmVzcG9uc2Utc3RhdHVzJyA6ICcgYnRuLXJlc3BvbnNlLXN0YXR1cyd9XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPSdtYXJnaW46IDhweCA0cHggMCAwJ1xuICAgICAgICAgICAgICAgID4gXG4gICAgICAgICAgICAgICAgICAke3Jlc3BTdGF0dXN9IFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPmBcbiAgICAgICAgICAgICAgfWApXG4gICAgICAgICAgfWBcbiAgICAgICAgOiBodG1sYDxzcGFuPiR7T2JqZWN0LmtleXModGhpcy5yZXNwb25zZXMpWzBdfTwvc3Bhbj5gXG4gICAgICB9XG4gICAgICA8L2Rpdj5cblxuICAgICAgJHtPYmplY3Qua2V5cyh0aGlzLnJlc3BvbnNlcykubWFwKChzdGF0dXMpID0+IGh0bWxgXG4gICAgICAgIDxkaXYgc3R5bGUgPSAnZGlzcGxheTogJHtzdGF0dXMgPT09IHRoaXMuc2VsZWN0ZWRTdGF0dXMgPyAnYmxvY2snIDogJ25vbmUnfScgPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b3AtZ2FwXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3AtZGVzY3IgbS1tYXJrZG93biBcIj4ke3Vuc2FmZUhUTUwobWFya2VkKHRoaXMucmVzcG9uc2VzW3N0YXR1c10/LmRlc2NyaXB0aW9uIHx8ICcnKSl9PC9zcGFuPlxuICAgICAgICAgICAgJHsodGhpcy5oZWFkZXJzRm9yRWFjaFJlc3BTdGF0dXNbc3RhdHVzXSAmJiB0aGlzLmhlYWRlcnNGb3JFYWNoUmVzcFN0YXR1c1tzdGF0dXNdPy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICA/IGh0bWxgJHt0aGlzLnJlc3BvbnNlSGVhZGVyTGlzdFRlbXBsYXRlKHRoaXMuaGVhZGVyc0ZvckVhY2hSZXNwU3RhdHVzW3N0YXR1c10pfWBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICR7T2JqZWN0LmtleXModGhpcy5taW1lUmVzcG9uc2VzRm9yRWFjaFN0YXR1c1tzdGF0dXNdKS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogaHRtbGAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLXBhbmVsIGNvbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItYnV0dG9ucyByb3dcIiBAY2xpY2s9XCIkeyhlKSA9PiB7IGlmIChlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdidXR0b24nKSB7IHRoaXMuYWN0aXZlU2NoZW1hVGFiID0gZS50YXJnZXQuZGF0YXNldC50YWI7IH0gfX1cIiA+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidGFiLWJ0biAke3RoaXMuYWN0aXZlU2NoZW1hVGFiID09PSAnZXhhbXBsZScgPyAnYWN0aXZlJyA6ICcnfVwiIGRhdGEtdGFiID0gJ2V4YW1wbGUnPkVYQU1QTEUgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidGFiLWJ0biAke3RoaXMuYWN0aXZlU2NoZW1hVGFiICE9PSAnZXhhbXBsZScgPyAnYWN0aXZlJyA6ICcnfVwiIGRhdGEtdGFiID0gJ3NjaGVtYScgPlNDSEVNQTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6MVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgJHtPYmplY3Qua2V5cyh0aGlzLm1pbWVSZXNwb25zZXNGb3JFYWNoU3RhdHVzW3N0YXR1c10pLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHNwYW4gY2xhc3M9J3NtYWxsLWZvbnQtc2l6ZSBncmF5LXRleHQnIHN0eWxlPSdhbGlnbi1zZWxmOmNlbnRlcjsgbWFyZ2luLXRvcDo4cHg7Jz4gJHtPYmplY3Qua2V5cyh0aGlzLm1pbWVSZXNwb25zZXNGb3JFYWNoU3RhdHVzW3N0YXR1c10pWzBdfSA8L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgICA6IGh0bWxgJHt0aGlzLm1pbWVUeXBlRHJvcGRvd25UZW1wbGF0ZShPYmplY3Qua2V5cyh0aGlzLm1pbWVSZXNwb25zZXNGb3JFYWNoU3RhdHVzW3N0YXR1c10pKX1gXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgJHt0aGlzLmFjdGl2ZVNjaGVtYVRhYiA9PT0gJ2V4YW1wbGUnXG4gICAgICAgICAgICAgICAgICA/IGh0bWxgPGRpdiBjbGFzcyA9J3RhYi1jb250ZW50IGNvbCcgc3R5bGUgPSAnZmxleDoxOyc+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLm1pbWVFeGFtcGxlVGVtcGxhdGUodGhpcy5taW1lUmVzcG9uc2VzRm9yRWFjaFN0YXR1c1tzdGF0dXNdW3RoaXMuc2VsZWN0ZWRNaW1lVHlwZV0pfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICAgICAgICA6IGh0bWxgPGRpdiBjbGFzcyA9J3RhYi1jb250ZW50IGNvbCcgc3R5bGUgPSAnZmxleDoxOyc+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLm1pbWVTY2hlbWFUZW1wbGF0ZSh0aGlzLm1pbWVSZXNwb25zZXNGb3JFYWNoU3RhdHVzW3N0YXR1c11bdGhpcy5zZWxlY3RlZE1pbWVUeXBlXSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1gKVxuICAgICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIHJlc3BvbnNlSGVhZGVyTGlzdFRlbXBsYXRlKHJlc3BIZWFkZXJzKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzoxNnB4IDAgOHB4IDBcIiBjbGFzcz1cInJlc3AtaGVhZGVycyBzbWFsbC1mb250LXNpemUgYm9sZC10ZXh0XCI+UkVTUE9OU0UgSEVBREVSUzwvZGl2PiBcbiAgICAgIDx0YWJsZSByb2xlPVwicHJlc2VudGF0aW9uXCIgc3R5bGU9XCJib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBtYXJnaW4tYm90dG9tOjE2cHg7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cylcIiBjbGFzcz1cInNtYWxsLWZvbnQtc2l6ZSBtb25vLWZvbnRcIj5cbiAgICAgICAgJHtyZXNwSGVhZGVycy5tYXAoKHYpID0+IGh0bWxgXG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzo4cHg7IHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsgbWluLXdpZHRoOjEyMHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XCI+XG4gICAgICAgICAgICAgICR7di5uYW1lIHx8ICcnfVxuICAgICAgICAgICAgPC90ZD4gXG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOjRweDsgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lOyBwYWRkaW5nOjAgNXB4OyBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tbGlnaHQtYm9yZGVyLWNvbG9yKTsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XCI+XG4gICAgICAgICAgICAgICR7di5zY2hlbWE/LnR5cGUgfHwgJyd9XG4gICAgICAgICAgICA8L3RkPiBcbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cInBhZGRpbmc6OHB4OyB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7IGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1saWdodC1ib3JkZXItY29sb3IpO3RleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibS1tYXJrZG93bi1zbWFsbCByZWd1bGFyLWZvbnRcIiA+JHt1bnNhZmVIVE1MKG1hcmtlZCh2LmRlc2NyaXB0aW9uIHx8ICcnKSl9PC9kaXY+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzo4cHg7IHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1wiPlxuICAgICAgICAgICAgICAke3Yuc2NoZW1hPy5leGFtcGxlIHx8ICcnfVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICBgKX1cbiAgICA8L3RhYmxlPmA7XG4gIH1cblxuICBtaW1lVHlwZURyb3Bkb3duVGVtcGxhdGUobWltZVR5cGVzKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c2VsZWN0IGFyaWEtbGFiZWw9J21pbWUgdHlwZXMnIEBjaGFuZ2U9XCIkeyhlKSA9PiB7IHRoaXMuc2VsZWN0ZWRNaW1lVHlwZSA9IGUudGFyZ2V0LnZhbHVlOyB9fVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOiAtMXB4OyB6LWluZGV4OjEnPlxuICAgICAgICAke21pbWVUeXBlcy5tYXAoKG1pbWVUeXBlKSA9PiBodG1sYDxvcHRpb24gdmFsdWU9JyR7bWltZVR5cGV9JyA/c2VsZWN0ZWQgPSAnJHttaW1lVHlwZSA9PT0gdGhpcy5zZWxlY3RlZE1pbWVUeXBlfSc+ICR7bWltZVR5cGV9IDwvb3B0aW9uPmApfVxuICAgICAgPC9zZWxlY3Q+YDtcbiAgfVxuXG4gIG9uU2VsZWN0RXhhbXBsZShlKSB7XG4gICAgY29uc3QgZXhhbXBsZUNvbnRhaW5lckVsID0gZS50YXJnZXQuY2xvc2VzdCgnLmV4YW1wbGUtcGFuZWwnKTtcbiAgICBjb25zdCBleGFtcGxlRWxzID0gWy4uLmV4YW1wbGVDb250YWluZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcuZXhhbXBsZScpXTtcblxuICAgIGV4YW1wbGVFbHMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgdi5zdHlsZS5kaXNwbGF5ID0gdi5kYXRhc2V0LmV4YW1wbGUgPT09IGUudGFyZ2V0LnZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB9KTtcbiAgfVxuXG4gIG1pbWVFeGFtcGxlVGVtcGxhdGUobWltZVJlc3BEZXRhaWxzKSB7XG4gICAgaWYgKCFtaW1lUmVzcERldGFpbHMpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8cHJlIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpJyBjbGFzcyA9ICcke3RoaXMucmVuZGVyU3R5bGUgPT09ICdyZWFkJyA/ICdyZWFkIGV4YW1wbGUtcGFuZWwgYm9yZGVyIHBhZC04LTE2JyA6ICdleGFtcGxlLXBhbmVsIGJvcmRlci10b3AnfSc+IE5vIGV4YW1wbGUgcHJvdmlkZWQgPC9wcmU+XG4gICAgICBgO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgICR7bWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgJHttaW1lUmVzcERldGFpbHMuZXhhbXBsZXNbMF0uZXhhbXBsZUZvcm1hdCA9PT0gJ2pzb24nXG4gICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICR7bWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVTdW1tYXJ5ICYmIG1pbWVSZXNwRGV0YWlscy5leGFtcGxlc1swXS5leGFtcGxlU3VtbWFyeS5sZW5ndGggPiA4MCA/IGh0bWxgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDRweCAwXCI+ICR7bWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVTdW1tYXJ5fSA8L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICAgICR7bWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVEZXNjcmlwdGlvbiA/IGh0bWxgPGRpdiBjbGFzcz1cIm0tbWFya2Rvd24tc21hbGxcIiBzdHlsZT1cInBhZGRpbmc6IDRweCAwXCI+ICR7dW5zYWZlSFRNTChtYXJrZWQobWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVEZXNjcmlwdGlvbiB8fCAnJykpfSA8L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICAgIDxqc29uLXRyZWUgXG4gICAgICAgICAgICAgICAgcmVuZGVyLXN0eWxlID0gJyR7dGhpcy5yZW5kZXJTdHlsZX0nXG4gICAgICAgICAgICAgICAgLmRhdGE9XCIke21pbWVSZXNwRGV0YWlscy5leGFtcGxlc1swXS5leGFtcGxlVmFsdWV9XCJcbiAgICAgICAgICAgICAgICBjbGFzcyA9ICdleGFtcGxlLXBhbmVsICR7dGhpcy5yZW5kZXJTdHlsZSA9PT0gJ3JlYWQnID8gJ2JvcmRlciBwYWQtOC0xNicgOiAnYm9yZGVyLXRvcCBwYWQtdG9wLTgnfSdcbiAgICAgICAgICAgICAgICBleHBvcnRwYXJ0cyA9IFwiYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1jb3B5OmJ0bi1jb3B5XCIgXG4gICAgICAgICAgICAgID48L2pzb24tdHJlZT5gXG4gICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICR7bWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVTdW1tYXJ5ICYmIG1pbWVSZXNwRGV0YWlscy5leGFtcGxlc1swXS5leGFtcGxlU3VtbWFyeS5sZW5ndGggPiA4MCA/IGh0bWxgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDRweCAwXCI+ICR7bWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVTdW1tYXJ5fSA8L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICAgICR7bWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVEZXNjcmlwdGlvbiA/IGh0bWxgPGRpdiBjbGFzcz1cIm0tbWFya2Rvd24tc21hbGxcIiBzdHlsZT1cInBhZGRpbmc6IDRweCAwXCI+ICR7dW5zYWZlSFRNTChtYXJrZWQobWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVEZXNjcmlwdGlvbiB8fCAnJykpfSA8L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICAgIDxwcmUgY2xhc3MgPSAnZXhhbXBsZS1wYW5lbCAke3RoaXMucmVuZGVyU3R5bGUgPT09ICdyZWFkJyA/ICdib3JkZXIgcGFkLTgtMTYnIDogJ2JvcmRlci10b3AgcGFkLXRvcC04J30nPiR7bWltZVJlc3BEZXRhaWxzLmV4YW1wbGVzWzBdLmV4YW1wbGVWYWx1ZX08L3ByZT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICB9YFxuICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgPHNwYW4gY2xhc3MgPSAnZXhhbXBsZS1wYW5lbCAke3RoaXMucmVuZGVyU3R5bGUgPT09ICdyZWFkJyA/ICdib3JkZXIgcGFkLTgtMTYnIDogJ2JvcmRlci10b3AgcGFkLXRvcC04J30nPlxuICAgICAgICAgICAgPHNlbGVjdCBhcmlhLWxhYmVsPSdyZXNwb25zZSBleGFtcGxlcycgc3R5bGU9XCJtaW4td2lkdGg6MTAwcHg7IG1heC13aWR0aDoxMDAlXCIgQGNoYW5nZT0nJHsoZSkgPT4gdGhpcy5vblNlbGVjdEV4YW1wbGUoZSl9Jz5cbiAgICAgICAgICAgICAgJHttaW1lUmVzcERldGFpbHMuZXhhbXBsZXMubWFwKCh2KSA9PiBodG1sYDxvcHRpb24gdmFsdWU9XCIke3YuZXhhbXBsZUlkfVwiID9zZWxlY3RlZD0ke3YuZXhhbXBsZUlkID09PSBtaW1lUmVzcERldGFpbHMuc2VsZWN0ZWRFeGFtcGxlfSA+IFxuICAgICAgICAgICAgICAgICR7di5leGFtcGxlU3VtbWFyeS5sZW5ndGggPiA4MCA/IHYuZXhhbXBsZUlkIDogdi5leGFtcGxlU3VtbWFyeX0gXG4gICAgICAgICAgICAgIDwvb3B0aW9uPmApfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAke21pbWVSZXNwRGV0YWlscy5leGFtcGxlcy5tYXAoKHYpID0+IGh0bWxgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJleGFtcGxlXCIgZGF0YS1leGFtcGxlID0gJyR7di5leGFtcGxlSWR9JyBzdHlsZSA9IFwiZGlzcGxheTogJHt2LmV4YW1wbGVJZCA9PT0gbWltZVJlc3BEZXRhaWxzLnNlbGVjdGVkRXhhbXBsZSA/ICdibG9jaycgOiAnbm9uZSd9XCI+XG4gICAgICAgICAgICAgICAgJHt2LmV4YW1wbGVTdW1tYXJ5ICYmIHYuZXhhbXBsZVN1bW1hcnkubGVuZ3RoID4gODAgPyBodG1sYDxkaXYgc3R5bGU9XCJwYWRkaW5nOiA0cHggMFwiPiAke3YuZXhhbXBsZVN1bW1hcnl9IDwvZGl2PmAgOiAnJ31cbiAgICAgICAgICAgICAgICAke3YuZXhhbXBsZURlc2NyaXB0aW9uID8gaHRtbGA8ZGl2IGNsYXNzPVwibS1tYXJrZG93bi1zbWFsbFwiICBzdHlsZT1cInBhZGRpbmc6IDRweCAwXCI+ICR7dW5zYWZlSFRNTChtYXJrZWQodi5leGFtcGxlRGVzY3JpcHRpb24gfHwgJycpKX0gPC9kaXY+YCA6ICcnfVxuICAgICAgICAgICAgICAgICR7di5leGFtcGxlRm9ybWF0ID09PSAnanNvbidcbiAgICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGpzb24tdHJlZSBcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXItc3R5bGUgPSAnJHt0aGlzLnJlbmRlclN0eWxlfSdcbiAgICAgICAgICAgICAgICAgICAgICAuZGF0YSA9ICcke3YuZXhhbXBsZVZhbHVlfSdcbiAgICAgICAgICAgICAgICAgICAgICBleHBvcnRwYXJ0cyA9IFwiYnRuOmJ0biwgYnRuLWZpbGw6YnRuLWZpbGwsIGJ0bi1jb3B5OmJ0bi1jb3B5XCIgXG4gICAgICAgICAgICAgICAgICAgID48L2pzb24tdHJlZT5gXG4gICAgICAgICAgICAgICAgICA6IGh0bWxgPHByZT4ke3YuZXhhbXBsZVZhbHVlfTwvcHJlPmBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICBgKX1cbiAgICAgICAgICA8L3NwYW4+ICBcbiAgICAgICAgYFxuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBtaW1lU2NoZW1hVGVtcGxhdGUobWltZVJlc3BEZXRhaWxzKSB7XG4gICAgaWYgKCFtaW1lUmVzcERldGFpbHMpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8cHJlIHN0eWxlPSdjb2xvcjp2YXIoLS1yZWQpJyBjbGFzcyA9ICcke3RoaXMucmVuZGVyU3R5bGUgPT09ICdyZWFkJyA/ICdib3JkZXIgcGFkLTgtMTYnIDogJ2JvcmRlci10b3AnfSc+IFNjaGVtYSBub3QgZm91bmQ8L3ByZT5cbiAgICAgIGA7XG4gICAgfVxuICAgIHJldHVybiBodG1sYFxuICAgICAgJHt0aGlzLnNjaGVtYVN0eWxlID09PSAndGFibGUnXG4gICAgICAgID8gaHRtbGBcbiAgICAgICAgICA8c2NoZW1hLXRhYmxlXG4gICAgICAgICAgICAuZGF0YSA9IFwiJHttaW1lUmVzcERldGFpbHMuc2NoZW1hVHJlZX1cIlxuICAgICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9IFwiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfVwiXG4gICAgICAgICAgICBzY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kZWQgPSBcIiR7dGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkfVwiXG4gICAgICAgICAgICBhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZSA9IFwiJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9XCJcbiAgICAgICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9IFwiJHt0aGlzLnNjaGVtYUhpZGVSZWFkT25seX1cIlxuICAgICAgICAgICAgc2NoZW1hLWhpZGUtd3JpdGUtb25seSA9IFwiJHt0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHl9XCJcbiAgICAgICAgICAgIGV4cG9ydHBhcnRzID0gXCJzY2hlbWEtZGVzY3JpcHRpb246c2NoZW1hLWRlc2NyaXB0aW9uLCBzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZTpzY2hlbWEtbXVsdGlsaW5lLXRvZ2dsZVwiXG4gICAgICAgICAgPiA8L3NjaGVtYS10YWJsZT4gYFxuICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgPHNjaGVtYS10cmVlXG4gICAgICAgICAgICAuZGF0YSA9ICcke21pbWVSZXNwRGV0YWlscy5zY2hlbWFUcmVlfSdcbiAgICAgICAgICAgIHNjaGVtYS1leHBhbmQtbGV2ZWwgPSBcIiR7dGhpcy5zY2hlbWFFeHBhbmRMZXZlbH1cIlxuICAgICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gXCIke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH1cIlxuICAgICAgICAgICAgYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUgPSBcIiR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfVwiXG4gICAgICAgICAgICBzY2hlbWEtaGlkZS1yZWFkLW9ubHkgPSBcIiR7dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHl9XCJcbiAgICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSBcIiR7dGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5fVwiXG4gICAgICAgICAgICBleHBvcnRwYXJ0cyA9IFwic2NoZW1hLWRlc2NyaXB0aW9uOnNjaGVtYS1kZXNjcmlwdGlvbiwgc2NoZW1hLW11bHRpbGluZS10b2dnbGU6c2NoZW1hLW11bHRpbGluZS10b2dnbGVcIlxuICAgICAgICAgID4gPC9zY2hlbWEtdHJlZT5gXG4gICAgICB9YDtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xufVxuXG4vLyBSZWdpc3RlciB0aGUgZWxlbWVudCB3aXRoIHRoZSBicm93c2VyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2FwaS1yZXNwb25zZScsIEFwaVJlc3BvbnNlKTtcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0ICd+L2NvbXBvbmVudHMvZGlhbG9nLWJveCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VhcmNoQnlQcm9wZXJ0aWVzTW9kYWxUZW1wbGF0ZSgpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB7IHRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoRGlhbG9nID0gZmFsc2U7IH0pO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgdGhpcy5vbk9wZW5TZWFyY2hEaWFsb2cpO1xuXG4gIHJldHVybiBodG1sYFxuICAgIDxkaWFsb2ctYm94IFxuICAgICAgaGVhZGluZz1cIlNlYXJjaFwiIFxuICAgICAgc2hvdz1cIiR7KCEhdGhpcy5zaG93QWR2YW5jZWRTZWFyY2hEaWFsb2cpfVwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3M9XCJhZHZhbmNlZC1zZWFyY2gtb3B0aW9uc1wiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBzdHlsZT1cIndpZHRoOjEwMCU7IHBhZGRpbmctcmlnaHQ6MjBweDtcIlxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBwYXJ0PVwidGV4dGJveCB0ZXh0Ym94LXNlYXJjaC1kaWFsb2dcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwic2VhcmNoIHRleHQuLi5cIlxuICAgICAgICAgIHNwZWxsY2hlY2s9XCJmYWxzZVwiXG4gICAgICAgICAgQGtleXVwID0gXCIkeyhlKSA9PiB0aGlzLm9uQWR2YW5jZWRTZWFyY2goZSwgNDAwKX1cIlxuICAgICAgICA+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IG1hcmdpbjo4cHggMCAyNHB4O1wiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aW5wdXQgc3R5bGU9XCJjdXJzb3I6cG9pbnRlcjtcIiB0eXBlPVwiY2hlY2tib3hcIiBwYXJ0PVwiY2hlY2tib3ggY2hlY2tib3gtc2VhcmNoLWRpYWxvZ1wiIGlkPVwic2VhcmNoLWFwaS1wYXRoXCIgY2hlY2tlZCBAY2hhbmdlID0gXCIkeyhlKSA9PiB0aGlzLm9uQWR2YW5jZWRTZWFyY2goZSwgMCl9XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwic2VhcmNoLWFwaS1wYXRoXCIgc3R5bGU9XCJjdXJzb3I6cG9pbnRlcjtcIj4gQVBJIFBhdGggPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tbGVmdDogMTZweDtcIj5cbiAgICAgICAgICAgIDxpbnB1dCBzdHlsZT1cImN1cnNvcjpwb2ludGVyO1wiIHR5cGU9XCJjaGVja2JveFwiIHBhcnQ9XCJjaGVja2JveCBjaGVja2JveC1zZWFyY2gtZGlhbG9nXCIgaWQ9XCJzZWFyY2gtYXBpLWRlc2NyXCIgY2hlY2tlZCBAY2hhbmdlID0gXCIkeyhlKSA9PiB0aGlzLm9uQWR2YW5jZWRTZWFyY2goZSwgMCl9XCI+XG4gICAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJjdXJzb3I6cG9pbnRlcjtcIiBmb3I9XCJzZWFyY2gtYXBpLWRlc2NyXCI+IEFQSSBEZXNjcmlwdGlvbiA8L2xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tbGVmdDogMTZweDtcIj5cbiAgICAgICAgICAgIDxpbnB1dCBzdHlsZT1cImN1cnNvcjpwb2ludGVyO1wiIHR5cGU9XCJjaGVja2JveFwiIHBhcnQ9XCJjaGVja2JveCBjaGVja2JveC1zZWFyY2gtZGlhbG9nXCIgaWQ9XCJzZWFyY2gtYXBpLXBhcmFtc1wiIEBjaGFuZ2UgPSBcIiR7KGUpID0+IHRoaXMub25BZHZhbmNlZFNlYXJjaChlLCAwKX1cIj5cbiAgICAgICAgICAgIDxsYWJlbCBzdHlsZT1cImN1cnNvcjpwb2ludGVyO1wiIGZvcj1cInNlYXJjaC1hcGktcGFyYW1zXCI+IEFQSSBQYXJhbWV0ZXJzIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAxNnB4O1wiPlxuICAgICAgICAgICAgPGlucHV0IHN0eWxlPVwiY3Vyc29yOnBvaW50ZXI7XCIgdHlwZT1cImNoZWNrYm94XCIgcGFydD1cImNoZWNrYm94IGNoZWNrYm94LXNlYXJjaC1kaWFsb2dcIiBpZD1cInNlYXJjaC1hcGktcmVxdWVzdC1ib2R5XCIgQGNoYW5nZSA9IFwiJHsoZSkgPT4gdGhpcy5vbkFkdmFuY2VkU2VhcmNoKGUsIDApfVwiPlxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPVwiY3Vyc29yOnBvaW50ZXI7XCIgZm9yPVwic2VhcmNoLWFwaS1yZXF1ZXN0LWJvZHlcIj4gUmVxdWVzdCBCb2R5IFBhcmFtZXRlcnMgPC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLWxlZnQ6IDE2cHg7XCI+XG4gICAgICAgICAgICA8aW5wdXQgc3R5bGU9XCJjdXJzb3I6cG9pbnRlcjtcIiB0eXBlPVwiY2hlY2tib3hcIiBwYXJ0PVwiY2hlY2tib3ggY2hlY2tib3gtc2VhcmNoLWRpYWxvZ1wiIGlkPVwic2VhcmNoLWFwaS1yZXNwLWRlc2NyXCIgQGNoYW5nZSA9IFwiJHsoZSkgPT4gdGhpcy5vbkFkdmFuY2VkU2VhcmNoKGUsIDApfVwiPlxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPVwiY3Vyc29yOnBvaW50ZXI7XCIgZm9yPVwic2VhcmNoLWFwaS1yZXNwLWRlc2NyXCI+IFJlc3BvbnNlIERlc2NyaXB0aW9uIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zcGFuPlxuICAgICAgXG4gICAgICAke3RoaXMuYWR2YW5jZWRTZWFyY2hNYXRjaGVzPy5tYXAoKHBhdGgpID0+IGh0bWxgXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwibW9uby1mb250IHNtYWxsLWZvbnQtc2l6ZSBob3Zlci1iZ1wiXG4gICAgICAgIHN0eWxlPSdwYWRkaW5nOiA1cHg7IGN1cnNvcjogcG9pbnRlcjsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWxpZ2h0LWJvcmRlci1jb2xvcik7ICR7cGF0aC5kZXByZWNhdGVkID8gJ2ZpbHRlcjpvcGFjaXR5KDAuNSk7JyA6ICcnfScgXG4gICAgICAgIGRhdGEtY29udGVudC1pZD0nJHtwYXRoLmVsZW1lbnRJZH0nXG4gICAgICAgIHRhYmluZGV4ID0gJzAnXG4gICAgICAgIEBjbGljaz1cIiR7XG4gICAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hQYXRocyA9ICcnOyAvLyBjbGVhciBxdWljayBmaWx0ZXIgaWYgYXBwbGllZFxuICAgICAgICAgICAgdGhpcy5zaG93QWR2YW5jZWRTZWFyY2hEaWFsb2cgPSBmYWxzZTsgLy8gSGlkZSBTZWFyY2ggRGlhbG9nXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9FdmVudFRhcmdldChlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cIlxuICAgICAgPiBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ1cHBlciBib2xkLXRleHQgbWV0aG9kLWZnICR7cGF0aC5tZXRob2R9XCI+JHtwYXRoLm1ldGhvZH08L3NwYW4+IFxuICAgICAgICA8c3Bhbj4ke3BhdGgucGF0aH08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwicmVndWxhci1mb250IGdyYXktdGV4dFwiPiR7cGF0aC5zdW1tYXJ5fTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIGApXG4gICAgfVxuICAgIDwvZGlhbG9nLWJveD5cbiAgYDtcbn1cbi8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG4iLCJpbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCBEaWFsb2dCb3hTdHlsZXMgZnJvbSAnfi9zdHlsZXMvZGlhbG9nLWJveC1zdHlsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWFsb2dCb3ggZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBoZWFkaW5nOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnaGVhZGluZycgfSxcbiAgICAgIHNob3c6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzaG93JyB9LFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gW0RpYWxvZ0JveFN0eWxlc107XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKGUuY29kZSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsLCBuZXdWYWwpIHtcbiAgICBpZiAob2xkVmFsICE9PSBuZXdWYWwpIHtcbiAgICAgIGlmIChuYW1lID09PSAnaGVhZGluZycpIHtcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gbmV3VmFsO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUgPT09ICdzaG93Jykge1xuICAgICAgICB0aGlzLnNob3cgPSBuZXdWYWw7XG4gICAgICAgIGlmIChuZXdWYWwgPT09ICd0cnVlJykge1xuICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdvcGVuJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB0aGlzLFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsLCBuZXdWYWwpO1xuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAke3RoaXMuc2hvdyA9PT0gJ3RydWUnXG4gICAgICA/IGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctYm94LW92ZXJsYXlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWJveFwiPlxuICAgICAgICAgICAgPGhlYWRlciBjbGFzcz1cImRpYWxvZy1ib3gtaGVhZGVyXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGlhbG9nLWJveC10aXRsZVwiPiR7dGhpcy5oZWFkaW5nfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgQGNsaWNrPVwiJHt0aGlzLm9uQ2xvc2V9XCI+JnRpbWVzOzwvYnV0dG9uPlxuICAgICAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWJveC1jb250ZW50XCI+XG4gICAgICAgICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gXG4gICAgICA6ICcnXG4gICAgfWA7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cblxuICBvbkNsb3NlKCkge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjbG9zZScsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICB9KSk7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkaWFsb2ctYm94JywgRGlhbG9nQm94KTtcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IENvbG9yVXRpbHMgZnJvbSAnfi91dGlscy9jb2xvci11dGlscyc7XG4vKiBHZW5lcmF0ZXMgYW4gc2NoZW1hIG9iamVjdCBjb250YWluaW5nIHR5cGUgYW5kIGNvbnN0cmFpbnQgaW5mbyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0VGhlbWUoYmFzZVRoZW1lLCB0aGVtZSA9IHt9KSB7XG4gIGxldCBuZXdUaGVtZSA9IHt9O1xuXG4gIC8vIENvbW1vbiBUaGVtZSBjb2xvcnNcbiAgY29uc3QgcHJpbWFyeUNvbG9yID0gdGhlbWUucHJpbWFyeUNvbG9yID8gdGhlbWUucHJpbWFyeUNvbG9yIDogYmFzZVRoZW1lID09PSAnZGFyaycgPyAnI2Y3NmIzOScgOiAnI2ZmNTkxZSc7XG4gIGNvbnN0IHByaW1hcnlDb2xvckludmVydCA9IENvbG9yVXRpbHMuY29sb3IuaW52ZXJ0KHByaW1hcnlDb2xvcik7XG4gIGNvbnN0IHByaW1hcnlDb2xvclRyYW5zID0gQ29sb3JVdGlscy5jb2xvci5vcGFjaXR5KHByaW1hcnlDb2xvciwgJzAuNCcpO1xuXG4gIC8vIERhcmsgYW5kIExpZ2h0IFRoZW1lIGNvbG9yc1xuICBpZiAoYmFzZVRoZW1lID09PSAnZGFyaycpIHtcbiAgICBjb25zdCBiZzEgPSB0aGVtZS5iZzEgPyB0aGVtZS5iZzEgOiAnIzJhMmIyYyc7XG4gICAgY29uc3QgZmcxID0gdGhlbWUuZmcxID8gdGhlbWUuZmcxIDogJyNiYmInO1xuXG4gICAgY29uc3QgYmcyID0gdGhlbWUuYmcyID8gdGhlbWUuYmcyIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGJnMSwgNSk7IC8vIG9yICMzODM4Mzg7XG4gICAgY29uc3QgYmczID0gdGhlbWUuYmczID8gdGhlbWUuYmczIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGJnMSwgMTcpOyAvLyBvciAjNDQ0O1xuICAgIGNvbnN0IGxpZ2h0QmcgPSB0aGVtZS5iZzMgPyB0aGVtZS5iZzMgOiBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAzNSk7XG4gICAgY29uc3QgZmcyID0gdGhlbWUuZmcyID8gdGhlbWUuZmcyIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGZnMSwgLTE1KTsgLy8gb3IgI2FiYWJhYlxuICAgIGNvbnN0IGZnMyA9IHRoZW1lLmZnMyA/IHRoZW1lLmZnMyA6IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhmZzEsIC0yMCk7IC8vIG9yICNhYWFcbiAgICBjb25zdCBsaWdodEZnID0gdGhlbWUuZmczID8gdGhlbWUuZmczIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGZnMSwgLTY1KTsgLy8gb3IgIzc3N1xuICAgIGNvbnN0IGlubGluZUNvZGVGZyA9IHRoZW1lLmlubGluZUNvZGVGZyA/IHRoZW1lLmlubGluZUNvZGVGZyA6ICcjYWFhJztcbiAgICBjb25zdCBzZWxlY3Rpb25CZyA9ICcjYmJiJztcbiAgICBjb25zdCBzZWxlY3Rpb25GZyA9ICcjZWVlJztcblxuICAgIGNvbnN0IGhlYWRlckNvbG9yID0gdGhlbWUuaGVhZGVyQ29sb3IgPyB0aGVtZS5oZWFkZXJDb2xvciA6IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIDEwKTtcblxuICAgIGNvbnN0IG5hdkJnQ29sb3IgPSB0aGVtZS5uYXZCZ0NvbG9yID8gdGhlbWUubmF2QmdDb2xvciA6IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIDEwKTtcbiAgICBjb25zdCBuYXZUZXh0Q29sb3IgPSB0aGVtZS5uYXZUZXh0Q29sb3IgPyB0aGVtZS5uYXZUZXh0Q29sb3IgOiBDb2xvclV0aWxzLmNvbG9yLm9wYWNpdHkoQ29sb3JVdGlscy5jb2xvci5pbnZlcnQobmF2QmdDb2xvciksICcwLjUwJyk7XG4gICAgY29uc3QgbmF2SG92ZXJCZ0NvbG9yID0gdGhlbWUubmF2SG92ZXJCZ0NvbG9yID8gdGhlbWUubmF2SG92ZXJCZ0NvbG9yIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKG5hdkJnQ29sb3IsIC0xNSk7XG4gICAgY29uc3QgbmF2SG92ZXJUZXh0Q29sb3IgPSB0aGVtZS5uYXZIb3ZlclRleHRDb2xvciA/IHRoZW1lLm5hdkhvdmVyVGV4dENvbG9yIDogQ29sb3JVdGlscy5jb2xvci5pbnZlcnQobmF2QmdDb2xvcik7XG4gICAgY29uc3QgbmF2QWNjZW50Q29sb3IgPSB0aGVtZS5uYXZBY2NlbnRDb2xvciA/IHRoZW1lLm5hdkFjY2VudENvbG9yIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKHByaW1hcnlDb2xvciwgMjUpO1xuICAgIGNvbnN0IG5hdkFjY2VudFRleHRDb2xvciA9IHRoZW1lLm5hdkFjY2VudFRleHRDb2xvciA/IHRoZW1lLm5hdkFjY2VudHRleHRDb2xvciA6IENvbG9yVXRpbHMuY29sb3IuaW52ZXJ0KG5hdkFjY2VudENvbG9yKTtcblxuICAgIGNvbnN0IG92ZXJsYXlCZyA9ICdyZ2JhKDgwLCA4MCwgODAsIDAuNCknO1xuXG4gICAgbmV3VGhlbWUgPSB7XG4gICAgICBiZzEsXG4gICAgICBiZzIsXG4gICAgICBiZzMsXG4gICAgICBsaWdodEJnLFxuICAgICAgZmcxLFxuICAgICAgZmcyLFxuICAgICAgZmczLFxuICAgICAgbGlnaHRGZyxcbiAgICAgIGlubGluZUNvZGVGZyxcbiAgICAgIHByaW1hcnlDb2xvcixcbiAgICAgIHByaW1hcnlDb2xvclRyYW5zLFxuICAgICAgcHJpbWFyeUNvbG9ySW52ZXJ0LFxuICAgICAgc2VsZWN0aW9uQmcsXG4gICAgICBzZWxlY3Rpb25GZyxcbiAgICAgIG92ZXJsYXlCZyxcbiAgICAgIG5hdkJnQ29sb3IsXG4gICAgICBuYXZUZXh0Q29sb3IsXG4gICAgICBuYXZIb3ZlckJnQ29sb3IsXG4gICAgICBuYXZIb3ZlclRleHRDb2xvcixcbiAgICAgIG5hdkFjY2VudENvbG9yLFxuICAgICAgbmF2QWNjZW50VGV4dENvbG9yLFxuICAgICAgaGVhZGVyQ29sb3IsXG4gICAgICBoZWFkZXJDb2xvckludmVydDogQ29sb3JVdGlscy5jb2xvci5pbnZlcnQoaGVhZGVyQ29sb3IpLFxuICAgICAgaGVhZGVyQ29sb3JEYXJrZXI6IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhoZWFkZXJDb2xvciwgLTIwKSxcbiAgICAgIGhlYWRlckNvbG9yQm9yZGVyOiBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoaGVhZGVyQ29sb3IsIDEwKSxcblxuICAgICAgYm9yZGVyQ29sb3I6IHRoZW1lLmJvcmRlckNvbG9yIHx8IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIDIwKSwgLy8gIzU1NVxuICAgICAgbGlnaHRCb3JkZXJDb2xvcjogdGhlbWUubGlnaHRCb3JkZXJDb2xvciB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAxNSksIC8vICM0NDRcbiAgICAgIGNvZGVCb3JkZXJDb2xvcjogdGhlbWUuY29kZUJvcmRlckNvbG9yIHx8IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIDMwKSxcblxuICAgICAgaW5wdXRCZzogdGhlbWUuaW5wdXRCZyB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtNSksIC8vICMyZjJmMmZcbiAgICAgIHBsYWNlSG9sZGVyOiB0aGVtZS5wbGFjZUhvbGRlciB8fCBDb2xvclV0aWxzLmNvbG9yLm9wYWNpdHkoZmcxLCAnMC4zJyksXG4gICAgICBob3ZlckNvbG9yOiB0aGVtZS5ob3ZlckNvbG9yIHx8IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIC0xMCksIC8vICMyYTJhMmFcblxuICAgICAgcmVkOiB0aGVtZS5yZWQgPyB0aGVtZS5yZWQgOiAnI0YwNjU2MCcsXG4gICAgICBsaWdodFJlZDogdGhlbWUubGlnaHRSZWQgPyB0aGVtZS5saWdodFJlZCA6IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIC0xMCksIC8vICMyYTJhMmFcblxuICAgICAgcGluazogdGhlbWUucGluayA/IHRoZW1lLnBpbmsgOiAnI2ZmYjJiMicsXG4gICAgICBsaWdodFBpbms6IHRoZW1lLmxpZ2h0UGluayB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtMTApLFxuXG4gICAgICBncmVlbjogdGhlbWUuZ3JlZW4gfHwgJyM3ZWM2OTknLFxuICAgICAgbGlnaHRHcmVlbjogdGhlbWUubGlnaHRHcmVlbiB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtMTApLCAvLyAjMmEyYTJhXG5cbiAgICAgIGJsdWU6IHRoZW1lLmJsdWUgfHwgJyM3MWI3ZmYnLFxuICAgICAgbGlnaHRCbHVlOiB0aGVtZS5saWdodEJsdWUgfHwgQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGJnMSwgLTEwKSwgLy8gIzJhMmEyYVxuXG4gICAgICBvcmFuZ2U6IHRoZW1lLm9yYW5nZSA/IHRoZW1lLm9yYW5nZSA6ICcjZjA4ZDQ5JyxcbiAgICAgIGxpZ2h0T3JhbmdlOiB0aGVtZS5saWdodE9yYW5nZSB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtMTApLCAvLyAjMmEyYTJhXG5cbiAgICAgIHllbGxvdzogdGhlbWUueWVsbG93IHx8ICcjODI3NzE3JyxcbiAgICAgIGxpZ2h0WWVsbG93OiB0aGVtZS5saWdodFllbGxvdyB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtMTApLCAvLyAjMmEyYTJhXG5cbiAgICAgIHB1cnBsZTogdGhlbWUucHVycGxlIHx8ICcjNzg2RkYxJyxcbiAgICAgIGJyb3duOiB0aGVtZS5icm93biB8fCAnI0Q0QUMwRCcsXG5cbiAgICAgIGNvZGVCZzogdGhlbWUuY29kZUJnIHx8IENvbG9yVXRpbHMuY29sb3Iub3BhY2l0eShDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtMTUpLCAwLjcpLFxuICAgICAgY29kZUZnOiB0aGVtZS5jb2RlRmcgfHwgJyNhYWEnLFxuICAgICAgY29kZVByb3BlcnR5Q29sb3I6IHRoZW1lLmNvZGVQcm9wZXJ0eUNvbG9yIHx8ICcjZjhjNTU1JyxcbiAgICAgIGNvZGVLZXl3b3JkQ29sb3I6IHRoZW1lLmNvZGVLZXl3b3JkQ29sb3IgfHwgJyNjYzk5Y2QnLFxuICAgICAgY29kZU9wZXJhdG9yQ29sb3I6IHRoZW1lLmNvZGVPcGVyYXRvckNvbG9yIHx8ICcjNjdjZGNjJyxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJnMSA9ICh0aGVtZS5iZzEgPyB0aGVtZS5iZzEgOiAnI2ZhZmJmYycpO1xuICAgIGNvbnN0IGZnMSA9ICh0aGVtZS5mZzEgPyB0aGVtZS5mZzEgOiAnIzQ0NDQ0NCcpO1xuICAgIGNvbnN0IGJnMiA9IHRoZW1lLmJnMiA/IHRoZW1lLmJnMiA6IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIC01KTsgLy8gb3IgJyNmYWZhZmEnXG4gICAgY29uc3QgYmczID0gdGhlbWUuYmczID8gdGhlbWUuYmczIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGJnMSwgLTE1KTsgLy8gb3IgJyNmNmY2ZjYnXG4gICAgY29uc3QgbGlnaHRCZyA9IHRoZW1lLmJnMyA/IHRoZW1lLmJnMyA6IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIC00NSk7XG4gICAgY29uc3QgZmcyID0gdGhlbWUuZmcyID8gdGhlbWUuZmcyIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGZnMSwgMTcpOyAvLyBvciAnIzU1NSdcbiAgICBjb25zdCBmZzMgPSB0aGVtZS5mZzMgPyB0aGVtZS5mZzMgOiBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoZmcxLCAzMCk7IC8vIG9yICM2NjZcbiAgICBjb25zdCBsaWdodEZnID0gdGhlbWUuZmczID8gdGhlbWUuZmczIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGZnMSwgNzApOyAvLyBvciAjOTk5XG4gICAgY29uc3QgaW5saW5lQ29kZUZnID0gdGhlbWUuaW5saW5lQ29kZUZnID8gdGhlbWUuaW5saW5lQ29kZUZnIDogJ2Jyb3duJztcblxuICAgIGNvbnN0IHNlbGVjdGlvbkJnID0gJyM0NDQnO1xuICAgIGNvbnN0IHNlbGVjdGlvbkZnID0gJyNlZWUnO1xuXG4gICAgY29uc3QgaGVhZGVyQ29sb3IgPSB0aGVtZS5oZWFkZXJDb2xvciA/IHRoZW1lLmhlYWRlckNvbG9yIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGJnMSwgLTE4MCk7XG5cbiAgICAvKlxuICAgIGNvbnN0IG5hdkJnQ29sb3IgPSB0aGVtZS5uYXZCZ0NvbG9yID8gdGhlbWUubmF2QmdDb2xvciA6IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIC0xMCk7XG4gICAgY29uc3QgbmF2VGV4dENvbG9yID0gdGhlbWUubmF2VGV4dENvbG9yID8gdGhlbWUubmF2VGV4dENvbG9yIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGZnMSwgNSk7XG4gICAgY29uc3QgbmF2SG92ZXJCZ0NvbG9yID0gdGhlbWUubmF2SG92ZXJCZ0NvbG9yID8gdGhlbWUubmF2SG92ZXJCZ0NvbG9yIDogYmcxO1xuICAgIGNvbnN0IG5hdkhvdmVyVGV4dENvbG9yID0gdGhlbWUubmF2SG92ZXJUZXh0Q29sb3IgPyB0aGVtZS5uYXZIb3ZlclRleHRDb2xvciA6IHByaW1hcnlDb2xvcjtcbiAgICBjb25zdCBuYXZBY2NlbnRDb2xvciA9IHRoZW1lLm5hdkFjY2VudENvbG9yID8gdGhlbWUubmF2QWNjZW50Q29sb3IgOiBwcmltYXJ5Q29sb3I7XG4gICAgKi9cbiAgICBjb25zdCBuYXZCZ0NvbG9yID0gdGhlbWUubmF2QmdDb2xvciA/IHRoZW1lLm5hdkJnQ29sb3IgOiBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtMjAwKTtcbiAgICBjb25zdCBuYXZUZXh0Q29sb3IgPSB0aGVtZS5uYXZUZXh0Q29sb3IgPyB0aGVtZS5uYXZUZXh0Q29sb3IgOiBDb2xvclV0aWxzLmNvbG9yLm9wYWNpdHkoQ29sb3JVdGlscy5jb2xvci5pbnZlcnQobmF2QmdDb2xvciksICcwLjY1Jyk7XG4gICAgY29uc3QgbmF2SG92ZXJCZ0NvbG9yID0gdGhlbWUubmF2SG92ZXJCZ0NvbG9yID8gdGhlbWUubmF2SG92ZXJCZ0NvbG9yIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKG5hdkJnQ29sb3IsIC0xNSk7XG4gICAgY29uc3QgbmF2SG92ZXJUZXh0Q29sb3IgPSB0aGVtZS5uYXZIb3ZlclRleHRDb2xvciA/IHRoZW1lLm5hdkhvdmVyVGV4dENvbG9yIDogQ29sb3JVdGlscy5jb2xvci5pbnZlcnQobmF2QmdDb2xvcik7XG4gICAgY29uc3QgbmF2QWNjZW50Q29sb3IgPSB0aGVtZS5uYXZBY2NlbnRDb2xvciA/IHRoZW1lLm5hdkFjY2VudENvbG9yIDogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKHByaW1hcnlDb2xvciwgMjUpO1xuICAgIGNvbnN0IG5hdkFjY2VudFRleHRDb2xvciA9IHRoZW1lLm5hdkFjY2VudFRleHRDb2xvciA/IHRoZW1lLm5hdkFjY2VudHRleHRDb2xvciA6IENvbG9yVXRpbHMuY29sb3IuaW52ZXJ0KG5hdkFjY2VudENvbG9yKTtcbiAgICBjb25zdCBvdmVybGF5QmcgPSAncmdiYSgwLCAwLCAwLCAwLjQpJztcblxuICAgIG5ld1RoZW1lID0ge1xuICAgICAgYmcxLFxuICAgICAgYmcyLFxuICAgICAgYmczLFxuICAgICAgbGlnaHRCZyxcbiAgICAgIGZnMSxcbiAgICAgIGZnMixcbiAgICAgIGZnMyxcbiAgICAgIGxpZ2h0RmcsXG4gICAgICBpbmxpbmVDb2RlRmcsXG4gICAgICBwcmltYXJ5Q29sb3IsXG4gICAgICBwcmltYXJ5Q29sb3JUcmFucyxcbiAgICAgIHByaW1hcnlDb2xvckludmVydCxcbiAgICAgIHNlbGVjdGlvbkJnLFxuICAgICAgc2VsZWN0aW9uRmcsXG4gICAgICBvdmVybGF5QmcsXG4gICAgICBuYXZCZ0NvbG9yLFxuICAgICAgbmF2VGV4dENvbG9yLFxuICAgICAgbmF2SG92ZXJCZ0NvbG9yLFxuICAgICAgbmF2SG92ZXJUZXh0Q29sb3IsXG4gICAgICBuYXZBY2NlbnRDb2xvcixcbiAgICAgIG5hdkFjY2VudFRleHRDb2xvcixcbiAgICAgIGhlYWRlckNvbG9yLFxuICAgICAgaGVhZGVyQ29sb3JJbnZlcnQ6IENvbG9yVXRpbHMuY29sb3IuaW52ZXJ0KGhlYWRlckNvbG9yKSxcbiAgICAgIGhlYWRlckNvbG9yRGFya2VyOiBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoaGVhZGVyQ29sb3IsIC0yMCksXG4gICAgICBoZWFkZXJDb2xvckJvcmRlcjogQ29sb3JVdGlscy5jb2xvci5icmlnaHRuZXNzKGhlYWRlckNvbG9yLCAxMCksXG5cbiAgICAgIGJvcmRlckNvbG9yOiB0aGVtZS5ib3JkZXJDb2xvciB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtMzgpLFxuICAgICAgbGlnaHRCb3JkZXJDb2xvcjogdGhlbWUubGlnaHRCb3JkZXJDb2xvciB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAtMjMpLFxuICAgICAgY29kZUJvcmRlckNvbG9yOiB0aGVtZS5jb2RlQm9yZGVyQ29sb3IgfHwgJ3RyYW5zcGFyZW50JyxcblxuICAgICAgaW5wdXRCZzogdGhlbWUuaW5wdXRCZyB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MoYmcxLCAxMCksIC8vICNmZmZcbiAgICAgIHBsYWNlSG9sZGVyOiB0aGVtZS5wbGFjZUhvbGRlciB8fCBDb2xvclV0aWxzLmNvbG9yLmJyaWdodG5lc3MobGlnaHRGZywgMjApLCAvLyAjZGVkZWRlXG4gICAgICBob3ZlckNvbG9yOiB0aGVtZS5ob3ZlckNvbG9yIHx8IENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIC01KSwgLy8gIyBmMWYxZjFcblxuICAgICAgcmVkOiB0aGVtZS5yZWQgfHwgJyNGMDY1NjAnLFxuICAgICAgbGlnaHRSZWQ6IHRoZW1lLmxpZ2h0UmVkIHx8ICcjZmZmMGYwJyxcblxuICAgICAgcGluazogdGhlbWUucGluayA/IHRoZW1lLnBpbmsgOiAnIzk5MDA1NScsXG4gICAgICBsaWdodFBpbms6IHRoZW1lLmxpZ2h0UGluayA/IHRoZW1lLmxpZ2h0UGluayA6ICcjZmZiMmIyJyxcblxuICAgICAgZ3JlZW46IHRoZW1lLmdyZWVuIHx8ICcjNjkwJyxcbiAgICAgIGxpZ2h0R3JlZW46IHRoZW1lLmxpZ2h0R3JlZW4gfHwgJyNmYmZmZjAnLFxuXG4gICAgICBibHVlOiB0aGVtZS5ibHVlIHx8ICcjNDdBRkU4JyxcbiAgICAgIGxpZ2h0Qmx1ZTogdGhlbWUubGlnaHRCbHVlIHx8ICcjZWZmOGZkJyxcblxuICAgICAgb3JhbmdlOiB0aGVtZS5vcmFuZ2UgfHwgJyNGRjk5MDAnLFxuICAgICAgbGlnaHRPcmFuZ2U6IHRoZW1lLmxpZ2h0T3JhbmdlIHx8ICcjZmZmNWU2JyxcblxuICAgICAgeWVsbG93OiB0aGVtZS55ZWxsb3cgfHwgJyM4Mjc3MTcnLFxuICAgICAgbGlnaHRZZWxsb3c6IHRoZW1lLmxpZ2h0WWVsbG93IHx8ICcjZmZmNWNjJyxcblxuICAgICAgcHVycGxlOiB0aGVtZS5wdXJwbGUgfHwgJyM3ODZGRjEnLFxuICAgICAgYnJvd246IHRoZW1lLmJyb3duIHx8ICcjRDRBQzBEJyxcblxuICAgICAgY29kZUJnOiB0aGVtZS5jb2RlQmcgfHwgQ29sb3JVdGlscy5jb2xvci5vcGFjaXR5KENvbG9yVXRpbHMuY29sb3IuYnJpZ2h0bmVzcyhiZzEsIC0xNSksIDAuNyksXG4gICAgICBjb2RlRmc6IHRoZW1lLmNvZGVGZyB8fCAnIzY2NicsXG4gICAgICBjb2RlUHJvcGVydHlDb2xvcjogdGhlbWUuY29kZVByb3BlcnR5Q29sb3IgfHwgJyM5MDUnLFxuICAgICAgY29kZUtleXdvcmRDb2xvcjogdGhlbWUuY29kZUtleXdvcmRDb2xvciB8fCAnIzA3YScsXG4gICAgICBjb2RlT3BlcmF0b3JDb2xvcjogdGhlbWUuY29kZU9wZXJhdG9yQ29sb3IgfHwgJyM5YTZlM2EnLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGh0bWxgXG4gIDxzdHlsZT5cbiAgKiwgKjpiZWZvcmUsICo6YWZ0ZXIgeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9XG4gIFxuICA6aG9zdCB7XG4gICAgLyogQ29tbW9uIFN0eWxlcyAtIGlycmVzcGVjdGl2ZSBvZiB0aGVtZXMgKi8gIFxuICAgIC0tYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIC0tbGF5b3V0OiAke3RoaXMubGF5b3V0IHx8ICdyb3cnfTtcbiAgICAtLWZvbnQtbW9ubzogJHt0aGlzLm1vbm9Gb250IHx8ICdNb25hY28sIFwiQW5kYWxlIE1vbm9cIiwgXCJSb2JvdG8gTW9ub1wiLCBDb25zb2xhcywgbW9ub3NwYWNlJ307XG4gICAgLS1mb250LXJlZ3VsYXI6ICR7dGhpcy5yZWd1bGFyRm9udCB8fCAnXCJPcGVuIFNhbnNcIiwgQXZlbmlyLCBcIlNlZ29lIFVJXCIsIEFyaWFsLCBzYW5zLXNlcmlmJ307XG4gICAgLS1zY3JvbGwtYmFyLXdpZHRoOiA4cHg7XG4gICAgLS1uYXYtaXRlbS1wYWRkaW5nOiAke3RoaXMubmF2SXRlbVNwYWNpbmcgPT09ICdyZWxheGVkJ1xuICAgID8gJzEwcHggMTZweCAxMHB4IDEwcHgnXG4gICAgOiAodGhpcy5uYXZJdGVtU3BhY2luZyA9PT0gJ2NvbXBhY3QnXG4gICAgICA/ICc1cHggMTZweCA1cHggMTBweCdcbiAgICAgIDogJzdweCAxNnB4IDdweCAxMHB4Jyl9O1xuICAgIFxuICAgIC0tcmVzcC1hcmVhLWhlaWdodDogJHt0aGlzLnJlc3BvbnNlQXJlYUhlaWdodH07XG4gICAgLS1mb250LXNpemUtc21hbGw6ICR7dGhpcy5mb250U2l6ZSA9PT0gJ2RlZmF1bHQnID8gJzEycHgnIDogKHRoaXMuZm9udFNpemUgPT09ICdsYXJnZScgPyAnMTNweCcgOiAnMTRweCcpfTtcbiAgICAtLWZvbnQtc2l6ZS1tb25vOiAke3RoaXMuZm9udFNpemUgPT09ICdkZWZhdWx0JyA/ICcxM3B4JyA6ICh0aGlzLmZvbnRTaXplID09PSAnbGFyZ2UnID8gJzE0cHgnIDogJzE1cHgnKX07XG4gICAgLS1mb250LXNpemUtcmVndWxhcjogJHt0aGlzLmZvbnRTaXplID09PSAnZGVmYXVsdCcgPyAnMTRweCcgOiAodGhpcy5mb250U2l6ZSA9PT0gJ2xhcmdlJyA/ICcxNXB4JyA6ICcxNnB4Jyl9O1xuICAgIC0tZGlhbG9nLXotaW5kZXg6IDEwMDA7XG5cbiAgICAtLWZvY3VzLXNoYWRvdzogMCAwIDAgMXB4IHRyYW5zcGFyZW50LCAwIDAgMCAzcHggJHtuZXdUaGVtZS5wcmltYXJ5Q29sb3JUcmFuc307XG5cbiAgICAvKiBUaGVtZSBzcGVjaWZpYyBzdHlsZXMgKi8gIFxuICAgIC0tYmc6JHtuZXdUaGVtZS5iZzF9O1xuICAgIC0tYmcyOiR7bmV3VGhlbWUuYmcyfTtcbiAgICAtLWJnMzoke25ld1RoZW1lLmJnM307XG4gICAgLS1saWdodC1iZzoke25ld1RoZW1lLmxpZ2h0Qmd9O1xuICAgIC0tZmc6JHtuZXdUaGVtZS5mZzF9O1xuICAgIC0tZmcyOiR7bmV3VGhlbWUuZmcyfTtcbiAgICAtLWZnMzoke25ld1RoZW1lLmZnM307XG4gICAgLS1saWdodC1mZzoke25ld1RoZW1lLmxpZ2h0Rmd9O1xuICAgIC0tc2VsZWN0aW9uLWJnOiR7bmV3VGhlbWUuc2VsZWN0aW9uQmd9O1xuICAgIC0tc2VsZWN0aW9uLWZnOiR7bmV3VGhlbWUuc2VsZWN0aW9uRmd9O1xuICAgIC0tb3ZlcmxheS1iZzoke25ld1RoZW1lLm92ZXJsYXlCZ307XG4gICAgXG4gICAgLyogQm9yZGVyIENvbG9ycyAqL1xuICAgIC0tYm9yZGVyLWNvbG9yOiR7bmV3VGhlbWUuYm9yZGVyQ29sb3J9O1xuICAgIC0tbGlnaHQtYm9yZGVyLWNvbG9yOiR7bmV3VGhlbWUubGlnaHRCb3JkZXJDb2xvcn07XG4gICAgLS1jb2RlLWJvcmRlci1jb2xvcjoke25ld1RoZW1lLmNvZGVCb3JkZXJDb2xvcn07XG5cbiAgICAtLWlucHV0LWJnOiR7bmV3VGhlbWUuaW5wdXRCZ307XG4gICAgLS1wbGFjZWhvbGRlci1jb2xvcjoke25ld1RoZW1lLnBsYWNlSG9sZGVyfTtcbiAgICAtLWhvdmVyLWNvbG9yOiR7bmV3VGhlbWUuaG92ZXJDb2xvcn07XG4gICAgLS1yZWQ6JHtuZXdUaGVtZS5yZWR9O1xuICAgIC0tbGlnaHQtcmVkOiR7bmV3VGhlbWUubGlnaHRSZWR9O1xuICAgIC0tcGluazoke25ld1RoZW1lLnBpbmt9O1xuICAgIC0tbGlnaHQtcGluazoke25ld1RoZW1lLmxpZ2h0UGlua307XG4gICAgLS1ncmVlbjoke25ld1RoZW1lLmdyZWVufTtcbiAgICAtLWxpZ2h0LWdyZWVuOiR7bmV3VGhlbWUubGlnaHRHcmVlbn07XG4gICAgLS1ibHVlOiR7bmV3VGhlbWUuYmx1ZX07XG4gICAgLS1saWdodC1ibHVlOiR7bmV3VGhlbWUubGlnaHRCbHVlfTtcbiAgICAtLW9yYW5nZToke25ld1RoZW1lLm9yYW5nZX07XG4gICAgLS1saWdodC1vcmFuZ2U6JHtuZXdUaGVtZS5saWdodE9yYW5nZX07XG4gICAgLS15ZWxsb3c6JHtuZXdUaGVtZS55ZWxsb3d9O1xuICAgIC0tbGlnaHQteWVsbG93OiR7bmV3VGhlbWUubGlnaHRZZWxsb3d9O1xuICAgIC0tcHVycGxlOiR7bmV3VGhlbWUucHVycGxlfTtcbiAgICAtLWJyb3duOiR7bmV3VGhlbWUuYnJvd259O1xuXG4gICAgLyogSGVhZGVyIENvbG9yICovXG4gICAgLS1oZWFkZXItYmc6JHtuZXdUaGVtZS5oZWFkZXJDb2xvcn07XG4gICAgLS1oZWFkZXItZmc6JHtuZXdUaGVtZS5oZWFkZXJDb2xvckludmVydH07XG4gICAgLS1oZWFkZXItY29sb3ItZGFya2VyOiR7bmV3VGhlbWUuaGVhZGVyQ29sb3JEYXJrZXJ9O1xuICAgIC0taGVhZGVyLWNvbG9yLWJvcmRlcjoke25ld1RoZW1lLmhlYWRlckNvbG9yQm9yZGVyfTtcblxuICAgIC8qIE5hdiBDb2xvcnMgKi8gIFxuICAgIC0tbmF2LWJnLWNvbG9yOiR7bmV3VGhlbWUubmF2QmdDb2xvcn07XG4gICAgLS1uYXYtdGV4dC1jb2xvcjoke25ld1RoZW1lLm5hdlRleHRDb2xvcn07XG4gICAgLS1uYXYtaG92ZXItYmctY29sb3I6JHtuZXdUaGVtZS5uYXZIb3ZlckJnQ29sb3J9O1xuICAgIC0tbmF2LWhvdmVyLXRleHQtY29sb3I6JHtuZXdUaGVtZS5uYXZIb3ZlclRleHRDb2xvcn07XG4gICAgLS1uYXYtYWNjZW50LWNvbG9yOiR7bmV3VGhlbWUubmF2QWNjZW50Q29sb3J9O1xuICAgIC0tbmF2LWFjY2VudC10ZXh0LWNvbG9yOiR7bmV3VGhlbWUubmF2QWNjZW50VGV4dENvbG9yfTtcblxuICAgIC8qIE5hdiBBUEkgTWV0aG9kIENvbG9ycyovXG4gICAgLS1uYXYtZ2V0LWNvbG9yOiR7bmV3VGhlbWUuYmx1ZX07XG4gICAgLS1uYXYtcHV0LWNvbG9yOiR7bmV3VGhlbWUub3JhbmdlfTtcbiAgICAtLW5hdi1wb3N0LWNvbG9yOiR7bmV3VGhlbWUuZ3JlZW59O1xuICAgIC0tbmF2LWRlbGV0ZS1jb2xvcjoke25ld1RoZW1lLnJlZH07XG4gICAgLS1uYXYtaGVhZC1jb2xvcjoke25ld1RoZW1lLnllbGxvd307XG5cbiAgICAvKiBQcmltYXJ5IENvbG9ycyAqLyAgXG4gICAgLS1wcmltYXJ5LWNvbG9yOiR7bmV3VGhlbWUucHJpbWFyeUNvbG9yfTtcbiAgICAtLXByaW1hcnktY29sb3ItaW52ZXJ0OiR7bmV3VGhlbWUucHJpbWFyeUNvbG9ySW52ZXJ0fTtcbiAgICAtLXByaW1hcnktY29sb3ItdHJhbnM6JHtuZXdUaGVtZS5wcmltYXJ5Q29sb3JUcmFuc307XG5cbiAgICAvKkNvZGUgU3ludGF4IENvbG9yKi9cbiAgICAtLWNvZGUtYmc6JHtuZXdUaGVtZS5jb2RlQmd9O1xuICAgIC0tY29kZS1mZzoke25ld1RoZW1lLmNvZGVGZ307XG4gICAgLS1pbmxpbmUtY29kZS1mZzoke25ld1RoZW1lLmlubGluZUNvZGVGZ307XG4gICAgLS1jb2RlLXByb3BlcnR5LWNvbG9yOiR7bmV3VGhlbWUuY29kZVByb3BlcnR5Q29sb3J9O1xuICAgIC0tY29kZS1rZXl3b3JkLWNvbG9yOiR7bmV3VGhlbWUuY29kZUtleXdvcmRDb2xvcn07XG4gICAgLS1jb2RlLW9wZXJhdG9yLWNvbG9yOiR7bmV3VGhlbWUuY29kZU9wZXJhdG9yQ29sb3J9O1xuICB9XG4gIDwvc3R5bGU+YDtcbn1cbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuXG4vLyBUZW1wbGF0ZXNcbmltcG9ydCBleHBhbmRlZEVuZHBvaW50VGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvZXhwYW5kZWQtZW5kcG9pbnQtdGVtcGxhdGUnO1xuaW1wb3J0IGZvY3VzZWRFbmRwb2ludFRlbXBsYXRlIGZyb20gJ34vdGVtcGxhdGVzL2ZvY3VzZWQtZW5kcG9pbnQtdGVtcGxhdGUnO1xuaW1wb3J0IG92ZXJ2aWV3VGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvb3ZlcnZpZXctdGVtcGxhdGUnO1xuaW1wb3J0IGVuZHBvaW50VGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvZW5kcG9pbnQtdGVtcGxhdGUnO1xuaW1wb3J0IHNlcnZlclRlbXBsYXRlIGZyb20gJ34vdGVtcGxhdGVzL3NlcnZlci10ZW1wbGF0ZSc7XG5pbXBvcnQgc2VjdXJpdHlTY2hlbWVUZW1wbGF0ZSwgeyByZWNvdmVyUGVyc2lzdGVkQXBpS2V5cyB9IGZyb20gJ34vdGVtcGxhdGVzL3NlY3VyaXR5LXNjaGVtZS10ZW1wbGF0ZSc7XG5pbXBvcnQgaGVhZGVyVGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvaGVhZGVyLXRlbXBsYXRlJztcbmltcG9ydCBuYXZiYXJUZW1wbGF0ZSBmcm9tICd+L3RlbXBsYXRlcy9uYXZiYXItdGVtcGxhdGUnO1xuaW1wb3J0IGFkdmFuY2VkU2VhcmNoVGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvYWR2YW5jZS1zZWFyY2gtdGVtcGxhdGUnO1xuaW1wb3J0IFNldFRoZW1lIGZyb20gJ34vdXRpbHMvdGhlbWUnO1xuaW1wb3J0IHsgaXNWYWxpZEhleENvbG9yIH0gZnJvbSAnfi91dGlscy9jb2xvci11dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1haW5Cb2R5VGVtcGxhdGUoaXNNaW5pID0gZmFsc2UsIHNob3dFeHBhbmRDb2xsYXBzZSA9IHRydWUsIHNob3dUYWdzID0gdHJ1ZSwgcGF0aHNFeHBhbmRlZCA9IGZhbHNlKSB7XG4gIGlmICghdGhpcy5yZXNvbHZlZFNwZWMpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgaWYgKHRoaXMucGVyc2lzdEF1dGggPT09ICd0cnVlJykge1xuICAgIHJlY292ZXJQZXJzaXN0ZWRBcGlLZXlzLmNhbGwodGhpcyk7XG4gIH1cbiAgY29uc3QgbmV3VGhlbWUgPSB7XG4gICAgYmcxOiBpc1ZhbGlkSGV4Q29sb3IodGhpcy5iZ0NvbG9yKSA/IHRoaXMuYmdDb2xvciA6ICcnLFxuICAgIGZnMTogaXNWYWxpZEhleENvbG9yKHRoaXMudGV4dENvbG9yKSA/IHRoaXMudGV4dENvbG9yIDogJycsXG4gICAgaGVhZGVyQ29sb3I6IGlzVmFsaWRIZXhDb2xvcih0aGlzLmhlYWRlckNvbG9yKSA/IHRoaXMuaGVhZGVyQ29sb3IgOiAnJyxcbiAgICBwcmltYXJ5Q29sb3I6IGlzVmFsaWRIZXhDb2xvcih0aGlzLnByaW1hcnlDb2xvcikgPyB0aGlzLnByaW1hcnlDb2xvciA6ICcnLFxuICAgIG5hdkJnQ29sb3I6IGlzVmFsaWRIZXhDb2xvcih0aGlzLm5hdkJnQ29sb3IpID8gdGhpcy5uYXZCZ0NvbG9yIDogJycsXG4gICAgbmF2VGV4dENvbG9yOiBpc1ZhbGlkSGV4Q29sb3IodGhpcy5uYXZUZXh0Q29sb3IpID8gdGhpcy5uYXZUZXh0Q29sb3IgOiAnJyxcbiAgICBuYXZIb3ZlckJnQ29sb3I6IGlzVmFsaWRIZXhDb2xvcih0aGlzLm5hdkhvdmVyQmdDb2xvcikgPyB0aGlzLm5hdkhvdmVyQmdDb2xvciA6ICcnLFxuICAgIG5hdkhvdmVyVGV4dENvbG9yOiBpc1ZhbGlkSGV4Q29sb3IodGhpcy5uYXZIb3ZlclRleHRDb2xvcikgPyB0aGlzLm5hdkhvdmVyVGV4dENvbG9yIDogJycsXG4gICAgbmF2QWNjZW50Q29sb3I6IGlzVmFsaWRIZXhDb2xvcih0aGlzLm5hdkFjY2VudENvbG9yKSA/IHRoaXMubmF2QWNjZW50Q29sb3IgOiAnJyxcbiAgICBuYXZBY2NlbnRUZXh0Q29sb3I6IGlzVmFsaWRIZXhDb2xvcih0aGlzLm5hdkFjY2VudFRleHRDb2xvcikgPyB0aGlzLm5hdkFjY2VudFRleHRDb2xvciA6ICcnLFxuICB9O1xuICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgaWYgKHRoaXMucmVzb2x2ZWRTcGVjLnNwZWNMb2FkRXJyb3IpIHtcbiAgICBpZiAoaXNNaW5pKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgJHt0aGlzLnRoZW1lID09PSAnZGFyaycgPyBTZXRUaGVtZS5jYWxsKHRoaXMsICdkYXJrJywgbmV3VGhlbWUpIDogU2V0VGhlbWUuY2FsbCh0aGlzLCAnbGlnaHQnLCBuZXdUaGVtZSl9XG4gICAgICAgIDxkaXYgc3R5bGU9J2Rpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBib3JkZXI6MXB4IGRhc2hlZCB2YXIoLS1ib3JkZXItY29sb3IpOyBoZWlnaHQ6NDJweDsgcGFkZGluZzo1cHg7IGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpOyBjb2xvcjp2YXIoLS1yZWQpOyBmb250LWZhbWlseTp2YXIoLS1mb250LW1vbm8pJz4gJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLmRlc2NyaXB0aW9ufSA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuICAgIHJldHVybiBodG1sYFxuICAgICAgJHt0aGlzLnRoZW1lID09PSAnZGFyaycgPyBTZXRUaGVtZS5jYWxsKHRoaXMsICdkYXJrJywgbmV3VGhlbWUpIDogU2V0VGhlbWUuY2FsbCh0aGlzLCAnbGlnaHQnLCBuZXdUaGVtZSl9XG4gICAgICA8IS0tIEhlYWRlciAtLT5cbiAgICAgICR7aGVhZGVyVGVtcGxhdGUuY2FsbCh0aGlzKX1cbiAgICAgIDxtYWluIGNsYXNzPSdtYWluLWNvbnRlbnQgcmVndWxhci1mb250JyBwYXJ0PSdzZWN0aW9uLW1haW4tY29udGVudCc+XG4gICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgICAgPGRpdiBzdHlsZT0nbWFyZ2luOjI0cHg7IHRleHQtYWxpZ246IGNlbnRlcjsnPlxuICAgICAgICAgIDxoMSBzdHlsZT0nY29sb3I6IHZhcigtLXJlZCknPiAke3RoaXMucmVzb2x2ZWRTcGVjLmluZm8udGl0bGV9IDwvaDE+XG4gICAgICAgICAgPGRpdiBzdHlsZT0nZm9udC1mYW1pbHk6dmFyKC0tZm9udC1tb25vKSc+ICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5kZXNjcmlwdGlvbn0gPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9tYWluPiAgXG4gICAgYDtcbiAgfVxuICBpZiAodGhpcy5yZXNvbHZlZFNwZWMuaXNTcGVjTG9hZGluZykge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgJHt0aGlzLnRoZW1lID09PSAnZGFyaycgPyBTZXRUaGVtZS5jYWxsKHRoaXMsICdkYXJrJywgbmV3VGhlbWUpIDogU2V0VGhlbWUuY2FsbCh0aGlzLCAnbGlnaHQnLCBuZXdUaGVtZSl9XG4gICAgICA8bWFpbiBjbGFzcz0nbWFpbi1jb250ZW50IHJlZ3VsYXItZm9udCcgcGFydD0nc2VjdGlvbi1tYWluLWNvbnRlbnQnPlxuICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICAgIDxkaXYgY2xhc3M9J21haW4tY29udGVudC1pbm5lci0tJHt0aGlzLnJlbmRlclN0eWxlfS1tb2RlJz5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSdsb2FkZXInPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbWFpbj5cbiAgICBgO1xuICB9XG5cbiAgcmV0dXJuIGh0bWxgXG4gICAgJHt0aGlzLnRoZW1lID09PSAnZGFyaycgPyBTZXRUaGVtZS5jYWxsKHRoaXMsICdkYXJrJywgbmV3VGhlbWUpIDogU2V0VGhlbWUuY2FsbCh0aGlzLCAnbGlnaHQnLCBuZXdUaGVtZSl9XG5cbiAgICA8IS0tIEhlYWRlciAtLT5cbiAgICAke3RoaXMuc2hvd0hlYWRlciA9PT0gJ2ZhbHNlJyA/ICcnIDogaGVhZGVyVGVtcGxhdGUuY2FsbCh0aGlzKX1cbiAgICBcbiAgICA8IS0tIEFkdmFuY2VkIFNlYXJjaCAtLT5cbiAgICAke3RoaXMuYWxsb3dBZHZhbmNlZFNlYXJjaCA9PT0gJ2ZhbHNlJyA/ICcnIDogYWR2YW5jZWRTZWFyY2hUZW1wbGF0ZS5jYWxsKHRoaXMpfVxuXG4gICAgPGRpdiBpZD0ndGhlLW1haW4tYm9keScgY2xhc3M9J2JvZHkgJHt0aGlzLmNzc0NsYXNzZXN9JyBkaXI9JyR7dGhpcy5wYWdlRGlyZWN0aW9ufScgPlxuICAgICAgPCEtLSBTaWRlIE5hdiAtLT5cbiAgICAgICR7KCh0aGlzLnJlbmRlclN0eWxlID09PSAncmVhZCcgfHwgdGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnKVxuICAgICAgICAgICYmIHRoaXMuc2hvd1NpZGVOYXYgPT09ICd0cnVlJ1xuICAgICAgICAgICYmIHRoaXMucmVzb2x2ZWRTcGVjXG4gICAgICAgICkgPyBuYXZiYXJUZW1wbGF0ZS5jYWxsKHRoaXMpIDogJydcbiAgICAgIH1cblxuICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+XG4gICAgICA8bWFpbiBjbGFzcz0nbWFpbi1jb250ZW50IHJlZ3VsYXItZm9udCcgdGFiaW5kZXg9Jy0xJyBwYXJ0PSdzZWN0aW9uLW1haW4tY29udGVudCc+XG4gICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgICAgPGRpdiBjbGFzcz0nbWFpbi1jb250ZW50LWlubmVyLS0ke3RoaXMucmVuZGVyU3R5bGV9LW1vZGUnPlxuICAgICAgICAgICR7dGhpcy5sb2FkaW5nID09PSB0cnVlXG4gICAgICAgICAgICA/IGh0bWxgPGRpdiBjbGFzcz0nbG9hZGVyJz48L2Rpdj5gXG4gICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICR7dGhpcy5sb2FkRmFpbGVkID09PSB0cnVlXG4gICAgICAgICAgICAgICAgPyBodG1sYDxkaXYgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjttYXJnaW46IDE2cHg7Jz4gVW5hYmxlIHRvIGxvYWQgdGhlIFNwZWM8L2Rpdj5gXG4gICAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nb3BlcmF0aW9ucy1yb290JyBAY2xpY2s9JyR7KGUpID0+IHsgdGhpcy5oYW5kbGVIcmVmKGUpOyB9fSc+XG4gICAgICAgICAgICAgICAgICAke3RoaXMucmVuZGVyU3R5bGUgPT09ICdmb2N1c2VkJ1xuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgJHtmb2N1c2VkRW5kcG9pbnRUZW1wbGF0ZS5jYWxsKHRoaXMpfWBcbiAgICAgICAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5zaG93SW5mbyA9PT0gJ3RydWUnID8gb3ZlcnZpZXdUZW1wbGF0ZS5jYWxsKHRoaXMpIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmFsbG93U2VydmVyU2VsZWN0aW9uID09PSAndHJ1ZScgPyBzZXJ2ZXJUZW1wbGF0ZS5jYWxsKHRoaXMpIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmFsbG93QXV0aGVudGljYXRpb24gPT09ICd0cnVlJyA/IHNlY3VyaXR5U2NoZW1lVGVtcGxhdGUuY2FsbCh0aGlzKSA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J29wZXJhdGlvbnMtdG9wJyBjbGFzcz0nb2JzZXJ2ZS1tZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPSdvcGVyYXRpb25zLXRvcCc+PC9zbG90PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnJlbmRlclN0eWxlID09PSAncmVhZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXhwYW5kZWRFbmRwb2ludFRlbXBsYXRlLmNhbGwodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZW5kcG9pbnRUZW1wbGF0ZS5jYWxsKHRoaXMsIHNob3dFeHBhbmRDb2xsYXBzZSwgc2hvd1RhZ3MsIHBhdGhzRXhwYW5kZWQpXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgIH1gXG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNsb3QgbmFtZT0nZm9vdGVyJz48L3Nsb3Q+XG4gICAgICA8L21haW4+XG4gICAgPC9kaXY+ICBcbiAgYDtcbn1cbi8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG4iLCJpbXBvcnQgeyBjc3MsIExpdEVsZW1lbnQsIHVuc2FmZUNTUyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBtYXJrZWQgfSBmcm9tICdtYXJrZWQnO1xuaW1wb3J0IFByaXNtIGZyb20gJ3ByaXNtanMnO1xuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tY3NzJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLXlhbWwnO1xuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tZ28nO1xuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tamF2YSc7XG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS1qc29uJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWJhc2gnO1xuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tcHl0aG9uJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWh0dHAnO1xuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tY3NoYXJwJztcblxuLy8gU3R5bGVzXG5pbXBvcnQgRm9udFN0eWxlcyBmcm9tICd+L3N0eWxlcy9mb250LXN0eWxlcyc7XG5pbXBvcnQgSW5wdXRTdHlsZXMgZnJvbSAnfi9zdHlsZXMvaW5wdXQtc3R5bGVzJztcbmltcG9ydCBGbGV4U3R5bGVzIGZyb20gJ34vc3R5bGVzL2ZsZXgtc3R5bGVzJztcbmltcG9ydCBUYWJsZVN0eWxlcyBmcm9tICd+L3N0eWxlcy90YWJsZS1zdHlsZXMnO1xuaW1wb3J0IEVuZHBvaW50U3R5bGVzIGZyb20gJ34vc3R5bGVzL2VuZHBvaW50LXN0eWxlcyc7XG5pbXBvcnQgUHJpc21TdHlsZXMgZnJvbSAnfi9zdHlsZXMvcHJpc20tc3R5bGVzJztcbmltcG9ydCBUYWJTdHlsZXMgZnJvbSAnfi9zdHlsZXMvdGFiLXN0eWxlcyc7XG5pbXBvcnQgTmF2U3R5bGVzIGZyb20gJ34vc3R5bGVzL25hdi1zdHlsZXMnO1xuaW1wb3J0IEluZm9TdHlsZXMgZnJvbSAnfi9zdHlsZXMvaW5mby1zdHlsZXMnO1xuaW1wb3J0IEN1c3RvbVN0eWxlcyBmcm9tICd+L3N0eWxlcy9jdXN0b20tc3R5bGVzJztcbi8vIGltcG9ydCB7IGV4cGFuZENvbGxhcHNlTmF2QmFyVGFnIH0gZnJvbSAnQC90ZW1wbGF0ZXMvbmF2YmFyLXRlbXBsYXRlJztcbmltcG9ydCB7IGFkdmFuY2VkU2VhcmNoLCBwYXRoSXNJblNlYXJjaCwgY29tcG9uZW50SXNJblNlYXJjaCwgcmFwaWRvY0FwaUtleSwgc2xlZXAgfSBmcm9tICd+L3V0aWxzL2NvbW1vbi11dGlscyc7XG5pbXBvcnQgUHJvY2Vzc1NwZWMgZnJvbSAnfi91dGlscy9zcGVjLXBhcnNlcic7XG5pbXBvcnQgbWFpbkJvZHlUZW1wbGF0ZSBmcm9tICd+L3RlbXBsYXRlcy9tYWluLWJvZHktdGVtcGxhdGUnO1xuaW1wb3J0IHsgYXBwbHlBcGlLZXksIG9uQ2xlYXJBbGxBcGlLZXlzIH0gZnJvbSAnfi90ZW1wbGF0ZXMvc2VjdXJpdHktc2NoZW1lLXRlbXBsYXRlJztcbmltcG9ydCB7IHNldEFwaVNlcnZlciB9IGZyb20gJ34vdGVtcGxhdGVzL3NlcnZlci10ZW1wbGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhcGlEb2MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25PYnNlcnZlck9wdGlvbnMgPSB7XG4gICAgICByb290OiB0aGlzLmdldFJvb3ROb2RlKCkuaG9zdCxcbiAgICAgIHJvb3RNYXJnaW46ICctNTBweCAwcHggLTUwcHggMHB4JywgLy8gd2hlbiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlIDEwMHB4IGZyb20gYm90dG9tXG4gICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgfTtcbiAgICB0aGlzLnNob3dTdW1tYXJ5V2hlbkNvbGxhcHNlZCA9IHRydWU7XG4gICAgLy8gV2lsbCBhY3RpdmF0ZSBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIgb25seSBhZnRlciBzcGVjIGxvYWQgYW5kIGhhc2ggYW5hbHl6ZVxuICAgIC8vIHRvIHNjcm9sbCB0byB0aGUgcHJvcGVyIGVsZW1lbnQgd2l0aG91dCBiZWluZyByZXZlcnRlZCBieSBvYnNlcnZlciBiZWhhdmlvclxuICAgIHRoaXMuaXNJbnRlcnNlY3Rpb25PYnNlcnZlckFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHsgdGhpcy5vbkludGVyc2VjdChlbnRyaWVzKTsgfSwgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJPcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gSGVhZGluZ1xuICAgICAgaGVhZGluZ1RleHQ6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdoZWFkaW5nLXRleHQnIH0sXG4gICAgICBnb3RvUGF0aDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2dvdG8tcGF0aCcgfSxcblxuICAgICAgLy8gU3BlY1xuICAgICAgdXBkYXRlUm91dGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICd1cGRhdGUtcm91dGUnIH0sXG4gICAgICByb3V0ZVByZWZpeDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3JvdXRlLXByZWZpeCcgfSxcbiAgICAgIHNwZWNVcmw6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzcGVjLXVybCcgfSxcbiAgICAgIHNvcnRUYWdzOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc29ydC10YWdzJyB9LFxuICAgICAgZ2VuZXJhdGVNaXNzaW5nVGFnczogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2dlbmVyYXRlLW1pc3NpbmctdGFncycgfSxcbiAgICAgIHNvcnRFbmRwb2ludHNCeTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NvcnQtZW5kcG9pbnRzLWJ5JyB9LFxuICAgICAgc3BlY0ZpbGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6IGZhbHNlIH0sXG5cbiAgICAgIC8vIFVJIExheW91dHNcbiAgICAgIGxheW91dDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICAgIHJlbmRlclN0eWxlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAncmVuZGVyLXN0eWxlJyB9LFxuICAgICAgZGVmYXVsdFNjaGVtYVRhYjogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2RlZmF1bHQtc2NoZW1hLXRhYicgfSxcbiAgICAgIHJlc3BvbnNlQXJlYUhlaWdodDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3Jlc3BvbnNlLWFyZWEtaGVpZ2h0JyB9LFxuICAgICAgZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2ZpbGwtcmVxdWVzdC1maWVsZHMtd2l0aC1leGFtcGxlJyB9LFxuICAgICAgcGVyc2lzdEF1dGg6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdwZXJzaXN0LWF1dGgnIH0sXG4gICAgICBvbk5hdlRhZ0NsaWNrOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnb24tbmF2LXRhZy1jbGljaycgfSxcblxuICAgICAgLy8gU2NoZW1hIFN0eWxlc1xuICAgICAgc2NoZW1hU3R5bGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzY2hlbWEtc3R5bGUnIH0sXG4gICAgICBzY2hlbWFFeHBhbmRMZXZlbDogeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ3NjaGVtYS1leHBhbmQtbGV2ZWwnIH0sXG4gICAgICBzY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkJyB9LFxuICAgICAgc2NoZW1hSGlkZVJlYWRPbmx5OiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLWhpZGUtcmVhZC1vbmx5JyB9LFxuICAgICAgc2NoZW1hSGlkZVdyaXRlT25seTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1oaWRlLXdyaXRlLW9ubHknIH0sXG5cbiAgICAgIC8vIEFQSSBTZXJ2ZXJcbiAgICAgIGFwaUtleU5hbWU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhcGkta2V5LW5hbWUnIH0sXG4gICAgICBhcGlLZXlMb2NhdGlvbjogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FwaS1rZXktbG9jYXRpb24nIH0sXG4gICAgICBhcGlLZXlWYWx1ZTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FwaS1rZXktdmFsdWUnIH0sXG4gICAgICBkZWZhdWx0QXBpU2VydmVyVXJsOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZGVmYXVsdC1hcGktc2VydmVyJyB9LFxuICAgICAgc2VydmVyVXJsOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2VydmVyLXVybCcgfSxcbiAgICAgIG9hdXRoUmVjZWl2ZXI6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdvYXV0aC1yZWNlaXZlcicgfSxcblxuICAgICAgLy8gSGlkZS9TaG93IFNlY3Rpb25zICYgRW5hYmxlIERpc2FibGUgYWN0aW9uc1xuICAgICAgc2hvd0hlYWRlcjogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3Nob3ctaGVhZGVyJyB9LFxuICAgICAgc2hvd1NpZGVOYXY6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzaG93LXNpZGUtbmF2JyB9LFxuICAgICAgc2hvd0luZm86IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzaG93LWluZm8nIH0sXG4gICAgICBhbGxvd0F1dGhlbnRpY2F0aW9uOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWxsb3ctYXV0aGVudGljYXRpb24nIH0sXG4gICAgICBhbGxvd1RyeTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FsbG93LXRyeScgfSxcbiAgICAgIHNob3dDdXJsQmVmb3JlVHJ5OiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2hvdy1jdXJsLWJlZm9yZS10cnknIH0sXG4gICAgICBhbGxvd1NwZWNVcmxMb2FkOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWxsb3ctc3BlYy11cmwtbG9hZCcgfSxcbiAgICAgIGFsbG93U3BlY0ZpbGVMb2FkOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWxsb3ctc3BlYy1maWxlLWxvYWQnIH0sXG4gICAgICBhbGxvd1NwZWNGaWxlRG93bmxvYWQ6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhbGxvdy1zcGVjLWZpbGUtZG93bmxvYWQnIH0sXG4gICAgICBhbGxvd1NlYXJjaDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FsbG93LXNlYXJjaCcgfSxcbiAgICAgIGFsbG93QWR2YW5jZWRTZWFyY2g6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhbGxvdy1hZHZhbmNlZC1zZWFyY2gnIH0sXG4gICAgICBhbGxvd1NlcnZlclNlbGVjdGlvbjogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FsbG93LXNlcnZlci1zZWxlY3Rpb24nIH0sXG4gICAgICBhbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWxsb3ctc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZC10b2dnbGUnIH0sXG4gICAgICBzaG93Q29tcG9uZW50czogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3Nob3ctY29tcG9uZW50cycgfSxcbiAgICAgIHBhZ2VEaXJlY3Rpb246IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdwYWdlLWRpcmVjdGlvbicgfSxcblxuICAgICAgLy8gTWFpbiBDb2xvcnMgYW5kIEZvbnRcbiAgICAgIHRoZW1lOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgICAgYmdDb2xvcjogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2JnLWNvbG9yJyB9LFxuICAgICAgdGV4dENvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAndGV4dC1jb2xvcicgfSxcbiAgICAgIGhlYWRlckNvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnaGVhZGVyLWNvbG9yJyB9LFxuICAgICAgcHJpbWFyeUNvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAncHJpbWFyeS1jb2xvcicgfSxcbiAgICAgIGZvbnRTaXplOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZm9udC1zaXplJyB9LFxuICAgICAgcmVndWxhckZvbnQ6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdyZWd1bGFyLWZvbnQnIH0sXG4gICAgICBtb25vRm9udDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ21vbm8tZm9udCcgfSxcbiAgICAgIGxvYWRGb250czogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2xvYWQtZm9udHMnIH0sXG4gICAgICBjc3NGaWxlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnY3NzLWZpbGUnIH0sXG4gICAgICBjc3NDbGFzc2VzOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnY3NzLWNsYXNzZXMnIH0sXG5cbiAgICAgIC8vIE5hdiBCYXIgQ29sb3JzXG4gICAgICBuYXZCZ0NvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnbmF2LWJnLWNvbG9yJyB9LFxuICAgICAgbmF2VGV4dENvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnbmF2LXRleHQtY29sb3InIH0sXG4gICAgICBuYXZIb3ZlckJnQ29sb3I6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICduYXYtaG92ZXItYmctY29sb3InIH0sXG4gICAgICBuYXZIb3ZlclRleHRDb2xvcjogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ25hdi1ob3Zlci10ZXh0LWNvbG9yJyB9LFxuICAgICAgbmF2QWNjZW50Q29sb3I6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICduYXYtYWNjZW50LWNvbG9yJyB9LFxuICAgICAgbmF2QWNjZW50VGV4dENvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnbmF2LWFjY2VudC10ZXh0LWNvbG9yJyB9LFxuICAgICAgbmF2QWN0aXZlSXRlbU1hcmtlcjogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ25hdi1hY3RpdmUtaXRlbS1tYXJrZXInIH0sXG4gICAgICBuYXZJdGVtU3BhY2luZzogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ25hdi1pdGVtLXNwYWNpbmcnIH0sXG4gICAgICBzaG93TWV0aG9kSW5OYXZCYXI6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzaG93LW1ldGhvZC1pbi1uYXYtYmFyJyB9LFxuICAgICAgdXNlUGF0aEluTmF2QmFyOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAndXNlLXBhdGgtaW4tbmF2LWJhcicgfSxcbiAgICAgIGluZm9EZXNjcmlwdGlvbkhlYWRpbmdzSW5OYXZCYXI6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdpbmZvLWRlc2NyaXB0aW9uLWhlYWRpbmdzLWluLW5hdmJhcicgfSxcblxuICAgICAgLy8gRmV0Y2ggT3B0aW9uc1xuICAgICAgZmV0Y2hDcmVkZW50aWFsczogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2ZldGNoLWNyZWRlbnRpYWxzJyB9LFxuXG4gICAgICAvLyBGaWx0ZXJzXG4gICAgICBtYXRjaFBhdGhzOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnbWF0Y2gtcGF0aHMnIH0sXG4gICAgICBtYXRjaFR5cGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdtYXRjaC10eXBlJyB9LFxuXG4gICAgICAvLyBJbnRlcm5hbCBQcm9wZXJ0aWVzXG4gICAgICBsb2FkaW5nOiB7IHR5cGU6IEJvb2xlYW4gfSwgLy8gaW5kaWNhdGVzIHNwZWMgaXMgYmVpbmcgbG9hZGVkXG4gICAgICBmb2N1c2VkRWxlbWVudElkOiB7IHR5cGU6IFN0cmluZyB9LCAvLyB1cGRhdGluZyB0aGUgZm9jdXNlZEVsZW1lbnRJZCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVuZGVyIGFwcHJvcHJpYXRlIHNlY3Rpb24gaW4gZm9jdXNlZCBtb2RlXG4gICAgICBzaG93QWR2YW5jZWRTZWFyY2hEaWFsb2c6IHsgdHlwZTogQm9vbGVhbiB9LFxuICAgICAgYWR2YW5jZWRTZWFyY2hNYXRjaGVzOiB7IHR5cGU6IE9iamVjdCB9LFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgRm9udFN0eWxlcyxcbiAgICAgIElucHV0U3R5bGVzLFxuICAgICAgRmxleFN0eWxlcyxcbiAgICAgIFRhYmxlU3R5bGVzLFxuICAgICAgRW5kcG9pbnRTdHlsZXMsXG4gICAgICBQcmlzbVN0eWxlcyxcbiAgICAgIFRhYlN0eWxlcyxcbiAgICAgIE5hdlN0eWxlcyxcbiAgICAgIEluZm9TdHlsZXMsXG4gICAgICBjc3NgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgbWluLXdpZHRoOjM2MHB4O1xuICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgbWFyZ2luOjA7XG4gICAgICAgIHBhZGRpbmc6MDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6bm9ybWFsO1xuICAgICAgICBjb2xvcjp2YXIoLS1mZyk7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tYmcpO1xuICAgICAgICBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpO1xuICAgICAgfVxuICAgICAgOndoZXJlKGJ1dHRvbiwgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLCBbdGFiaW5kZXg9XCIwXCJdKTpmb2N1cy12aXNpYmxlIHsgYm94LXNoYWRvdzogdmFyKC0tZm9jdXMtc2hhZG93KTsgfVxuICAgICAgOndoZXJlKGlucHV0W3R5cGU9XCJ0ZXh0XCJdLCBpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0sIHNlbGVjdCwgdGV4dGFyZWEpOmZvY3VzLXZpc2libGUgeyBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpOyB9XG4gICAgLmJvZHkge1xuICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgIGhlaWdodDoxMDAlO1xuICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgICB9XG4gICAgICAubWFpbi1jb250ZW50IHsgXG4gICAgICAgIG1hcmdpbjowO1xuICAgICAgICBwYWRkaW5nOiAwOyBcbiAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgZmxleDoxO1xuICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgICAgICBzY3JvbGxiYXItd2lkdGg6IHRoaW47XG4gICAgICAgIHNjcm9sbGJhci1jb2xvcjogdmFyKC0tYm9yZGVyLWNvbG9yKSB0cmFuc3BhcmVudDtcbiAgICAgIH1cblxuICAgICAgLm1haW4tY29udGVudC1pbm5lci0tdmlldy1tb2RlIHtcbiAgICAgICAgcGFkZGluZzogMCA4cHg7XG4gICAgICB9XG4gICAgICAubWFpbi1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgIGhlaWdodDogOHB4O1xuICAgICAgfVxuICAgICAgLm1haW4tY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgICAgICBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O1xuICAgICAgfVxuICAgICAgLm1haW4tY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAuc2VjdGlvbi1nYXAuc2VjdGlvbi10YWcge1xuICAgICAgICBib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xuICAgICAgfVxuICAgICAgLnNlY3Rpb24tZ2FwLFxuICAgICAgLnNlY3Rpb24tZ2FwLS1mb2N1c2VkLW1vZGUsXG4gICAgICAuc2VjdGlvbi1nYXAtLXJlYWQtbW9kZSB7IFxuICAgICAgICBwYWRkaW5nOiAwcHggNHB4OyBcbiAgICAgIH1cbiAgICAgIC5zZWN0aW9uLXRhZy1oZWFkZXIge1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgY3Vyc29yOiBuLXJlc2l6ZTtcbiAgICAgICAgcGFkZGluZzogMTJweCAwO1xuICAgICAgfVxuICAgICAgLmNvbGxhcHNlZCAuc2VjdGlvbi10YWctaGVhZGVyOmhvdmVye1xuICAgICAgICBjdXJzb3I6IHMtcmVzaXplO1xuICAgICAgfVxuXG4gICAgICAuc2VjdGlvbi10YWctaGVhZGVyOmhvdmVye1xuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoMCwwLDAsMCksIHZhcigtLWJvcmRlci1jb2xvciksIHJnYmEoMCwwLDAsMCkpO1xuICAgICAgfVxuXG4gICAgICAuc2VjdGlvbi10YWctaGVhZGVyOmhvdmVyOjphZnRlciB7XG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICBtYXJnaW4tbGVmdDotMjRweDtcbiAgICAgICAgZm9udC1zaXplOjIwcHg7XG4gICAgICAgIHRvcDogY2FsYyg1MCUgLSAxNHB4KTtcbiAgICAgICAgY29sb3I6dmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIGNvbnRlbnQ6ICfirIYnOyBcbiAgICAgIH1cblxuICAgICAgLmNvbGxhcHNlZCAuc2VjdGlvbi10YWctaGVhZGVyOjphZnRlciB7XG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICBtYXJnaW4tbGVmdDotMjRweDtcbiAgICAgICAgZm9udC1zaXplOjIwcHg7XG4gICAgICAgIHRvcDogY2FsYyg1MCUgLSAxNHB4KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgICAgIGNvbnRlbnQ6ICfirIcnOyBcbiAgICAgIH1cbiAgICAgIC5jb2xsYXBzZWQgLnNlY3Rpb24tdGFnLWhlYWRlcjpob3Zlcjo6YWZ0ZXIge1xuICAgICAgICBjb2xvcjp2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLmNvbGxhcHNlZCAuc2VjdGlvbi10YWctYm9keSB7XG4gICAgICAgIGRpc3BsYXk6bm9uZTtcbiAgICAgIH1cblxuICAgICAgLmxvZ28ge1xuICAgICAgICBoZWlnaHQ6MzZweDtcbiAgICAgICAgd2lkdGg6MzZweDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6NXB4OyBcbiAgICAgIH1cbiAgICAgIC5vbmx5LWxhcmdlLXNjcmVlbi1mbGV4LFxuICAgICAgLm9ubHktbGFyZ2Utc2NyZWVue1xuICAgICAgICBkaXNwbGF5Om5vbmU7XG4gICAgICB9XG4gICAgICAudGFnLnRpdGxlIHtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgIH1cbiAgICAgIC5tYWluLWhlYWRlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0taGVhZGVyLWJnKTtcbiAgICAgICAgY29sb3I6dmFyKC0taGVhZGVyLWZnKTtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgIH1cbiAgICAgIC5oZWFkZXItdGl0bGUge1xuICAgICAgICBmb250LXNpemU6Y2FsYyh2YXIoLS1mb250LXNpemUtcmVndWxhcikgKyA4cHgpOyBcbiAgICAgICAgcGFkZGluZzowIDhweDtcbiAgICAgIH1cbiAgICAgIGlucHV0LmhlYWRlci1pbnB1dHtcbiAgICAgICAgYmFja2dyb3VuZDp2YXIoLS1oZWFkZXItY29sb3ItZGFya2VyKTtcbiAgICAgICAgY29sb3I6dmFyKC0taGVhZGVyLWZnKTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1oZWFkZXItY29sb3ItYm9yZGVyKTtcbiAgICAgICAgZmxleDoxOyBcbiAgICAgICAgcGFkZGluZy1yaWdodDoyNHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOjNweDtcbiAgICAgIH1cbiAgICAgIGlucHV0LmhlYWRlci1pbnB1dDo6cGxhY2Vob2xkZXIge1xuICAgICAgICBvcGFjaXR5OjAuNDtcbiAgICAgIH1cbiAgICAgIC5sb2FkZXIge1xuICAgICAgICBtYXJnaW46IDE2cHggYXV0byAxNnB4IGF1dG87IFxuICAgICAgICBib3JkZXI6IDRweCBzb2xpZCB2YXIoLS1iZzMpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgIGJvcmRlci10b3A6IDRweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgd2lkdGg6IDM2cHg7XG4gICAgICAgIGhlaWdodDogMzZweDtcbiAgICAgICAgYW5pbWF0aW9uOiBzcGluIDJzIGxpbmVhciBpbmZpbml0ZTtcbiAgICAgIH1cbiAgICAgIC5leHBhbmRlZC1lbmRwb2ludC1ib2R5IHsgXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgcGFkZGluZzogNnB4IDBweDsgXG4gICAgICB9XG4gICAgICAuZXhwYW5kZWQtZW5kcG9pbnQtYm9keSAudGFnLWRlc2NyaXB0aW9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29kZS1iZyk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICAgICAgICB0cmFuc2l0aW9uOiBtYXgtaGVpZ2h0IC4ycyBlYXNlLW91dDtcbiAgICAgIH1cbiAgICAgIC5leHBhbmRlZC1lbmRwb2ludC1ib2R5IC50YWctaWNvbiB7XG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMnMgZWFzZS1vdXQ7XG4gICAgICB9XG4gICAgICAuZXhwYW5kZWQtZW5kcG9pbnQtYm9keSAudGFnLWljb24uZXhwYW5kZWQge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgICAgfVxuICAgICAgLmRpdmlkZXIgeyBcbiAgICAgICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgICAgIG1hcmdpbjogMjRweCAwO1xuICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgfVxuXG4gICAgICAudG9vbHRpcCB7XG4gICAgICAgIGN1cnNvcjpwb2ludGVyO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xuICAgICAgICBib3JkZXItbGVmdC13aWR0aDogNHB4O1xuICAgICAgICBtYXJnaW4tbGVmdDoycHg7XG4gICAgICB9XG4gICAgICAudG9vbHRpcCBhIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWZnMik7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIH1cbiAgICAgIC50b29sdGlwLXRleHQge1xuICAgICAgICBjb2xvcjogdmFyKC0tZmcyKTtcbiAgICAgICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OjE7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnMik7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcblxuICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICAgICAgfVxuICAgICAgLnRvb2x0aXA6aG92ZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICB9XG4gICAgICAudG9vbHRpcDpob3ZlciBhOmhvdmVyIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAudG9vbHRpcDpob3ZlciAudG9vbHRpcC10ZXh0IHtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICAgICAgfVxuXG4gICAgICAubmF2LW1ldGhvZCB7IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tcmlnaHQ6IDRweDsgZm9udC1zaXplOiBjYWxjKHZhcigtLWZvbnQtc2l6ZS1zbWFsbCkgLSAycHgpOyB3aGl0ZS1zcGFjZTogbm93cmFwOyB9XG4gICAgICAubmF2LW1ldGhvZC5mYWxzZSB7IGRpc3BsYXk6IG5vbmU7IH1cblxuICAgICAgLm5hdi1tZXRob2QuYXMtY29sb3JlZC10ZXh0LmdldCB7IGNvbG9yOnZhcigtLW5hdi1nZXQtY29sb3IpOyB9XG4gICAgICAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLXRleHQucHV0IHsgY29sb3I6dmFyKC0tbmF2LXB1dC1jb2xvcik7IH1cbiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtdGV4dC5wb3N0IHsgY29sb3I6dmFyKC0tbmF2LXBvc3QtY29sb3IpOyB9XG4gICAgICAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLXRleHQuZGVsZXRlIHsgY29sb3I6dmFyKC0tbmF2LWRlbGV0ZS1jb2xvcik7IH1cbiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtdGV4dC5oZWFkLCAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLXRleHQucGF0Y2gsIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtdGV4dC5vcHRpb25zIHsgY29sb3I6dmFyKC0tbmF2LWhlYWQtY29sb3IpOyB9XG4gICAgICBcbiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2sge1xuICAgICAgICBwYWRkaW5nOiAxcHggNHB4O1xuICAgICAgICBtaW4td2lkdGg6IDMwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweCAwIDAgNHB4O1xuICAgICAgICBjb2xvcjogIzAwMDtcbiAgICAgIH1cbiAgICAgIC5jb2xvcmVkLWJsb2NrIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2sge1xuICAgICAgICBvdXRsaW5lOiAxcHggc29saWQ7XG4gICAgICB9XG5cbiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2suZ2V0IHsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmx1ZSk7IH1cbiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2sucHV0IHsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tb3JhbmdlKTsgfVxuICAgICAgLm5hdi1tZXRob2QuYXMtY29sb3JlZC1ibG9jay5wb3N0IHsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ3JlZW4pOyB9XG4gICAgICAubmF2LW1ldGhvZC5hcy1jb2xvcmVkLWJsb2NrLmRlbGV0ZSB7IGJhY2tncm91bmQtY29sb3I6IHZhcigtLXJlZCk7IH1cbiAgICAgIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2suaGVhZCwgLm5hdi1tZXRob2QuYXMtY29sb3JlZC1ibG9jay5wYXRjaCAsIC5uYXYtbWV0aG9kLmFzLWNvbG9yZWQtYmxvY2sub3B0aW9ucyB7IFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS15ZWxsb3cpOyBcbiAgICAgIH1cblxuICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xuICAgICAgICAubmF2LWJhciB7XG4gICAgICAgICAgd2lkdGg6IDI2MHB4O1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgfVxuICAgICAgICAub25seS1sYXJnZS1zY3JlZW57XG4gICAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgfVxuICAgICAgICAub25seS1sYXJnZS1zY3JlZW4tZmxleHtcbiAgICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgIH1cbiAgICAgICAgLnNlY3Rpb24tZ2FwIHsgXG4gICAgICAgICAgcGFkZGluZzogMCAwIDAgMjRweDsgXG4gICAgICAgIH1cbiAgICAgICAgLnNlY3Rpb24tZ2FwLS1mb2N1c2VkLW1vZGUge1xuICAgICAgICAgIHBhZGRpbmc6IDI0cHggOHB4OyBcbiAgICAgICAgfVxuICAgICAgICAuc2VjdGlvbi1nYXAtLXJlYWQtbW9kZSB7IFxuICAgICAgICAgIHBhZGRpbmc6IDI0cHggOHB4OyBcbiAgICAgICAgfVxuICAgICAgICAuZW5kcG9pbnQtYm9keSB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIHBhZGRpbmc6MzZweCAwIDQ4cHggMDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMjRweCkge1xuICAgICAgICAubmF2LWJhciB7XG4gICAgICAgICAgd2lkdGg6ICR7dW5zYWZlQ1NTKHRoaXMuZm9udFNpemUgPT09ICdkZWZhdWx0JyA/ICczMDBweCcgOiB0aGlzLmZvbnRTaXplID09PSAnbGFyZ2UnID8gJzMxNXB4JyA6ICczMzBweCcpfTtcbiAgICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgIH1cbiAgICAgICAgLnNlY3Rpb24tZ2FwLS1mb2N1c2VkLW1vZGUgeyBcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDgwcHggMTJweCA4MHB4OyBcbiAgICAgICAgfVxuICAgICAgICAuc2VjdGlvbi1nYXAtLXJlYWQtbW9kZSB7IFxuICAgICAgICAgIHBhZGRpbmc6IDI0cHggODBweCAxMnB4IDgwcHg7IFxuICAgICAgICB9XG4gICAgICB9YCxcbiAgICAgIEN1c3RvbVN0eWxlcyxcbiAgICBdO1xuICB9XG5cbiAgLy8gU3RhcnR1cFxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50RWxlbWVudDtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50Lm9mZnNldFdpZHRoID09PSAwICYmIHBhcmVudC5zdHlsZS53aWR0aCA9PT0gJycpIHtcbiAgICAgICAgcGFyZW50LnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQub2Zmc2V0SGVpZ2h0ID09PSAwICYmIHBhcmVudC5zdHlsZS5oZWlnaHQgPT09ICcnKSB7XG4gICAgICAgIHBhcmVudC5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudC50YWdOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgaWYgKCFwYXJlbnQuc3R5bGUubWFyZ2luVG9wKSB7IHBhcmVudC5zdHlsZS5tYXJnaW5Ub3AgPSAnMCc7IH1cbiAgICAgICAgaWYgKCFwYXJlbnQuc3R5bGUubWFyZ2luUmlnaHQpIHsgcGFyZW50LnN0eWxlLm1hcmdpblJpZ2h0ID0gJzAnOyB9XG4gICAgICAgIGlmICghcGFyZW50LnN0eWxlLm1hcmdpbkJvdHRvbSkgeyBwYXJlbnQuc3R5bGUubWFyZ2luQm90dG9tID0gJzAnOyB9XG4gICAgICAgIGlmICghcGFyZW50LnN0eWxlLm1hcmdpbkxlZnQpIHsgcGFyZW50LnN0eWxlLm1hcmdpbkxlZnQgPSAnMCc7IH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5sb2FkRm9udHMgIT09ICdmYWxzZScpIHtcbiAgICAgIGNvbnN0IGZvbnREZXNjcmlwdG9yID0ge1xuICAgICAgICBmYW1pbHk6ICdPcGVuIFNhbnMnLFxuICAgICAgICBzdHlsZTogJ25vcm1hbCcsXG4gICAgICAgIHdlaWdodDogJzMwMCcsXG4gICAgICAgIHVuaWNvZGVSYW5nZTogJ1UrMDAwMC0wMEZGLCBVKzAxMzEsIFUrMDE1Mi0wMTUzLCBVKzAyQkItMDJCQywgVSswMkM2LCBVKzAyREEsIFUrMDJEQywgVSsyMDAwLTIwNkYsIFUrMjA3NCwgVSsyMEFDLCBVKzIxMjIsIFUrMjE5MSwgVSsyMTkzLCBVKzIyMTIsIFUrMjIxNSwgVStGRUZGLCBVK0ZGRkQnLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGZvbnRXZWlnaHQzMDAgPSBuZXcgRm9udEZhY2UoXG4gICAgICAgICdPcGVuIFNhbnMnLFxuICAgICAgICBcInVybChodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tL3Mvb3BlbnNhbnMvdjE4L21lbTVZYUdzMTI2TWlacEJBLVVOX3I4T1V1aHBLS1NUancud29mZjIpIGZvcm1hdCgnd29mZjInKVwiLFxuICAgICAgICBmb250RGVzY3JpcHRvcixcbiAgICAgICk7XG4gICAgICBmb250RGVzY3JpcHRvci53ZWlnaHQgPSAnNjAwJztcbiAgICAgIGNvbnN0IGZvbnRXZWlnaHQ2MDAgPSBuZXcgRm9udEZhY2UoXG4gICAgICAgICdPcGVuIFNhbnMnLFxuICAgICAgICBcInVybChodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tL3Mvb3BlbnNhbnMvdjE4L21lbTVZYUdzMTI2TWlacEJBLVVOaXJrT1V1aHBLS1NUancud29mZjIpIGZvcm1hdCgnd29mZjInKVwiLFxuICAgICAgICBmb250RGVzY3JpcHRvcixcbiAgICAgICk7XG4gICAgICBmb250V2VpZ2h0MzAwLmxvYWQoKS50aGVuKChmb250KSA9PiB7IGRvY3VtZW50LmZvbnRzLmFkZChmb250KTsgfSk7XG4gICAgICBmb250V2VpZ2h0NjAwLmxvYWQoKS50aGVuKChmb250KSA9PiB7IGRvY3VtZW50LmZvbnRzLmFkZChmb250KTsgfSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmxheW91dCB8fCAhJ3JvdywgY29sdW1uLCcuaW5jbHVkZXMoYCR7dGhpcy5sYXlvdXR9LGApKSB7IHRoaXMubGF5b3V0ID0gJ3Jvdyc7IH1cbiAgICBpZiAoIXRoaXMucmVuZGVyU3R5bGUgfHwgISdyZWFkLCB2aWV3LCBmb2N1c2VkLCcuaW5jbHVkZXMoYCR7dGhpcy5yZW5kZXJTdHlsZX0sYCkpIHsgdGhpcy5yZW5kZXJTdHlsZSA9ICdmb2N1c2VkJzsgfVxuICAgIGlmICghdGhpcy5zY2hlbWFTdHlsZSB8fCAhJ3RyZWUsIHRhYmxlLCcuaW5jbHVkZXMoYCR7dGhpcy5zY2hlbWFTdHlsZX0sYCkpIHsgdGhpcy5zY2hlbWFTdHlsZSA9ICd0cmVlJzsgfVxuICAgIGlmICghdGhpcy50aGVtZSB8fCAhJ2xpZ2h0LCBkYXJrLCcuaW5jbHVkZXMoYCR7dGhpcy50aGVtZX0sYCkpIHtcbiAgICAgIHRoaXMudGhlbWUgPSAod2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpJykubWF0Y2hlcykgPyAnbGlnaHQnIDogJ2RhcmsnO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZGVmYXVsdFNjaGVtYVRhYiB8fCAhJ2V4YW1wbGUsIHNjaGVtYSwgbW9kZWwsJy5pbmNsdWRlcyhgJHt0aGlzLmRlZmF1bHRTY2hlbWFUYWJ9LGApKSB7XG4gICAgICB0aGlzLmRlZmF1bHRTY2hlbWFUYWIgPSAnZXhhbXBsZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRlZmF1bHRTY2hlbWFUYWIgPT09ICdtb2RlbCcpIHtcbiAgICAgIHRoaXMuZGVmYXVsdFNjaGVtYVRhYiA9ICdzY2hlbWEnO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgfHwgdGhpcy5zY2hlbWFFeHBhbmRMZXZlbCA8IDEpIHsgdGhpcy5zY2hlbWFFeHBhbmRMZXZlbCA9IDk5OTk5OyB9XG4gICAgaWYgKCF0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQgfHwgISd0cnVlLCBmYWxzZSwnLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH0sYCkpIHsgdGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkID0gJ2ZhbHNlJzsgfVxuXG4gICAgaWYgKCF0aGlzLnNjaGVtYUhpZGVSZWFkT25seSB8fCAhJ2RlZmF1bHQsIG5ldmVyLCcuaW5jbHVkZXMoYCR7dGhpcy5zY2hlbWFIaWRlUmVhZE9ubHl9LGApKSB7IHRoaXMuc2NoZW1hSGlkZVJlYWRPbmx5ID0gJ2RlZmF1bHQnOyB9XG4gICAgaWYgKCF0aGlzLnNjaGVtYUhpZGVXcml0ZU9ubHkgfHwgISdkZWZhdWx0LCBuZXZlciwnLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hSGlkZVdyaXRlT25seX0sYCkpIHsgdGhpcy5zY2hlbWFIaWRlV3JpdGVPbmx5ID0gJ2RlZmF1bHQnOyB9XG5cbiAgICBpZiAoIXRoaXMuZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZSB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlfSxgKSkgeyB0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGUgPSAndHJ1ZSc7IH1cbiAgICBpZiAoIXRoaXMucGVyc2lzdEF1dGggfHwgISd0cnVlLCBmYWxzZSwnLmluY2x1ZGVzKGAke3RoaXMucGVyc2lzdEF1dGh9LGApKSB7IHRoaXMucGVyc2lzdEF1dGggPSAnZmFsc2UnOyB9XG4gICAgaWYgKCF0aGlzLnJlc3BvbnNlQXJlYUhlaWdodCkge1xuICAgICAgdGhpcy5yZXNwb25zZUFyZWFIZWlnaHQgPSAnNDAwcHgnO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hbGxvd1NlYXJjaCB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1NlYXJjaH0sYCkpIHsgdGhpcy5hbGxvd1NlYXJjaCA9ICd0cnVlJzsgfVxuICAgIGlmICghdGhpcy5hbGxvd0FkdmFuY2VkU2VhcmNoIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLmFsbG93QWR2YW5jZWRTZWFyY2h9LGApKSB7IHRoaXMuYWxsb3dBZHZhbmNlZFNlYXJjaCA9ICd0cnVlJzsgfVxuXG4gICAgaWYgKCF0aGlzLmFsbG93VHJ5IHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLmFsbG93VHJ5fSxgKSkgeyB0aGlzLmFsbG93VHJ5ID0gJ3RydWUnOyB9XG4gICAgaWYgKCF0aGlzLmFwaUtleVZhbHVlKSB7IHRoaXMuYXBpS2V5VmFsdWUgPSAnLSc7IH1cbiAgICBpZiAoIXRoaXMuYXBpS2V5TG9jYXRpb24pIHsgdGhpcy5hcGlLZXlMb2NhdGlvbiA9ICdoZWFkZXInOyB9XG4gICAgaWYgKCF0aGlzLmFwaUtleU5hbWUpIHsgdGhpcy5hcGlLZXlOYW1lID0gJyc7IH1cblxuICAgIGlmICghdGhpcy5vYXV0aFJlY2VpdmVyKSB7IHRoaXMub2F1dGhSZWNlaXZlciA9ICdvYXV0aC1yZWNlaXZlci5odG1sJzsgfVxuICAgIGlmICghdGhpcy51cGRhdGVSb3V0ZSB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy51cGRhdGVSb3V0ZX0sYCkpIHsgdGhpcy51cGRhdGVSb3V0ZSA9ICd0cnVlJzsgfVxuICAgIGlmICghdGhpcy5yb3V0ZVByZWZpeCkgeyB0aGlzLnJvdXRlUHJlZml4ID0gJyMnOyB9XG4gICAgaWYgKCF0aGlzLnNvcnRUYWdzIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLnNvcnRUYWdzfSxgKSkgeyB0aGlzLnNvcnRUYWdzID0gJ2ZhbHNlJzsgfVxuICAgIGlmICghdGhpcy5nZW5lcmF0ZU1pc3NpbmdUYWdzIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLmdlbmVyYXRlTWlzc2luZ1RhZ3N9LGApKSB7IHRoaXMuZ2VuZXJhdGVNaXNzaW5nVGFncyA9ICdmYWxzZSc7IH1cbiAgICBpZiAoIXRoaXMuc29ydEVuZHBvaW50c0J5IHx8ICEnbWV0aG9kLCBwYXRoLCBzdW1tYXJ5LCBub25lLCcuaW5jbHVkZXMoYCR7dGhpcy5zb3J0RW5kcG9pbnRzQnl9LGApKSB7IHRoaXMuc29ydEVuZHBvaW50c0J5ID0gJ3BhdGgnOyB9XG5cbiAgICBpZiAoIXRoaXMub25OYXZUYWdDbGljayB8fCAhJ2V4cGFuZC1jb2xsYXBzZSwgc2hvdy1kZXNjcmlwdGlvbiwnLmluY2x1ZGVzKGAke3RoaXMub25OYXZUYWdDbGlja30sYCkpIHsgdGhpcy5vbk5hdlRhZ0NsaWNrID0gJ2V4cGFuZC1jb2xsYXBzZSc7IH1cbiAgICBpZiAoIXRoaXMubmF2SXRlbVNwYWNpbmcgfHwgISdjb21wYWN0LCByZWxheGVkLCBkZWZhdWx0LCcuaW5jbHVkZXMoYCR7dGhpcy5uYXZJdGVtU3BhY2luZ30sYCkpIHsgdGhpcy5uYXZJdGVtU3BhY2luZyA9ICdkZWZhdWx0JzsgfVxuICAgIGlmICghdGhpcy5zaG93TWV0aG9kSW5OYXZCYXIgfHwgISdmYWxzZSwgYXMtcGxhaW4tdGV4dCwgYXMtY29sb3JlZC10ZXh0LCBhcy1jb2xvcmVkLWJsb2NrLCcuaW5jbHVkZXMoYCR7dGhpcy5zaG93TWV0aG9kSW5OYXZCYXJ9LGApKSB7IHRoaXMuc2hvd01ldGhvZEluTmF2QmFyID0gJ2ZhbHNlJzsgfVxuICAgIGlmICghdGhpcy51c2VQYXRoSW5OYXZCYXIgfHwgISd0cnVlLCBmYWxzZSwnLmluY2x1ZGVzKGAke3RoaXMudXNlUGF0aEluTmF2QmFyfSxgKSkgeyB0aGlzLnVzZVBhdGhJbk5hdkJhciA9ICdmYWxzZSc7IH1cbiAgICBpZiAoIXRoaXMubmF2QWN0aXZlSXRlbU1hcmtlciB8fCAhJ2xlZnQtYmFyLCBjb2xvcmVkLWJsb2NrJy5pbmNsdWRlcyhgJHt0aGlzLm5hdkFjdGl2ZUl0ZW1NYXJrZXJ9LGApKSB7IHRoaXMubmF2QWN0aXZlSXRlbU1hcmtlciA9ICdsZWZ0LWJhcic7IH1cblxuICAgIGlmICghdGhpcy5mb250U2l6ZSB8fCAhJ2RlZmF1bHQsIGxhcmdlLCBsYXJnZXN0LCcuaW5jbHVkZXMoYCR7dGhpcy5mb250U2l6ZX0sYCkpIHsgdGhpcy5mb250U2l6ZSA9ICdkZWZhdWx0JzsgfVxuICAgIGlmICghdGhpcy5zaG93SW5mbyB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy5zaG93SW5mb30sYCkpIHsgdGhpcy5zaG93SW5mbyA9ICd0cnVlJzsgfVxuICAgIGlmICghdGhpcy5hbGxvd1NlcnZlclNlbGVjdGlvbiB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1NlcnZlclNlbGVjdGlvbn0sYCkpIHsgdGhpcy5hbGxvd1NlcnZlclNlbGVjdGlvbiA9ICd0cnVlJzsgfVxuICAgIGlmICghdGhpcy5hbGxvd0F1dGhlbnRpY2F0aW9uIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLmFsbG93QXV0aGVudGljYXRpb259LGApKSB7IHRoaXMuYWxsb3dBdXRoZW50aWNhdGlvbiA9ICd0cnVlJzsgfVxuICAgIGlmICghdGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGV9LGApKSB7IHRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZSA9ICd0cnVlJzsgfVxuXG4gICAgaWYgKCF0aGlzLnNob3dTaWRlTmF2IHx8ICEndHJ1ZSBmYWxzZScuaW5jbHVkZXModGhpcy5zaG93U2lkZU5hdikpIHsgdGhpcy5zaG93U2lkZU5hdiA9ICd0cnVlJzsgfVxuICAgIGlmICghdGhpcy5zaG93Q29tcG9uZW50cyB8fCAhJ3RydWUgZmFsc2UnLmluY2x1ZGVzKHRoaXMuc2hvd0NvbXBvbmVudHMpKSB7IHRoaXMuc2hvd0NvbXBvbmVudHMgPSAnZmFsc2UnOyB9XG4gICAgaWYgKCF0aGlzLmluZm9EZXNjcmlwdGlvbkhlYWRpbmdzSW5OYXZCYXIgfHwgISd0cnVlLCBmYWxzZSwnLmluY2x1ZGVzKGAke3RoaXMuaW5mb0Rlc2NyaXB0aW9uSGVhZGluZ3NJbk5hdkJhcn0sYCkpIHsgdGhpcy5pbmZvRGVzY3JpcHRpb25IZWFkaW5nc0luTmF2QmFyID0gJ2ZhbHNlJzsgfVxuICAgIGlmICghdGhpcy5mZXRjaENyZWRlbnRpYWxzIHx8ICEnb21pdCwgc2FtZS1vcmlnaW4sIGluY2x1ZGUsJy5pbmNsdWRlcyhgJHt0aGlzLmZldGNoQ3JlZGVudGlhbHN9LGApKSB7IHRoaXMuZmV0Y2hDcmVkZW50aWFscyA9ICcnOyB9XG4gICAgaWYgKCF0aGlzLm1hdGNoVHlwZSB8fCAhJ2luY2x1ZGVzIHJlZ2V4Jy5pbmNsdWRlcyh0aGlzLm1hdGNoVHlwZSkpIHsgdGhpcy5tYXRjaFR5cGUgPSAnaW5jbHVkZXMnOyB9XG5cbiAgICBpZiAoIXRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoRGlhbG9nKSB7IHRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoRGlhbG9nID0gZmFsc2U7IH1cblxuICAgIGlmICghdGhpcy5jc3NGaWxlKSB7IHRoaXMuY3NzRmlsZSA9IG51bGw7IH1cbiAgICBpZiAoIXRoaXMuY3NzQ2xhc3NlcykgeyB0aGlzLmNzc0NsYXNzZXMgPSAnJzsgfVxuXG4gICAgbWFya2VkLnNldE9wdGlvbnMoe1xuICAgICAgaGlnaGxpZ2h0OiAoY29kZSwgbGFuZykgPT4ge1xuICAgICAgICBpZiAoUHJpc20ubGFuZ3VhZ2VzW2xhbmddKSB7XG4gICAgICAgICAgcmV0dXJuIFByaXNtLmhpZ2hsaWdodChjb2RlLCBQcmlzbS5sYW5ndWFnZXNbbGFuZ10sIGxhbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgKCkgPT4ge1xuICAgICAgdGhpcy5zY3JvbGxUb1BhdGgodGhpcy5nZXRFbGVtZW50SURGcm9tVVJMKCkpO1xuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgLy8gQ2xlYW51cFxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBpZiAodGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gIH1cblxuICBpbmZvRGVzY3JpcHRpb25IZWFkaW5nUmVuZGVyZXIoKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgbWFya2VkLlJlbmRlcmVyKCk7XG4gICAgcmVuZGVyZXIuaGVhZGluZyA9ICgodGV4dCwgbGV2ZWwsIHJhdywgc2x1Z2dlcikgPT4gYDxoJHtsZXZlbH0gY2xhc3M9XCJvYnNlcnZlLW1lXCIgaWQ9XCIke3NsdWdnZXIuc2x1ZyhyYXcpfVwiPiR7dGV4dH08L2gke2xldmVsfT5gKTtcbiAgICByZXR1cm4gcmVuZGVyZXI7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8gcmV0dXJuIHJlbmRlcihtYWluQm9keVRlbXBsYXRlKHRoaXMpLCB0aGlzLnNoYWRvd1Jvb3QsIHsgZXZlbnRDb250ZXh0OiB0aGlzIH0pO1xuICAgIGNvbnN0IGNzc0xpbmtFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxpbmtbaHJlZio9XCIke3RoaXMuY3NzRmlsZX1cIl1gKTtcbiAgICAvLyBhZGRpbmcgY3VzdG9tIHN0eWxlIGZvciBSYXBpRG9jXG4gICAgaWYgKGNzc0xpbmtFbCkge1xuICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKGNzc0xpbmtFbC5jbG9uZU5vZGUoKSk7XG4gICAgfVxuICAgIHJldHVybiBtYWluQm9keVRlbXBsYXRlLmNhbGwodGhpcyk7XG4gIH1cblxuICBvYnNlcnZlRXhwYW5kZWRDb250ZW50KCkge1xuICAgIC8vIE1haW4gQ29udGFpbmVyXG4gICAgY29uc3Qgb2JzZXJ2ZU92ZXJ2aWV3RWxzID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vYnNlcnZlLW1lJyk7XG4gICAgb2JzZXJ2ZU92ZXJ2aWV3RWxzLmZvckVhY2goKHRhcmdldEVsKSA9PiB7XG4gICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodGFyZ2V0RWwpO1xuICAgIH0pO1xuICB9XG5cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbCwgbmV3VmFsKSB7XG4gICAgaWYgKG5hbWUgPT09ICdzcGVjLXVybCcpIHtcbiAgICAgIGlmIChvbGRWYWwgIT09IG5ld1ZhbCkge1xuICAgICAgICAvLyBwdXQgaXQgYXQgdGhlIGVuZCBvZiBldmVudC1sb29wIHRvIGxvYWQgYWxsIHRoZSBhdHRyaWJ1dGVzXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTcGVjKG5ld1ZhbCk7XG4gICAgICAgICAgLy8gSWYgZ290by1wYXRoIGlzIHByb3ZpZGVkIGFuZCBubyBsb2NhdGlvbi1oYXNoIGlzIHByZXNlbnQgdGhlbiB0cnkgdG8gc2Nyb2xsIHRoZXJlXG4gICAgICAgICAgaWYgKHRoaXMuZ290b1BhdGggJiYgIXdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvUGF0aCh0aGlzLmdvdG9QYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ3JlbmRlci1zdHlsZScpIHtcbiAgICAgIGlmIChuZXdWYWwgPT09ICdyZWFkJykge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vYnNlcnZlRXhwYW5kZWRDb250ZW50KCk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdhcGkta2V5LW5hbWUnIHx8IG5hbWUgPT09ICdhcGkta2V5LWxvY2F0aW9uJyB8fCBuYW1lID09PSAnYXBpLWtleS12YWx1ZScpIHtcbiAgICAgIGxldCB1cGRhdGVTZWxlY3RlZEFwaUtleSA9IGZhbHNlO1xuICAgICAgbGV0IGFwaUtleU5hbWUgPSAnJztcbiAgICAgIGxldCBhcGlLZXlMb2NhdGlvbiA9ICcnO1xuICAgICAgbGV0IGFwaUtleVZhbHVlID0gJyc7XG5cbiAgICAgIGlmIChuYW1lID09PSAnYXBpLWtleS1uYW1lJykge1xuICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ2FwaS1rZXktbG9jYXRpb24nKSAmJiB0aGlzLmdldEF0dHJpYnV0ZSgnYXBpLWtleS12YWx1ZScpKSB7XG4gICAgICAgICAgYXBpS2V5TmFtZSA9IG5ld1ZhbDtcbiAgICAgICAgICBhcGlLZXlMb2NhdGlvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LWxvY2F0aW9uJyk7XG4gICAgICAgICAgYXBpS2V5VmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnYXBpLWtleS12YWx1ZScpO1xuICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkQXBpS2V5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAnYXBpLWtleS1sb2NhdGlvbicpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LW5hbWUnKSAmJiB0aGlzLmdldEF0dHJpYnV0ZSgnYXBpLWtleS12YWx1ZScpKSB7XG4gICAgICAgICAgYXBpS2V5TG9jYXRpb24gPSBuZXdWYWw7XG4gICAgICAgICAgYXBpS2V5TmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LW5hbWUnKTtcbiAgICAgICAgICBhcGlLZXlWYWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LXZhbHVlJyk7XG4gICAgICAgICAgdXBkYXRlU2VsZWN0ZWRBcGlLZXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdhcGkta2V5LXZhbHVlJykge1xuICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ2FwaS1rZXktbmFtZScpICYmIHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LWxvY2F0aW9uJykpIHtcbiAgICAgICAgICBhcGlLZXlWYWx1ZSA9IG5ld1ZhbDtcbiAgICAgICAgICBhcGlLZXlMb2NhdGlvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LWxvY2F0aW9uJyk7XG4gICAgICAgICAgYXBpS2V5TmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LW5hbWUnKTtcbiAgICAgICAgICB1cGRhdGVTZWxlY3RlZEFwaUtleSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHVwZGF0ZVNlbGVjdGVkQXBpS2V5KSB7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdmVkU3BlYykge1xuICAgICAgICAgIGNvbnN0IHJhcGlEb2NBcGlLZXkgPSB0aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXMuZmluZCgodikgPT4gdi5zZWN1cml0eVNjaGVtZUlkID09PSByYXBpZG9jQXBpS2V5KTtcbiAgICAgICAgICBpZiAoIXJhcGlEb2NBcGlLZXkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5wdXNoKHtcbiAgICAgICAgICAgICAgc2VjdXJpdHlTY2hlbWVJZDogcmFwaWRvY0FwaUtleSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdhcGkta2V5IHByb3ZpZGVkIGluIHJhcGlkb2MgZWxlbWVudCBhdHRyaWJ1dGVzJyxcbiAgICAgICAgICAgICAgdHlwZTogJ2FwaUtleScsXG4gICAgICAgICAgICAgIG5hbWU6IGFwaUtleU5hbWUsXG4gICAgICAgICAgICAgIGluOiBhcGlLZXlMb2NhdGlvbixcbiAgICAgICAgICAgICAgdmFsdWU6IGFwaUtleVZhbHVlLFxuICAgICAgICAgICAgICBmaW5hbEtleVZhbHVlOiBhcGlLZXlWYWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYXBpRG9jQXBpS2V5Lm5hbWUgPSBhcGlLZXlOYW1lO1xuICAgICAgICAgICAgcmFwaURvY0FwaUtleS5pbiA9IGFwaUtleUxvY2F0aW9uO1xuICAgICAgICAgICAgcmFwaURvY0FwaUtleS52YWx1ZSA9IGFwaUtleVZhbHVlO1xuICAgICAgICAgICAgcmFwaURvY0FwaUtleS5maW5hbEtleVZhbHVlID0gYXBpS2V5VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWwsIG5ld1ZhbCk7XG4gIH1cblxuICBvblNwZWNVcmxDaGFuZ2UoKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3NwZWMtdXJsJywgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdzcGVjLXVybCcpLnZhbHVlKTtcbiAgfVxuXG4gIG9uU3BlY0ZpbGVDaGFuZ2UoZSkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdzcGVjLWZpbGUnLCB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3NwZWMtZmlsZScpLnZhbHVlKTtcbiAgICBjb25zdCBzcGVjRmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNwZWNPYmogPSBKU09OLnBhcnNlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICB0aGlzLmxvYWRTcGVjKHNwZWNPYmopO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3NwZWMtdXJsJykudmFsdWUgPSAnJztcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdSYXBpRG9jOiBVbmFibGUgdG8gcmVhZCBvciBwYXJzZSBqc29uJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVhZCB0aGUgVGV4dCBmaWxlXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoc3BlY0ZpbGUpO1xuICB9XG5cbiAgb25GaWxlTG9hZENsaWNrKCkge1xuICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnc3BlYy1maWxlJykuY2xpY2soKTtcbiAgfVxuXG4gIG9uU2VhcmNoQ2hhbmdlKGUpIHtcbiAgICB0aGlzLm1hdGNoUGF0aHMgPSBlLnRhcmdldC52YWx1ZTtcbiAgICB0aGlzLnJlc29sdmVkU3BlYy50YWdzLmZvckVhY2goKHRhZykgPT4gdGFnLnBhdGhzLmZpbHRlcigodikgPT4ge1xuICAgICAgaWYgKHRoaXMubWF0Y2hQYXRocykge1xuICAgICAgICAvLyB2LmV4cGFuZGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChwYXRoSXNJblNlYXJjaCh0aGlzLm1hdGNoUGF0aHMsIHYsIHRoaXMubWF0Y2hUeXBlKSkge1xuICAgICAgICAgIHRhZy5leHBhbmRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gICAgdGhpcy5yZXNvbHZlZFNwZWMuY29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQpID0+IGNvbXBvbmVudC5zdWJDb21wb25lbnRzLmZpbHRlcigodikgPT4ge1xuICAgICAgdi5leHBhbmRlZCA9IGZhbHNlO1xuICAgICAgaWYgKCF0aGlzLm1hdGNoUGF0aHMgfHwgY29tcG9uZW50SXNJblNlYXJjaCh0aGlzLm1hdGNoUGF0aHMsIHYpKSB7XG4gICAgICAgIHYuZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgfVxuXG4gIG9uQ2xlYXJTZWFyY2goKSB7XG4gICAgY29uc3Qgc2VhcmNoRWwgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ25hdi1iYXItc2VhcmNoJyk7XG4gICAgc2VhcmNoRWwudmFsdWUgPSAnJztcbiAgICB0aGlzLm1hdGNoUGF0aHMgPSAnJztcbiAgICB0aGlzLnJlc29sdmVkU3BlYy5jb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudCkgPT4gY29tcG9uZW50LnN1YkNvbXBvbmVudHMuZmlsdGVyKCh2KSA9PiB7XG4gICAgICB2LmV4cGFuZGVkID0gdHJ1ZTtcbiAgICB9KSk7XG4gIH1cblxuICBvblNob3dTZWFyY2hNb2RhbENsaWNrZWQoKSB7XG4gICAgdGhpcy5zaG93QWR2YW5jZWRTZWFyY2hEaWFsb2cgPSB0cnVlO1xuICB9XG5cbiAgLy8gRXZlbnQgSGFuZGxlciBvbiBEaWFsb2ctQm94IGlzIG9wZW5lZFxuICBhc3luYyBvbk9wZW5TZWFyY2hEaWFsb2coZSkge1xuICAgIC8vIFNldCBmb2N1cyB0byB0ZXh0IGlucHV0XG4gICAgY29uc3QgaW5wdXRFbCA9IGUuZGV0YWlsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgYXdhaXQgc2xlZXAoMCk7XG4gICAgaWYgKGlucHV0RWwpIHtcbiAgICAgIGlucHV0RWwuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdWJsaWMgTWV0aG9kXG4gIGFzeW5jIGxvYWRTcGVjKHNwZWNVcmwpIHtcbiAgICBpZiAoIXNwZWNVcmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5tYXRjaFBhdGhzID0gJyc7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmVzb2x2ZWRTcGVjID0ge1xuICAgICAgICBzcGVjTG9hZEVycm9yOiBmYWxzZSxcbiAgICAgICAgaXNTcGVjTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgdGFnczogW10sXG4gICAgICB9O1xuICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMubG9hZEZhaWxlZCA9IGZhbHNlO1xuICAgICAgY29uc3Qgc3BlYyA9IGF3YWl0IFByb2Nlc3NTcGVjLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHNwZWNVcmwsXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVNaXNzaW5nVGFncyA9PT0gJ3RydWUnLFxuICAgICAgICB0aGlzLnNvcnRUYWdzID09PSAndHJ1ZScsXG4gICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKCdzb3J0LWVuZHBvaW50cy1ieScpLFxuICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZSgnYXBpLWtleS1uYW1lJyksXG4gICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LWxvY2F0aW9uJyksXG4gICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LXZhbHVlJyksXG4gICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKCdzZXJ2ZXItdXJsJyksXG4gICAgICApO1xuICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmFmdGVyU3BlY1BhcnNlZEFuZFZhbGlkYXRlZChzcGVjKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5sb2FkRmFpbGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVzb2x2ZWRTcGVjID0gbnVsbDtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFJhcGlEb2M6IFVuYWJsZSB0byByZXNvbHZlIHRoZSBBUEkgc3BlYy4uICAke2Vyci5tZXNzYWdlfWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBhc3luYyBhZnRlclNwZWNQYXJzZWRBbmRWYWxpZGF0ZWQoc3BlYykge1xuICAgIHRoaXMucmVzb2x2ZWRTcGVjID0gc3BlYztcbiAgICB0aGlzLnNlbGVjdGVkU2VydmVyID0gdW5kZWZpbmVkO1xuICAgIGlmICh0aGlzLmRlZmF1bHRBcGlTZXJ2ZXJVcmwpIHtcbiAgICAgIGlmICh0aGlzLmRlZmF1bHRBcGlTZXJ2ZXJVcmwgPT09IHRoaXMuc2VydmVyVXJsKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTZXJ2ZXIgPSB7XG4gICAgICAgICAgdXJsOiB0aGlzLnNlcnZlclVybCxcbiAgICAgICAgICBjb21wdXRlZFVybDogdGhpcy5zZXJ2ZXJVcmwsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucmVzb2x2ZWRTcGVjLnNlcnZlcnMpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNlcnZlciA9IHRoaXMucmVzb2x2ZWRTcGVjLnNlcnZlcnMuZmluZCgodikgPT4gKHYudXJsID09PSB0aGlzLmRlZmF1bHRBcGlTZXJ2ZXJVcmwpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkU2VydmVyKSB7XG4gICAgICBpZiAodGhpcy5yZXNvbHZlZFNwZWMuc2VydmVycykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkU2VydmVyID0gdGhpcy5yZXNvbHZlZFNwZWMuc2VydmVyc1swXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgIHdoaWxlICghYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZSk7XG4gICAgY29uc3Qgc3BlY0xvYWRlZEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzcGVjLWxvYWRlZCcsIHsgZGV0YWlsOiBzcGVjIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChzcGVjTG9hZGVkRXZlbnQpO1xuXG4gICAgLy8gSW5pdGlhdGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgYW5kIHB1dCBpdCBhdCB0aGUgZW5kIG9mIGV2ZW50IGxvb3AsIHRvIGFsbG93IGxvYWRpbmcgYWxsIHRoZSBjaGlsZCBlbGVtZW50cyAobXVzdCBmb3IgbGFyZ2VyIHNwZWNzKVxuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIGlmICh0aGlzLnJlbmRlclN0eWxlID09PSAncmVhZCcpIHtcbiAgICAgIGF3YWl0IHNsZWVwKDEwMCk7XG4gICAgICB0aGlzLm9ic2VydmVFeHBhbmRlZENvbnRlbnQoKTsgLy8gVGhpcyB3aWxsIGF1dG8taGlnaGxpZ2h0IHRoZSBzZWxlY3RlZCBuYXYtaXRlbSBpbiByZWFkLW1vZGVcbiAgICB9XG5cbiAgICB0aGlzLmlzSW50ZXJzZWN0aW9uT2JzZXJ2ZXJBY3RpdmUgPSB0cnVlO1xuXG4gICAgLy8gT24gZmlyc3QgdGltZSBTcGVjIGxvYWQsIHRyeSB0byBuYXZpZ2F0ZSB0byBsb2NhdGlvbiBoYXNoIGlmIHByb3ZpZGVkXG4gICAgY29uc3QgZWxlbWVudElkID0gdGhpcy5nZXRFbGVtZW50SURGcm9tVVJMKCk7XG5cbiAgICBpZiAoZWxlbWVudElkKSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ3ZpZXcnKSB7XG4gICAgICAgIHRoaXMuZXhwYW5kQW5kR290b09wZXJhdGlvbihlbGVtZW50SWQsIHRydWUsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb1BhdGgoZWxlbWVudElkKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucmVuZGVyU3R5bGUgPT09ICdmb2N1c2VkJykge1xuICAgICAgLy8gSWYgZ290by1wYXRoIGlzIHByb3ZpZGVkIGFuZCBubyBsb2NhdGlvbi1oYXNoIGlzIHByZXNlbnQgdGhlbiB0cnkgdG8gc2Nyb2xsIHRvIGRlZmF1bHQgZWxlbWVudFxuICAgICAgaWYgKCF0aGlzLmdvdG9QYXRoKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRFbGVtZW50SWQgPSB0aGlzLnNob3dJbmZvID8gJ292ZXJ2aWV3JyA6IHRoaXMucmVzb2x2ZWRTcGVjLnRhZ3NbMF0/LnBhdGhzWzBdO1xuICAgICAgICB0aGlzLnNjcm9sbFRvUGF0aChkZWZhdWx0RWxlbWVudElkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBVUkwgZnJvbSB3aGVyZSBpcyBzZXJ2ZWQgdGhlIFJhcGlEb2MgY29tcG9uZW50LCByZW1vdmluZyBhbnkgaGFzaCBhbmQgcm91dGUgcHJlZml4XG4gICAqL1xuICBnZXRDb21wb25lbnRCYXNlVVJMKCkge1xuICAgIGNvbnN0IHsgaHJlZiB9ID0gd2luZG93LmxvY2F0aW9uO1xuXG4gICAgLy8gUmVtb3ZlIGVuZCBvZiBzdHJpbmcgIyBvciAvXG4gICAgY29uc3QgY2xlYW5Sb3V0ZXJQcmVmaXggPSB0aGlzLnJvdXRlUHJlZml4LnJlcGxhY2UoLygjfFxcLykkLywgJycpO1xuXG4gICAgaWYgKCFjbGVhblJvdXRlclByZWZpeCkge1xuICAgICAgcmV0dXJuIGhyZWYuc3BsaXQoJyMnKVswXTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleE9mUm91dGVQcmVmaXggPSBocmVmLmxhc3RJbmRleE9mKGNsZWFuUm91dGVyUHJlZml4KTtcblxuICAgIGlmIChpbmRleE9mUm91dGVQcmVmaXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gaHJlZjtcbiAgICB9XG5cbiAgICByZXR1cm4gaHJlZi5zbGljZSgwLCBpbmRleE9mUm91dGVQcmVmaXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZyb20gdGhlIFVSTCByZXR1cm4gdGhlIElEIG9mIHRoZSBlbGVtZW50IHdoZXRoZXIgaXQgaXMgaW4gdGhlIGhhc2ggb3IgaWYgdXNlZCBhIHJvdXRlciBwcmVmaXggd2l0aG91dCBhIGhhc2hcbiAgICovXG4gIGdldEVsZW1lbnRJREZyb21VUkwoKSB7XG4gICAgY29uc3QgYmFzZVVSTCA9IHRoaXMuZ2V0Q29tcG9uZW50QmFzZVVSTCgpO1xuICAgIGNvbnN0IGVsZW1lbnRJZCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoYmFzZVVSTCArIHRoaXMucm91dGVQcmVmaXgsICcnKTtcbiAgICByZXR1cm4gZWxlbWVudElkO1xuICB9XG5cbiAgcmVwbGFjZUhpc3RvcnlTdGF0ZShoYXNoSWQpIHtcbiAgICBjb25zdCBiYXNlVVJMID0gdGhpcy5nZXRDb21wb25lbnRCYXNlVVJMKCk7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIGAke2Jhc2VVUkx9JHt0aGlzLnJvdXRlUHJlZml4IHx8ICcjJ30ke2hhc2hJZH1gKTtcbiAgfVxuXG4gIGV4cGFuZEFuZEdvdG9PcGVyYXRpb24oZWxlbWVudElkLCBzY3JvbGxUb0VsZW1lbnQgPSB0cnVlKSB7XG4gICAgaWYgKCF0aGlzLnJlc29sdmVkU3BlYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBFeHBhbmQgZnVsbCBvcGVyYXRpb24gYW5kIHRhZ1xuICAgIGxldCBpc0V4cGFuZGluZ05lZWRlZCA9IHRydWU7XG4gICAgY29uc3QgdG1wRWxlbWVudElkID0gZWxlbWVudElkLmluZGV4T2YoJyMnKSA9PT0gLTEgPyBlbGVtZW50SWQgOiBlbGVtZW50SWQuc3Vic3RyaW5nKDEpO1xuICAgIGlmICh0bXBFbGVtZW50SWQuc3RhcnRzV2l0aCgnb3ZlcnZpZXcnKSB8fCB0bXBFbGVtZW50SWQgPT09ICdzZXJ2ZXJzJyB8fCB0bXBFbGVtZW50SWQgPT09ICdhdXRoJykge1xuICAgICAgaXNFeHBhbmRpbmdOZWVkZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlc29sdmVkU3BlYy50YWdzPy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0YWcgPSB0aGlzLnJlc29sdmVkU3BlYy50YWdzW2ldO1xuICAgICAgICBjb25zdCBwYXRoID0gdGFnLnBhdGhzPy5maW5kKChwKSA9PiBwLmVsZW1lbnRJZCA9PT0gZWxlbWVudElkKTtcbiAgICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgICBpZiAocGF0aC5leHBhbmRlZCAmJiB0YWcuZXhwYW5kZWQpIHtcbiAgICAgICAgICAgIGlzRXhwYW5kaW5nTmVlZGVkID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdGguZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGFnLmV4cGFuZGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNjcm9sbFRvRWxlbWVudCkge1xuICAgICAgLy8gcmVxdWVzdFVwZGF0ZSgpIGFuZCBkZWxheSByZXF1aXJlZCwgZWxzZSB3ZSBjYW50IGZpbmQgZWxlbWVudFxuICAgICAgaWYgKGlzRXhwYW5kaW5nTmVlZGVkKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBnb3RvRWwgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQodG1wRWxlbWVudElkKTtcbiAgICAgICAgaWYgKGdvdG9FbCkge1xuICAgICAgICAgIGdvdG9FbC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnYXV0bycsIGJsb2NrOiAnc3RhcnQnIH0pO1xuICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVJvdXRlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRoaXMucmVwbGFjZUhpc3RvcnlTdGF0ZSh0bXBFbGVtZW50SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgaXNFeHBhbmRpbmdOZWVkZWQgPyAxNTAgOiAwKTtcbiAgICB9XG4gIH1cblxuICBpc1ZhbGlkVG9wSWQoaWQpIHtcbiAgICByZXR1cm4gKGlkLnN0YXJ0c1dpdGgoJ292ZXJ2aWV3JykgfHwgaWQgPT09ICdzZXJ2ZXJzJyB8fCBpZCA9PT0gJ2F1dGgnKTtcbiAgfVxuXG4gIGlzVmFsaWRQYXRoSWQoaWQpIHtcbiAgICBpZiAoaWQgPT09ICdvdmVydmlldycgJiYgdGhpcy5zaG93SW5mbykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpZCA9PT0gJ3NlcnZlcnMnICYmIHRoaXMuYWxsb3dTZXJ2ZXJTZWxlY3Rpb24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaWQgPT09ICdhdXRoJyAmJiB0aGlzLmFsbG93QXV0aGVudGljYXRpb24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaWQuc3RhcnRzV2l0aCgndGFnLS0nKSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZWRTcGVjPy50YWdzPy5maW5kKCh0YWcpID0+IHRhZy5lbGVtZW50SWQgPT09IGlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZWRTcGVjPy50YWdzPy5maW5kKCh0YWcpID0+IHRhZy5wYXRocy5maW5kKChwYXRoKSA9PiBwYXRoLmVsZW1lbnRJZCA9PT0gaWQpKTtcbiAgfVxuXG4gIG9uSW50ZXJzZWN0KGVudHJpZXMpIHtcbiAgICBpZiAodGhpcy5pc0ludGVyc2VjdGlvbk9ic2VydmVyQWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZyAmJiBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApIHtcbiAgICAgICAgY29uc3Qgb2xkTmF2RWwgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLm5hdi1iYXItdGFnLmFjdGl2ZSwgLm5hdi1iYXItcGF0aC5hY3RpdmUsIC5uYXYtYmFyLWluZm8uYWN0aXZlLCAubmF2LWJhci1oMS5hY3RpdmUsIC5uYXYtYmFyLWgyLmFjdGl2ZSwgLm9wZXJhdGlvbnMuYWN0aXZlJyk7XG4gICAgICAgIGNvbnN0IG5ld05hdkVsID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGBsaW5rLSR7ZW50cnkudGFyZ2V0LmlkfWApO1xuXG4gICAgICAgIC8vIEFkZCBhY3RpdmUgY2xhc3MgaW4gdGhlIG5ldyBlbGVtZW50XG4gICAgICAgIGlmIChuZXdOYXZFbCkge1xuICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVJvdXRlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRoaXMucmVwbGFjZUhpc3RvcnlTdGF0ZShlbnRyeS50YXJnZXQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdOYXZFbC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnYXV0bycsIGJsb2NrOiAnY2VudGVyJyB9KTtcbiAgICAgICAgICBuZXdOYXZFbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICBuZXdOYXZFbC5wYXJ0LmFkZCgnc2VjdGlvbi1uYXZiYXItYWN0aXZlLWl0ZW0nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBwcmV2aW91cyBlbGVtZW50XG4gICAgICAgIC8vIGlmIGl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBuZXcgb25lIChlZGdlIGNhc2Ugb24gbG9hZGluZyBpbiByZWFkIHJlbmRlciBzdHlsZSlcbiAgICAgICAgaWYgKG9sZE5hdkVsICYmIG9sZE5hdkVsICE9PSBuZXdOYXZFbCkge1xuICAgICAgICAgIG9sZE5hdkVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgIG9sZE5hdkVsLnBhcnQucmVtb3ZlKCdzZWN0aW9uLW5hdmJhci1hY3RpdmUtaXRlbScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBDYWxsZWQgYnkgYW5jaG9yIHRhZ3MgY3JlYXRlZCB1c2luZyBtYXJrZG93blxuICBoYW5kbGVIcmVmKGUpIHtcbiAgICBpZiAoZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYScpIHtcbiAgICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgICAgY29uc3QgZ290b0VsID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpLnJlcGxhY2UoJyMnLCAnJykpO1xuICAgICAgICBpZiAoZ290b0VsKSB7XG4gICAgICAgICAgZ290b0VsLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdhdXRvJywgYmxvY2s6ICdzdGFydCcgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5XG4gICAqICAtIG9uQ2xpY2sgb2YgTmF2aWdhdGlvbiBCYXJcbiAgICogIC0gb25DbGljayBvZiBBZHZhbmNlZCBTZWFyY2ggaXRlbXNcbiAgICpcbiAgICogRnVuY3Rpb25hbGl0eTpcbiAgICogIDEuIEZpcnN0IGRlYWN0aXZhdGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAgICogIDIuIFNjcm9sbCB0byB0aGUgZWxlbWVudFxuICAgKiAgMy4gQWN0aXZhdGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgKGFmdGVyIGxpdHRsZSBkZWxheSlcbiAgICpcbiAgKi9cbiAgYXN5bmMgc2Nyb2xsVG9FdmVudFRhcmdldChldmVudCwgc2Nyb2xsTmF2SXRlbVRvVmlldyA9IHRydWUpIHtcbiAgICBpZiAoIShldmVudC50eXBlID09PSAnY2xpY2snIHx8IChldmVudC50eXBlID09PSAna2V5dXAnICYmIGV2ZW50LmtleUNvZGUgPT09IDEzKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmF2RWwgPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKCFuYXZFbC5kYXRhc2V0LmNvbnRlbnRJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmlzSW50ZXJzZWN0aW9uT2JzZXJ2ZXJBY3RpdmUgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnKSB7XG4gICAgICBjb25zdCByZXF1ZXN0RWwgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignYXBpLXJlcXVlc3QnKTtcbiAgICAgIGlmIChyZXF1ZXN0RWwpIHtcbiAgICAgICAgcmVxdWVzdEVsLmJlZm9yZU5hdmlnYXRpb25Gb2N1c2VkTW9kZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNjcm9sbFRvUGF0aChuYXZFbC5kYXRhc2V0LmNvbnRlbnRJZCwgdHJ1ZSwgc2Nyb2xsTmF2SXRlbVRvVmlldyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmlzSW50ZXJzZWN0aW9uT2JzZXJ2ZXJBY3RpdmUgPSB0cnVlO1xuICAgIH0sIDMwMCk7XG4gIH1cblxuICAvLyBQdWJsaWMgTWV0aG9kIChzY3JvbGxzIHRvIGEgZ2l2ZW4gcGF0aCBhbmQgaGlnaGxpZ2h0cyB0aGUgbGVmdC1uYXYgc2VsZWN0aW9uKVxuICBhc3luYyBzY3JvbGxUb1BhdGgoZWxlbWVudElkLCBleHBhbmRQYXRoID0gdHJ1ZSwgc2Nyb2xsTmF2SXRlbVRvVmlldyA9IHRydWUpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnKSB7XG4gICAgICAvLyBmb3IgZm9jdXNlZCBtb2RlIHVwZGF0ZSB0aGlzLmZvY3VzZWRFbGVtZW50SWQgdG8gdXBkYXRlIHRoZSByZW5kZXJpbmcsIGVsc2UgaXQgd29udCBmaW5kIHRoZSBuZWVkZWQgaHRtbCBlbGVtZW50c1xuICAgICAgLy8gZm9jdXNlZEVsZW1lbnRJZCB3aWxsIGdldCB2YWxpZGF0ZWQgaW4gdGhlIHRlbXBsYXRlXG4gICAgICB0aGlzLmZvY3VzZWRFbGVtZW50SWQgPSBlbGVtZW50SWQ7XG4gICAgICBhd2FpdCBzbGVlcCgwKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVuZGVyU3R5bGUgPT09ICd2aWV3Jykge1xuICAgICAgdGhpcy5leHBhbmRBbmRHb3RvT3BlcmF0aW9uKGVsZW1lbnRJZCwgZXhwYW5kUGF0aCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpc1ZhbGlkRWxlbWVudElkID0gZmFsc2U7XG4gICAgICBjb25zdCBjb250ZW50RWwgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcbiAgICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgICAgaXNWYWxpZEVsZW1lbnRJZCA9IHRydWU7XG4gICAgICAgIGNvbnRlbnRFbC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnYXV0bycsIGJsb2NrOiAnc3RhcnQnIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNWYWxpZEVsZW1lbnRJZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzVmFsaWRFbGVtZW50SWQpIHtcbiAgICAgICAgLy8gZm9yIGZvY3VzZWQgc3R5bGUgaXQgaXMgaW1wb3J0YW50IHRvIHJlc2V0IHJlcXVlc3QtYm9keS1zZWxlY3Rpb24gYW5kIHJlc3BvbnNlIHNlbGVjdGlvbiB3aGljaCBtYWludGFpbnMgdGhlIHN0YXRlIGZvciBpbiBjYXNlIG9mIG11bHRpcGxlIHJlcS1ib2R5IG9yIG11bHRpcGxlIHJlc3BvbnNlIG1pbWUtdHlwZVxuICAgICAgICBpZiAodGhpcy5yZW5kZXJTdHlsZSA9PT0gJ2ZvY3VzZWQnKSB7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdEVsID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2FwaS1yZXF1ZXN0Jyk7XG4gICAgICAgICAgaWYgKHJlcXVlc3RFbCkge1xuICAgICAgICAgICAgcmVxdWVzdEVsLmFmdGVyTmF2aWdhdGlvbkZvY3VzZWRNb2RlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRWwgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignYXBpLXJlc3BvbnNlJyk7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlRWwpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlRWwucmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgTG9jYXRpb24gSGFzaFxuICAgICAgICBpZiAodGhpcy51cGRhdGVSb3V0ZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgdGhpcy5yZXBsYWNlSGlzdG9yeVN0YXRlKGVsZW1lbnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgTmF2QmFyIFZpZXcgYW5kIFN0eWxlc1xuICAgICAgICBjb25zdCBuZXdOYXZFbCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChgbGluay0ke2VsZW1lbnRJZH1gKTtcblxuICAgICAgICBpZiAobmV3TmF2RWwpIHtcbiAgICAgICAgICBpZiAoc2Nyb2xsTmF2SXRlbVRvVmlldykge1xuICAgICAgICAgICAgbmV3TmF2RWwuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ2F1dG8nLCBibG9jazogJ2NlbnRlcicgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IHNsZWVwKDApO1xuICAgICAgICAgIGNvbnN0IG9sZE5hdkVsID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtYmFyLXRhZy5hY3RpdmUsIC5uYXYtYmFyLXBhdGguYWN0aXZlLCAubmF2LWJhci1pbmZvLmFjdGl2ZSwgLm5hdi1iYXItaDEuYWN0aXZlLCAubmF2LWJhci1oMi5hY3RpdmUsIC5vcGVyYXRpb25zLmFjdGl2ZScpO1xuICAgICAgICAgIGlmIChvbGROYXZFbCkge1xuICAgICAgICAgICAgb2xkTmF2RWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICBvbGROYXZFbC5wYXJ0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICBvbGROYXZFbC5wYXJ0LnJlbW92ZSgnc2VjdGlvbi1uYXZiYXItYWN0aXZlLWl0ZW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3TmF2RWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7IC8vIG11c3QgYWRkIHRoZSBjbGFzcyBhZnRlciBzY3JvbGxpbmdcbiAgICAgICAgICBuZXdOYXZFbC5wYXJ0LmFkZCgnc2VjdGlvbi1uYXZiYXItYWN0aXZlLWl0ZW0nKTtcbiAgICAgICAgICAvLyB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFB1YmxpYyBNZXRob2QgLSB0byB1cGRhdGUgc2VjdXJpdHktc2NoZW1lIG9mIHR5cGUgaHR0cFxuICBzZXRIdHRwVXNlck5hbWVBbmRQYXNzd29yZChzZWN1cml0eVNjaGVtZUlkLCB1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICByZXR1cm4gYXBwbHlBcGlLZXkuY2FsbCh0aGlzLCBzZWN1cml0eVNjaGVtZUlkLCB1c2VybmFtZSwgcGFzc3dvcmQpO1xuICB9XG5cbiAgLy8gUHVibGljIE1ldGhvZCAtIHRvIHVwZGF0ZSBzZWN1cml0eS1zY2hlbWUgb2YgdHlwZSBhcGlLZXkgb3IgT0F1dGhcbiAgc2V0QXBpS2V5KHNlY3VyaXR5U2NoZW1lSWQsIGFwaUtleVZhbHVlKSB7XG4gICAgcmV0dXJuIGFwcGx5QXBpS2V5LmNhbGwodGhpcywgc2VjdXJpdHlTY2hlbWVJZCwgJycsICcnLCBhcGlLZXlWYWx1ZSk7XG4gIH1cblxuICAvLyBQdWJsaWMgTWV0aG9kXG4gIHJlbW92ZUFsbFNlY3VyaXR5S2V5cygpIHtcbiAgICByZXR1cm4gb25DbGVhckFsbEFwaUtleXMuY2FsbCh0aGlzKTtcbiAgfVxuXG4gIC8vIFB1YmxpYyBNZXRob2RcbiAgc2V0QXBpU2VydmVyKGFwaVNlcnZlclVybCkge1xuICAgIC8vIHJldHVybiBhcGlTZXJ2ZXJVcmw7XG4gICAgcmV0dXJuIHNldEFwaVNlcnZlci5jYWxsKHRoaXMsIGFwaVNlcnZlclVybCk7XG4gIH1cblxuICAvLyBFdmVudCBoYW5kbGVyIGZvciBBZHZhbmNlZCBTZWFyY2ggdGV4dC1pbnB1dHMgYW5kIGNoZWNrYm94ZXNcbiAgb25BZHZhbmNlZFNlYXJjaChldiwgZGVsYXkpIHtcbiAgICBjb25zdCBldmVudFRhcmdldEVsID0gZXYudGFyZ2V0O1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGxldCBzZWFyY2hJbnB1dEVsO1xuICAgICAgaWYgKGV2ZW50VGFyZ2V0RWwudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHNlYXJjaElucHV0RWwgPSBldmVudFRhcmdldEVsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VhcmNoSW5wdXRFbCA9IGV2ZW50VGFyZ2V0RWwuY2xvc2VzdCgnLmFkdmFuY2VkLXNlYXJjaC1vcHRpb25zJykucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT10ZXh0XScpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VhcmNoT3B0aW9ucyA9IFsuLi5ldmVudFRhcmdldEVsLmNsb3Nlc3QoJy5hZHZhbmNlZC1zZWFyY2gtb3B0aW9ucycpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0OmNoZWNrZWQnKV0ubWFwKCh2KSA9PiB2LmlkKTtcbiAgICAgIHRoaXMuYWR2YW5jZWRTZWFyY2hNYXRjaGVzID0gYWR2YW5jZWRTZWFyY2goc2VhcmNoSW5wdXRFbC52YWx1ZSwgdGhpcy5yZXNvbHZlZFNwZWMudGFncywgc2VhcmNoT3B0aW9ucyk7XG4gICAgfSwgZGVsYXkpO1xuICB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3JhcGktZG9jJywgUmFwaURvYyk7XG4iLCJpbXBvcnQgeyBjc3MsIExpdEVsZW1lbnQgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCBQcmlzbSBmcm9tICdwcmlzbWpzJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWNzcyc7XG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS15YW1sJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWdvJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWphdmEnO1xuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tanNvbic7XG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS1iYXNoJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLXB5dGhvbic7XG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS1odHRwJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWNzaGFycCc7XG5cbi8vIFN0eWxlc1xuaW1wb3J0IEZvbnRTdHlsZXMgZnJvbSAnfi9zdHlsZXMvZm9udC1zdHlsZXMnO1xuaW1wb3J0IElucHV0U3R5bGVzIGZyb20gJ34vc3R5bGVzL2lucHV0LXN0eWxlcyc7XG5pbXBvcnQgRmxleFN0eWxlcyBmcm9tICd+L3N0eWxlcy9mbGV4LXN0eWxlcyc7XG5pbXBvcnQgVGFibGVTdHlsZXMgZnJvbSAnfi9zdHlsZXMvdGFibGUtc3R5bGVzJztcbmltcG9ydCBQcmlzbVN0eWxlcyBmcm9tICd+L3N0eWxlcy9wcmlzbS1zdHlsZXMnO1xuaW1wb3J0IFRhYlN0eWxlcyBmcm9tICd+L3N0eWxlcy90YWItc3R5bGVzJztcbmltcG9ydCBOYXZTdHlsZXMgZnJvbSAnfi9zdHlsZXMvbmF2LXN0eWxlcyc7XG5pbXBvcnQgSW5mb1N0eWxlcyBmcm9tICd+L3N0eWxlcy9pbmZvLXN0eWxlcyc7XG5cbmltcG9ydCBFbmRwb2ludFN0eWxlcyBmcm9tICd+L3N0eWxlcy9lbmRwb2ludC1zdHlsZXMnO1xuaW1wb3J0IHsgcmFwaWRvY0FwaUtleSB9IGZyb20gJ34vdXRpbHMvY29tbW9uLXV0aWxzJztcbmltcG9ydCBQcm9jZXNzU3BlYyBmcm9tICd+L3V0aWxzL3NwZWMtcGFyc2VyJztcbmltcG9ydCBtYWluQm9keVRlbXBsYXRlIGZyb20gJ34vdGVtcGxhdGVzL21haW4tYm9keS10ZW1wbGF0ZSc7XG5pbXBvcnQgeyBhcHBseUFwaUtleSwgb25DbGVhckFsbEFwaUtleXMgfSBmcm9tICd+L3RlbXBsYXRlcy9zZWN1cml0eS1zY2hlbWUtdGVtcGxhdGUnO1xuaW1wb3J0IHsgc2V0QXBpU2VydmVyIH0gZnJvbSAnfi90ZW1wbGF0ZXMvc2VydmVyLXRlbXBsYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFwaURvY01pbmkgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlzTWluaSA9IHRydWU7XG4gICAgdGhpcy51cGRhdGVSb3V0ZSA9ICdmYWxzZSc7XG4gICAgdGhpcy5yZW5kZXJTdHlsZSA9ICd2aWV3JztcbiAgICB0aGlzLnNob3dIZWFkZXIgPSAnZmFsc2UnO1xuICAgIHRoaXMuYWxsb3dBZHZhbmNlZFNlYXJjaCA9ICdmYWxzZSc7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFNwZWNcbiAgICAgIHNwZWNVcmw6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzcGVjLXVybCcgfSxcbiAgICAgIHNvcnRFbmRwb2ludHNCeTogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NvcnQtZW5kcG9pbnRzLWJ5JyB9LFxuXG4gICAgICAvLyBVSSBMYXlvdXRzXG4gICAgICBsYXlvdXQ6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgICBwYXRoc0V4cGFuZGVkOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAncGF0aHMtZXhwYW5kZWQnIH0sXG4gICAgICBkZWZhdWx0U2NoZW1hVGFiOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZGVmYXVsdC1zY2hlbWEtdGFiJyB9LFxuICAgICAgcmVzcG9uc2VBcmVhSGVpZ2h0OiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAncmVzcG9uc2UtYXJlYS1oZWlnaHQnIH0sXG4gICAgICBzaG93U3VtbWFyeVdoZW5Db2xsYXBzZWQ6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzaG93LXN1bW1hcnktd2hlbi1jb2xsYXBzZWQnIH0sXG4gICAgICBmaWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZmlsbC1yZXF1ZXN0LWZpZWxkcy13aXRoLWV4YW1wbGUnIH0sXG4gICAgICBwZXJzaXN0QXV0aDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3BlcnNpc3QtYXV0aCcgfSxcblxuICAgICAgLy8gU2NoZW1hIFN0eWxlc1xuICAgICAgc2NoZW1hU3R5bGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzY2hlbWEtc3R5bGUnIH0sXG4gICAgICBzY2hlbWFFeHBhbmRMZXZlbDogeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ3NjaGVtYS1leHBhbmQtbGV2ZWwnIH0sXG4gICAgICBzY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkJyB9LFxuXG4gICAgICAvLyBBUEkgU2VydmVyXG4gICAgICBhcGlLZXlOYW1lOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYXBpLWtleS1uYW1lJyB9LFxuICAgICAgYXBpS2V5TG9jYXRpb246IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhcGkta2V5LWxvY2F0aW9uJyB9LFxuICAgICAgYXBpS2V5VmFsdWU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhcGkta2V5LXZhbHVlJyB9LFxuICAgICAgZGVmYXVsdEFwaVNlcnZlclVybDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2RlZmF1bHQtYXBpLXNlcnZlcicgfSxcbiAgICAgIHNlcnZlclVybDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NlcnZlci11cmwnIH0sXG4gICAgICBvYXV0aFJlY2VpdmVyOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnb2F1dGgtcmVjZWl2ZXInIH0sXG5cbiAgICAgIGFsbG93VHJ5OiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWxsb3ctdHJ5JyB9LFxuXG4gICAgICAvLyBNYWluIENvbG9ycyBhbmQgRm9udFxuICAgICAgdGhlbWU6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgICBiZ0NvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYmctY29sb3InIH0sXG4gICAgICB0ZXh0Q29sb3I6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICd0ZXh0LWNvbG9yJyB9LFxuICAgICAgcHJpbWFyeUNvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAncHJpbWFyeS1jb2xvcicgfSxcbiAgICAgIGZvbnRTaXplOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZm9udC1zaXplJyB9LFxuICAgICAgcmVndWxhckZvbnQ6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdyZWd1bGFyLWZvbnQnIH0sXG4gICAgICBtb25vRm9udDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ21vbm8tZm9udCcgfSxcbiAgICAgIGxvYWRGb250czogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2xvYWQtZm9udHMnIH0sXG5cbiAgICAgIC8vIEZldGNoIE9wdGlvbnNcbiAgICAgIGZldGNoQ3JlZGVudGlhbHM6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdmZXRjaC1jcmVkZW50aWFscycgfSxcblxuICAgICAgLy8gRmlsdGVyc1xuICAgICAgbWF0Y2hQYXRoczogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ21hdGNoLXBhdGhzJyB9LFxuICAgICAgbWF0Y2hUeXBlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnbWF0Y2gtdHlwZScgfSxcblxuICAgICAgLy8gSW50ZXJuYWwgUHJvcGVydGllc1xuICAgICAgbG9hZGluZzogeyB0eXBlOiBCb29sZWFuIH0sIC8vIGluZGljYXRlcyBzcGVjIGlzIGJlaW5nIGxvYWRlZFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgRm9udFN0eWxlcyxcbiAgICAgIElucHV0U3R5bGVzLFxuICAgICAgRmxleFN0eWxlcyxcbiAgICAgIFRhYmxlU3R5bGVzLFxuICAgICAgRW5kcG9pbnRTdHlsZXMsXG4gICAgICBQcmlzbVN0eWxlcyxcbiAgICAgIFRhYlN0eWxlcyxcbiAgICAgIE5hdlN0eWxlcyxcbiAgICAgIEluZm9TdHlsZXMsXG4gICAgICBjc3NgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgbWluLXdpZHRoOjM2MHB4O1xuICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgbWFyZ2luOjA7XG4gICAgICAgIHBhZGRpbmc6MDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6bm9ybWFsO1xuICAgICAgICBjb2xvcjp2YXIoLS1mZyk7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tYmcpO1xuICAgICAgICBmb250LWZhbWlseTp2YXIoLS1mb250LXJlZ3VsYXIpO1xuICAgICAgfVxuXG4gICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gICAgICAgIC5vbmx5LWxhcmdlLXNjcmVlbntcbiAgICAgICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgICB9XG4gICAgICAgIC5vbmx5LWxhcmdlLXNjcmVlbi1mbGV4e1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgfVxuICAgICAgfWAsXG4gICAgXTtcbiAgfVxuXG4gIC8vIFN0YXJ0dXBcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcblxuICAgIGlmICh0aGlzLmxvYWRGb250cyAhPT0gJ2ZhbHNlJykge1xuICAgICAgY29uc3QgZm9udERlc2NyaXB0b3IgPSB7XG4gICAgICAgIGZhbWlseTogJ09wZW4gU2FucycsXG4gICAgICAgIHN0eWxlOiAnbm9ybWFsJyxcbiAgICAgICAgd2VpZ2h0OiAnMzAwJyxcbiAgICAgICAgdW5pY29kZVJhbmdlOiAnVSswMDAwLTAwRkYsIFUrMDEzMSwgVSswMTUyLTAxNTMsIFUrMDJCQi0wMkJDLCBVKzAyQzYsIFUrMDJEQSwgVSswMkRDLCBVKzIwMDAtMjA2RiwgVSsyMDc0LCBVKzIwQUMsIFUrMjEyMiwgVSsyMTkxLCBVKzIxOTMsIFUrMjIxMiwgVSsyMjE1LCBVK0ZFRkYsIFUrRkZGRCcsXG4gICAgICB9O1xuICAgICAgY29uc3QgZm9udFdlaWdodDMwMCA9IG5ldyBGb250RmFjZShcbiAgICAgICAgJ09wZW4gU2FucycsXG4gICAgICAgIFwidXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9vcGVuc2Fucy92MTgvbWVtNVlhR3MxMjZNaVpwQkEtVU5fcjhPVXVocEtLU1Rqdy53b2ZmMikgZm9ybWF0KCd3b2ZmMicpXCIsXG4gICAgICAgIGZvbnREZXNjcmlwdG9yLFxuICAgICAgKTtcbiAgICAgIGZvbnREZXNjcmlwdG9yLndlaWdodCA9ICc2MDAnO1xuICAgICAgY29uc3QgZm9udFdlaWdodDYwMCA9IG5ldyBGb250RmFjZShcbiAgICAgICAgJ09wZW4gU2FucycsXG4gICAgICAgIFwidXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9vcGVuc2Fucy92MTgvbWVtNVlhR3MxMjZNaVpwQkEtVU5pcmtPVXVocEtLU1Rqdy53b2ZmMikgZm9ybWF0KCd3b2ZmMicpXCIsXG4gICAgICAgIGZvbnREZXNjcmlwdG9yLFxuICAgICAgKTtcbiAgICAgIGZvbnRXZWlnaHQzMDAubG9hZCgpLnRoZW4oKGZvbnQpID0+IHsgZG9jdW1lbnQuZm9udHMuYWRkKGZvbnQpOyB9KTtcbiAgICAgIGZvbnRXZWlnaHQ2MDAubG9hZCgpLnRoZW4oKGZvbnQpID0+IHsgZG9jdW1lbnQuZm9udHMuYWRkKGZvbnQpOyB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc2hvd1N1bW1hcnlXaGVuQ29sbGFwc2VkIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLnNob3dTdW1tYXJ5V2hlbkNvbGxhcHNlZH0sYCkpIHsgdGhpcy5zaG93U3VtbWFyeVdoZW5Db2xsYXBzZWQgPSAndHJ1ZSc7IH1cbiAgICBpZiAoIXRoaXMubGF5b3V0IHx8ICEncm93LCBjb2x1bW4sJy5pbmNsdWRlcyhgJHt0aGlzLmxheW91dH0sYCkpIHsgdGhpcy5sYXlvdXQgPSAncm93JzsgfVxuICAgIGlmICghdGhpcy5zY2hlbWFTdHlsZSB8fCAhJ3RyZWUsIHRhYmxlLCcuaW5jbHVkZXMoYCR7dGhpcy5zY2hlbWFTdHlsZX0sYCkpIHsgdGhpcy5zY2hlbWFTdHlsZSA9ICd0cmVlJzsgfVxuICAgIGlmICghdGhpcy50aGVtZSB8fCAhJ2xpZ2h0LCBkYXJrLCcuaW5jbHVkZXMoYCR7dGhpcy50aGVtZX0sYCkpIHtcbiAgICAgIHRoaXMudGhlbWUgPSAod2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpJykubWF0Y2hlcykgPyAnbGlnaHQnIDogJ2RhcmsnO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZGVmYXVsdFNjaGVtYVRhYiB8fCAhJ2V4YW1wbGUsIHNjaGVtYSwgbW9kZWwsJy5pbmNsdWRlcyhgJHt0aGlzLmRlZmF1bHRTY2hlbWFUYWJ9LGApKSB7XG4gICAgICB0aGlzLmRlZmF1bHRTY2hlbWFUYWIgPSAnZXhhbXBsZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRlZmF1bHRTY2hlbWFUYWIgPT09ICdtb2RlbCcpIHtcbiAgICAgIHRoaXMuZGVmYXVsdFNjaGVtYVRhYiA9ICdzY2hlbWEnO1xuICAgIH1cbiAgICB0aGlzLnBhdGhzRXhwYW5kZWQgPSB0aGlzLnBhdGhzRXhwYW5kZWQgPT09ICd0cnVlJztcbiAgICBpZiAoIXRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgfHwgdGhpcy5zY2hlbWFFeHBhbmRMZXZlbCA8IDEpIHsgdGhpcy5zY2hlbWFFeHBhbmRMZXZlbCA9IDk5OTk5OyB9XG4gICAgaWYgKCF0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWQgfHwgISd0cnVlLCBmYWxzZSwnLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH0sYCkpIHsgdGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkID0gJ2ZhbHNlJzsgfVxuICAgIGlmICghdGhpcy5maWxsUmVxdWVzdEZpZWxkc1dpdGhFeGFtcGxlIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLmZpbGxSZXF1ZXN0RmllbGRzV2l0aEV4YW1wbGV9LGApKSB7IHRoaXMuZmlsbFJlcXVlc3RGaWVsZHNXaXRoRXhhbXBsZSA9ICd0cnVlJzsgfVxuICAgIGlmICghdGhpcy5wZXJzaXN0QXV0aCB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy5wZXJzaXN0QXV0aH0sYCkpIHsgdGhpcy5wZXJzaXN0QXV0aCA9ICdmYWxzZSc7IH1cbiAgICBpZiAoIXRoaXMucmVzcG9uc2VBcmVhSGVpZ2h0KSB7IHRoaXMucmVzcG9uc2VBcmVhSGVpZ2h0ID0gJzMwMHB4JzsgfVxuXG4gICAgaWYgKCF0aGlzLmFsbG93VHJ5IHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLmFsbG93VHJ5fSxgKSkgeyB0aGlzLmFsbG93VHJ5ID0gJ3RydWUnOyB9XG4gICAgaWYgKCF0aGlzLmFwaUtleVZhbHVlKSB7IHRoaXMuYXBpS2V5VmFsdWUgPSAnLSc7IH1cbiAgICBpZiAoIXRoaXMuYXBpS2V5TG9jYXRpb24pIHsgdGhpcy5hcGlLZXlMb2NhdGlvbiA9ICdoZWFkZXInOyB9XG4gICAgaWYgKCF0aGlzLmFwaUtleU5hbWUpIHsgdGhpcy5hcGlLZXlOYW1lID0gJyc7IH1cblxuICAgIGlmICghdGhpcy5vYXV0aFJlY2VpdmVyKSB7IHRoaXMub2F1dGhSZWNlaXZlciA9ICdvYXV0aC1yZWNlaXZlci5odG1sJzsgfVxuICAgIGlmICghdGhpcy5zb3J0VGFncyB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy5zb3J0VGFnc30sYCkpIHsgdGhpcy5zb3J0VGFncyA9ICdmYWxzZSc7IH1cbiAgICBpZiAoIXRoaXMuc29ydEVuZHBvaW50c0J5IHx8ICEnbWV0aG9kLCBwYXRoLCBzdW1tYXJ5LCcuaW5jbHVkZXMoYCR7dGhpcy5zb3J0RW5kcG9pbnRzQnl9LGApKSB7IHRoaXMuc29ydEVuZHBvaW50c0J5ID0gJ3BhdGgnOyB9XG4gICAgaWYgKCF0aGlzLmZvbnRTaXplIHx8ICEnZGVmYXVsdCwgbGFyZ2UsIGxhcmdlc3QsJy5pbmNsdWRlcyhgJHt0aGlzLmZvbnRTaXplfSxgKSkgeyB0aGlzLmZvbnRTaXplID0gJ2RlZmF1bHQnOyB9XG4gICAgaWYgKCF0aGlzLm1hdGNoVHlwZSB8fCAhJ2luY2x1ZGVzIHJlZ2V4Jy5pbmNsdWRlcyh0aGlzLm1hdGNoVHlwZSkpIHsgdGhpcy5tYXRjaFR5cGUgPSAnaW5jbHVkZXMnOyB9XG5cbiAgICBpZiAoIXRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZSB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfSxgKSkgeyB0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGUgPSAndHJ1ZSc7IH1cbiAgICBpZiAoIXRoaXMuZmV0Y2hDcmVkZW50aWFscyB8fCAhJ29taXQsIHNhbWUtb3JpZ2luLCBpbmNsdWRlLCcuaW5jbHVkZXMoYCR7dGhpcy5mZXRjaENyZWRlbnRpYWxzfSxgKSkgeyB0aGlzLmZldGNoQ3JlZGVudGlhbHMgPSAnJzsgfVxuXG4gICAgbWFya2VkLnNldE9wdGlvbnMoe1xuICAgICAgaGlnaGxpZ2h0OiAoY29kZSwgbGFuZykgPT4ge1xuICAgICAgICBpZiAoUHJpc20ubGFuZ3VhZ2VzW2xhbmddKSB7XG4gICAgICAgICAgcmV0dXJuIFByaXNtLmhpZ2hsaWdodChjb2RlLCBQcmlzbS5sYW5ndWFnZXNbbGFuZ10sIGxhbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gbWFpbkJvZHlUZW1wbGF0ZS5jYWxsKHRoaXMsIHRydWUsIGZhbHNlLCBmYWxzZSwgdGhpcy5wYXRoc0V4cGFuZGVkKTtcbiAgfVxuXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWwsIG5ld1ZhbCkge1xuICAgIGlmIChuYW1lID09PSAnc3BlYy11cmwnKSB7XG4gICAgICBpZiAob2xkVmFsICE9PSBuZXdWYWwpIHtcbiAgICAgICAgLy8gcHV0IGl0IGF0IHRoZSBlbmQgb2YgZXZlbnQtbG9vcCB0byBsb2FkIGFsbCB0aGUgYXR0cmlidXRlc1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5sb2FkU3BlYyhuZXdWYWwpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdhcGkta2V5LW5hbWUnIHx8IG5hbWUgPT09ICdhcGkta2V5LWxvY2F0aW9uJyB8fCBuYW1lID09PSAnYXBpLWtleS12YWx1ZScpIHtcbiAgICAgIGxldCB1cGRhdGVTZWxlY3RlZEFwaUtleSA9IGZhbHNlO1xuICAgICAgbGV0IGFwaUtleU5hbWUgPSAnJztcbiAgICAgIGxldCBhcGlLZXlMb2NhdGlvbiA9ICcnO1xuICAgICAgbGV0IGFwaUtleVZhbHVlID0gJyc7XG5cbiAgICAgIGlmIChuYW1lID09PSAnYXBpLWtleS1uYW1lJykge1xuICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ2FwaS1rZXktbG9jYXRpb24nKSAmJiB0aGlzLmdldEF0dHJpYnV0ZSgnYXBpLWtleS12YWx1ZScpKSB7XG4gICAgICAgICAgYXBpS2V5TmFtZSA9IG5ld1ZhbDtcbiAgICAgICAgICBhcGlLZXlMb2NhdGlvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LWxvY2F0aW9uJyk7XG4gICAgICAgICAgYXBpS2V5VmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnYXBpLWtleS12YWx1ZScpO1xuICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkQXBpS2V5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAnYXBpLWtleS1sb2NhdGlvbicpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LW5hbWUnKSAmJiB0aGlzLmdldEF0dHJpYnV0ZSgnYXBpLWtleS12YWx1ZScpKSB7XG4gICAgICAgICAgYXBpS2V5TG9jYXRpb24gPSBuZXdWYWw7XG4gICAgICAgICAgYXBpS2V5TmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LW5hbWUnKTtcbiAgICAgICAgICBhcGlLZXlWYWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LXZhbHVlJyk7XG4gICAgICAgICAgdXBkYXRlU2VsZWN0ZWRBcGlLZXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdhcGkta2V5LXZhbHVlJykge1xuICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ2FwaS1rZXktbmFtZScpICYmIHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LWxvY2F0aW9uJykpIHtcbiAgICAgICAgICBhcGlLZXlWYWx1ZSA9IG5ld1ZhbDtcbiAgICAgICAgICBhcGlLZXlMb2NhdGlvbiA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LWxvY2F0aW9uJyk7XG4gICAgICAgICAgYXBpS2V5TmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LW5hbWUnKTtcbiAgICAgICAgICB1cGRhdGVTZWxlY3RlZEFwaUtleSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHVwZGF0ZVNlbGVjdGVkQXBpS2V5KSB7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdmVkU3BlYykge1xuICAgICAgICAgIGNvbnN0IHJhcGlEb2NBcGlLZXkgPSB0aGlzLnJlc29sdmVkU3BlYy5zZWN1cml0eVNjaGVtZXMuZmluZCgodikgPT4gdi5zZWN1cml0eVNjaGVtZUlkID09PSByYXBpZG9jQXBpS2V5KTtcbiAgICAgICAgICBpZiAoIXJhcGlEb2NBcGlLZXkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZWRTcGVjLnNlY3VyaXR5U2NoZW1lcy5wdXNoKHtcbiAgICAgICAgICAgICAgYXBpS2V5SWQ6IHJhcGlkb2NBcGlLZXksXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnYXBpLWtleSBwcm92aWRlZCBpbiByYXBpZG9jIGVsZW1lbnQgYXR0cmlidXRlcycsXG4gICAgICAgICAgICAgIHR5cGU6ICdhcGlLZXknLFxuICAgICAgICAgICAgICBuYW1lOiBhcGlLZXlOYW1lLFxuICAgICAgICAgICAgICBpbjogYXBpS2V5TG9jYXRpb24sXG4gICAgICAgICAgICAgIHZhbHVlOiBhcGlLZXlWYWx1ZSxcbiAgICAgICAgICAgICAgZmluYWxLZXlWYWx1ZTogYXBpS2V5VmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFwaURvY0FwaUtleS5uYW1lID0gYXBpS2V5TmFtZTtcbiAgICAgICAgICAgIHJhcGlEb2NBcGlLZXkuaW4gPSBhcGlLZXlMb2NhdGlvbjtcbiAgICAgICAgICAgIHJhcGlEb2NBcGlLZXkudmFsdWUgPSBhcGlLZXlWYWx1ZTtcbiAgICAgICAgICAgIHJhcGlEb2NBcGlLZXkuZmluYWxLZXlWYWx1ZSA9IGFwaUtleVZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsLCBuZXdWYWwpO1xuICB9XG5cbiAgb25TcGVjVXJsQ2hhbmdlKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdzcGVjLXVybCcsIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnc3BlYy11cmwnKS52YWx1ZSk7XG4gIH1cblxuICAvLyBQdWJsaWMgTWV0aG9kXG4gIGFzeW5jIGxvYWRTcGVjKHNwZWNVcmwpIHtcbiAgICBpZiAoIXNwZWNVcmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmVzb2x2ZWRTcGVjID0ge1xuICAgICAgICBzcGVjTG9hZEVycm9yOiBmYWxzZSxcbiAgICAgICAgaXNTcGVjTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgdGFnczogW10sXG4gICAgICB9O1xuICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMubG9hZEZhaWxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gICAgICBjb25zdCBzcGVjID0gYXdhaXQgUHJvY2Vzc1NwZWMuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgc3BlY1VybCxcbiAgICAgICAgdGhpcy5nZW5lcmF0ZU1pc3NpbmdUYWdzID09PSAndHJ1ZScsXG4gICAgICAgIHRoaXMuc29ydFRhZ3MgPT09ICd0cnVlJyxcbiAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoJ3NvcnQtZW5kcG9pbnRzLWJ5JyksXG4gICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKCdhcGkta2V5LW5hbWUnKSxcbiAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoJ2FwaS1rZXktbG9jYXRpb24nKSxcbiAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoJ2FwaS1rZXktdmFsdWUnKSxcbiAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoJ3NlcnZlci11cmwnKSxcbiAgICAgICk7XG4gICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuYWZ0ZXJTcGVjUGFyc2VkQW5kVmFsaWRhdGVkKHNwZWMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmxvYWRGYWlsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5yZXNvbHZlZFNwZWMgPSBudWxsO1xuICAgICAgY29uc29sZS5lcnJvcihgUmFwaURvYzogVW5hYmxlIHRvIHJlc29sdmUgdGhlIEFQSSBzcGVjLi4gICR7ZXJyLm1lc3NhZ2V9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cbiAgfVxuXG4gIC8vIFB1YmxpYyBNZXRob2QgLSB0byB1cGRhdGUgc2VjdXJpdHktc2NoZW1lIG9mIHR5cGUgaHR0cFxuICBzZXRIdHRwVXNlck5hbWVBbmRQYXNzd29yZChzZWN1cml0eVNjaGVtZUlkLCB1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICByZXR1cm4gYXBwbHlBcGlLZXkuY2FsbCh0aGlzLCBzZWN1cml0eVNjaGVtZUlkLCB1c2VybmFtZSwgcGFzc3dvcmQpO1xuICB9XG5cbiAgLy8gUHVibGljIE1ldGhvZCAtIHRvIHVwZGF0ZSBzZWN1cml0eS1zY2hlbWUgb2YgdHlwZSBhcGlLZXkgb3IgT0F1dGhcbiAgc2V0QXBpS2V5KHNlY3VyaXR5U2NoZW1lSWQsIGFwaUtleVZhbHVlKSB7XG4gICAgcmV0dXJuIGFwcGx5QXBpS2V5LmNhbGwodGhpcywgc2VjdXJpdHlTY2hlbWVJZCwgJycsICcnLCBhcGlLZXlWYWx1ZSk7XG4gIH1cblxuICAvLyBQdWJsaWMgTWV0aG9kXG4gIHJlbW92ZUFsbFNlY3VyaXR5S2V5cygpIHtcbiAgICByZXR1cm4gb25DbGVhckFsbEFwaUtleXMuY2FsbCh0aGlzKTtcbiAgfVxuXG4gIC8vIFB1YmxpYyBNZXRob2RcbiAgc2V0QXBpU2VydmVyKGFwaVNlcnZlclVybCkge1xuICAgIC8vIHJldHVybiBhcGlTZXJ2ZXJVcmw7XG4gICAgcmV0dXJuIHNldEFwaVNlcnZlci5jYWxsKHRoaXMsIGFwaVNlcnZlclVybCk7XG4gIH1cblxuICBhc3luYyBhZnRlclNwZWNQYXJzZWRBbmRWYWxpZGF0ZWQoc3BlYykge1xuICAgIHRoaXMucmVzb2x2ZWRTcGVjID0gc3BlYztcbiAgICB0aGlzLnNlbGVjdGVkU2VydmVyID0gdW5kZWZpbmVkO1xuICAgIGlmICh0aGlzLmRlZmF1bHRBcGlTZXJ2ZXJVcmwpIHtcbiAgICAgIGlmICh0aGlzLmRlZmF1bHRBcGlTZXJ2ZXJVcmwgPT09IHRoaXMuc2VydmVyVXJsKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTZXJ2ZXIgPSB7XG4gICAgICAgICAgdXJsOiB0aGlzLnNlcnZlclVybCxcbiAgICAgICAgICBjb21wdXRlZFVybDogdGhpcy5zZXJ2ZXJVcmwsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucmVzb2x2ZWRTcGVjLnNlcnZlcnMpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNlcnZlciA9IHRoaXMucmVzb2x2ZWRTcGVjLnNlcnZlcnMuZmluZCgodikgPT4gKHYudXJsID09PSB0aGlzLmRlZmF1bHRBcGlTZXJ2ZXJVcmwpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkU2VydmVyKSB7XG4gICAgICBpZiAodGhpcy5yZXNvbHZlZFNwZWMuc2VydmVycykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkU2VydmVyID0gdGhpcy5yZXNvbHZlZFNwZWMuc2VydmVyc1swXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgIHdoaWxlICghYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZSk7XG4gICAgY29uc3Qgc3BlY0xvYWRlZEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzcGVjLWxvYWRlZCcsIHsgZGV0YWlsOiBzcGVjIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChzcGVjTG9hZGVkRXZlbnQpO1xuICB9XG5cbiAgLy8gQ2FsbGVkIGJ5IGFuY2hvciB0YWdzIGNyZWF0ZWQgdXNpbmcgbWFya2Rvd25cbiAgaGFuZGxlSHJlZihlKSB7XG4gICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnKSB7XG4gICAgICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJykuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgIGNvbnN0IGdvdG9FbCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5yZXBsYWNlKCcjJywgJycpKTtcbiAgICAgICAgaWYgKGdvdG9FbCkge1xuICAgICAgICAgIGdvdG9FbC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnYXV0bycsIGJsb2NrOiAnc3RhcnQnIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3JhcGktZG9jLW1pbmknLCBSYXBpRG9jTWluaSk7XG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHVuc2FmZUhUTUwgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy91bnNhZmUtaHRtbC5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L2V4dGVuc2lvbnNcbmltcG9ydCB7IG1hcmtlZCB9IGZyb20gJ21hcmtlZCc7XG5cbi8vIFRlbXBsYXRlc1xuaW1wb3J0IG92ZXJ2aWV3VGVtcGxhdGUgZnJvbSAnfi90ZW1wbGF0ZXMvb3ZlcnZpZXctdGVtcGxhdGUnO1xuaW1wb3J0IGhlYWRlclRlbXBsYXRlIGZyb20gJ34vdGVtcGxhdGVzL2hlYWRlci10ZW1wbGF0ZSc7XG5pbXBvcnQgeyBzY2hlbWFJbk9iamVjdE5vdGF0aW9uLCBnZW5lcmF0ZUV4YW1wbGUgfSBmcm9tICd+L3V0aWxzL3NjaGVtYS11dGlscyc7XG5pbXBvcnQgJ34vY29tcG9uZW50cy9qc29uLXRyZWUnO1xuaW1wb3J0ICd+L2NvbXBvbmVudHMvc2NoZW1hLXRyZWUnO1xuaW1wb3J0IFNldFRoZW1lIGZyb20gJ34vdXRpbHMvdGhlbWUnO1xuaW1wb3J0IHsgaXNWYWxpZEhleENvbG9yIH0gZnJvbSAnfi91dGlscy9jb2xvci11dGlscyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuLy8gSnNvbiBTY2hlbWEgTmF2IFRlbXBsYXRlXG5mdW5jdGlvbiBqc29uU2NoZW1hTmF2VGVtcGxhdGUoKSB7XG4gIHJldHVybiBodG1sYFxuICA8bmF2IGNsYXNzPSduYXYtYmFyJyBwYXJ0PVwic2VjdGlvbi1uYXZiYXJcIj5cbiAgICA8c2xvdCBuYW1lPVwibmF2LWxvZ29cIiBjbGFzcz1cImxvZ29cIj48L3Nsb3Q+XG4gICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDtsaW5lLWhlaWdodDoyMnB4OyBwYWRkaW5nOjhweFwiPlxuICAgICAgPGlucHV0IGlkPVwibmF2LWJhci1zZWFyY2hcIiBcbiAgICAgICAgcGFydCA9IFwidGV4dGJveCB0ZXh0Ym94LW5hdi1maWx0ZXJcIlxuICAgICAgICBzdHlsZSA9IFwid2lkdGg6MTAwJTsgaGVpZ2h0OiAyNnB4OyBwYWRkaW5nLXJpZ2h0OjIwcHg7IGNvbG9yOnZhcigtLW5hdi1ob3Zlci10ZXh0LWNvbG9yKTsgYm9yZGVyLWNvbG9yOnZhcigtLW5hdi1hY2NlbnQtY29sb3IpOyBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW5hdi1ob3Zlci1iZy1jb2xvcilcIiBcbiAgICAgICAgdHlwZSA9IFwidGV4dFwiXG4gICAgICAgIHBsYWNlaG9sZGVyID0gXCJGaWx0ZXJcIiBcbiAgICAgICAgQGNoYW5nZSA9IFwiJHt0aGlzLm9uU2VhcmNoQ2hhbmdlfVwiICBcbiAgICAgICAgc3BlbGxjaGVjayA9IFwiZmFsc2VcIiBcbiAgICAgID5cbiAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDZweCA1cHggMCAtMjRweDsgZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1yZWd1bGFyKTsgY3Vyc29yOnBvaW50ZXI7XCI+JiN4MjFhOTs8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8bmF2IHN0eWxlPVwiZmxleDoxXCIgY2xhc3M9J25hdi1zY3JvbGwnIHBhcnQ9XCJzZWN0aW9uLW5hdmJhci1zY3JvbGxcIj5cbiAgICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuc2NoZW1hQW5kRXhhbXBsZXMubWFwKCh2KSA9PiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPSduYXYtYmFyLXBhdGgnIGRhdGEtY29udGVudC1pZD0nJHt2LmVsZW1lbnRJZH0nIGlkPSdsaW5rLSR7di5lbGVtZW50SWR9J1xuICAgICAgICAgIEBjbGljayA9ICckeyhlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvRXZlbnRUYXJnZXQoZSwgZmFsc2UpO1xuICAgICAgICAgIH19J1xuICAgICAgICA+IFxuICAgICAgICAgICR7di5uYW1lfVxuICAgICAgICA8L2Rpdj5gKVxuICAgICAgfVxuICAgIDwvbmF2PiAgXG4gIDwvbmF2PlxuICBgO1xufVxuXG4vLyBKc29uIFNjaGVtYSBCb2R5IFRlbXBsYXRlXG5mdW5jdGlvbiBqc29uU2NoZW1hQm9keVRlbXBsYXRlKCkge1xuICByZXR1cm4gaHRtbGBcbiAgICAke3RoaXMuc2hvd0luZm8gPT09ICd0cnVlJyA/IG92ZXJ2aWV3VGVtcGxhdGUuY2FsbCh0aGlzKSA6ICcnfVxuICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6dmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpO1wiPlxuICAgICR7dGhpcy5yZXNvbHZlZFNwZWMuc2NoZW1hQW5kRXhhbXBsZXMubWFwKChqU2NoZW1hQm9keSkgPT4ge1xuICAgICAgY29uc3QgZXhhbXBsZXNPYmogPSBnZW5lcmF0ZUV4YW1wbGUoalNjaGVtYUJvZHkuc2NoZW1hLCAnanNvbicsIGpTY2hlbWFCb2R5LmV4YW1wbGVzLCBqU2NoZW1hQm9keS5leGFtcGxlLCB0cnVlLCBmYWxzZSwgJ2pzb24nLCB0cnVlKTtcbiAgICAgIGpTY2hlbWFCb2R5LnNlbGVjdGVkRXhhbXBsZSA9IGV4YW1wbGVzT2JqWzBdPy5leGFtcGxlSWQ7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPHNlY3Rpb24gaWQ9JyR7alNjaGVtYUJvZHkuZWxlbWVudElkfScgY2xhc3M9J2pzb24tc2NoZW1hLWFuZC1leGFtcGxlIHJlZ3VsYXItZm9udCcgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgbWFyZ2luLWJvdHRvbTozMnB4OyBib3JkZXItdG9wOiA1cHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKVwiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOjE2cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpXCI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOnZhcigtLWZvbnQtc2l6ZS1zbWFsbCk7IGZvbnQtd2VpZ2h0OmJvbGRcIj4ke2pTY2hlbWFCb2R5Lm5hbWV9PC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImpzb24tc2NoZW1hLWRlc2NyaXB0aW9uIG0tbWFya2Rvd24gXCI+JHt1bnNhZmVIVE1MKG1hcmtlZChqU2NoZW1hQm9keS5kZXNjcmlwdGlvbiB8fCAnJykpfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOiByb3c7IGdhcDoxNnB4O1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpzb24tc2NoZW1hLWRlZlwiIHN0eWxlPVwiZmxleDoxOyBwYWRkaW5nOjE2cHggMCAxNnB4IDE2cHg7IFwiPlxuICAgICAgICAgICAgICA8c2NoZW1hLXRyZWVcbiAgICAgICAgICAgICAgICAuZGF0YSA9IFwiJHtzY2hlbWFJbk9iamVjdE5vdGF0aW9uKGpTY2hlbWFCb2R5LnNjaGVtYSwge30pfVwiXG4gICAgICAgICAgICAgICAgc2NoZW1hLWV4cGFuZC1sZXZlbCA9IFwiJHt0aGlzLnNjaGVtYUV4cGFuZExldmVsfVwiXG4gICAgICAgICAgICAgICAgc2NoZW1hLWRlc2NyaXB0aW9uLWV4cGFuZGVkID0gXCIke3RoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZH1cIlxuICAgICAgICAgICAgICAgIGFsbG93LXNjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmQtdG9nZ2xlID0gXCIke3RoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZX1cIlxuICAgICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXJlYWQtb25seSA9IFwiZmFsc2VcIlxuICAgICAgICAgICAgICAgIHNjaGVtYS1oaWRlLXdyaXRlLW9ubHkgPSBcImZhbHNlXCJcbiAgICAgICAgICAgICAgPiA8L3NjaGVtYS10cmVlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianNvbi1zY2hlbWEtZXhhbXBsZS1wYW5lbFwiIHN0eWxlPVwid2lkdGg6NDAwcHg7IGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlucHV0LWJnKTsgcGFkZGluZzoxNnB4IDAgMTZweCAxNnB4OyBib3JkZXItbGVmdDogMXB4IGRhc2hlZCB2YXIoLS1ib3JkZXItY29sb3IpO1wiPlxuICAgICAgICAgICAgICAke2V4YW1wbGVzT2JqLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgICA/IGh0bWxgPHNlbGVjdCBzdHlsZT1cIm1pbi13aWR0aDoxMDBweDsgbWF4LXdpZHRoOjEwMCVcIiBAY2hhbmdlPSckeyhlKSA9PiB0aGlzLm9uU2VsZWN0RXhhbXBsZShlLCBqU2NoZW1hQm9keSl9Jz5cbiAgICAgICAgICAgICAgICAgICAgJHtleGFtcGxlc09iai5tYXAoKHYpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIiR7di5leGFtcGxlSWR9XCIgP3NlbGVjdGVkPSR7KHYuZXhhbXBsZUlkID09PSBqU2NoZW1hQm9keS5zZWxlY3RlZEV4YW1wbGUpfT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAke3YuZXhhbXBsZVN1bW1hcnkubGVuZ3RoID4gODAgPyB2LmV4YW1wbGVJZCA6IHYuZXhhbXBsZVN1bW1hcnl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+YClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+YFxuICAgICAgICAgICAgICAgIDogaHRtbGA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUtc21hbGwpO2ZvbnQtd2VpZ2h0OjcwMDsgbWFyZ2luOjVweCAwXCI+ICR7ZXhhbXBsZXNPYmpbMF0uZXhhbXBsZVN1bW1hcnl9PC9kaXY+YFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICR7ZXhhbXBsZXNPYmoubWFwKCh2KSA9PiBodG1sYFxuICAgICAgICAgICAgICAgIDxqc29uLXRyZWUgXG4gICAgICAgICAgICAgICAgICAuZGF0YSA9IFwiJHt2LmV4YW1wbGVWYWx1ZX1cIlxuICAgICAgICAgICAgICAgICAgZGF0YS1leGFtcGxlID0gXCIke3YuZXhhbXBsZUlkfVwiXG4gICAgICAgICAgICAgICAgICBjbGFzcyA9IFwiZXhhbXBsZVwiXG4gICAgICAgICAgICAgICAgICBzdHlsZSA9IFwibWFyZ2luLXRvcDoxNnB4OyBkaXNwbGF5OiAke3YuZXhhbXBsZUlkID09PSBqU2NoZW1hQm9keS5zZWxlY3RlZEV4YW1wbGUgPyAnZmxleCcgOiAnbm9uZSd9XCJcbiAgICAgICAgICAgICAgICA+PC9qc29uLXRyZWU+YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvc2VjdGlvbj5gO1xuICAgICAgfSlcbiAgICB9XG4gICAgPC9kaXY+XG4gIGA7XG59XG4vKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xuXG4vLyBKc29uIFNjaGVtYSBSb290IFRlbXBsYXRlXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBqc29uU2NoZW1hVmlld2VyVGVtcGxhdGUoaXNNaW5pID0gZmFsc2UpIHtcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGpzb25TY2hlbWFWaWV3ZXJUZW1wbGF0ZShpc01pbmkgPSBmYWxzZSwgc2hvd0V4cGFuZENvbGxhcHNlID0gdHJ1ZSwgc2hvd1RhZ3MgPSB0cnVlLCBwYXRoc0V4cGFuZGVkID0gZmFsc2UpIHtcbiAgaWYgKCF0aGlzLnJlc29sdmVkU3BlYykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBjb25zdCBuZXdUaGVtZSA9IHtcbiAgICBiZzE6IGlzVmFsaWRIZXhDb2xvcih0aGlzLmJnQ29sb3IpID8gdGhpcy5iZ0NvbG9yIDogJycsXG4gICAgZmcxOiBpc1ZhbGlkSGV4Q29sb3IodGhpcy50ZXh0Q29sb3IpID8gdGhpcy50ZXh0Q29sb3IgOiAnJyxcbiAgICBoZWFkZXJDb2xvcjogaXNWYWxpZEhleENvbG9yKHRoaXMuaGVhZGVyQ29sb3IpID8gdGhpcy5oZWFkZXJDb2xvciA6ICcnLFxuICAgIHByaW1hcnlDb2xvcjogaXNWYWxpZEhleENvbG9yKHRoaXMucHJpbWFyeUNvbG9yKSA/IHRoaXMucHJpbWFyeUNvbG9yIDogJycsXG4gICAgbmF2QmdDb2xvcjogaXNWYWxpZEhleENvbG9yKHRoaXMubmF2QmdDb2xvcikgPyB0aGlzLm5hdkJnQ29sb3IgOiAnJyxcbiAgICBuYXZUZXh0Q29sb3I6IGlzVmFsaWRIZXhDb2xvcih0aGlzLm5hdlRleHRDb2xvcikgPyB0aGlzLm5hdlRleHRDb2xvciA6ICcnLFxuICAgIG5hdkhvdmVyQmdDb2xvcjogaXNWYWxpZEhleENvbG9yKHRoaXMubmF2SG92ZXJCZ0NvbG9yKSA/IHRoaXMubmF2SG92ZXJCZ0NvbG9yIDogJycsXG4gICAgbmF2SG92ZXJUZXh0Q29sb3I6IGlzVmFsaWRIZXhDb2xvcih0aGlzLm5hdkhvdmVyVGV4dENvbG9yKSA/IHRoaXMubmF2SG92ZXJUZXh0Q29sb3IgOiAnJyxcbiAgICBuYXZBY2NlbnRDb2xvcjogaXNWYWxpZEhleENvbG9yKHRoaXMubmF2QWNjZW50Q29sb3IpID8gdGhpcy5uYXZBY2NlbnRDb2xvciA6ICcnLFxuICAgIG5hdkFjY2VudHRleHRDb2xvcjogaXNWYWxpZEhleENvbG9yKHRoaXMubmF2QWNjZW50VGV4dENvbG9yKSA/IHRoaXMubmF2QWNjZW50VGV4dENvbG9yIDogJycsXG4gIH07XG4gIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuICBpZiAodGhpcy5yZXNvbHZlZFNwZWMuc3BlY0xvYWRFcnJvcikge1xuICAgIGlmIChpc01pbmkpIHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAke3RoaXMudGhlbWUgPT09ICdkYXJrJyA/IFNldFRoZW1lLmNhbGwodGhpcywgJ2RhcmsnLCBuZXdUaGVtZSkgOiBTZXRUaGVtZS5jYWxsKHRoaXMsICdsaWdodCcsIG5ld1RoZW1lKX1cbiAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBib3JkZXI6MXB4IGRhc2hlZCB2YXIoLS1ib3JkZXItY29sb3IpOyBoZWlnaHQ6NDJweDsgcGFkZGluZzo1cHg7IGZvbnQtc2l6ZTp2YXIoLS1mb250LXNpemUtc21hbGwpOyBjb2xvcjp2YXIoLS1yZWQpOyBmb250LWZhbWlseTp2YXIoLS1mb250LW1vbm8pXCI+ICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5kZXNjcmlwdGlvbn0gPC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgICR7dGhpcy50aGVtZSA9PT0gJ2RhcmsnID8gU2V0VGhlbWUuY2FsbCh0aGlzLCAnZGFyaycsIG5ld1RoZW1lKSA6IFNldFRoZW1lLmNhbGwodGhpcywgJ2xpZ2h0JywgbmV3VGhlbWUpfVxuICAgICAgPCEtLSBIZWFkZXIgLS0+XG4gICAgICAke2hlYWRlclRlbXBsYXRlLmNhbGwodGhpcyl9XG4gICAgICA8aDE+IEhlYWRlciA8L2gxPlxuICAgICAgPG1haW4gY2xhc3M9XCJtYWluLWNvbnRlbnQgcmVndWxhci1mb250XCIgcGFydD1cInNlY3Rpb24tbWFpbi1jb250ZW50XCI+XG4gICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbjoyNHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgPGgxIHN0eWxlPVwiY29sb3I6IHZhcigtLXJlZClcIj4gJHt0aGlzLnJlc29sdmVkU3BlYy5pbmZvLnRpdGxlfSA8L2gxPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTp2YXIoLS1mb250LW1vbm8pXCI+ICR7dGhpcy5yZXNvbHZlZFNwZWMuaW5mby5kZXNjcmlwdGlvbn0gPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9tYWluPiAgXG4gICAgYDtcbiAgfVxuICBpZiAodGhpcy5yZXNvbHZlZFNwZWMuaXNTcGVjTG9hZGluZykge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgJHt0aGlzLnRoZW1lID09PSAnZGFyaycgPyBTZXRUaGVtZS5jYWxsKHRoaXMsICdkYXJrJywgbmV3VGhlbWUpIDogU2V0VGhlbWUuY2FsbCh0aGlzLCAnbGlnaHQnLCBuZXdUaGVtZSl9XG4gICAgICA8bWFpbiBjbGFzcz1cIm1haW4tY29udGVudCByZWd1bGFyLWZvbnRcIiBwYXJ0PVwic2VjdGlvbi1tYWluLWNvbnRlbnRcIj5cbiAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWFpbi1jb250ZW50LWlubmVyLS0ke3RoaXMucmVuZGVyU3R5bGV9LW1vZGVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGVyXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9tYWluPiAgXG4gICAgYDtcbiAgfVxuXG4gIHJldHVybiBodG1sYFxuICAgICR7dGhpcy50aGVtZSA9PT0gJ2RhcmsnID8gU2V0VGhlbWUuY2FsbCh0aGlzLCAnZGFyaycsIG5ld1RoZW1lKSA6IFNldFRoZW1lLmNhbGwodGhpcywgJ2xpZ2h0JywgbmV3VGhlbWUpfVxuXG4gICAgPCEtLSBIZWFkZXIgLS0+XG4gICAgJHt0aGlzLnNob3dIZWFkZXIgPT09ICdmYWxzZScgPyAnJyA6IGhlYWRlclRlbXBsYXRlLmNhbGwodGhpcyl9XG4gICAgXG4gICAgPGRpdiBpZD0ndGhlLW1haW4tYm9keScgY2xhc3M9XCJib2R5ICR7dGhpcy5jc3NDbGFzc2VzfVwiIGRpcj0gJHt0aGlzLnBhZ2VEaXJlY3Rpb259PlxuXG4gICAgICA8IS0tIFNpZGUgTmF2IC0tPlxuICAgICAgJHtqc29uU2NoZW1hTmF2VGVtcGxhdGUuY2FsbCh0aGlzKX1cblxuICAgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+XG4gICAgICA8bWFpbiBjbGFzcz1cIm1haW4tY29udGVudCByZWd1bGFyLWZvbnRcIiBwYXJ0PVwic2VjdGlvbi1tYWluLWNvbnRlbnRcIj5cbiAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWFpbi1jb250ZW50LWlubmVyLS0ke3RoaXMucmVuZGVyU3R5bGV9LW1vZGVcIj5cbiAgICAgICAgICAke3RoaXMubG9hZGluZyA9PT0gdHJ1ZVxuICAgICAgICAgICAgPyBodG1sYDxkaXYgY2xhc3M9XCJsb2FkZXJcIj48L2Rpdj5gXG4gICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICR7dGhpcy5sb2FkRmFpbGVkID09PSB0cnVlXG4gICAgICAgICAgICAgICAgPyBodG1sYDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7bWFyZ2luOiAxNnB4O1wiPiBVbmFibGUgdG8gbG9hZCB0aGUgU3BlYzwvZGl2PmBcbiAgICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3BlcmF0aW9ucy1yb290XCIgQGNsaWNrPVwiJHsoZSkgPT4geyB0aGlzLmhhbmRsZUhyZWYoZSk7IH19XCI+XG4gICAgICAgICAgICAgICAgICAgICR7anNvblNjaGVtYUJvZHlUZW1wbGF0ZS5jYWxsKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICB9YFxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzbG90IG5hbWU9XCJmb290ZXJcIj48L3Nsb3Q+XG4gICAgICA8L21haW4+XG4gICAgPC9kaXY+ICBcbiAgYDtcbn1cbi8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG4iLCJpbXBvcnQgeyBjc3MsIExpdEVsZW1lbnQgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCBQcmlzbSBmcm9tICdwcmlzbWpzJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWNzcyc7XG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS15YW1sJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWdvJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWphdmEnO1xuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tanNvbic7XG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS1iYXNoJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLXB5dGhvbic7XG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS1odHRwJztcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLWNzaGFycCc7XG5cbi8vIFN0eWxlc1xuaW1wb3J0IEZvbnRTdHlsZXMgZnJvbSAnfi9zdHlsZXMvZm9udC1zdHlsZXMnO1xuaW1wb3J0IElucHV0U3R5bGVzIGZyb20gJ34vc3R5bGVzL2lucHV0LXN0eWxlcyc7XG5pbXBvcnQgRmxleFN0eWxlcyBmcm9tICd+L3N0eWxlcy9mbGV4LXN0eWxlcyc7XG5pbXBvcnQgVGFibGVTdHlsZXMgZnJvbSAnfi9zdHlsZXMvdGFibGUtc3R5bGVzJztcbmltcG9ydCBQcmlzbVN0eWxlcyBmcm9tICd+L3N0eWxlcy9wcmlzbS1zdHlsZXMnO1xuaW1wb3J0IFRhYlN0eWxlcyBmcm9tICd+L3N0eWxlcy90YWItc3R5bGVzJztcbmltcG9ydCBOYXZTdHlsZXMgZnJvbSAnfi9zdHlsZXMvbmF2LXN0eWxlcyc7XG5pbXBvcnQgSW5mb1N0eWxlcyBmcm9tICd+L3N0eWxlcy9pbmZvLXN0eWxlcyc7XG5cbmltcG9ydCBFbmRwb2ludFN0eWxlcyBmcm9tICd+L3N0eWxlcy9lbmRwb2ludC1zdHlsZXMnO1xuaW1wb3J0IFByb2Nlc3NTcGVjIGZyb20gJ34vdXRpbHMvc3BlYy1wYXJzZXInO1xuaW1wb3J0IGpzb25TY2hlbWFWaWV3ZXJUZW1wbGF0ZSBmcm9tICd+L3RlbXBsYXRlcy9qc29uLXNjaGVtYS12aWV3ZXItdGVtcGxhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKc29uU2NoZW1hVmlld2VyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pc01pbmkgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZVJvdXRlID0gJ2ZhbHNlJztcbiAgICB0aGlzLnJlbmRlclN0eWxlID0gJ2ZvY3VzZWQnO1xuICAgIHRoaXMuc2hvd0hlYWRlciA9ICd0cnVlJztcbiAgICB0aGlzLmFsbG93QWR2YW5jZWRTZWFyY2ggPSAnZmFsc2UnO1xuICAgIHRoaXMuc2VsZWN0ZWRFeGFtcGxlRm9yRWFjaFNjaGVtYSA9IHt9O1xuICB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTcGVjXG4gICAgICBzcGVjVXJsOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc3BlYy11cmwnIH0sXG5cbiAgICAgIC8vIFNjaGVtYSBTdHlsZXNcbiAgICAgIHNjaGVtYVN0eWxlOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2NoZW1hLXN0eWxlJyB9LFxuICAgICAgc2NoZW1hRXhwYW5kTGV2ZWw6IHsgdHlwZTogTnVtYmVyLCBhdHRyaWJ1dGU6ICdzY2hlbWEtZXhwYW5kLWxldmVsJyB9LFxuICAgICAgc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NjaGVtYS1kZXNjcmlwdGlvbi1leHBhbmRlZCcgfSxcbiAgICAgIGFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGU6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhbGxvdy1zY2hlbWEtZGVzY3JpcHRpb24tZXhwYW5kLXRvZ2dsZScgfSxcblxuICAgICAgLy8gSGlkZS9zaG93IFNlY3Rpb25zXG4gICAgICBzaG93SGVhZGVyOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2hvdy1oZWFkZXInIH0sXG4gICAgICBzaG93U2lkZU5hdjogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3Nob3ctc2lkZS1uYXYnIH0sXG4gICAgICBzaG93SW5mbzogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3Nob3ctaW5mbycgfSxcblxuICAgICAgLy8gQWxsb3cgb3IgcmVzdHJpY3QgZmVhdHVyZXNcbiAgICAgIGFsbG93U3BlY1VybExvYWQ6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhbGxvdy1zcGVjLXVybC1sb2FkJyB9LFxuICAgICAgYWxsb3dTcGVjRmlsZUxvYWQ6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdhbGxvdy1zcGVjLWZpbGUtbG9hZCcgfSxcbiAgICAgIGFsbG93U3BlY0ZpbGVEb3dubG9hZDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FsbG93LXNwZWMtZmlsZS1kb3dubG9hZCcgfSxcbiAgICAgIGFsbG93U2VhcmNoOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWxsb3ctc2VhcmNoJyB9LFxuXG4gICAgICAvLyBNYWluIENvbG9ycyBhbmQgRm9udFxuICAgICAgdGhlbWU6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgICBiZ0NvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYmctY29sb3InIH0sXG4gICAgICB0ZXh0Q29sb3I6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICd0ZXh0LWNvbG9yJyB9LFxuICAgICAgcHJpbWFyeUNvbG9yOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAncHJpbWFyeS1jb2xvcicgfSxcbiAgICAgIGZvbnRTaXplOiB7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZm9udC1zaXplJyB9LFxuICAgICAgcmVndWxhckZvbnQ6IHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdyZWd1bGFyLWZvbnQnIH0sXG4gICAgICBtb25vRm9udDogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ21vbm8tZm9udCcgfSxcbiAgICAgIGxvYWRGb250czogeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2xvYWQtZm9udHMnIH0sXG5cbiAgICAgIC8vIEludGVybmFsIFByb3BlcnRpZXNcbiAgICAgIGxvYWRpbmc6IHsgdHlwZTogQm9vbGVhbiB9LCAvLyBpbmRpY2F0ZXMgc3BlYyBpcyBiZWluZyBsb2FkZWRcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEZvbnRTdHlsZXMsXG4gICAgICBJbnB1dFN0eWxlcyxcbiAgICAgIEZsZXhTdHlsZXMsXG4gICAgICBUYWJsZVN0eWxlcyxcbiAgICAgIEVuZHBvaW50U3R5bGVzLFxuICAgICAgUHJpc21TdHlsZXMsXG4gICAgICBUYWJTdHlsZXMsXG4gICAgICBOYXZTdHlsZXMsXG4gICAgICBJbmZvU3R5bGVzLFxuICAgICAgY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIG1pbi13aWR0aDozNjBweDtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgaGVpZ2h0OjEwMCU7XG4gICAgICAgIG1hcmdpbjowO1xuICAgICAgICBwYWRkaW5nOjA7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIGxldHRlci1zcGFjaW5nOm5vcm1hbDtcbiAgICAgICAgY29sb3I6dmFyKC0tZmcpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWJnKTtcbiAgICAgICAgZm9udC1mYW1pbHk6dmFyKC0tZm9udC1yZWd1bGFyKTtcbiAgICAgIH1cbiAgICAgIC5ib2R5IHtcbiAgICAgICAgZGlzcGxheTpmbGV4O1xuICAgICAgICBoZWlnaHQ6MTAwJTtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuICAgICAgLm5hdi1iYXIge1xuICAgICAgICB3aWR0aDogMjMwcHg7XG4gICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgIH1cblxuICAgICAgLm1haW4tY29udGVudCB7IFxuICAgICAgICBtYXJnaW46MDtcbiAgICAgICAgcGFkZGluZzogMTZweDsgXG4gICAgICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgICAgIGZsZXg6MTtcbiAgICAgICAgaGVpZ2h0OjEwMCU7XG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluO1xuICAgICAgICBzY3JvbGxiYXItY29sb3I6IHZhcigtLWJvcmRlci1jb2xvcikgdHJhbnNwYXJlbnQ7XG4gICAgICB9XG4gICAgICAubWFpbi1jb250ZW50LWlubmVyLS12aWV3LW1vZGUge1xuICAgICAgICBwYWRkaW5nOiAwIDhweDtcbiAgICAgIH1cbiAgICAgIC5tYWluLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgd2lkdGg6IDhweDtcbiAgICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICB9XG4gICAgICAubWFpbi1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gICAgICAgIGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7XG4gICAgICB9XG4gICAgICAubWFpbi1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgICB9XG4gICAgICAubWFpbi1oZWFkZXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWhlYWRlci1iZyk7XG4gICAgICAgIGNvbG9yOnZhcigtLWhlYWRlci1mZyk7XG4gICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICB9XG4gICAgICAuaGVhZGVyLXRpdGxlIHtcbiAgICAgICAgZm9udC1zaXplOmNhbGModmFyKC0tZm9udC1zaXplLXJlZ3VsYXIpICsgOHB4KTsgXG4gICAgICAgIHBhZGRpbmc6MCA4cHg7XG4gICAgICB9XG4gICAgICBpbnB1dC5oZWFkZXItaW5wdXR7XG4gICAgICAgIGJhY2tncm91bmQ6dmFyKC0taGVhZGVyLWNvbG9yLWRhcmtlcik7XG4gICAgICAgIGNvbG9yOnZhcigtLWhlYWRlci1mZyk7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgdmFyKC0taGVhZGVyLWNvbG9yLWJvcmRlcik7XG4gICAgICAgIGZsZXg6MTsgXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6MjRweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czozcHg7XG4gICAgICB9XG4gICAgICBpbnB1dC5oZWFkZXItaW5wdXQ6OnBsYWNlaG9sZGVyIHtcbiAgICAgICAgb3BhY2l0eTowLjQ7XG4gICAgICB9XG4gICAgICAubG9hZGVyIHtcbiAgICAgICAgbWFyZ2luOiAxNnB4IGF1dG8gMTZweCBhdXRvOyBcbiAgICAgICAgYm9yZGVyOiA0cHggc29saWQgdmFyKC0tYmczKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBib3JkZXItdG9wOiA0cHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIHdpZHRoOiAzNnB4O1xuICAgICAgICBoZWlnaHQ6IDM2cHg7XG4gICAgICAgIGFuaW1hdGlvbjogc3BpbiAycyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICB9XG4gICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gICAgICAgIC5vbmx5LWxhcmdlLXNjcmVlbntcbiAgICAgICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgICB9XG4gICAgICAgIC5vbmx5LWxhcmdlLXNjcmVlbi1mbGV4e1xuICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgfVxuICAgICAgfWAsXG4gICAgXTtcbiAgfVxuXG4gIC8vIFN0YXJ0dXBcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC5vZmZzZXRXaWR0aCA9PT0gMCAmJiBwYXJlbnQuc3R5bGUud2lkdGggPT09ICcnKSB7XG4gICAgICAgIHBhcmVudC5zdHlsZS53aWR0aCA9ICcxMDB2dyc7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50Lm9mZnNldEhlaWdodCA9PT0gMCAmJiBwYXJlbnQuc3R5bGUuaGVpZ2h0ID09PSAnJykge1xuICAgICAgICBwYXJlbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQudGFnTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgICAgIGlmICghcGFyZW50LnN0eWxlLm1hcmdpblRvcCkgeyBwYXJlbnQuc3R5bGUubWFyZ2luVG9wID0gJzAnOyB9XG4gICAgICAgIGlmICghcGFyZW50LnN0eWxlLm1hcmdpblJpZ2h0KSB7IHBhcmVudC5zdHlsZS5tYXJnaW5SaWdodCA9ICcwJzsgfVxuICAgICAgICBpZiAoIXBhcmVudC5zdHlsZS5tYXJnaW5Cb3R0b20pIHsgcGFyZW50LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcwJzsgfVxuICAgICAgICBpZiAoIXBhcmVudC5zdHlsZS5tYXJnaW5MZWZ0KSB7IHBhcmVudC5zdHlsZS5tYXJnaW5MZWZ0ID0gJzAnOyB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubG9hZEZvbnRzICE9PSAnZmFsc2UnKSB7XG4gICAgICBjb25zdCBmb250RGVzY3JpcHRvciA9IHtcbiAgICAgICAgZmFtaWx5OiAnT3BlbiBTYW5zJyxcbiAgICAgICAgc3R5bGU6ICdub3JtYWwnLFxuICAgICAgICB3ZWlnaHQ6ICczMDAnLFxuICAgICAgICB1bmljb2RlUmFuZ2U6ICdVKzAwMDAtMDBGRiwgVSswMTMxLCBVKzAxNTItMDE1MywgVSswMkJCLTAyQkMsIFUrMDJDNiwgVSswMkRBLCBVKzAyREMsIFUrMjAwMC0yMDZGLCBVKzIwNzQsIFUrMjBBQywgVSsyMTIyLCBVKzIxOTEsIFUrMjE5MywgVSsyMjEyLCBVKzIyMTUsIFUrRkVGRiwgVStGRkZEJyxcbiAgICAgIH07XG4gICAgICBjb25zdCBmb250V2VpZ2h0MzAwID0gbmV3IEZvbnRGYWNlKFxuICAgICAgICAnT3BlbiBTYW5zJyxcbiAgICAgICAgXCJ1cmwoaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbS9zL29wZW5zYW5zL3YxOC9tZW01WWFHczEyNk1pWnBCQS1VTl9yOE9VdWhwS0tTVGp3LndvZmYyKSBmb3JtYXQoJ3dvZmYyJylcIixcbiAgICAgICAgZm9udERlc2NyaXB0b3IsXG4gICAgICApO1xuICAgICAgZm9udERlc2NyaXB0b3Iud2VpZ2h0ID0gJzYwMCc7XG4gICAgICBjb25zdCBmb250V2VpZ2h0NjAwID0gbmV3IEZvbnRGYWNlKFxuICAgICAgICAnT3BlbiBTYW5zJyxcbiAgICAgICAgXCJ1cmwoaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbS9zL29wZW5zYW5zL3YxOC9tZW01WWFHczEyNk1pWnBCQS1VTmlya09VdWhwS0tTVGp3LndvZmYyKSBmb3JtYXQoJ3dvZmYyJylcIixcbiAgICAgICAgZm9udERlc2NyaXB0b3IsXG4gICAgICApO1xuICAgICAgZm9udFdlaWdodDMwMC5sb2FkKCkudGhlbigoZm9udCkgPT4geyBkb2N1bWVudC5mb250cy5hZGQoZm9udCk7IH0pO1xuICAgICAgZm9udFdlaWdodDYwMC5sb2FkKCkudGhlbigoZm9udCkgPT4geyBkb2N1bWVudC5mb250cy5hZGQoZm9udCk7IH0pO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyU3R5bGUgPSAnZm9jdXNlZCc7XG4gICAgdGhpcy5wYXRoc0V4cGFuZGVkID0gdGhpcy5wYXRoc0V4cGFuZGVkID09PSAndHJ1ZSc7XG5cbiAgICBpZiAoIXRoaXMuc2hvd0luZm8gfHwgISd0cnVlLCBmYWxzZSwnLmluY2x1ZGVzKGAke3RoaXMuc2hvd0luZm99LGApKSB7IHRoaXMuc2hvd0luZm8gPSAndHJ1ZSc7IH1cbiAgICBpZiAoIXRoaXMuc2hvd1NpZGVOYXYgfHwgISd0cnVlIGZhbHNlJy5pbmNsdWRlcyh0aGlzLnNob3dTaWRlTmF2KSkgeyB0aGlzLnNob3dTaWRlTmF2ID0gJ3RydWUnOyB9XG4gICAgaWYgKCF0aGlzLnNob3dIZWFkZXIgfHwgISd0cnVlLCBmYWxzZSwnLmluY2x1ZGVzKGAke3RoaXMuc2hvd0hlYWRlcn0sYCkpIHsgdGhpcy5zaG93SGVhZGVyID0gJ3RydWUnOyB9XG5cbiAgICBpZiAoIXRoaXMuc2NoZW1hU3R5bGUgfHwgISd0cmVlLCB0YWJsZSwnLmluY2x1ZGVzKGAke3RoaXMuc2NoZW1hU3R5bGV9LGApKSB7IHRoaXMuc2NoZW1hU3R5bGUgPSAndHJlZSc7IH1cbiAgICBpZiAoIXRoaXMudGhlbWUgfHwgISdsaWdodCwgZGFyaywnLmluY2x1ZGVzKGAke3RoaXMudGhlbWV9LGApKSB7XG4gICAgICB0aGlzLnRoZW1lID0gKHdpbmRvdy5tYXRjaE1lZGlhICYmIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KScpLm1hdGNoZXMpID8gJ2xpZ2h0JyA6ICdkYXJrJztcbiAgICB9XG4gICAgaWYgKCF0aGlzLmFsbG93U2VhcmNoIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLmFsbG93U2VhcmNofSxgKSkgeyB0aGlzLmFsbG93U2VhcmNoID0gJ3RydWUnOyB9XG4gICAgaWYgKCF0aGlzLnNjaGVtYUV4cGFuZExldmVsIHx8IHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgPCAxKSB7IHRoaXMuc2NoZW1hRXhwYW5kTGV2ZWwgPSA5OTk5OTsgfVxuICAgIGlmICghdGhpcy5zY2hlbWFEZXNjcmlwdGlvbkV4cGFuZGVkIHx8ICEndHJ1ZSwgZmFsc2UsJy5pbmNsdWRlcyhgJHt0aGlzLnNjaGVtYURlc2NyaXB0aW9uRXhwYW5kZWR9LGApKSB7IHRoaXMuc2NoZW1hRGVzY3JpcHRpb25FeHBhbmRlZCA9ICdmYWxzZSc7IH1cbiAgICBpZiAoIXRoaXMuZm9udFNpemUgfHwgISdkZWZhdWx0LCBsYXJnZSwgbGFyZ2VzdCwnLmluY2x1ZGVzKGAke3RoaXMuZm9udFNpemV9LGApKSB7IHRoaXMuZm9udFNpemUgPSAnZGVmYXVsdCc7IH1cbiAgICBpZiAoIXRoaXMubWF0Y2hUeXBlIHx8ICEnaW5jbHVkZXMgcmVnZXgnLmluY2x1ZGVzKHRoaXMubWF0Y2hUeXBlKSkgeyB0aGlzLm1hdGNoVHlwZSA9ICdpbmNsdWRlcyc7IH1cbiAgICBpZiAoIXRoaXMuYWxsb3dTY2hlbWFEZXNjcmlwdGlvbkV4cGFuZFRvZ2dsZSB8fCAhJ3RydWUsIGZhbHNlLCcuaW5jbHVkZXMoYCR7dGhpcy5hbGxvd1NjaGVtYURlc2NyaXB0aW9uRXhwYW5kVG9nZ2xlfSxgKSkgeyB0aGlzLmFsbG93U2NoZW1hRGVzY3JpcHRpb25FeHBhbmRUb2dnbGUgPSAndHJ1ZSc7IH1cblxuICAgIG1hcmtlZC5zZXRPcHRpb25zKHtcbiAgICAgIGhpZ2hsaWdodDogKGNvZGUsIGxhbmcpID0+IHtcbiAgICAgICAgaWYgKFByaXNtLmxhbmd1YWdlc1tsYW5nXSkge1xuICAgICAgICAgIHJldHVybiBQcmlzbS5oaWdobGlnaHQoY29kZSwgUHJpc20ubGFuZ3VhZ2VzW2xhbmddLCBsYW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29kZTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGpzb25TY2hlbWFWaWV3ZXJUZW1wbGF0ZS5jYWxsKHRoaXMsIHRydWUsIGZhbHNlLCBmYWxzZSwgdGhpcy5wYXRoc0V4cGFuZGVkKTtcbiAgfVxuXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWwsIG5ld1ZhbCkge1xuICAgIGlmIChuYW1lID09PSAnc3BlYy11cmwnKSB7XG4gICAgICBpZiAob2xkVmFsICE9PSBuZXdWYWwpIHtcbiAgICAgICAgLy8gcHV0IGl0IGF0IHRoZSBlbmQgb2YgZXZlbnQtbG9vcCB0byBsb2FkIGFsbCB0aGUgYXR0cmlidXRlc1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5sb2FkU3BlYyhuZXdWYWwpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbCwgbmV3VmFsKTtcbiAgfVxuXG4gIG9uU3BlY1VybENoYW5nZSgpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnc3BlYy11cmwnLCB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3NwZWMtdXJsJykudmFsdWUpO1xuICB9XG5cbiAgb25TZWFyY2hDaGFuZ2UoZSkge1xuICAgIC8vIFRvZG86IEZpbHRlciBTZWFyY2hcbiAgICB0aGlzLm1hdGNoUGF0aHMgPSBlLnRhcmdldC52YWx1ZTtcbiAgfVxuXG4gIC8vIFB1YmxpYyBNZXRob2RcbiAgYXN5bmMgbG9hZFNwZWMoc3BlY1VybCkge1xuICAgIGlmICghc3BlY1VybCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdGhpcy5yZXNvbHZlZFNwZWMgPSB7XG4gICAgICAgIHNwZWNMb2FkRXJyb3I6IGZhbHNlLFxuICAgICAgICBpc1NwZWNMb2FkaW5nOiB0cnVlLFxuICAgICAgICB0YWdzOiBbXSxcbiAgICAgIH07XG4gICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5sb2FkRmFpbGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgIGNvbnN0IHNwZWMgPSBhd2FpdCBQcm9jZXNzU3BlYy5jYWxsKFxuICAgICAgICB0aGlzLFxuICAgICAgICBzcGVjVXJsLFxuICAgICAgICB0aGlzLmdlbmVyYXRlTWlzc2luZ1RhZ3MgPT09ICd0cnVlJyxcbiAgICAgICAgdGhpcy5zb3J0VGFncyA9PT0gJ3RydWUnLFxuICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZSgnc29ydC1lbmRwb2ludHMtYnknKSxcbiAgICAgICk7XG4gICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuYWZ0ZXJTcGVjUGFyc2VkQW5kVmFsaWRhdGVkKHNwZWMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmxvYWRGYWlsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5yZXNvbHZlZFNwZWMgPSBudWxsO1xuICAgICAgY29uc29sZS5lcnJvcihgUmFwaURvYzogVW5hYmxlIHRvIHJlc29sdmUgdGhlIEFQSSBzcGVjLi4gICR7ZXJyLm1lc3NhZ2V9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGFmdGVyU3BlY1BhcnNlZEFuZFZhbGlkYXRlZChzcGVjKSB7XG4gICAgdGhpcy5yZXNvbHZlZFNwZWMgPSBzcGVjO1xuICAgIGNvbnN0IHNwZWNMb2FkZWRFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnc3BlYy1sb2FkZWQnLCB7IGRldGFpbDogc3BlYyB9KTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoc3BlY0xvYWRlZEV2ZW50KTtcbiAgfVxuXG4gIC8vIENhbGxlZCBieSBhbmNob3IgdGFncyBjcmVhdGVkIHVzaW5nIG1hcmtkb3duXG4gIGhhbmRsZUhyZWYoZSkge1xuICAgIGlmIChlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJykge1xuICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpLnN0YXJ0c1dpdGgoJyMnKSkge1xuICAgICAgICBjb25zdCBnb3RvRWwgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJykucmVwbGFjZSgnIycsICcnKSk7XG4gICAgICAgIGlmIChnb3RvRWwpIHtcbiAgICAgICAgICBnb3RvRWwuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ2F1dG8nLCBibG9jazogJ3N0YXJ0JyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEV4YW1wbGUgRHJvcGRvd24gQGNoYW5nZSBIYW5kbGVyXG4gIG9uU2VsZWN0RXhhbXBsZShlKSB7XG4gICAgY29uc3QgZXhhbXBsZUNvbnRhaW5lckVsID0gZS50YXJnZXQuY2xvc2VzdCgnLmpzb24tc2NoZW1hLWV4YW1wbGUtcGFuZWwnKTtcbiAgICBjb25zdCBleGFtcGxlRWxzID0gWy4uLmV4YW1wbGVDb250YWluZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcuZXhhbXBsZScpXTtcbiAgICBleGFtcGxlRWxzLmZvckVhY2goKHYpID0+IHtcbiAgICAgIHYuc3R5bGUuZGlzcGxheSA9IHYuZGF0YXNldC5leGFtcGxlID09PSBlLnRhcmdldC52YWx1ZSA/ICdmbGV4JyA6ICdub25lJztcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNjcm9sbFRvRXZlbnRUYXJnZXQoZXZlbnQpIHtcbiAgICBjb25zdCBuYXZFbCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgaWYgKCFuYXZFbC5kYXRhc2V0LmNvbnRlbnRJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50RWwgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQobmF2RWwuZGF0YXNldC5jb250ZW50SWQpO1xuICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgIGNvbnRlbnRFbC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnYXV0bycsIGJsb2NrOiAnc3RhcnQnIH0pO1xuICAgIH1cbiAgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdqc29uLXNjaGVtYS12aWV3ZXInLCBKc29uU2NoZW1hVmlld2VyKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==`,
  );
}
